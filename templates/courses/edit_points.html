{% extends 'helpers/layout.html' %}
{% import 'helpers/navigation.html' as navigation %}

{% block title %}
Edit Assignment Points
{% endblock %}

{% block statusbar %}
{% endblock %}

{% block extrahead %}

<script type='text/javascript'>

    function getLocalStorage(key, defaultValue) {
        let value = localStorage.getItem(key);
        if (value === null) {
            return defaultValue;
        } else {
            return value;
        }
    }

</script>
{% endblock %}

{% block body %}

    <h1>Edit Assignment Points</h1>
    {{ navigation.navigate_course() }}


    <form action="" method=post>
    <h3>Ungrouped Assignments</h3>
    {% for group, assignments in groups.items() %}
        <h3>{{ group.name }}</h3>
        {% for assignment in assignments %}
        <div class="form-group row">
            <label for="assignment-points-{{ assignment.id }}" class="col-sm-2 col-form-label">
                {{ assignment.name }}
            </label>
            <div class="col-sm-10">
                <input type=number name="assignment-points-{{ assignment.id }}" class="form-control"
                   value="{{ assignment.points or (0 if assignment.type == 'reading' else 1) }}">
            </div>
        </div>
        {% endfor %}
    {% endfor %}
        <input type="submit" value="Update" class="btn btn-success">
    </form>


{% endblock %}