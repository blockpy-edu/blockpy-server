(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("FilePond"), require("jQuery"), require("ko"));
	else if(typeof define === 'function' && define.amd)
		define("blockpy", ["FilePond", "jQuery", "ko"], factory);
	else if(typeof exports === 'object')
		exports["blockpy"] = factory(require("FilePond"), require("jQuery"), require("ko"));
	else
		root["blockpy"] = factory(root["FilePond"], root["jQuery"], root["ko"]);
})(typeof self !== 'undefined' ? self : this, (__WEBPACK_EXTERNAL_MODULE_filepond__, __WEBPACK_EXTERNAL_MODULE_jquery__, __WEBPACK_EXTERNAL_MODULE_knockout__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/console.js":
/*!************************!*\
  !*** ./src/console.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyConsole: () => (/* binding */ BlockPyConsole),
/* harmony export */   CONSOLE_HTML: () => (/* binding */ CONSOLE_HTML),
/* harmony export */   ConsoleLineType: () => (/* binding */ ConsoleLineType)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }


/**
 * Evaluate button HTML template
 * @type {string}
 */
var START_EVAL_HTML = "\n<button type=\"button\" class=\"btn btn-sm btn-outline float-right blockpy-btn-eval\">\n    Evaluate\n</button>";

/**
 * HTML template for a new line in the console.
 * @type {string}
 */
var NEW_CONSOLE_LINE_HTML = "<div></div>";

/**
 * HTML template for the entire console area
 * @type {string}
 */
var CONSOLE_HTML = "\n    <div class='blockpy-panel blockpy-console'\n          role=\"region\" aria-label=\"Console\"\n          data-bind=\"class: ui.console.size\">\n          \n        <!-- Feedback/Trace Visibility Control -->\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-show-feedback'\n                data-bind=\"hidden: ui.secondRow.isConsoleShowVisible, click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span>\n        </button>\n          \n        <strong>Console:</strong>\n        \n        <div class='blockpy-printer blockpy-printer-default'>\n        </div>\n        \n     </div>";

/**
 * All the possible types for a line in the console.
 * @enum
 */
var ConsoleLineType = {
  TEXT: "text",
  HTML: "html",
  PLOT: "plot",
  IMAGE: "image",
  PYGAME: "pygame",
  DRAFTER: "drafter",
  TURTLE: "turtle",
  EVAL: "eval",
  START_EVAL: "start_eval",
  VALUE: "value",
  INPUT: "input",
  TEST_CASE: "test_case"
};

/**
 * Abstract version of a line in the console. All other console lines
 * should extend this class. Critically, they need to implement a render function.
 */
var ConsoleLine = /*#__PURE__*/function () {
  function ConsoleLine(main, type, content) {
    _classCallCheck(this, ConsoleLine);
    /**
     * Reference back to the main BlockPy instance.
     * @const
     * @type {BlockPy}
     */
    this.main = main;
    /**
     * Categorizes what kind of line this is (text/html/plot/etc.)
     * @type {ConsoleLineType}
     */
    this.type = type;
    /**
     * The actual data stored on this line.
     * @type {string}
     */
    this.content = content;
    /**
     * Metadata about where the line originated from in the code.
     * @type {{filename: string, line: number, step: number}}
     */
    this.origin = {
      filename: Sk.currFilename,
      step: main.components.engine.executionBuffer.step,
      line: main.components.engine.executionBuffer.line
    };
    /**
     * The HTML content stored on this line, meant to be rendered
     * to the user.
     * @type {*|jQuery.fn.init|jQuery|HTMLElement}
     */
    this.html = $("<div></div>", {
      "class": "blockpy-printer-output",
      "data-container": main.model.configuration.attachmentPoint,
      "data-toggle": "tooltip",
      "data-placement": "auto",
      "data-step": this.origin.step,
      "title": "Step " + this.origin.step + ", Line " + this.origin.line
    });
    /**
     * Whether or not this line should be visible
     * @type {boolean}
     */
    this.visible = !main.model.display.mutePrinter();
    /**
     *
     * @type {number}
     */
    this.index = 0;
  }

  /**
   * Create a Skulpt representation of this console line's content.
   * @returns {*}
   */
  return _createClass(ConsoleLine, [{
    key: "toSkulpt",
    value: function toSkulpt() {
      return Sk.ffi.remapToPy(this.content);
    }

    /**
     * Remove this console line by deleting its HTML representation.
     */
  }, {
    key: "delete",
    value: function _delete() {
      this.html.remove();
    }
  }]);
}();
var ConsoleLineTurtle = /*#__PURE__*/function (_ConsoleLine) {
  // TODO: Capture turtle commands for tracing purposes
  function ConsoleLineTurtle(main) {
    var _this;
    _classCallCheck(this, ConsoleLineTurtle);
    _this = _callSuper(this, ConsoleLineTurtle, [main, ConsoleLineType.TURTLE]);
    _this.html.addClass("blockpy-console-turtle-output");
    return _this;
  }
  _inherits(ConsoleLineTurtle, _ConsoleLine);
  return _createClass(ConsoleLineTurtle, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.prepend(this.html);
        //this.html[0].scrollIntoView({ behavior: "smooth" });
        var top = this.html.offset().top;
        //$('html').scrollTop(top);
        $("html").scrollTop(top);
        //this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineDrafter = /*#__PURE__*/function (_ConsoleLine2) {
  function ConsoleLineDrafter(main, size, fullscreen) {
    var _this2;
    _classCallCheck(this, ConsoleLineDrafter);
    _this2 = _callSuper(this, ConsoleLineDrafter, [main, ConsoleLineType.DRAFTER]);
    _this2.html.addClass("blockpy-console-drafter-output");
    _this2.size = size;
    _this2.fullscreen = fullscreen;
    return _this2;
  }
  _inherits(ConsoleLineDrafter, _ConsoleLine2);
  return _createClass(ConsoleLineDrafter, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.prepend(this.html);
        var top = this.html.offset().top;
        $("html").scrollTop(top);
      }
    }
  }, {
    key: "cleanup",
    value: function cleanup() {
      // Starts off as a no-op
    }
  }, {
    key: "stop",
    value: function stop() {
      this.main.model.ui.secondRow.restorePanel();
    }
  }]);
}(ConsoleLine);
var ConsoleLinePygame = /*#__PURE__*/function (_ConsoleLine3) {
  function ConsoleLinePygame(main, size, fullscreen, pygameObj) {
    var _this3;
    _classCallCheck(this, ConsoleLinePygame);
    _this3 = _callSuper(this, ConsoleLinePygame, [main, ConsoleLineType.PYGAME]);
    _this3.html.addClass("blockpy-console-pygame-output");
    _this3.size = size;
    _this3.fullscreen = fullscreen;
    _this3.pygameObj = pygameObj;
    _this3.initialized = false;
    _this3.canvas = document.createElement("canvas");
    //Sk.main_canvas = document.getElementById("myCanvas");
    return _this3;
  }
  _inherits(ConsoleLinePygame, _ConsoleLine3);
  return _createClass(ConsoleLinePygame, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        this.html.append(this.canvas);
        where.prepend(this.html);
        var top = this.html.offset().top;
        $("html").scrollTop(top);
      }
    }
  }, {
    key: "cleanup",
    value: function cleanup() {
      // Starts off as a no-op
    }
  }, {
    key: "stop",
    value: function stop() {
      this.cleanup = function () {};
      this.main.model.ui.secondRow.restorePanel();
    }
  }, {
    key: "finalize",
    value: function finalize(cleanupFunction, listeners) {
      var _this4 = this;
      this.initialized = true;
      this.cleanup = function () {
        return cleanupFunction(_this4.pygameObj, listeners);
      };
    }
  }]);
}(ConsoleLine);
var ConsoleLineImage = /*#__PURE__*/function (_ConsoleLine4) {
  function ConsoleLineImage(main, content) {
    var _this5;
    _classCallCheck(this, ConsoleLineImage);
    _this5 = _callSuper(this, ConsoleLineImage, [main, ConsoleLineType.IMAGE, content]);
    _this5.html.addClass("blockpy-console-image-output");
    return _this5;
  }
  _inherits(ConsoleLineImage, _ConsoleLine4);
  return _createClass(ConsoleLineImage, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        console.log(this.content);
        this.html.append(this.content);
        where.append(this.html);
        //this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLinePlot = /*#__PURE__*/function (_ConsoleLine5) {
  function ConsoleLinePlot(main, content) {
    var _this6;
    _classCallCheck(this, ConsoleLinePlot);
    _this6 = _callSuper(this, ConsoleLinePlot, [main, ConsoleLineType.PLOT, content]);
    _this6.html.addClass("blockpy-console-plot-output");
    return _this6;
  }
  _inherits(ConsoleLinePlot, _ConsoleLine5);
  return _createClass(ConsoleLinePlot, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.append(this.html);
        //this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineText = /*#__PURE__*/function (_ConsoleLine6) {
  function ConsoleLineText() {
    _classCallCheck(this, ConsoleLineText);
    return _callSuper(this, ConsoleLineText, arguments);
  }
  _inherits(ConsoleLineText, _ConsoleLine6);
  return _createClass(ConsoleLineText, [{
    key: "addContent",
    value: function addContent(content) {
      this.content = this.content + content;
    }
  }, {
    key: "render",
    value: function render(where) {
      if (this.visible) {
        var encodedText = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.encodeHTML)(this.content);
        if (!encodedText || encodedText.trim().length <= 0) {
          encodedText = "\n";
        }
        var lineData = $("<samp></samp>", {
          "html": encodedText
        });
        this.html.append(lineData);
        where.append(this.html);
        this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineValue = /*#__PURE__*/function (_ConsoleLine7) {
  function ConsoleLineValue(main, content) {
    _classCallCheck(this, ConsoleLineValue);
    return _callSuper(this, ConsoleLineValue, [main, ConsoleLineType.VALUE, content]);
  }
  _inherits(ConsoleLineValue, _ConsoleLine7);
  return _createClass(ConsoleLineValue, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        var encodedText = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.encodeHTML)(this.content);
        var lineData = $("<code></code>", {
          "html": encodedText
        });
        this.html.append(lineData);
        where.append(this.html);
        this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineInput = /*#__PURE__*/function (_ConsoleLine8) {
  function ConsoleLineInput(main, promptMessage) {
    var _this7;
    _classCallCheck(this, ConsoleLineInput);
    _this7 = _callSuper(this, ConsoleLineInput, [main, ConsoleLineType.INPUT, promptMessage]);
    _this7.visible = true;
    return _this7;
  }

  /**
   * Creates an Input box for receiving input() from the user.
   *
   */
  _inherits(ConsoleLineInput, _ConsoleLine8);
  return _createClass(ConsoleLineInput, [{
    key: "render",
    value: function render(where) {
      // Perform any necessary cleaning
      if (this.visible) {
        // Input form
        var inputForm = $("<input type='text' />");
        // Enter button
        var inputBtn = $("<button></button>", {
          "html": "Enter"
        });
        // Group form and button
        var inputGroup = $("<div></div>", {
          "class": "blockpy-console-input"
        });
        inputGroup.append(inputForm);
        inputGroup.append(inputBtn);
        // Prompt box, new line, input group
        var inputBox = $("<div></div>");
        if (this.content !== "\n") {
          var encodedText = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.encodeHTML)(this.content);
          var inputMsg = $("<samp></samp>", {
            "html": encodedText
          });
          inputBox.append(inputMsg);
        }
        inputBox.append($("<br>")).append(inputGroup);
        // Render
        this.html.append(inputBox);
        where.append(this.html);
        // Make it interactive
        return this.makeInteractive(inputForm, inputBtn);
      }
      return "";
    }
  }, {
    key: "makeInteractive",
    value: function makeInteractive(input, button) {
      var _this8 = this;
      var resolveOnClick;
      var submittedPromise = new Promise(function (resolve) {
        resolveOnClick = resolve;
      });
      var inputIndex = this.main.model.execution.inputIndex();
      var submitForm = function submitForm() {
        var userInputtedValue = input.val();
        Sk.queuedInput.push(userInputtedValue);
        _this8.main.model.execution.inputIndex(inputIndex + 1);
        _this8.main.model.execution.input().push(userInputtedValue);
        resolveOnClick(userInputtedValue);
        input.prop("disabled", true);
        button.prop("disabled", true);
        _this8.html.tooltip();
      };
      button.click(submitForm);
      input.keyup(function (e) {
        if (e.keyCode === 13) {
          submitForm();
        }
      });
      input.focus();
      console.log(inputIndex, this.main.model.execution.input().length);
      if (inputIndex < this.main.model.execution.input().length) {
        var userInputtedValue = this.main.model.execution.input()[inputIndex];
        input.val(userInputtedValue);
        this.main.model.execution.inputIndex(inputIndex + 1);
        return new Promise(function (resolve) {
          input.prop("disabled", true);
          button.prop("disabled", true);
          _this8.html.tooltip();
          resolve(userInputtedValue);
        });
      }
      return submittedPromise;
    }
  }]);
}(ConsoleLine);
var ConsoleLineEvaluate = /*#__PURE__*/function (_ConsoleLineInput) {
  function ConsoleLineEvaluate(main) {
    _classCallCheck(this, ConsoleLineEvaluate);
    return _callSuper(this, ConsoleLineEvaluate, [main, "Evaluate:"]);
  }
  _inherits(ConsoleLineEvaluate, _ConsoleLineInput);
  return _createClass(ConsoleLineEvaluate);
}(ConsoleLineInput);
var ConsoleLineStartEvaluate = /*#__PURE__*/function (_ConsoleLine9) {
  function ConsoleLineStartEvaluate(main) {
    var _this9;
    _classCallCheck(this, ConsoleLineStartEvaluate);
    _this9 = _callSuper(this, ConsoleLineStartEvaluate, [main, ConsoleLineType.START_EVAL]);
    _this9.html.append($(START_EVAL_HTML));
    _this9.html.click(function () {
      _this9.main.model.ui.execute.evaluate();
      _this9["delete"]();
    });
    return _this9;
  }
  _inherits(ConsoleLineStartEvaluate, _ConsoleLine9);
  return _createClass(ConsoleLineStartEvaluate, [{
    key: "render",
    value: function render(where) {
      where.append(this.html);
    }
  }]);
}(ConsoleLine);
var BlockPyConsole = /*#__PURE__*/function () {
  /**
   * An object for managing the console, with features for things like printing, plotting, evaling, inputing.
   * The "printer" is the region where we put things, as opposed to the console as a whole.
   *
   * @constructor
   * @param {Object} main - The main BlockPy instance
   * @param {HTMLElement} tag - The HTML object this is attached to.
   */
  function BlockPyConsole(main, tag) {
    _classCallCheck(this, BlockPyConsole);
    this.main = main;
    this.tag = tag;
    this.printerTag = tag.find(".blockpy-printer");
    this.MINIMUM_WIDTH = 200;
    this.MINIMUM_HEIGHT = 200;
    this.DEFAULT_HEIGHT = this.printerTag.height(); // Let CSS define this
    this.main.model.display.previousConsoleHeight(this.DEFAULT_HEIGHT);
    this.output = this.main.model.execution.output;
    //this.input = this.main.model.execution.input;
    this.settings = {};
    this.clear();

    // TODO: If the user modifies a file, then make the console look faded a little
  }
  return _createClass(BlockPyConsole, [{
    key: "clear",
    value:
    /**
     * Reset the status of the printer, including removing any text in it and
     * fixing its size.
     */
    function clear() {
      this.output.removeAll();
      this.lineBuffer = null;
      this.plotBuffer = null;
      this.printerTag.empty();
      // If the user hasn't changed the console size, we'll reset it
      if (this.main.model.display.previousConsoleHeight() === this.printerTag.height()) {
        this.printerTag.height(this.DEFAULT_HEIGHT);
        this.main.model.display.previousConsoleHeight(this.printerTag.height());
      }
      this.turtleLine = null;
      Sk.TurtleGraphics = {
        target: this.getTurtleLine.bind(this),
        width: this.getWidth(),
        height: this.getHeight(),
        assets: this.loadAsset.bind(this)
      };
      this.pygameLine = null;
      this.drafterLine = null;
    }
  }, {
    key: "loadAsset",
    value: function loadAsset(name) {
      return name;
    }
  }, {
    key: "getTurtleLine",
    value: function getTurtleLine() {
      if (this.turtleLine === null) {
        this.turtleLine = new ConsoleLineTurtle(this.main);
        this.turtleLine.render(this.printerTag);
        // If the user hasn't changed the console size, we'll do so
        if (this.main.model.display.previousConsoleHeight() === this.printerTag.height()) {
          var currentPrinterDimension = this.printerTag.width();
          this.printerTag.height(currentPrinterDimension);
          this.main.model.display.previousConsoleHeight(this.printerTag.height());
          Sk.TurtleGraphics.height = currentPrinterDimension - 40;
        }
      }
      return this.turtleLine.html[0];
    }
  }, {
    key: "handlePygameResize",
    value: function handlePygameResize(newWidth, newHeight) {
      // If the user hasn't changed the console size, and the newHeight is bigger than default, we'll change it
      if (this.main.model.display.previousConsoleHeight() === this.printerTag.height() && newHeight > this.DEFAULT_HEIGHT) {
        this.printerTag.height(30 + newHeight);
        this.main.model.display.previousConsoleHeight(this.printerTag.height());
      }
      // If the pygame window is wider than the console, we'll expand temporarily.
      if (newWidth > this.printerTag.width()) {
        this.main.model.ui.secondRow.makeWide();
      }
    }
  }, {
    key: "finishTurtles",
    value: function finishTurtles() {
      if (this.main.model.assignment.settings.saveTurtleOutput()) {
        if (this.turtleLine) {
          var canvas = this.turtleLine.html.find("canvas").last()[0];
          var dataUrl = canvas.toDataURL("image/png");
          this.main.components.server.saveImage("turtle_output", dataUrl);
        } else if (this.pygameLine) {
          var _canvas = this.pygameLine.canvas;
          var _dataUrl = _canvas.toDataURL("image/png");
          this.main.components.server.saveImage("turtle_output", _dataUrl);
        } else {
          // TODO: What if there are no turtles to save?
        }
      }
    }

    // TODO: turtles should be based on the current width
  }, {
    key: "newTurtle",
    value: function newTurtle() {
      return this;
    }
  }, {
    key: "getWidth",
    value: function getWidth() {
      return Math.max(this.MINIMUM_WIDTH, this.printerTag.width() - 40);
    }
  }, {
    key: "getHeight",
    value: function getHeight() {
      return Math.max(this.MINIMUM_HEIGHT, this.printerTag.height() + 40);
    }
  }, {
    key: "isMuted",
    value: function isMuted() {
      return this.main.model.display.mutePrinter();
    }

    /**
     * Updates each printed element in the printer and makes it hidden
     * or visible, depending on what step we're on.
     *
     * @param {Number} step - The current step of the executed program that we're on; each element in the printer must be marked with a "data-step" property to resolve this.
     * @param {Number} page - Deprecated, not sure what this even does.
     */
  }, {
    key: "stepPrinter",
    value: function stepPrinter(step, page) {
      this.printerTag.find(".blockpy-printer-output").each(function () {
        if ($(this).attr("data-step") <= step) {
          $(this).show();
        } else {
          $(this).hide();
        }
      });
    }
  }, {
    key: "print",
    value:
    /**
     * Print a line to the on-screen printer.
     * @param {String} lineText - A line of text to be printed out.
     */
    function print(lineText) {
      // Empty strings means do nothing.
      // print("", end="")
      if (!lineText) {
        return;
      }
      var flush = false;
      if (lineText.charAt(lineText.length - 1) === "\n") {
        flush = true;
      }
      var splitLines = lineText.split("\n");
      if (this.lineBuffer === null) {
        this.lineBuffer = new ConsoleLineText(this.main, ConsoleLineType.TEXT, splitLines[0]);
      } else {
        this.lineBuffer.addContent(splitLines[0]);
      }
      for (var i = 1; i < splitLines.length - 1; i++) {
        this.output.push(this.lineBuffer);
        this.lineBuffer.render(this.printerTag);
        this.lineBuffer = new ConsoleLineText(this.main, ConsoleLineType.TEXT, splitLines[i]);
      }
      if (flush) {
        this.output.push(this.lineBuffer);
        this.lineBuffer.render(this.printerTag);
        this.lineBuffer = null;
      }
    }
  }, {
    key: "plot",
    value: function plot(plots) {
      this.plotBuffer = new ConsoleLinePlot(this.main, plots);
      this.plotBuffer.render(this.printerTag);
      return this.plotBuffer;
    }
  }, {
    key: "pygame",
    value: function pygame(size, fullscreen, pygameObj) {
      if (this.pygameLine === null) {
        this.pygameLine = new ConsoleLinePygame(this.main, size, fullscreen, pygameObj);
        this.pygameLine.render(this.printerTag);
      }
      return this.pygameLine;
    }
  }, {
    key: "drafter",
    value: function drafter(size, fullscreen) {
      if (this.drafterLine === null) {
        this.drafterLine = new ConsoleLineDrafter(this.main, size, fullscreen);
        this.drafterLine.render(this.printerTag);
      }
      return this.drafterLine;
    }
  }, {
    key: "printPILImage",
    value: function printPILImage(imageData) {
      console.log("TEST", imageData.image);
      this.imageBuffer = new ConsoleLineImage(this.main, imageData.image);
      this.imageBuffer.render(this.printerTag);
      return this.imageBuffer;
    }
  }, {
    key: "printValue",
    value: function printValue(value) {
      var printedValue = new ConsoleLineValue(this.main, value);
      printedValue.render(this.printerTag);
      return printedValue;
    }

    /**
     * Creates and registers a Promise from the Input box
     * @param {String} promptMessage - Message to display to the user.
     *
     */
  }, {
    key: "input",
    value: function input(promptMessage) {
      this.inputBuffer = new ConsoleLineInput(this.main, promptMessage);
      return this.inputBuffer.render(this.printerTag);
    }
  }, {
    key: "evaluate",
    value: function evaluate() {
      this.inputBuffer = new ConsoleLineEvaluate(this.main);
      return this.inputBuffer.render(this.printerTag);
    }
  }, {
    key: "beginEval",
    value: function beginEval() {
      var startEvaluation = new ConsoleLineStartEvaluate(this.main);
      return startEvaluation.render(this.printerTag);
    }

    /**
     * Unconditionally scroll to the bottom of the window.
     *
     */
  }, {
    key: "scrollToBottom",
    value: function scrollToBottom() {
      this.tag.animate({
        scrollTop: this.tag.prop("scrollHeight") - this.tag.prop("clientHeight")
      }, 500);
    }
  }]);
}();

/***/ }),

/***/ "./src/corgis.js":
/*!***********************!*\
  !*** ./src/corgis.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyCorgis: () => (/* binding */ BlockPyCorgis),
/* harmony export */   _IMPORTED_COMPLETE_DATASETS: () => (/* binding */ _IMPORTED_COMPLETE_DATASETS),
/* harmony export */   _IMPORTED_DATASETS: () => (/* binding */ _IMPORTED_DATASETS)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");


// TODO: editor.bm.blockEditor.extraTools[]

var _IMPORTED_DATASETS = {};
var _IMPORTED_COMPLETE_DATASETS = {};

/**
 * This is a very simplistic helper function that will transform
 * a given button into a "Loaded" state (disabled, pressed state, etc.).
 *
 * @param {HTMLElement} btn - An HTML element to change the text of.
 */
var setButtonLoaded = function setButtonLoaded(btn) {
  btn.addClass("active").addClass("btn-success").removeClass("btn-primary").prop("disabled", true).text("Loaded").attr("aria-pressed", "true");
};

/**
 * Module that connects to the CORGIS datasets and manages interactions
 * with them. This includes loading in datasets at launch and on-the-fly.
 * Note that this has no presence on screen, so it does not have a tag.
 *
 * @constructor
 * @this {BlockPyCorgis}
 * @param {Object} main - The main BlockPy instance
 */
function BlockPyCorgis(main) {
  this.main = main;
  this.loadedDatasets = [];
  this.loadDatasets();
}
BlockPyCorgis.prototype.loadDatasets = function (silently) {
  var _this = this;
  // Load in each the datasets
  var model = this.main.model,
    editor = this.main.components.pythonEditor,
    server = this.main.components.server;
  var imports = [];
  model.assignment.settings.datasets().split(",").forEach(function (name) {
    if (name && !(name in BlockMirrorBlockEditor.EXTRA_TOOLS)) {
      imports.push.apply(imports, _this.importDataset((0,_utilities__WEBPACK_IMPORTED_MODULE_0__.slug)(name), name, silently));
    }
  });

  // When datasets are loaded, update the toolbox.
  $.when.apply($, imports).done(function () {
    //console.log("TRIGGERED");
    editor.bm.forceBlockRefresh();
    editor.bm.blockEditor.remakeToolbox();
  }).fail(function (e) {
    console.log(arguments);
    console.error(e);
  }).always(function () {
    server.finalizeSubscriptions();
  });
};

/**
 * Loads the definitions for a dataset into the environment, including
 * the dataset (as a JS file), the skulpt bindings, and the blockly
 * bindings. This requires access to a CORGIS server, and occurs
 * asynchronously. The requests are fired and their deferred objects
 * are returned - callers can use this information to perform an action
 * on completion of the import.
 *
 * @param {String} slug - The URL safe version of the dataset name
 * @param {String} name - The user-friendly version of the dataset name.
 * @returns {Array.<Deferred>} - Returns the async requests as deferred objects.
 */
BlockPyCorgis.prototype.importDataset = function (slug, name) {
  var _this2 = this;
  var url_retrievals = [];
  if (this.main.model.ui.server.isEndpointConnected("importDatasets")) {
    var root = this.main.model.configuration.urls.importDatasets + "blockpy/" + slug + "/" + slug;
    this.main.model.display.loadingDatasets.push(name);
    // Actually get data
    var getDataset = $.getScript(root + "_dataset.js");
    // Load getComplete silently in the background because its big :(
    var getComplete = $.getScript(root + "_complete.js");
    var getSkulpt = $.get(root + "_skulpt.js", function (data) {
      Sk.builtinFiles["files"]["src/lib/" + slug + "/__init__.js"] = data;
    });
    var getBlockly = $.getScript(root + "_blockly.js");
    // On completion, update menus.
    $.when(getDataset, getSkulpt, getBlockly).done(function () {
      _this2.loadedDatasets.push(slug);
      _this2.main.components.pythonEditor.bm.textToBlocks.hiddenImports.push(slug);
      _this2.main.components.pythonEditor.bm.forceBlockRefresh();
      _this2.main.components.pythonEditor.bm.blockEditor.remakeToolbox();
      _this2.main.model.display.loadingDatasets.remove(name);
    });
    url_retrievals.push(getDataset, getSkulpt, getBlockly);
  }
  return url_retrievals;
};

/**
 * Opens a dialog box to present the user with the datasets available
 * through the CORGIS server. This requires a call, so this method
 * completes asynchronously. The dialog is composed of a table with
 * buttons to load the datasets (More than one dataset can be loaded
 * from within the dialog at a time).
 */
BlockPyCorgis.prototype.openDialog = function () {
  var _this3 = this;
  if (this.main.model.ui.server.isEndpointConnected("importDatasets")) {
    var root = this.main.model.configuration.urls.importDatasets;
    $.getJSON(root + "index.json", function (data) {
      // Make up the Body
      var datasets = data.blockpy;
      var documentation = root + "blockpy/index.html";
      var start = $("<p>Documentation is available at <a href='".concat(documentation, "' target=_blank>url</a></p>"));
      var body = $("<table></table>", {
        "class": "table table-bordered table-sm table-striped"
      });
      Object.keys(datasets).sort().map(function (name) {
        var sluggedName = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.slug)(datasets[name].name);
        var titleName = name;
        var btn = $('<button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off">Load</button>');
        var imgSrc = root + "../images/datasets/" + name + "-icon.png";
        if (_this3.loadedDatasets.indexOf(sluggedName) > -1) {
          setButtonLoaded(btn);
        } else {
          btn.click(function () {
            _this3.importDataset(sluggedName, "Data - " + datasets[name].title);
            setButtonLoaded(btn);
          });
        }
        //let img = `<img src='${imgSrc}' class="corgis-icon">`;
        $("<tr></tr>")
        //.append($("<td>" + img + "</td>"))
        .append($("<td>" + datasets[name].title + "</td>")).append($("<td>" + datasets[name].overview + "</td>")).append($("<td></td>").append(btn)).appendTo(body);
      });
      body.appendTo(start);
      // Show the actual dialog
      _this3.main.components.dialog.show("Import Datasets", start, null);
    });
  }
};

/***/ }),

/***/ "./src/css/blockpy.css":
/*!*****************************!*\
  !*** ./src/css/blockpy.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/css/bootstrap_retheme.css":
/*!***************************************!*\
  !*** ./src/css/bootstrap_retheme.css ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/dialog.js":
/*!***********************!*\
  !*** ./src/dialog.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyDialog: () => (/* binding */ BlockPyDialog),
/* harmony export */   DIALOG_HTML: () => (/* binding */ DIALOG_HTML)
/* harmony export */ });
// TODO: Dyanmically populate aria-labelledby in this and other places

var DIALOG_HTML = "\n    <div class='blockpy-dialog modal hidden'\n         role=\"dialog\"\n         aria-label='Dialog'\n         aria-hidden=\"true\"\n         aria-modal=\"true\">\n        <div class='modal-dialog modal-lg' role=\"document\">\n            <div class='modal-content' role='region' aria-label='Dialog content'>\n                <div class='modal-header'>\n                    <h4 class='modal-title'>Dynamic Content</h4>\n                    <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class='modal-body' style='max-width:100%; max-height:400px'>\n                </div>\n                <div class='modal-footer'>\n                    <button type='button' class='btn btn-white modal-close' data-dismiss='modal'>Close</button>\n                    <button type='button' class='btn btn-success modal-okay' data-dismiss='modal'>Okay</button>\n                </div>    \n            </div>\n        </div>\n    </div>\n";

/**
 * A utility object for quickly and conveniently generating dialog boxes.
 * Unfortunately, this doesn't dynamically create new boxes; it reuses the same one
 * over and over again. It turns out dynamically generating new dialog boxes
 * is a pain! So we can't stack them.
 *
 * @constructor
 * @this {BlockPyDialog}
 * @param {Object} main - The main BlockPy instance
 * @param {HTMLElement} tag - The HTML object this is attached to.
 */
function BlockPyDialog(main, tag) {
  var _this = this;
  this.main = main;
  this.tag = tag;
  this.titleTag = tag.find(".modal-title");
  this.bodyTag = tag.find(".modal-body");
  this.footerTag = tag.find(".modal-footer");
  this.okayButton = tag.find(".modal-okay");
  this.closeButton = tag.find(".modal-close");
  this.yes = function () {};
  this.no = function () {};
  this.okayButton.click(function () {
    _this.yes();
    _this.tag.modal("hide");
  });
  this.closeButton.click(function () {
    _this.no();
    //this.tag.modal("hide");
  });
}
BlockPyDialog.prototype.close = function () {
  this.tag.modal("hide");
};

/**
 * A simple externally available function for popping up a dialog
 * message. This menu will be draggable by its title.
 *
 * @param {String} title - The title of the message dialog. Can have HTML.
 * @param {String} body - The body of the message dialog. Can have HTML.
 * @param {function} onclose - A function to be run when the user closes the dialog.
 */
BlockPyDialog.prototype.show = function (title, body, onclose) {
  this.titleTag.html(title);
  this.bodyTag.html(body);
  this.tag.modal("show");
  this.okayButton.hide();
  this.tag.draggable({
    "handle": ".modal-title"
  });
  this.tag.on("hidden.bs.modal", function (e) {
    if (onclose !== undefined && onclose !== null) {
      onclose();
    }
  });
};
BlockPyDialog.prototype.confirm = function (title, body, yes, no, yesText) {
  if (yesText === undefined) {
    yesText = "Okay";
  }
  this.show(title, body, no);
  this.yes = yes;
  this.no = no;
  this.okayButton.show().html(yesText);
  // TODO: add okay button and cancel button
};
BlockPyDialog.prototype.ASSIGNMENT_VERSION_CHANGED = function () {
  this.confirm("Assignment Changed", "Your instructor has made changes to this assignment. Would you like to reload? All your work has been saved.");
};
BlockPyDialog.prototype.ERROR_LOADING_ASSIGNMNENT = function (reason) {
  this.show("Error Loading Assignment", "BlockPy encountered an error while loading the assignment.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_LISTING_UPLOADED_FILES = function (reason) {
  this.show("Error Listing Uploaded Files", "BlockPy encountered an error while listing the uploaded files.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_UPLOADING_FILE = function (reason) {
  this.show("Error Uploaded File", "BlockPy encountered an error while uploading the file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_DOWNLOADING_FILE = function (reason) {
  this.show("Error Downloading File", "BlockPy encountered an error while downloading a file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_RENAMING_FILE = function (reason) {
  this.show("Error Renaming File", "BlockPy encountered an error while renaming a file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_DELETING_FILE = function (reason) {
  this.show("Error Deleting File", "BlockPy encountered an error while deleting a file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_SAVING_ASSIGNMNENT = function (reason) {
  this.show("Error Saving Assignment", "BlockPy encountered an error while saving the assignment.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_SHOW_STUDENT_ERROR = function (error) {
  this.show("Original Error", "When I ran your code, I encountered an error:\n\n<div class=\"blockpy-dialog-student-error-message\">".concat(error, "</div>"));
};
BlockPyDialog.prototype.POSITIVE_FEEDBACK_FULL = function (title, message) {
  this.show(title, message);
};
BlockPyDialog.prototype.SCREENSHOT_BLOCKS = function () {
  // TODO
};
BlockPyDialog.prototype.ERROR_UPDATING_SUBMISSION_STATUS = function () {
  this.show("Error Updating Submission Status", "BlockPy encountered an error while updating your submission status.<br>\nPlease reload the page and try again.");
};
BlockPyDialog.prototype.ERROR_LOADING_HISTORY = function () {
  this.show("Error Loading History", "BlockPy encountered an error while loading your history.<br>\nPlease reload the page and try again.");
};
BlockPyDialog.prototype.OFFER_FORK = function () {
  var setupUrl = this.main.model.configuration.urls.instructionsAssignmentSetup;
  setupUrl = setupUrl ? " (<a href=\"".concat(setupUrl, "\" target=\"_blank\">How do I do that?</a>)") : "";
  this.show("Assignment Not Owned; Fork?", "\n    <div class=\"mb-4\">\n        It looks like you want to edit this assignment, but you are not an instructor\n    or designer in the course that owns it (\"Course Name\"). Would you like to fork\n    this assignment (or its entire group) so that you can save your modifications?\n    </div>\n    \n    <div class=\"mb-4\">\n        Remember to update the Launch URL in the assignments' settings on Canvas!".concat(setupUrl, "\n    </div>\n    \n    <div><button type='button' class='btn btn-white'>Fork entire assignment group</button></div>\n    <div><button type='button' class='btn btn-white'>Fork just this assignment</button></div>\n    <div><button type='button' class='btn btn-danger'>Reset my local changes</button></div>\n    \n    <div class=\"form-check\">\n        <input type=\"checkbox\" class=\"form-check-input\"\n                name=\"blockpy-transfer-submissions\">\n        <label class=\"form-check-label\" for=\"blockpy-transfer-submissions\">Transfer Student Submissions for this course</label>\n    </div>\n    \n    <div class=\"form-check\">\n    <label class=\"form-text\" for=\"blockpy-course-id\">New owning course id: </label>\n        <input type=\"text\" name=\"blockpy-course-id\" value=\"").concat(this.main.model.user.courseId(), "\">\n    </div>\n    "));
};
BlockPyDialog.prototype.EDIT_INPUTS = function () {
  var _this2 = this;
  var inputText = this.main.model.execution.input().join("\n");
  var clearInputs = this.main.model.display.clearInputs() ? "" : "checked";
  var yes = function yes() {
    var checked = _this2.tag.find(".blockpy-remember-inputs").prop("checked");
    var inputs = _this2.tag.find(".blockpy-input-list").val().split("\n");
    _this2.main.model.display.clearInputs(!checked);
    _this2.main.model.execution.input(inputs);
  };
  this.confirm("Edit Remembered Inputs", "\n\n<div class=\"form-check\">\n<input type=\"checkbox\" class=\"blockpy-remember-inputs form-check-input\"\n        name=\"blockpy-remember-inputs\" ".concat(clearInputs, ">\n<label class=\"form-check-label\" for=\"blockpy-remember-inputs\">Reuse inputs for next execution</label>\n</div>\n\n<textarea class=\"blockpy-input-list form-control\" rows=\"4\">").concat(inputText, "</textarea><br>\nEdit the inputs above to store and reuse them across multiple executions.\nEach input should be put on its own line.\nYou do not need quotes; the text will be entered literally.\n \n"), yes, this.no, "Save");
  // TODO: Allow user to specify the infinite string to keep giving when the others run out
};
BlockPyDialog.prototype.START_SHARE = function (url, wasPrompted) {
  var _this3 = this;
  var initialMessage = wasPrompted ? "\n    It looks like you are having some trouble with this problem, your code, or this feedback.\n    If you plan to reach out for help from the course staff, then we recommend you include this link\n    in your message. It will make it much easier for them to help you quickly. \n    " : "You can quickly share your code with instructors and TAs by providing them with this link:";
  this.show("Share Your Code", "\n    <div class=\"mb-4\">\n        ".concat(initialMessage, "\n    </div>\n    <div class=\"mb-4\">\n        <pre class=\"blockpy-copy-share-link-area\">").concat(url, "</pre>\n        <button type='button' class='btn btn-outline-secondary blockpy-copy-share-link'>Copy Link</button>\n    </div>\n    <div class=\"mb-4\">\n        Note that you CANNOT share this link with other students, or access it yourself.\n        This is strictly for sharing with the course staff when something goes wrong or you need help with your code.\n    </div>\n    <div class=\"mb-4\">\n        The link is also available through this QR code. Do not share this QR code unless your instructor or TA asks you to.\n        <div class=\"blockpy-copy-share-qrcode\"></div>\n    </div>\n    "));
  this.tag.find(".blockpy-copy-share-link").on("click", function () {
    // Copy the URL to the clipboard
    navigator.clipboard.writeText(url).then(function () {
      _this3.tag.find(".blockpy-copy-share-link").html("Copied!");
    });
  });
  try {
    var qrcode = new QRCode(this.tag.find(".blockpy-copy-share-qrcode")[0], {
      text: url,
      width: 128,
      height: 128,
      colorDark: "#000000",
      colorLight: "#ffffff",
      correctLevel: QRCode.CorrectLevel.H
    });
  } catch (e) {
    console.warn("Error creating QR code", e);
    this.tag.find(".blockpy-copy-share-qrcode").html("QR code generation failed.");
  }
};
BlockPyDialog.prototype.VIEW_INSTRUCTOR_STDOUT = function () {
  var stdout = this.main.model.execution.instructor.stdout();
  var formatted = stdout.join("");
  var body = stdout.length > 0 ? "<pre class=\"blockpy-instructor-stdout\">".concat(formatted, "</pre>") : "The instructor script did not print anything to the console.";
  this.show("Instructor Stdout", "\n    <div class=\"mb-4\">\n        The instructor <code>on_run.py</code> script has printed the following output:\n    </div>\n    ".concat(body, "\n    "));
};

/***/ }),

/***/ "./src/editor/abstract_editor.js":
/*!***************************************!*\
  !*** ./src/editor/abstract_editor.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractEditor: () => (/* binding */ AbstractEditor),
/* harmony export */   downloadFile: () => (/* binding */ downloadFile),
/* harmony export */   sluggify: () => (/* binding */ sluggify),
/* harmony export */   uploadFile: () => (/* binding */ uploadFile)
/* harmony export */ });
/* harmony import */ var _editors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../editors */ "./src/editors.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }

function uploadFile(model, event) {
  var fileReader = new FileReader();
  var files = event.target.files;
  fileReader.onload = function (e) {
    return model.ui.editors.current().uploadFile(e);
  };
  fileReader.fileName = files[0].name;
  fileReader.readAsText(files[0]);
  event.target.value = "";
}
function sluggify(text) {
  return text.replace(/[^a-z0-9]/gi, "_").toLowerCase();
}
function downloadFile(model, event) {
  var _model$ui$editors$cur = model.ui.editors.current().downloadFile(),
    name = _model$ui$editors$cur.name,
    extension = _model$ui$editors$cur.extension,
    contents = _model$ui$editors$cur.contents,
    mimetype = _model$ui$editors$cur.mimetype;
  // Make safe
  name = sluggify(name);
  name = name + extension;
  // Make the data download as a file
  var blob = new Blob([contents], {
    type: mimetype
  });
  if (window.navigator.msSaveOrOpenBlob) {
    window.navigator.msSaveBlob(blob, name);
  } else {
    var temporaryDownloadLink = window.document.createElement("a");
    temporaryDownloadLink.href = window.URL.createObjectURL(blob);
    temporaryDownloadLink.download = name;
    document.body.appendChild(temporaryDownloadLink);
    temporaryDownloadLink.click();
    document.body.removeChild(temporaryDownloadLink);
  }
}
var AbstractEditor = /*#__PURE__*/function () {
  function AbstractEditor(main, tag) {
    _classCallCheck(this, AbstractEditor);
    this.main = main;
    this.tag = tag;
    this.fileSystem = main.components.fileSystem;
    this.filename = null;
    this.file = null;
  }
  return _createClass(AbstractEditor, [{
    key: "deleteFile",
    value: function deleteFile() {
      this.fileSystem.deleteFile(this.filename);
      this.main.model.display.filename("answer.py");
      this.main.components.editors.changeEditor("answer.py");
    }
  }, {
    key: "onFileDeleted",
    value: function onFileDeleted() {
      // TODO: Switch to the previous file instead of a default file
      this.main.model.display.filename("answer.py");
      this.main.components.editors.changeEditor("answer.py");
    }
  }, {
    key: "onFileUpdated",
    value: function onFileUpdated(file) {
      if (file.filename === this.filename) {
        //this.file = file;
        this.main.components.editors.changeEditor(this.filename);
        //this.fileSystem.stopWatchingFile(this.filename);
        //this.trackCurrentFile();
      }
    }
  }, {
    key: "trackCurrentFile",
    value: function trackCurrentFile() {
      this.fileSystem.watchFile(this.filename, {
        updated: this.onFileUpdated.bind(this),
        deleted: this.onFileDeleted.bind(this)
      });
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      this.filename = newFilename;
      this.file = this.fileSystem.getFile(newFilename);
      this.trackCurrentFile();
    }

    /**
     *
     * @param newFilename - the filename that the other editor will be switching to
     * @param oldEditor
     * @param newEditor
     */
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      this.fileSystem.stopWatchingFile(this.filename);
      this.file = null;
      this.filename = null;
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var filename = event.target.fileName;
      var contents = event.target.result;
      this.file.handle(contents);
    }
  }, {
    key: "downloadFile",
    value: function downloadFile() {
      var filename = _editors__WEBPACK_IMPORTED_MODULE_0__.Editors.parseFilename(this.filename);
      return {
        name: filename.name,
        extension: filename.type,
        contents: this.file.handle(),
        mimetype: "text/plain"
      };
    }
  }]);
}();

/***/ }),

/***/ "./src/editor/assignment_settings.js":
/*!*******************************************!*\
  !*** ./src/editor/assignment_settings.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ASSIGNMENT_SETTINGS_EDITOR_HTML: () => (/* binding */ ASSIGNMENT_SETTINGS_EDITOR_HTML),
/* harmony export */   AssigmentType: () => (/* binding */ AssigmentType),
/* harmony export */   AssignmentSettings: () => (/* binding */ AssignmentSettings),
/* harmony export */   loadAssignmentSettings: () => (/* binding */ loadAssignmentSettings),
/* harmony export */   makeAssignmentSettingsModel: () => (/* binding */ makeAssignmentSettingsModel),
/* harmony export */   saveAssignmentSettings: () => (/* binding */ saveAssignmentSettings)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _python__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./python */ "./src/editor/python.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var ASSIGNMENT_SETTINGS = [["toolbox", "toolbox", "normal", "toolbox", "Which version of the toolbox to present to the user."], ["type", "type", "blockpy", "type", "The type of question; BlockPy programming problems are the default, but we also support static readings, quiz questions, and a Maze game."], ["passcode", "passcode", "", "string", "A string that the user must enter to access the problem. If blank, then no passcode is prompted."],
//["toolboxLevel", "toolbox_level", "normal", "toolbox", "INCOMPLETE: What level of toolbox to present to the user (hiding and showing categories)."],
["startView", "start_view", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.TEXT, _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes, "The Python editor mode to start in when the student starts the problem."], ["datasets", "datasets", "", "string", "The current list of datasets available on load as a comma-separated string."], ["disableTimeout", "disable_timeout", false, "bool", "If checked, then students code is allowed to run without timeouts (potentially allowing infinite loops)."], ["partId", "part_id", "", "string", "The Part ID of an Assignment that this editor is responsible for. Assignments can have regions (\"Parts\") that behave independently to the user but all correspond to the same assignment on the backend. Blank corresponds to the full document. Note that most assignment settings will apply UNIVERSALLY across all parts, including the on_run.py and the other settings on this page."], ["isParsons", "is_parsons", false, "bool", "If checked, then this is a parson's style question (jumbled)."], ["saveTurtleOutput", "save_turtle_output", false, "bool", "If checked, then turtle (and pygame) output is saved whenever the program uses it."], ["disableFeedback", "disable_feedback", false, "bool", "If checked, then no instructor scripts are run (e.g., on_run and on_eval)."], ["disableInstructorRun", "disable_instructor_run", false, "bool", "If checked, then the instructor on_run will not automatically run the students' code. This still runs the students' code once beforehand, but the output/data will not be available to the instructor's on_run.py script."], ["disableStudentRun", "disable_student_run", false, "bool", "If checked, then the run button no longer run the students' code. This still runs the instructor's feedback on_run script."], ["disableTifa", "disable_tifa", false, "bool", "If checked, then do not automatically run Tifa (which can be slow)."], ["disableTrace", "disable_trace", false, "bool", "If checked, then the students code will not have its execution traced (no variables recorded, no coverage tracked)."], ["disableEdit", "disable_edit", false, "bool", "If checked, then the students' file will not be editable."], ["preloadAllFiles", "preload_all_files", false, "bool", "If checked, then the students can upload and use images and other files. This preloads all available files and images. You can filter them using the Preloaded Files setting."], ["enableImages", "can_image", false, "bool", "If checked, then users can copy/paste images directly into the text editor."], ["enableBlocks", "can_blocks", true, "bool", "If checked, then the student can edit the block interface (if not, then it is visible but not editable)."], ["canClose", "can_close", false, "bool", "If checked, then the student should mark their submission closed when they are done. There is no way to force a student to do so. Unlike Reviewed, this still submits the correctness."], ["onlyInteractive", "only_interactive", false, "bool", "If checked, the editors are hidden, the program is automatically run, and then the console enters Eval mode (interactive)."], ["onlyUploads", "only_uploads", false, "bool", "If checked, then the students' file will not be directly editable (they will have to upload submissions)."],
// What menus/feedback to show and hide
["hideSubmission", "hide_submission", false, "bool", "If checked, then students will not be able to see their submission's code or history on Canvas."], ["hideFiles", "hide_files", true, "bool", "If checked, then students will not see the View Files toolbar."], ["hideQueuedInputs", "hide_queued_inputs", false, "bool", "If checked, then the students cannot access the queued inputs box (makes repeated debugging easier for the input function)."], ["hideEditors", "hide_editors", false, "bool", "If checked, then all of the editors are hidden."], ["hideMiddlePanel", "hide_middle_panel", false, "bool", "If checked, then the console and feedback areas is hidden."], ["hideAll", "hide_all", false, "bool", "INCOMPLETE: If checked, then the entire interface is hidden."], ["hideEvaluate", "hide_evaluate", false, "bool", "If checked, then the Evaluate button is not shown on the console."], ["hideImportDatasetsButton", "hide_import_datasets_button", false, "bool", "If checked, then students cannot see the import datasets button."],
// TODO: Fix this one to be settable
["hideImportStatements", "hide_import_statements", false, "bool", "INCOMPLETE: If checked, certain kinds of import statements (matplotlib, turtle, datasets) are not shown in the block interface."], ["hideCoverageButton", "hide_coverage_button", false, "bool", "INCOMPLETE: If checked, the coverage button is not shown."], ["hideTraceButton", "hide_trace_button", false, "bool", "If checked, then the Trace button is not shown."], ["smallLayout", "small_layout", false, "bool", "If checked, then the interface fits into a smaller region."], ["hasClock", "has_clock", false, "bool", "If checked, then a clock is shown in the top right corner."], ["preloadFiles", "preload_files", "", "string", "A JSON structure representing the files that should be loaded on start from the remote, as if they were local."], ["instructionsPool", "instructions_pool", false, "bool", "If checked, then the instructions will be interpreted as being from a pool. One of the prompts will be chosen from the pool based on the random seed."]];
var AssigmentType = {
  BLOCKPY: "blockpy",
  MAZE: "maze",
  QUIZ: "quiz",
  READING: "reading"
};
function getDocumentation(name) {
  for (var i = 0; i < ASSIGNMENT_SETTINGS.length; i++) {
    if (ASSIGNMENT_SETTINGS[i][0] === name) {
      return ASSIGNMENT_SETTINGS[i][4];
    }
  }
  return "Documentation not found for field";
}
function makeStartViewTab(name, icon, mode) {
  return "<label class=\"btn btn-outline-secondary blockpy-mode-set-blocks\"\n                data-bind=\"css: {active: assignment.settings.startView() === '".concat(mode, "'},\n                           click: assignment.settings.startView.bind($data, '").concat(mode, "')\">\n                <span class='fas fa-").concat(icon, "'></span>\n                <input type=\"radio\" name=\"blockpy-start-view-set\" autocomplete=\"off\" checked> ").concat(name, "\n            </label>");
}
var ASSIGNMENT_SETTINGS_BOOLEAN_COMPONENTS_HTML = ASSIGNMENT_SETTINGS
// Only handle the simple booleans this way
.filter(function (setting) {
  return setting[3] === "bool";
}).map(function (setting) {
  var prettyName = setting[1].split("_").map(function (word) {
    return word.charAt(0).toUpperCase() + word.slice(1);
  }).join(" ");
  return "\n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-".concat(setting[0], "\">").concat(prettyName, "</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-").concat(setting[0], "\"\n                    data-bind=\"checked: assignment.settings.").concat(setting[0], "\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    ").concat(setting[4], "\n                </small>\n            </div>\n        </div>\n        ");
}).join("\n\n");
var ASSIGNMENT_SETTINGS_EDITOR_HTML = "\n    <div class=\"blockpy-view-settings\">\n    \n    <form>\n\n        <div class=\"form-group row\">\n            <div class=\"col-sm-12 mx-auto\">\n                <button type=\"button\" class=\"btn btn-success\"\n                    data-bind=\"click: ui.editors.settings.save\">Save changes</button>\n            </div>\n        </div>\n    \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-name\" class=\"col-sm-2 col-form-label text-right\">Name:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-name\"\n                data-bind=\"value: assignment.name\">\n                <small class=\"form-text text-muted\">\n                    The student-facing name of the assignment. Assignments within a group are ordered alphabetically\n                    by their name, so you may want to use a naming scheme like \"#43.5) Whatever\".\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-url\" class=\"col-sm-2 col-form-label text-right\">URL:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-url\"\n                data-bind=\"value: assignment.url\">\n                <small class=\"form-text text-muted\">\n                    The course-unique URL that can be used to consistently refer to this assignment. \n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-public\">Public:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-public\"\n                    data-bind=\"checked: assignment.public\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If not public, users outside of the course will not be able to see the assignment in course listings.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-hidden\">Hidden:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-hidden\"\n                    data-bind=\"checked: assignment.hidden\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If hidden, students will not be able to see their grade while working on the assignment.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-reviewed\">Reviewed:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-reviewed\"\n                    data-bind=\"checked: assignment.reviewed\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If reviewed, the assignment need to be commented upon and regraded by the staff after submission.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-points\" class=\"col-sm-2 col-form-label text-right\">Points:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"number\" class=\"form-control\" id=\"blockpy-settings-points\"\n                data-bind=\"value: assignment.points\">\n                <small class=\"form-text text-muted\">\n                    The number of points this assignment is worth; defaults to 1 point. \n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-reviewed\">Starting View:</label>\n            </div>\n            <div class=\"col-sm-3\">\n                <div class=\"btn-group btn-group-toggle mr-2\" data-toggle=\"buttons\">\n                    ".concat(makeStartViewTab("Blocks", "th-large", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.BLOCK), "\n                    ").concat(makeStartViewTab("Split", "columns", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.SPLIT), "\n                    ").concat(makeStartViewTab("Text", "align-left", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.TEXT), "\n                 </div>\n            </div>            \n            <div class=\"col-sm-7\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("startView"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-ip-ranges\" class=\"col-sm-2 col-form-label text-right\">IP Ranges:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-ip-ranges\"\n                data-bind=\"value: assignment.ipRanges\">\n                <small class=\"form-text text-muted\">\n                    Provide a comma-separated list of IP Addresses that will be explicitly allowed. If blank,\n                    then all addresses are allowed. If an address starts with <code>^</code> then it it is explicitly\n                    blacklisted, but that can be overridden in turn with a <code>!</code>. Addresses can also\n                    include a bit mask to allow a range of addresses.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-passcode\" class=\"col-sm-2 col-form-label text-right\">Passcode:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-passcode\"\n                data-bind=\"value: assignment.settings.passcode\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("passcode"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-datasets\" class=\"col-sm-2 col-form-label text-right\">Preloaded Datasets:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-datasets\"\n                data-bind=\"value: assignment.settings.datasets\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("datasets"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-preload-files\" class=\"col-sm-2 col-form-label text-right\">Preloaded Files:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-preload-files\"\n                data-bind=\"value: assignment.settings.preloadFiles\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("preloadFiles"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-toolbox\" class=\"col-sm-2 col-form-label text-right\">Block Toolbox:</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" id=\"blockpy-settings-toolbox\"\n                       data-bind=\"value: assignment.settings.toolbox\">\n                   <option value=\"normal\">Normal Toolbox</option>\n                   <option value=\"ct\">CT@VT Toolbox</option>\n                   <option value=\"ct2\">CT@VT Toolbox V2</option>\n                   <option value=\"minimal\">Minimal Set</option>\n                   <option value=\"full\">All Blocks</option>\n                   <option value=\"custom\">Custom</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("toolbox"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-type\" class=\"col-sm-2 col-form-label text-right\">Problem Type:</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" id=\"blockpy-settings-type\"\n                       data-bind=\"value: assignment.type\">\n                   <option value=\"blockpy\">BlockPy</option>\n                   <option value=\"maze\">Maze</option>\n                   <option value=\"quiz\">Quiz Question</option>\n                   <option value=\"reading\">Reading</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("type"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-part-id\" class=\"col-sm-2 col-form-label text-right\">Part ID:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-part-id\"\n                data-bind=\"value: configuration.partId\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("partId"), "\n                </small>\n            </div>\n        </div>\n        \n        ").concat(ASSIGNMENT_SETTINGS_BOOLEAN_COMPONENTS_HTML, "\n    </form>\n    \n    </div>\n");
function saveAssignmentSettings(model) {
  var settings = {};
  ASSIGNMENT_SETTINGS.forEach(function (setting) {
    var clientName = setting[0],
      serverName = setting[1],
      defaultValue = setting[2];
    var value = model.assignment.settings[clientName]();
    // Only store this setting if its different from the default
    if (value !== defaultValue) {
      settings[serverName] = value;
    }
  });
  return JSON.stringify(settings);
}
function loadAssignmentSettings(model, settings) {
  if (settings) {
    settings = JSON.parse(settings);
    ASSIGNMENT_SETTINGS.forEach(function (setting) {
      var clientName = setting[0],
        serverName = setting[1];
      if (serverName in settings) {
        model.assignment.settings[clientName](settings[serverName]);
      } else {
        model.assignment.settings[clientName](setting[2]);
      }
    });
    if (settings.start_view) {
      model.display.pythonMode(settings.start_view);
    }
  }
}
function makeAssignmentSettingsModel(configuration) {
  console.log(configuration);
  var settings = {};
  ASSIGNMENT_SETTINGS.forEach(function (setting) {
    var clientName = setting[0],
      serverName = setting[1],
      defaultValue = setting[2],
      fieldType = setting[3];
    if (configuration["assignment.settings." + serverName] === undefined) {
      settings[clientName] = ko.observable(defaultValue);
    } else {
      var configValue = configuration["assignment.settings." + serverName];
      if (fieldType === "bool") {
        configValue = configValue.toString().toLowerCase() === "true";
      }
      settings[clientName] = ko.observable(configValue);
    }
  });
  return settings;
}
var AssignmentSettingsView = /*#__PURE__*/function (_AbstractEditor) {
  function AssignmentSettingsView(main, tag) {
    var _this;
    _classCallCheck(this, AssignmentSettingsView);
    _this = _callSuper(this, AssignmentSettingsView, [main, tag]);
    _this.dirty = false;
    return _this;
  }
  _inherits(AssignmentSettingsView, _AbstractEditor);
  return _createClass(AssignmentSettingsView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(AssignmentSettingsView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      //TODO: this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      // this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);

      //TODO: this.codeMirror.on("change", this.currentListener);
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        // TODO: Do update

        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        //this.file.handle(this.codeMirror.value());
        // TODO: Update
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      //this.currentSubscription.dispose();
      // TODO: update
      //this.codeMirror.off("change", this.currentListener);
      _superPropGet(AssignmentSettingsView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var AssignmentSettings = {
  name: "Assignment Settings",
  extensions: ["!assignment_settings.blockpy"],
  constructor: AssignmentSettingsView,
  template: ASSIGNMENT_SETTINGS_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/default_header.js":
/*!**************************************!*\
  !*** ./src/editor/default_header.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   default_header: () => (/* binding */ default_header)
/* harmony export */ });
var default_header = "\n<div class=\"blockpy-python-toolbar col-md-12 btn-toolbar\"\n     role=\"toolbar\" aria-label=\"Python Toolbar\">\n     <div class=\"btn-group mr-2\">\n        <label class=\"btn btn-outline-secondary\">\n            <span class=\"fas fa-file-upload\"></span> Upload\n            <input class=\"blockpy-toolbar-upload\" type=\"file\"\n                hidden\n                data-bind=\"event: {change: ui.editors.upload}\">\n         </label>\n\n        <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n            data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            <span class=\"caret\"></span>\n            <span class=\"sr-only\">Toggle Dropdown</span>\n        </button>\n        \n        <div class=\"dropdown-menu dropdown-menu-right\">\n            <a class='dropdown-item blockpy-toolbar-download'\n                data-bind=\"click: ui.editors.download\">\n            <span class='fas fa-download'></span> Download\n            </a>\n        </div>\n    </div>\n    \n    <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Delete Group\"\n        data-bind=\"visible: ui.editors.canDelete\">\n        <button type=\"button\" class=\"btn btn-outline-secondary\",\n            data-bind=\"click: ui.files.delete\">\n            <span class=\"fas fa-trash\"></span> Delete\n         </button>\n     </div>\n </div>\n";

/***/ }),

/***/ "./src/editor/images.js":
/*!******************************!*\
  !*** ./src/editor/images.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IMAGE_EDITOR_HTML: () => (/* binding */ IMAGE_EDITOR_HTML),
/* harmony export */   ImageEditor: () => (/* binding */ ImageEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var filepond__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! filepond */ "filepond");
/* harmony import */ var filepond__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(filepond__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var IMAGE_EDITOR_HTML = "\n     <div>\n        <strong>Available Files</strong><br>\n            All the files available to open with <code>PIL</code> for this assignment:\n            <button data-bind=\"click: ui.editors.images.reloadImages\"\n                class=\"btn btn-outline-secondary float-right\"\n            >Reload Available Images</button>\n        <!-- ko if: display.uploadedFiles() !== null -->\n            <ul>\n                <!-- ko foreach: { data: Object.keys(display.uploadedFiles()), as: 'placement' } -->\n                <li>\n                    <strong data-bind=\"text: $data[0].toUpperCase() + $data.slice(1)\"></strong>:\n                    <table class=\"table table-striped table-bordered table-hover table-sm\">\n                        <thead>\n                            <tr>\n                                <th>Filename</th>\n                                <th>Preview</th>\n                                <th>Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                    <!-- ko foreach: { data: $root.display.uploadedFiles()[placement], as: 'filename' } -->\n                        <tr>\n                            <td>\n                                <code data-bind=\"text: filename[0]\"></code>\n                            </td>\n                            <td>\n                                <details>\n                                    <summary><img data-bind=\"attr: { src: filename[1], alt: filename[1] }\"\n                                        width=\"30px\" height=\"30px\" onerror=\"this.style.display='none'\"/>\n                                    </summary>\n                                    <img data-bind=\"attr: { src: filename[1], alt: filename[1] }\"\n                                        onerror=\"this.style.display='none'\"/>\n                                </details>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-danger\" \n                                    data-bind=\"click: $root.ui.editors.images.deleteFile.bind(filename[0]),\n                                               visible: $root.ui.editors.images.canModify(placement)\">Delete</button>\n                                <button class=\"btn btn-danger\" \n                                    data-bind=\"click: $root.ui.editors.images.renameFile.bind(filename[0]),\n                                               visible: $root.ui.editors.images.canModify(placement)\">Rename</button>\n                            </td>\n                        </tr>\n                    <!-- /ko -->\n                    </table>\n                </li>\n                <!-- /ko -->\n            </ul>\n        <!-- /ko -->\n        \n        <strong>Add more files</strong><br>\n        Upload more files using the forms below:\n                \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-label\" for=\"blockpy-editor-images-upload-file\">File:</label>\n            </div>\n            <div class=\"col-sm-10\">\n                <input type=\"file\" class=\"form-control blockpy-editor-images-upload-file\" id=\"blockpy-editor-images-upload-file\"\n            name=\"blockpy-editor-images-upload-file\">\n                <small class=\"form-text text-muted\">\n                    The file to make available in your code\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\" data-bind=\"visible: ui.editors.images.canChoosePlacement()\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-label\" for=\"blockpy-editor-images-upload-placement\">Placement:</label>\n            </div>\n            <div class=\"col-sm-10\">\n                <select id=\"blockpy-editor-images-upload-placement\" name=\"blockpy-editor-images-upload-placement\"\n                    class=\"form-control blockpy-editor-images-upload-placement\">\n                    <option value=\"submission\" selected>Only your submission</option>\n                    <option value=\"assignment\">For all submissions of this assignment</option>\n                    <option value=\"course\">Across the entire course</option>\n                    <option value=\"user\">For just your user account</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    The placement of the file in the system. This controls whether other users can see the file.\n                    If you want to provide a file to all students for just this specific problem, then you should\n                    use <code>For all submissions of this assignment</code>. If you want to use this same image\n                    across other assignments (including assignments within this assignment group), then you should\n                    use <code>Across the entire course</code>.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-label\" for=\"blockpy-editor-images-upload-filename\">Filename:</label>\n            </div>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control blockpy-editor-images-upload-filename\" id=\"blockpy-editor-images-upload-filename\"\n                             name=\"blockpy-editor-images-upload-filename\">\n                <small class=\"form-text text-muted\">\n                    The filename that will be made available in the code. This should be a valid filename for the\n                    system, and should not contain spaces or special characters. It should also have a valid file\n                    extension (e.g., <code>.png</code>, <code>.jpg</code>, <code>.txt</code>).\n                </small>\n            </div>\n        </div>\n        <div class=\"form-group row\">\n            <button data-bind=\"click: ui.editors.images.uploadFile\" class=\"btn btn-success\">Upload</button>\n        </div>\n    </div>\n";
var ImageEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function ImageEditorView(main, tag) {
    var _this;
    _classCallCheck(this, ImageEditorView);
    _this = _callSuper(this, ImageEditorView, [main, tag]);
    _this.tagUploadFileButton = _this.tag.find(".blockpy-editor-images-upload-file");
    _this.tagUploadFilePlacement = _this.tag.find(".blockpy-editor-images-upload-placement");
    _this.tagUploadFileName = _this.tag.find(".blockpy-editor-images-upload-filename");
    _this.tagUploadFileButton.on("change", function (event) {
      _this.tagUploadFileName.val(event.target.files[0].name);
    });
    return _this;
  }
  _inherits(ImageEditorView, _AbstractEditor);
  return _createClass(ImageEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(ImageEditorView, "enter", this, 3)([newFilename, oldEditor]);
      var uploadedFiles = this.main.model.display.uploadedFiles();
      if (uploadedFiles === null) {
        this.reloadImages();
      }
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));

      // const target = this.tag.find(".blockpy-editor-images-filepond")[0];
      //console.log(target);
      /*const uploadUrl = new URL(this.main.model.configuration.urls["uploadFile"]);
      uploadUrl.searchParams.set("directory", this.main.model.assignment.id());
      uploadUrl.searchParams.set("placement", "submission");*/
      // this.filepond = FilePond.create(target, {
      //     //files: [],
      //     allowMultiple: true,
      //     server: {
      //         url: this.main.model.configuration.urls["downloadFile"],
      //         load: (source, load) => {
      //             const params = new URL(source, window.location.origin).searchParams;
      //             this.main.components.server.downloadFile(
      //                 params.get("placement"),
      //                 params.get("directory"),
      //                 params.get("filename"),
      //                 (response) => {
      //                     load(new File([response], params.get("filename")));
      //                 }
      //             );
      //             console.log(source, load);
      //         },
      //         process: {
      //             url: this.main.model.configuration.urls["uploadFile"],
      //             // url: "blockpy/upload_file?placement=assignment&directory="+this.main.model.assignment.id(),
      //         }
      //     }
      // });
      // console.log(this.filepond);
      /*
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
        // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);*/
    }
  }, {
    key: "reloadImages",
    value: function reloadImages() {
      var _this2 = this;
      this.main.components.server.listUploadedFiles(function (response) {
        if (response.success) {
          _this2.main.model.display.uploadedFiles(response.files);
          _this2.main.components.fileSystem.loadRemoteFiles(response.files);
          // const allFiles = [];
          // Object.entries(response.files).forEach(([group, files]) => {
          //     files.forEach(([filename, url]) => allFiles.push({
          //         source: url,
          //         options: {
          //             type: "local"
          //         }
          //     }));
          // });
          // this.filepond.addFiles(allFiles);
        } else {
          _this2.main.components.dialog.ERROR_LISTING_UPLOADED_FILES(response.message);
        }
      });
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {}
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      /*this.dirty = !this.dirty;
      if (this.dirty) {
          this.dirty = true;
          this.file.handle(this.codeMirror.getValue());
          this.dirty = false;
      }*/
    }
  }, {
    key: "getPlacementDirectory",
    value: function getPlacementDirectory(placement) {
      switch (placement) {
        case "submission":
          return this.main.model.submission.id();
        case "assignment":
          return this.main.model.assignment.id();
        case "course":
          return this.main.model.course.id();
        case "user":
          return this.main.model.user.id();
        default:
          return null;
      }
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var _this3 = this;
      this.main.components.server.uploadFile(this.tagUploadFilePlacement.val(), this.getPlacementDirectory(this.tagUploadFilePlacement.val()), this.tagUploadFileName.val(), this.tagUploadFileButton[0].files[0], function (response) {
        if (response.success) {
          _this3.reloadImages();
        } else {
          _this3.main.components.dialog.ERROR_UPLOADING_FILE(response.message);
        }
      });
    }
  }, {
    key: "deleteFile",
    value: function deleteFile(fileInfo) {
      var _this4 = this;
      var _fileInfo = _slicedToArray(fileInfo, 2),
        filename = _fileInfo[0],
        url = _fileInfo[1];
      var queryParams = new URL(url, window.location.origin).searchParams;
      this.main.components.server.uploadFile(queryParams.get("placement"), queryParams.get("directory"), filename, "", function (response) {
        if (response.success) {
          _this4.reloadImages();
        } else {
          _this4.main.components.dialog.ERROR_DELETING_FILE(response.message);
        }
      }, true);
    }
  }, {
    key: "renameFile",
    value: function renameFile(fileInfo) {
      var _this5 = this;
      var _fileInfo2 = _slicedToArray(fileInfo, 2),
        filename = _fileInfo2[0],
        url = _fileInfo2[1];
      var queryParams = new URL(url, window.location.origin).searchParams;
      var newFilename = prompt("Enter the new filename for this file:", filename);
      if (newFilename) {
        this.main.components.server.renameFile(queryParams.get("placement"), queryParams.get("directory"), filename, newFilename, function (response) {
          if (response.success) {
            _this5.reloadImages();
          } else {
            _this5.main.components.dialog.ERROR_RENAMING_FILE(response.message);
          }
        });
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      _superPropGet(ImageEditorView, "exit", this, 3)([newFilename, oldEditor]);
      // if (this.filepond) {
      //     this.filepond.destroy();
      // }
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var ImageEditor = {
  name: "Image",
  extensions: ["images.blockpy"],
  constructor: ImageEditorView,
  template: IMAGE_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/json.js":
/*!****************************!*\
  !*** ./src/editor/json.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JSON_EDITOR_HTML: () => (/* binding */ JSON_EDITOR_HTML),
/* harmony export */   JsonEditor: () => (/* binding */ JsonEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _default_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default_header */ "./src/editor/default_header.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var JSON_EDITOR_HTML = "\n    ".concat(_default_header__WEBPACK_IMPORTED_MODULE_1__.default_header, "\n     <div>\n        <textarea class=\"blockpy-editor-json\"></textarea>\n    </div>\n");
var JsonEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function JsonEditorView(main, tag) {
    var _this;
    _classCallCheck(this, JsonEditorView);
    _this = _callSuper(this, JsonEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-json")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      mode: "json",
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(JsonEditorView, _AbstractEditor);
  return _createClass(JsonEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(JsonEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(JsonEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var JsonEditor = {
  name: "JSON",
  extensions: [".json"],
  constructor: JsonEditorView,
  template: JSON_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/markdown.js":
/*!********************************!*\
  !*** ./src/editor/markdown.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MARKDOWN_EDITOR_HTML: () => (/* binding */ MARKDOWN_EDITOR_HTML),
/* harmony export */   MarkdownEditor: () => (/* binding */ MarkdownEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _default_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default_header */ "./src/editor/default_header.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var MARKDOWN_EDITOR_HTML = "\n    ".concat(_default_header__WEBPACK_IMPORTED_MODULE_1__.default_header, "\n    <textarea class=\"blockpy-editor-markdown\"></textarea>    \n");
var MarkdownEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function MarkdownEditorView(main, tag) {
    var _this;
    _classCallCheck(this, MarkdownEditorView);
    _this = _callSuper(this, MarkdownEditorView, [main, tag]);
    _this.mde = new EasyMDE({
      element: tag.find(".blockpy-editor-markdown")[0],
      autoDownloadFontAwesome: false,
      forceSync: true,
      minHeight: "300px",
      //scrollbarStyle: "native",
      // TODO: imageUploadFunction
      renderingConfig: {
        codeSyntaxHighlighting: true
      },
      indentWithTabs: false,
      tabSize: 4
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(MarkdownEditorView, _AbstractEditor);
  return _createClass(MarkdownEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(MarkdownEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.mde.codemirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.mde.codemirror.refresh.bind(this.mde.codemirror), 1);
      }
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.mde.value(newContents);
        this.mde.codemirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.mde.value());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.mde.codemirror.off("change", this.currentListener);
      _superPropGet(MarkdownEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var MarkdownEditor = {
  name: "Markdown",
  extensions: [".md"],
  constructor: MarkdownEditorView,
  template: MARKDOWN_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/python.js":
/*!******************************!*\
  !*** ./src/editor/python.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayModes: () => (/* binding */ DisplayModes),
/* harmony export */   PYTHON_EDITOR_HTML: () => (/* binding */ PYTHON_EDITOR_HTML),
/* harmony export */   PythonEditor: () => (/* binding */ PythonEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../history */ "./src/history.js");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../interface */ "./src/interface.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
/**
 * TODO: rename files, manual save, tags, sample_submissions, on_eval, non-builtin files
 * TODO: import data, history, run, url_data, assignment_settings, parsons_mode
 * TODO: delete becomes "clear" for instructor files
 */

/**
 *
 * @enum {str}
 */



var DisplayModes = {
  BLOCK: "block",
  SPLIT: "split",
  TEXT: "text"
};
function makeTab(name, icon, mode) {
  return "<label class=\"btn btn-outline-secondary blockpy-mode-set-blocks\"\n                data-bind=\"css: {active: display.pythonMode() === '".concat(mode, "'},\n                           click: ui.editors.python.updateMode.bind($data, '").concat(mode, "')\">\n                <span class='fas fa-").concat(icon, "'></span>\n                <input type=\"radio\" name=\"blockpy-mode-set\" autocomplete=\"off\" checked> ").concat(name, "\n            </label>");
}
var PYTHON_EDITOR_HTML = "\n\n    <div class=\"blockpy-python-toolbar col-md-12 btn-toolbar\"\n         role=\"toolbar\" aria-label=\"Python Toolbar\">\n\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Run Group\">         \n            <button type=\"button\" class=\"btn blockpy-run notransition\"\n                data-bind=\"click: ui.execute.run,\n                            css: {'blockpy-run-running': ui.execute.isRunning}\">\n                <span class=\"fas fa-play\"></span> <span data-bind=\"text: ui.execute.runLabel\"></span>\n             </button>\n         </div>\n         \n         <div class=\"btn-group btn-group-toggle mr-2\" data-toggle=\"buttons\">\n            <!-- ko if: $root.assignment.settings.enableBlocks() -->\n            ".concat(makeTab("Blocks", "th-large", DisplayModes.BLOCK), "\n            ").concat(makeTab("Split", "columns", DisplayModes.SPLIT), "\n            ").concat(makeTab("Text", "align-left", DisplayModes.TEXT), "\n            <!-- /ko -->\n         </div>\n\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Reset Group\">\n             <button type=\"button\" class=\"btn btn-outline-secondary\"\n                 data-bind=\"click: ui.editors.reset\">\n                 <span class=\"fas fa-sync\"></span> Reset\n              </button>\n         </div>\n         \n         <!-- ko if: !assignment.settings.hideImportDatasetsButton() && !ui.smallLayout()-->\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Import Group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                data-bind=\"click: ui.editors.importDataset\">\n                <span class=\"fas fa-cloud-download-alt\"></span> Import datasets\n             </button>\n         </div>\n         <!-- /ko -->\n         \n         <div class=\"btn-group mr-2\" data-bind=\"hidden: ui.smallLayout\">\n                <label class=\"btn btn-outline-secondary\">\n                    <span class=\"fas fa-file-upload\"></span> Upload\n                    <input class=\"blockpy-toolbar-upload\" type=\"file\"\n                        hidden\n                        data-bind=\"event: {change: ui.editors.upload}\">\n                 </label>\n\n                <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span class=\"caret\"></span>\n                    <span class=\"sr-only\">Toggle Dropdown</span>\n                </button>\n                \n                <div class=\"dropdown-menu dropdown-menu-right\">\n                    <a class='dropdown-item blockpy-toolbar-download'\n                        data-bind=\"click: ui.editors.download\">\n                    <span class='fas fa-download'></span> Download\n                    </a>\n                </div>\n            </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"History Group\" data-bind=\"hidden: ui.smallLayout\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                aria-pressed=\"false\"\n                data-bind=\"click: ui.editors.python.toggleHistoryMode,\n                           enable: ui.editors.python.isHistoryAvailable,\n                           css: { active: display.historyMode },\n                           attr: { 'aria-pressed': display.historyMode }\">\n                <span class=\"fas fa-history\"></span> History\n             </button>\n         </div>\n         \n         <!-- Fully functional, but a little too.. Invasive \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Fullscreen Group\"\n            data-bind=\"visible: display.pythonMode() === 'text'\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                data-bind=\"click: ui.editors.python.fullscreen\">\n                <span class=\"fas fa-expand-arrows-alt\"></span> Fullscreen\n             </button>\n         </div>\n         -->\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Save Group\"\n            data-bind=\"visible: ui.editors.canSave\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\">\n                <span class=\"fas fa-save\"></span> Save\n             </button>\n         </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Delete Group\"\n            data-bind=\"visible: ui.editors.canDelete\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\",\n                data-bind=\"click: ui.files.delete\">\n                <span class=\"fas fa-trash\"></span> Delete\n             </button>\n         </div>\n         \n         <div class=\"btn-group mr-2\">\n                <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span class=\"fas fa-ellipsis-v\"></span>\n                    <span class=\"sr-only\">Toggle Extra Features</span>\n                </button>\n                \n                <div class=\"dropdown-menu dropdown-menu-right\">\n                    <a class='dropdown-item blockpy-toolbar-run-quietly notransition' role=\"button\"\n                        href=\"\"\n                        data-bind=\"click: ui.execute.runQuietly,\n                                    css: {'blockpy-run-running': ui.execute.isRunning}\">\n                        <span class=\"fas fa-comment-slash\"></span> <span data-bind=\"text: ui.execute.runQuietlyLabel\"></span>\n                    </a>\n                </div>\n            </div>\n         \n         <!--<div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Rename Group\"\n            data-bind=\"visible: ui.editors.canRename\">\n             <button type=\"button\" class=\"btn btn-outline-secondary\">\n                <span class=\"fas fa-file-signature\"></span> Rename\n             </button>\n         </div>-->\n         \n    </div>\n    \n    ").concat(_history__WEBPACK_IMPORTED_MODULE_1__.HISTORY_TOOLBAR_HTML, "\n\n\n    <div class=\"blockpy-python-blockmirror\"\n        data-bind=\"hidden: ui.menu.isSubmitted\">\n    </div>\n");
function convertIpynbToPython(code) {
  var ipynb = JSON.parse(code);
  var isUsable = function isUsable(cell) {
    if (cell.cell_type === "code") {
      return cell.source.length > 0 && !cell.source[0].startsWith("%");
    } else {
      return cell.cell_type === "markdown" || cell.cell_type === "raw";
    }
  };
  var makePython = function makePython(cell) {
    if (cell.cell_type === "code") {
      return cell.source.join("\n");
    } else if (cell.cell_type === "markdown" || cell.cell_type === "raw") {
      return "'''" + cell.source.join("\n") + "'''";
    }
  };
  return ipynb.cells.filter(isUsable).map(makePython).join("\n");
}
var PythonEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function PythonEditorView(main, tag) {
    var _this;
    _classCallCheck(this, PythonEditorView);
    _this = _callSuper(this, PythonEditorView, [main, tag.find(".blockpy-python-blockmirror")]);
    Blockly.setParentContainer(main.model.configuration.container[0]);
    _this.bm = new BlockMirror({
      "container": _this.tag[0],
      "run": main.components.engine.run.bind(main.components.engine),
      "skipSkulpt": true,
      "blocklyMediaPath": main.model.configuration.blocklyPath,
      "toolbox": main.model.assignment.settings.toolbox(),
      "imageMode": true,
      imageDownloadHook: function imageDownloadHook(oldUrl) {
        return oldUrl;
      },
      imageUploadHook: function imageUploadHook(blob) {
        //const uuid = window.URL.createObjectURL(new Blob([])).substring(31);
        return new Promise(function (resolve, reject) {
          var submissionId = main.model.submission.id();
          main.components.server.uploadFile("submission", submissionId, blob.name, blob, function (response) {
            resolve(JSON.stringify(response.endpoint));
            //resolve(JSON.stringify(main.model.configuration.urls["downloadFile"] + `?placement=submission&directory=${submissionId}&filename=${blob.name}`));
          });
          //return Promise.resolve("Image("+JSON.stringify(URL.createObjectURL(blob))+")");
          //return Promise.resolve(JSON.stringify(URL.createObjectURL(blob)));
        });
      },
      imageLiteralHook: function imageLiteralHook(oldUrl) {
        //return `Image("${oldUrl}")`;
        return "\"".concat(oldUrl, "\"");
      }
      //'height': '2000px'
    });
    // TODO: Prevent INS and OVR mode (... this.bm.textEditor.codeMirror.

    _this.dirty = false;
    _this.readOnly = false;
    _this.makeSubscriptions();
    _this.lineErrorSubscription = null;
    _this.lineUncoveredSubscription = null;
    _this.lineTraceSubscription = null;
    _this.oldPythonMode = _this.main.model.display.pythonMode();
    _this.makePerAssignmentSubscriptions();
    return _this;
  }
  _inherits(PythonEditorView, _AbstractEditor);
  return _createClass(PythonEditorView, [{
    key: "configureExtraBlockly",
    value: function configureExtraBlockly() {
      var _this2 = this;
      this.bm.blockEditor.workspace.configureContextMenu = function (options) {
        options.push({
          enabled: true,
          text: "Screenshot",
          callback: function callback() {
            return _this2.main.components.dialog.SCREENSHOT_BLOCKS;
          }
        });
      };
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      var _this3 = this;
      var oldFilename = this.filename;
      _superPropGet(PythonEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      if (newFilename !== "answer.py") {
        if (oldFilename === "answer.py") {
          this.oldPythonMode = this.main.model.display.pythonMode();
        }
        this.main.model.display.pythonMode(DisplayModes.TEXT);
      } else {
        this.main.model.display.pythonMode(this.oldPythonMode);
      }
      this.updateEditor(this.file.handle());

      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));

      // Notify relevant file of changes to BM
      this.currentBMListener = this.updateHandle.bind(this);
      this.bm.addChangeListener(this.currentBMListener);
      if (newFilename !== "answer.py") {
        this.bm.isParsons = function () {
          return false;
        };
      } else {
        this.bm.isParsons = this.main.model.assignment.settings.isParsons;
        this.lineErrorSubscription = this.main.model.execution.feedback.linesError.subscribe(function (lines) {
          return _this3.bm.setHighlightedLines(lines, "editor-error-line");
        });
        this.lineUncoveredSubscription = this.main.model.execution.feedback.linesUncovered.subscribe(function (lines) {
          return _this3.bm.setHighlightedLines(lines, "editor-uncovered-line");
        });
        this.lineTraceSubscription = this.main.model.ui.trace.highlightedLine.subscribe(function (lines) {
          _this3.bm.clearHighlightedLines("editor-traced-line");
          _this3.bm.setHighlightedLines(lines, "editor-traced-line");
        });
      }

      //this.bm.blockEditor.workspace.render();
      //this.bm.refresh();
      // TODO: Figure out why this doesn't end up looking right (go to a different editor, come back, and it'll be squished)
      //this.bm.refresh();
      setTimeout(function () {
        return _this3.bm.refresh();
      }, 0);
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      if (newContents === undefined) {
        if (this.file !== null) {
          newContents = this.file.handle();
        } else {
          // Doesn't matter, file was already shut down.
          newContents = "";
        }
      } else if (newContents === null) {
        // We're closing this file
        this.main.components.fileSystem.deleteFileLocally_(this.filename);
        return;
      }
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.bm.setCode(newContents);
        // Delay so that everything is rendered
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.bm.clearHighlightedLines();
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        if (!this.main.model.display.historyMode()) {
          this.file.handle(this.bm.getCode());
        }
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.dirty = false;
      this.currentSubscription.dispose();
      this.bm.removeChangeListener(this.currentBMListener);
      if (this.main.model.display.historyMode()) {
        this.main.model.ui.editors.python.turnOffHistoryMode();
      }
      this.clearLineSubscriptions();
      _superPropGet(PythonEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }, {
    key: "clearLineSubscriptions",
    value: function clearLineSubscriptions() {
      this.bm.clearHighlightedLines();
      if (this.lineErrorSubscription) {
        this.lineErrorSubscription.dispose();
        this.lineErrorSubscription = null;
      }
      if (this.lineUncoveredSubscription) {
        this.lineUncoveredSubscription.dispose();
        this.lineUncoveredSubscription = null;
      }
      if (this.lineTraceSubscription) {
        this.lineTraceSubscription.dispose();
        this.lineTraceSubscription = null;
      }
    }
  }, {
    key: "makeSubscriptions",
    value: function makeSubscriptions() {
      var _this4 = this;
      this.bm.setMode(this.main.model.display.pythonMode());
      this.main.model.display.pythonMode.subscribe(function (mode) {
        _this4.bm.setMode(mode);
      });
      this.main.model.assignment.settings.enableBlocks.subscribe(function (enabled) {
        if (!enabled) {
          _this4.bm.setMode(DisplayModes.TEXT);
        } else {
          _this4.bm.setMode(_this4.main.model.display.pythonMode());
        }
      });
      this.main.model.assignment.settings.toolbox.subscribe(this.reloadToolbox.bind(this));
      this.main.model.assignment.settings.enableImages.subscribe(function (imageMode) {
        _this4.bm.setImageMode(imageMode);
      });

      // Small Layout Stuff
      this.oldHeight = null;
      if (this.main.model.ui.smallLayout()) {
        this.useSmallLayout();
      }
      this.main.model.ui.smallLayout.subscribe(function (useSmallLayout) {
        if (useSmallLayout) {
          _this4.useSmallLayout();
        } else if (_this4.oldHeight !== null) {
          _this4.bm.configuration.height = _this4.oldHeight;
          _this4.bm.textEditor.resizeResponsively();
          _this4.oldHeight = null;
        }
      });
    }
  }, {
    key: "useSmallLayout",
    value: function useSmallLayout() {
      this.bm.textEditor.updateGutter({
        indentSidebar: false
      });
      this.oldHeight = this.bm.configuration.height;
      this.bm.configuration.height = 300; // TODO: Parameterize this
      this.bm.textEditor.resizeResponsively();
    }
  }, {
    key: "reloadToolbox",
    value: function reloadToolbox(toolbox) {
      if (toolbox === "custom") {
        var customToolbox = this.main.components.fileSystem.getFile("?toolbox.blockpy");
        if (customToolbox == null) {
          toolbox = "empty";
        } else {
          try {
            toolbox = JSON.parse(customToolbox.handle());
          } catch (e) {
            console.error(e); // TODO: Improve error message for instructor
            toolbox = "minimal";
          }
        }
      }
      this.bm.configuration.toolbox = toolbox;
      // TODO: Handle invalid toolbox better
      try {
        this.bm.blockEditor.remakeToolbox();
      } catch (e) {
        console.error(e);
        this.bm.configuration.toolbox = "empty";
        this.bm.blockEditor.remakeToolbox();
      }
    }
  }, {
    key: "makePerAssignmentSubscriptions",
    value: function makePerAssignmentSubscriptions() {
      var _this5 = this;
      this.main.model.display.instructor.subscribe(function (changed) {
        _this5.setReadOnly(_this5.decideIfNotEditable());
      });
      this.main.model.assignment.settings.onlyUploads.subscribe(function (changed) {
        _this5.setReadOnly(_this5.decideIfNotEditable());
      });
      this.main.model.configuration.partId.subscribe(function (changed) {
        // TODO: Handle part id changing after everything is loaded
      });
    }
  }, {
    key: "decideIfNotEditable",
    value: function decideIfNotEditable() {
      var model = this.main.model;
      return model.display.historyMode() || model.assignment.settings.onlyUploads() && !model.display.instructor();
    }
  }, {
    key: "setReadOnly",
    value: function setReadOnly(isReadOnly) {
      this.readOnly = isReadOnly;
      this.bm.setReadOnly(isReadOnly);
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var filename = event.target.fileName;
      var code = event.target.result;
      if (filename.endsWith(".ipynb")) {
        code = convertIpynbToPython(code);
      }
      this.main.components.server.logEvent("X-File.Upload", "", "", code, this.filename);
      this.file.handle(code);
      this.main.components.engine.run();
      // TODO: Run code
    }
  }, {
    key: "downloadFile",
    value: function downloadFile() {
      var result = _superPropGet(PythonEditorView, "downloadFile", this, 3)([]);
      if (result.name === "answer" && result.extension === ".py") {
        result.name = (0,_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.sluggify)(this.main.model.assignment.name());
      }
      result.mimetype = "text/x-python";
      this.main.components.server.logEvent("X-File.Download", "", "", "", result.name);
      return result;
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var PythonEditor = {
  name: "Python",
  extensions: [".py", ".reading"],
  constructor: PythonEditorView,
  template: PYTHON_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/quiz.js":
/*!****************************!*\
  !*** ./src/editor/quiz.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QUIZ_EDITOR_HTML: () => (/* binding */ QUIZ_EDITOR_HTML),
/* harmony export */   QuizEditor: () => (/* binding */ QuizEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var QUIZ_EDITOR_HTML = "\n    <div>\n    <textarea class=\"blockpy-editor-quiz\"></textarea>\n    </div>\n";
var QuizEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function QuizEditorView(main, tag) {
    var _this;
    _classCallCheck(this, QuizEditorView);
    _this = _callSuper(this, QuizEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-quiz")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(QuizEditorView, _AbstractEditor);
  return _createClass(QuizEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(QuizEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(QuizEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var QuizEditor = {
  name: "Quiz",
  extensions: [".quiz"],
  constructor: QuizEditorView,
  template: QUIZ_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/sample_submissions.js":
/*!******************************************!*\
  !*** ./src/editor/sample_submissions.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SAMPLE_SUBMISSIONS_HTML: () => (/* binding */ SAMPLE_SUBMISSIONS_HTML),
/* harmony export */   SampleSubmission: () => (/* binding */ SampleSubmission),
/* harmony export */   SampleSubmissions: () => (/* binding */ SampleSubmissions),
/* harmony export */   SubmissionStatuses: () => (/* binding */ SubmissionStatuses)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Panel for editing the set of Sample Submissions.
 * These are not provided at all to students without the Grader role.
 */


var SubmissionStatuses = {
  UNKNOWN: "unknown",
  PASSED: "passed",
  FAILED: "failed",
  ERROR: "error",
  SKIPPED: "skipped"
};
var SampleSubmission = /*#__PURE__*/function () {
  function SampleSubmission(name, status, code) {
    _classCallCheck(this, SampleSubmission);
    this.name = name;
    this.status = status;
    this.code = code;
  }
  return _createClass(SampleSubmission, [{
    key: "serialize",
    value: function serialize() {
      return {
        name: this.name,
        status: this.status,
        code: this.code
      };
    }
  }], [{
    key: "Blank",
    value: function Blank(count) {
      return new SampleSubmission("Untitled" + (count || 1), SubmissionStatuses.UNKNOWN, "a=0");
    }
  }, {
    key: "deserialize",
    value: function deserialize(data) {
      return new SampleSubmission(data.name, data.status, data.code);
    }
  }]);
}();
var SAMPLE_SUBMISSIONS_HTML = "\n<div>\n    <div data-bind=\"foreach: {data: assignment.sampleSubmissions}\"\n        class=\"row\">\n        <div class=\"col-md-6\">\n            <span data-bind=\"text: name\"></span>\n            <textarea class=\"blockpy-editor-sample-submissions-code\"\n                data-bind=\"codeMirrorInstance: code\"></textarea>\n        </div>\n        <div class=\"col-md-6\">\n            <span data-bind=\"text: status\"></span>        \n        </div>\n    </div>\n</div>\n";
ko.bindingHandlers.codeMirrorInstance = {
  init: function init(element, valueAccessor, allBindings, viewModel, bindingContext) {
    // This will be called when the binding is first applied to an element
    // Set up any initial state, event handlers, etc. here
    console.log("INIT");
    var cm = CodeMirror.fromTextArea(element, {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    cm.setSize("100%", "100px");
    return cm;
  },
  update: function update(element, valueAccessor, allBindings, viewModel, bindingContext) {
    // This will be called once when the binding is first applied to an element,
    // and again whenever any observables/computeds that are accessed change
    // Update the DOM element based on the supplied values here.
    console.log("UPDATE");
  }
};
var SampleSubmissionsView = /*#__PURE__*/function (_AbstractEditor) {
  function SampleSubmissionsView(main, tag) {
    var _this;
    _classCallCheck(this, SampleSubmissionsView);
    _this = _callSuper(this, SampleSubmissionsView, [main, tag]);
    _this.tag = tag;
    _this.codeMirrors = [];
    _this.dirty = false;
    return _this;
  }
  _inherits(SampleSubmissionsView, _AbstractEditor);
  return _createClass(SampleSubmissionsView, [{
    key: "buildEditor",
    value: function buildEditor(newDOM, index, newElement) {}
  }, {
    key: "rebuildEditors",
    value: function rebuildEditors() {
      console.log("Rebuilding editors");
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      var _this2 = this;
      _superPropGet(SampleSubmissionsView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      //this.rebuildEditors();
      //this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        console.log(this.tag);
        console.log(this.tag.find(".CodeMirror"));
        console.log(this.tag.find(".CodeMirror").map(function (i, cm) {
          return console.log("+++", cm.CodeMirror);
        }));
        this.tag.find(".CodeMirror").map(function (i, cm) {
          return cm.CodeMirror.refresh();
        });
        console.log("REFRESH");
        // Delay so that everything is rendered
        setTimeout(function () {
          return _this2.tag.find(".CodeMirror").map(function (i, cm) {
            return cm.CodeMirror.refresh();
          });
        }, 1);
      }
      // TODO: update dynamically when changing instructor status
      //this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        console.log(this.codeMirrors);
        //this.codeMirrors.each( (i, cm) => cm.setValue(newContents.join("\n")));
        //this.codeMirrors.each( (i, cm) => cm.refresh());
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirrors.map(function (cm) {
          return cm.getValue();
        }));
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirrors = [];
      //this.codeMirrors.off("change", this.currentListener);
      //this.codeMirror.setOption("readOnly", false);
      _superPropGet(SampleSubmissionsView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var SampleSubmissions = {
  name: "Sample Submissions",
  extensions: ["!sample_submissions.blockpy"],
  constructor: SampleSubmissionsView,
  template: SAMPLE_SUBMISSIONS_HTML
};

/***/ }),

/***/ "./src/editor/tags.js":
/*!****************************!*\
  !*** ./src/editor/tags.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TAGS_EDITOR_HTML: () => (/* binding */ TAGS_EDITOR_HTML),
/* harmony export */   TagsEditor: () => (/* binding */ TagsEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var TAGS_EDITOR_HTML = "\nCreate new\nImport by name\nFind by owner/course/kind\n\nTags:\n    Data:\n        Name\n        Kind\n        Level\n        Version\n        Description\n    Controls:\n        Edit\n        Remove\n        Delete \n";
var TagsEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function TagsEditorView(main, tag) {
    _classCallCheck(this, TagsEditorView);
    return _callSuper(this, TagsEditorView, [main, tag.find(".blockpy-editor-tags")]);
  }
  _inherits(TagsEditorView, _AbstractEditor);
  return _createClass(TagsEditorView);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var TagsEditor = {
  name: "Tags",
  extensions: ["!tags.blockpy"],
  constructor: TagsEditorView,
  template: TAGS_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/text.js":
/*!****************************!*\
  !*** ./src/editor/text.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TEXT_EDITOR_HTML: () => (/* binding */ TEXT_EDITOR_HTML),
/* harmony export */   TextEditor: () => (/* binding */ TextEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _default_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default_header */ "./src/editor/default_header.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var TEXT_EDITOR_HTML = "\n    ".concat(_default_header__WEBPACK_IMPORTED_MODULE_1__.default_header, "\n    <div>\n    <textarea class=\"blockpy-editor-text\"></textarea>\n    </div>\n");
var TextEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function TextEditorView(main, tag) {
    var _this;
    _classCallCheck(this, TextEditorView);
    _this = _callSuper(this, TextEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-text")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(TextEditorView, _AbstractEditor);
  return _createClass(TextEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(TextEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(TextEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var TextEditor = {
  name: "Text",
  extensions: [".txt"],
  constructor: TextEditorView,
  template: TEXT_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/toolbox.js":
/*!*******************************!*\
  !*** ./src/editor/toolbox.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TOOLBOX_EDITOR_HTML: () => (/* binding */ TOOLBOX_EDITOR_HTML),
/* harmony export */   ToolboxEditor: () => (/* binding */ ToolboxEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var TOOLBOX_EDITOR_HTML = "\n    <div>\n        <div class=\"col-md-12\"\n         role=\"toolbar\" aria-label=\"Toolbox Toolbar\">\n             <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Save Group\">         \n                <button type=\"button\" class=\"btn btn-outline-secondary btn-editor-json-save\">\n                    <span class=\"fas fa-save\"></span> Save\n                 </button>\n             </div>\n         </div>\n        <textarea class=\"blockpy-editor-toolbox\"></textarea>\n    </div>\n";
var ToolboxEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function ToolboxEditorView(main, tag) {
    var _this;
    _classCallCheck(this, ToolboxEditorView);
    _this = _callSuper(this, ToolboxEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-toolbox")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      mode: "json",
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(ToolboxEditorView, _AbstractEditor);
  return _createClass(ToolboxEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(ToolboxEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.tag.find(".btn-editor-json-save").on("click", this.currentListener);
      //this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        if (this.main.model.assignment.settings.toolbox() === "custom") {
          this.main.components.pythonEditor.reloadToolbox("custom");
        }
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.tag.find(".btn-editor-toolbox-save").off("click", this.currentListener);
      //this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(ToolboxEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var ToolboxEditor = {
  name: "Toolbox",
  extensions: ["?toolbox.blockpy"],
  constructor: ToolboxEditorView,
  template: TOOLBOX_EDITOR_HTML
};

/***/ }),

/***/ "./src/editors.js":
/*!************************!*\
  !*** ./src/editors.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EDITORS_HTML: () => (/* binding */ EDITORS_HTML),
/* harmony export */   Editors: () => (/* binding */ Editors),
/* harmony export */   EditorsEnum: () => (/* binding */ EditorsEnum)
/* harmony export */ });
/* harmony import */ var _editor_python__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor/python */ "./src/editor/python.js");
/* harmony import */ var _editor_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/text */ "./src/editor/text.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* harmony import */ var _editor_tags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor/tags */ "./src/editor/tags.js");
/* harmony import */ var _editor_markdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editor/markdown */ "./src/editor/markdown.js");
/* harmony import */ var _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./editor/sample_submissions */ "./src/editor/sample_submissions.js");
/* harmony import */ var _editor_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editor/json */ "./src/editor/json.js");
/* harmony import */ var _editor_toolbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./editor/toolbox */ "./src/editor/toolbox.js");
/* harmony import */ var _editor_quiz__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editor/quiz */ "./src/editor/quiz.js");
/* harmony import */ var _editor_images__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./editor/images */ "./src/editor/images.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Editors are inferred from Filenames.
 *
 * The editor is based on the extension:
 *  .blockpy: Special editor (will be chosen by filename)
 *  .py: Python Editor
 *  .md: Markdown Editor
 *  .txt: Text Editor (also used for other types)
 *  .peml: PEML Editor
 *  .png, .gif, .jpeg, .jpg, .bmp: Image Editor
 *  .json: JSON Editor
 *  .yaml: YAML Editor
 */












/**
 * The different possible editors available
 * @enum {string}
 */
var EditorsEnum = {
  SUBMISSION: "submission",
  ASSIGNMENT: "assignment",
  INSTRUCTIONS: "instructions",
  ON_RUN: "on_run",
  ON_CHANGE: "on_change",
  ON_EVAL: "on_eval",
  STARTING_CODE: "starting_code",
  SAMPLE_SUBMISSIONS: "sample_submissions",
  INSTRUCTOR_FILE: "instructor_file"
};
var SPECIAL_NAMESPACES = ["!", "^", "?", "$"];
var AVAILABLE_EDITORS = [_editor_text__WEBPACK_IMPORTED_MODULE_1__.TextEditor, _editor_python__WEBPACK_IMPORTED_MODULE_0__.PythonEditor, _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__.AssignmentSettings, _editor_tags__WEBPACK_IMPORTED_MODULE_3__.TagsEditor, _editor_markdown__WEBPACK_IMPORTED_MODULE_4__.MarkdownEditor, _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_5__.SampleSubmissions, _editor_json__WEBPACK_IMPORTED_MODULE_6__.JsonEditor, _editor_toolbox__WEBPACK_IMPORTED_MODULE_7__.ToolboxEditor, _editor_quiz__WEBPACK_IMPORTED_MODULE_8__.QuizEditor, _editor_images__WEBPACK_IMPORTED_MODULE_9__.ImageEditor];
var EDITORS_HTML = AVAILABLE_EDITORS.map(function (editor) {
  return "\n<div class=\"blockpy-panel blockpy-editor\" \n     data-bind=\"visible: ui.editors.view().name === '".concat(editor.name, "', class: ui.editors.width\">\n    <div>\n    ").concat(editor.template, "\n    </div>\n</div>\n");
}
/*
`
<!-- ko if: ui.editors.view().name === '${editor.name}' -->
${editor.template}
<!-- /ko -->`*/).join("\n");
var Editors = /*#__PURE__*/function () {
  function Editors(main, tag) {
    var _this = this;
    _classCallCheck(this, Editors);
    this.main = main;
    this.tag = tag;
    this.current = null;
    this.registered_ = [];
    this.extensions_ = {};
    this.byName_ = {};
    AVAILABLE_EDITORS.forEach(function (editor) {
      return _this.registerEditor(editor);
    });
    this.main.model.display.filename.subscribe(this.changeEditor, this);
  }
  return _createClass(Editors, [{
    key: "registerEditor",
    value: function registerEditor(data) {
      var extensions = data.extensions;
      var instance = new data.constructor(this.main, this.tag);
      instance.name = data.name;
      this.registered_.push(instance);
      this.byName_[data.name.toLowerCase()] = instance;
      for (var i = 0; i < extensions.length; i++) {
        this.extensions_[extensions[i]] = instance;
      }
    }
  }, {
    key: "byName",
    value: function byName(name) {
      return this.byName_[name.toLowerCase()];
    }
  }, {
    key: "changeEditor",
    value: function changeEditor(newFilename) {
      var oldEditor = this.current;
      var newEditor = this.getEditor(newFilename, oldEditor);
      if (oldEditor !== null) {
        oldEditor.exit(newFilename, oldEditor, newEditor);
      }
      this.current = newEditor;
      this.current.enter(newFilename, oldEditor);
    }
  }, {
    key: "getEditor",
    value: function getEditor(path) {
      var _Editors$parseFilenam = Editors.parseFilename(path),
        space = _Editors$parseFilenam.space,
        name = _Editors$parseFilenam.name,
        type = _Editors$parseFilenam.type;
      if (type === ".blockpy" && path in this.extensions_) {
        return this.extensions_[path];
      }
      var assignmentType = this.main.model.assignment.type();
      if (assignmentType !== _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__.AssigmentType.BLOCKPY) {
        if (name === "answer" && type === ".py") {
          if ("." + assignmentType in this.extensions_) {
            return this.extensions_["." + assignmentType];
          } else {
            console.error("No editor registered for assignment type:", assignmentType);
            return this.registered_[0];
          }
        }
      }
      if (type in this.extensions_) {
        return this.extensions_[type];
      } else {
        return this.registered_[0];
      }
      //console.log(this.main.model.assignment.type(), space, name, type);
    }
  }], [{
    key: "parseFilename",
    value: function parseFilename(path) {
      var space = path.charAt(0);
      if (SPECIAL_NAMESPACES.indexOf(space) !== -1) {
        path = path.substr(1);
      } else {
        space = "";
      }
      var name = path.substr(0, path.lastIndexOf("."));
      var type = path.substr(path.lastIndexOf("."));
      return {
        "space": space,
        "name": name,
        "type": type
      };
    }
  }]);
}();

/***/ }),

/***/ "./src/engine.js":
/*!***********************!*\
  !*** ./src/engine.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyEngine: () => (/* binding */ BlockPyEngine)
/* harmony export */ });
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server */ "./src/server.js");
/* harmony import */ var _engine_on_run__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./engine/on_run */ "./src/engine/on_run.js");
/* harmony import */ var _engine_run__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./engine/run */ "./src/engine/run.js");
/* harmony import */ var _engine_eval__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./engine/eval */ "./src/engine/eval.js");
/* harmony import */ var _engine_sample__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./engine/sample */ "./src/engine/sample.js");
/* harmony import */ var _engine_on_change__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./engine/on_change */ "./src/engine/on_change.js");
/* harmony import */ var _engine_on_eval__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./engine/on_eval */ "./src/engine/on_eval.js");
/* harmony import */ var _engine_on_sample__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./engine/on_sample */ "./src/engine/on_sample.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }









/**
 * An object for executing Python code and passing the results along to interested components.
 *
 * Interesting components:
 *  Execution Buffer: Responsible for collecting the trace during program execution.
 *                    This prevents Knockoutjs from updating the editor during execution.
 *
 * @constructor
 * @this {BlockPyEditor}
 * @param {Object} main - The main BlockPy instance
 * @param {HTMLElement} tag - The HTML object this is attached to.
 */
var BlockPyEngine = /*#__PURE__*/function () {
  function BlockPyEngine(main) {
    _classCallCheck(this, BlockPyEngine);
    this.main = main;
    this.executionModel = this.main.model.execution;
    this.configurations = {
      run: new _engine_run__WEBPACK_IMPORTED_MODULE_2__.RunConfiguration(main),
      eval: new _engine_eval__WEBPACK_IMPORTED_MODULE_3__.EvalConfiguration(main),
      onRun: new _engine_on_run__WEBPACK_IMPORTED_MODULE_1__.OnRunConfiguration(main),
      onChange: new _engine_on_change__WEBPACK_IMPORTED_MODULE_5__.OnChangeConfiguration(main),
      onEval: new _engine_on_eval__WEBPACK_IMPORTED_MODULE_6__.OnEvalConfiguration(main)
    };

    // Preconfigure skulpt so we can parse
    Sk.configure(this.configurations.run.getSkulptOptions());

    // Keeps track of the tracing while the program is executing
    this.executionBuffer = {};

    /**
     * Definable function to be run when execution has fully ended,
     * whether it succeeds or fails.
     */
    this.onExecutionBegin = null;
    this.onExecutionEnd = null;
  }

  /**
   * Reset reports
   */
  return _createClass(BlockPyEngine, [{
    key: "resetReports",
    value: function resetReports() {
      var report = this.executionModel.reports;
      report["verifier"] = {};
      report["parser"] = {};
      report["student"] = {};
      report["instructor"] = {};
      report["model"] = this.main.model;
    }
  }, {
    key: "resetStudentModel",
    value: function resetStudentModel() {
      var student = this.executionModel.student;
      student.calls = {};
      student.currentStep(null);
      student.currentTraceStep(0);
      student.lastStep(0);
      student.currentLine(null);
      student.currentTraceData.removeAll();
      student.results = null;
      student.tracing = [];
    }
  }, {
    key: "resetExecutionBuffer",
    value: function resetExecutionBuffer() {
      this.executionBuffer = {
        "trace": [],
        "step": 0,
        "line": 0
      };
    }
  }, {
    key: "reset",
    value:
    /**
     * Remove all interface aspects of the previous Run.
     */
    function reset() {
      // TODO: Clear out any coverage/trace/error highlights in editors
      // Reset execution in model
      this.resetStudentModel();
      // Get reports ready
      this.resetReports();
      // Clear out the execution buffer
      this.resetExecutionBuffer();
      // Clear out the console of printed stuff
      this.main.components.console.clear();
      // Clear out any old feedback
      this.main.components.feedback.clear();
    }
  }, {
    key: "delayedRun",
    value: function delayedRun() {
      var disableFeedback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      //this.main.model.status.onExecution(StatusState.ACTIVE);
      //$(".blockpy-run").addClass("blockpy-run-running");
      this.run(disableFeedback);
      //setTimeout(this.run.bind(this), 1);
    }
  }, {
    key: "stop",
    value: function stop() {}
  }, {
    key: "run",
    value: function run() {
      var _this = this;
      var disableFeedback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      this.configuration = this.configurations.run.use(this);
      var execution = this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration));
      if (!this.main.model.assignment.settings.disableFeedback() && !disableFeedback) {
        execution.then(function () {
          _this.configuration.provideSecretError();
          return _this.onRun();
        });
      } else {
        execution.then(this.configuration.showErrors.bind(this.configuration));
      }
      execution.then(this.configuration["finally"].bind(this.configuration));
    }
  }, {
    key: "onRun",
    value: function onRun() {
      this.configuration = this.configurations.onRun.use(this);
      this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration)).then(this.configuration["finally"].bind(this.configuration)).then(this.executionEnd_.bind(this));
    }
  }, {
    key: "evaluate",
    value: function evaluate() {
      var _this2 = this;
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_0__.StatusState.ACTIVE);
      var evaluationInput = this.main.components.console.evaluate();
      console.log(evaluationInput);
      evaluationInput.then(function (userInput) {
        _this2.configuration = _this2.configurations.eval.use(_this2, userInput);
        var execution = _this2.execute().then(_this2.configuration.success.bind(_this2.configuration), _this2.configuration.failure.bind(_this2.configuration));
        if (!_this2.main.model.assignment.settings.disableFeedback() && _this2.main.model.assignment.onEval()) {
          _this2.configuration.provideSecretError();
          execution.then(_this2.onEval.bind(_this2));
        } else {
          execution.then(_this2.configuration.showErrors.bind(_this2.configuration)).then(_this2.evaluate.bind(_this2));
        }
        execution.then(_this2.configuration["finally"].bind(_this2.configuration));
      });
    }
  }, {
    key: "onEval",
    value: function onEval() {
      this.configuration = this.configurations.onEval.use(this);
      this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration)).then(this.evaluate.bind(this)).then(this.configuration["finally"].bind(this.configuration));
    }
  }, {
    key: "onChange",
    value: function onChange() {
      this.configuration = this.configurations.onChange.use(this);
    }
  }, {
    key: "execute",
    value: function execute() {
      var _this3 = this;
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_0__.StatusState.ACTIVE);
      return Sk.misceval.asyncToPromise(function () {
        return Sk.importMainWithBody(_this3.configuration.filename, false, _this3.configuration.code, true, _this3.configuration.sysmodules);
      });
    }

    /**
     * Activated whenever the Python code changes
     */
  }, {
    key: "on_change",
    value: function on_change() {
      var FILENAME = "on_change";
      // Skip if the instructor has not defined anything
      if (!this.main.model.programs[FILENAME]().trim()) {
        return false;
      }
      this.main.model.execution.status("changing");
      this.main.components.server.saveCode();
      // On step does not perform parse analysis by default or run student code
      var engine = this;
      var feedback = this.main.components.feedback;
      engine.resetReports();
      engine.verifyCode();
      engine.updateParse();
      engine.runInstructorCode(FILENAME, true, function (module) {
        if (Sk.executionReports["instructor"]["success"]) {
          // SUCCESS, SCORE, CATEGORY, LABEL, MESSAGE, DATA, HIDE
          // TODO: only show under certain circumstances
          if (!success && !(category === "Instructor" && label === "No errors")) {
            feedback.presentFeedback(category, label, message, line);
          }
          engine.main.components.feedback.presentFeedback(module.$d);
          engine.main.model.execution.status("complete");
        }
      });
      engine.main.components.server.logEvent("engine", "on_change");
    }
  }, {
    key: "executionEnd_",
    value:
    /**
     * Helper function that will attempt to call the defined onExecutionEnd,
     * but will do nothing if there is no function defined.
     */
    function executionEnd_() {
      if (this.onExecutionEnd !== null) {
        this.onExecutionEnd();
      }
    }

    /**
     *
     */
  }, {
    key: "executionBegin_",
    value: function executionBegin_() {
      if (this.onExecutionBegin !== null) {
        this.onExecutionBegin();
      }
    }
  }]);
}();

/***/ }),

/***/ "./src/engine/configurations.js":
/*!**************************************!*\
  !*** ./src/engine/configurations.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Configuration: () => (/* binding */ Configuration),
/* harmony export */   EMPTY_MODULE: () => (/* binding */ EMPTY_MODULE)
/* harmony export */ });
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var EMPTY_MODULE = "let $builtinmodule = function(mod){ return mod; }";

/**
 * A container for holding settings of a particular run configuration.
 * This is the root class for all other configurations.
 */
var Configuration = /*#__PURE__*/function () {
  function Configuration(main) {
    _classCallCheck(this, Configuration);
    this.main = main;
    this.filename = null;
    this.code = null;
    this.sysmodules = undefined;
  }
  return _createClass(Configuration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      // Access point for instructor data
      this.engine = engine;
      Sk.executionReports = this.main.model.execution.reports;
      Sk.console = this.main.components.console;
      Sk.queuedInput = [];
      Sk.configure(this.getSkulptOptions());
      // Set openFile as mechanism to read files
      Sk.inBrowser = this.openFile.bind(this);
      // Function to convert filenames to URLs
      Sk.fileToURL = this.getUrlFromFilename.bind(this);
      // Proxy requests
      Sk.requestsGet = function (url, data, timeout) {
        return _this.openURL(url, data, timeout);
      };
      // Configure a "do you want to wait? prompt"
      Sk.timeoutHandler = function (timePassed, execLimit) {
        console.log("CONSIDERING TIME OUT", timePassed, execLimit, Sk.previousExecLimitChoice, _this);
        if (_this.main.model.assignment.settings.disableTimeout()) {
          return null;
        }
        if (Sk.previousExecLimitChoice === "stop execution") {
          Sk.previousExecLimitChoice = undefined;
          Sk.execLimit = Sk.execLimitBackup;
          return null;
        }
        var promptMessage = _this.getTimeoutPrompt(timePassed / 1000 > 30);
        var defaultValue = Sk.previousExecLimitChoice === undefined ? "stop execution" : Sk.previousExecLimitChoice; //["stop execution", Sk.execLimit/1000];
        console.log(Sk.previousExecLimitChoice, defaultValue);
        // TODO: Make this more intelligent
        var delay = prompt(promptMessage, defaultValue);
        if (delay === "stop execution" || delay === null) {
          if (delay === "stop execution") {
            Sk.previousExecLimitChoice = "stop execution";
            Sk.execLimitBackup = Sk.execLimit;
            Sk.execLimit = 2000;
          }
          return null;
        }
        if (delay !== null || delay == 0) {
          delay = Sk.execLimit + parseInt(delay, 10) * 1000;
          Sk.execLimit = delay;
          Sk.execLimitFunction = function () {
            return _this.main.model.assignment.settings.disableTimeout() ? Infinity : delay;
          };
        }
        return delay;
        // if (this.main.model.assignment.settings.disableTimeout()) {
        //     return null;
        // }
        // let promptMessage = this.getTimeoutPrompt(timePassed/1000 > 30);
        // let delay = prompt(promptMessage, Sk.execLimit/1000);
        // console.log("TIMING UOT", delay, Sk.execLimit);
        // if (delay !== null || delay==0) {
        //     delay = Sk.execLimit + parseInt(delay, 10) * 1000;
        //     Sk.execLimit = delay;
        //     Sk.execLimitFunction = () =>
        //         this.main.model.assignment.settings.disableTimeout() ? Infinity : delay;
        // }
        // console.log("TIMING UOT: FINAL", delay, Sk.execLimit);
        // return delay;
      };
      // Attach beforeCall
      Sk.beforeCall = this.beforeCall.bind(this);
      return this;
    }
  }, {
    key: "getTimeoutPrompt",
    value: function getTimeoutPrompt(longTimeout) {
      if (longTimeout) {
        return "The program has taken a REALLY long time to run (30 or more seconds). You might want to cancel and check your code. Or, you can add more seconds to wait below.";
      } else {
        return "The program is taking a while to run. It might have an infinite loop. Type 'stop execution' to try and completely stop the execution. Press Cancel to stop the execution of just your code (will not interrupt instructor grading scripts); or enter a number to wait for that many additional seconds for your code to terminate.";
      }
    }
  }, {
    key: "getSkulptOptions",
    value: function getSkulptOptions() {
      return {
        __future__: Sk.python3,
        // import
        read: this.importFile.bind(this),
        // open
        //fileopen: this.openFile.bind(this),
        // file.write
        filewrite: this.writeFile.bind(this),
        // print
        output: this.print.bind(this),
        // input
        inputfun: this.input.bind(this),
        inputfunTakesPrompt: true,
        // Media Image Proxy URL
        imageProxy: this.getImageProxy.bind(this),
        // TODO: Make this set by the system so we can use our own servers in practice
        emojiProxy: function emojiProxy(part) {
          return "https://twemoji.maxcdn.com/v/13.1.0/svg/".concat(part.toLowerCase(), ".svg");
        },
        // Whether or not to keep the globals
        retainGlobals: true
      };
    }
  }, {
    key: "getUrlFromFilename",
    value: function getUrlFromFilename(filename) {
      var found = this.main.components.fileSystem.filesToUrls[filename];
      if (found === undefined) {
        throw new Sk.builtin.OSError("File not found: " + filename);
      }
      return found;
    }

    /**
     * Used to access Skulpt built-ins. This is pretty generic, taken
     * almost directly from the Skulpt docs.
     *
     * @param {String} filename - The python filename (e.g., "os" or "pprint") that will be loaded.
     * @returns {String} The JavaScript source code of the file (weird, right?)
     * @throws Will throw an error if the file isn't found.
     */
  }, {
    key: "importFile",
    value: function importFile(filename) {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "openURL",
    value: function openURL(url, data, timeout) {
      //return new Promise((resolve, reject) => {
      var mockUrlData = this.main.components.fileSystem.getFile("?mock_urls.blockpy");
      if (mockUrlData == null) {
        throw new Sk.builtin.IOError("Cannot access url: URL Data was not made available for this assignment");
      }
      mockUrlData = JSON.parse(mockUrlData.handle());
      for (var filename in mockUrlData) {
        if (mockUrlData.hasOwnProperty(filename)) {
          for (var i = 0; i < mockUrlData[filename].length; i += 1) {
            if (mockUrlData[filename][i] === url) {
              var fileData = this.main.components.fileSystem.readFile(filename);
              return fileData;
            }
          }
        }
      }
      //reject(new Sk.builtin.IOError("Cannot access url: "+url+" was not made available for this assignment"));
      throw new Sk.builtin.IOError("Cannot access url: " + url + " was not made available for this assignment");
      //});
    }
  }, {
    key: "openFile",
    value: function openFile() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "writeFile",
    value: function writeFile() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "print",
    value: function print(value) {
      this.main.components.console.print(value);
    }
  }, {
    key: "input",
    value: function input() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "clearInput",
    value: function clearInput() {
      if (this.main.model.display.clearInputs()) {
        this.main.model.execution.input([]);
      }
      this.main.model.execution.inputIndex(0);
    }
  }, {
    key: "getImageProxy",
    value: function getImageProxy(url) {
      // TODO
      return url;
    }
  }, {
    key: "step",
    value: function step() {}
  }, {
    key: "lastStep",
    value: function lastStep() {}
  }, {
    key: "isForbidden",
    value: function isForbidden(filename) {
      return false;
    }
  }, {
    key: "success",
    value: function success(module) {
      throw new Error("Abstract success execution");
    }
  }, {
    key: "failure",
    value: function failure(error) {
      throw new Error("Abstract failure execution");
    }
  }, {
    key: "finally",
    value: function _finally(result) {
      // Force Pygame to stop trapping keyboard events
      if (this.main.components.console.pygameLine) {
        this.main.components.console.pygameLine.cleanup();
        this.main.components.console.pygameLine.stop();
      }
    }
  }, {
    key: "dummyOutSandbox",
    value: function dummyOutSandbox() {
      //Sk.builtinFiles.files["src/lib/pedal/sandbox/sandbox.py"] = "class Sandbox: pass\ndef run(): pass\ndef reset(): pass\n";
    }
  }, {
    key: "beforeCall",
    value: function beforeCall(functionName, posargs, kwargs) {
      //console.log("TRACKING CALL", functionName, posargs, kwargs);
      // TODO: Handle fastcall too? Check how that works in Skulpt side
      var studentModel = this.main.model.execution.reports.student;
      if (!("calls" in studentModel)) {
        studentModel.calls = {};
      }
      if (!(functionName in studentModel.calls)) {
        studentModel.calls[functionName] = [];
      }
      var args = {};
      // Get actual parameter names!!
      for (var i = 0; i < posargs.length; i += 1) {
        args["__ARG" + i] = posargs[i];
      }
      if (kwargs && kwargs[0] != null) {
        args["__ARGS"] = kwargs[0];
      }
      if (kwargs && kwargs[1] != null) {
        args["__KWARGS"] = kwargs[1];
      }
      //console.log(args);
      studentModel.calls[functionName].push(args);
    }
  }], [{
    key: "inputMockFunction",
    value: function inputMockFunction() {
      if (Sk.queuedInput.length) {
        return Sk.queuedInput.pop();
      } else {
        return "";
      }
    }
  }]);
}();

/***/ }),

/***/ "./src/engine/eval.js":
/*!****************************!*\
  !*** ./src/engine/eval.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EvalConfiguration: () => (/* binding */ EvalConfiguration)
/* harmony export */ });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _trace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../trace */ "./src/trace.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }



var EvalConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  function EvalConfiguration() {
    _classCallCheck(this, EvalConfiguration);
    return _callSuper(this, EvalConfiguration, arguments);
  }
  _inherits(EvalConfiguration, _StudentConfiguration);
  return _createClass(EvalConfiguration, [{
    key: "use",
    value: function use(engine, code) {
      // TODO: fix to be currently added line
      this.main.model.execution.feedback.message("Running...");
      this.filename = "answer";
      this.code = "_ = " + code;
      Sk.afterSingleExecution = null;
      Sk.beforeCall = null;
      _superPropGet(EvalConfiguration, "use", this, 3)([engine]);
      Sk.retainGlobals = true;
      Sk.globals = this.main.model.execution.student.globals();
      this.main.components.server.logEvent("X-File.Add", "", "", code, "evaluations");
      this.main.components.server.logEvent("Compile", "", "", this.code, "evaluations");
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      var _this = this;
      console.log("Eval success");
      this.main.components.server.logEvent("X-Evaluate.Program", "", "", "", "evaluations");
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      this.main.model.execution.student.globals(Sk.globals);
      Sk.globals = {};
      var report = this.main.model.execution.reports;
      var filename = this.filename;
      this.main.model.execution.student.results = module;
      this.main.components.console.printValue(Sk.ffi.remapToJs(module.$d._.$r()));
      return new Promise(function (resolve, reject) {
        //this.step(module.$d, module.$d,-1, 0, filename + ".py");
        _this.lastStep();
        report["student"] = {
          "success": true,
          "trace": _this.engine.executionBuffer.trace,
          "lines": _this.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "results": module,
          "output": _this.main.model.execution.output,
          "evaluation": _this.code,
          "calls": _this.main.model.execution.student.calls,
          "tracing": []
        };
        resolve();
      });
    }
  }, {
    key: "failure",
    value: function failure(error) {
      var _this2 = this;
      console.log("Eval failure", error);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
      var report = this.main.model.execution.reports;
      this.main.components.server.logEvent("Compile.Error", "", "", error.toString(), "evaluations");
      return new Promise(function (resolve, reject) {
        report["student"] = {
          "success": false,
          "error": error,
          "evaluation": _this2.code,
          "tracing": []
        };
        resolve();
      });
    }
  }]);
}(_student__WEBPACK_IMPORTED_MODULE_0__.StudentConfiguration);

/***/ }),

/***/ "./src/engine/instructor.js":
/*!**********************************!*\
  !*** ./src/engine/instructor.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstructorConfiguration: () => (/* binding */ InstructorConfiguration)
/* harmony export */ });
/* harmony import */ var _configurations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configurations.js */ "./src/engine/configurations.js");
/* harmony import */ var _skulpt_modules_sk_mod_instructor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../skulpt_modules/sk_mod_instructor */ "./src/skulpt_modules/sk_mod_instructor.js");
/* harmony import */ var _skulpt_modules_coverage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../skulpt_modules/coverage */ "./src/skulpt_modules/coverage.js");
/* harmony import */ var _skulpt_modules_pedal_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../skulpt_modules/pedal_tracer */ "./src/skulpt_modules/pedal_tracer.js");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../files */ "./src/files.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }





var UTILITY_MODULE_CODE = "var $builtinmodule = " + _skulpt_modules_sk_mod_instructor__WEBPACK_IMPORTED_MODULE_1__.$sk_mod_instructor.toString();
var COVERAGE_MODULE_CODE = _skulpt_modules_coverage__WEBPACK_IMPORTED_MODULE_2__.$sk_mod_coverage;
var InstructorConfiguration = /*#__PURE__*/function (_Configuration) {
  function InstructorConfiguration() {
    _classCallCheck(this, InstructorConfiguration);
    return _callSuper(this, InstructorConfiguration, arguments);
  }
  _inherits(InstructorConfiguration, _Configuration);
  return _createClass(InstructorConfiguration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      _superPropGet(InstructorConfiguration, "use", this, 3)([engine]);
      // Instructors get 4 seconds
      Sk.execLimitFunction = function () {
        return _this.main.model.assignment.settings.disableTimeout() ? Infinity : 7000;
      };
      Sk.execLimit = Sk.execLimitFunction();
      // Stepper! Executed after every statement.
      Sk.afterSingleExecution = null; // 10 *1000
      // Mute everything
      this.main.model.display.mutePrinter(true);
      // Capture any additional stdout to a buffer
      this.main.model.execution.instructor.stdout.removeAll();
      // Disable input box
      Sk.queuedInput = [];
      // TODO Sk.inputfun = BlockPyEngine.inputMockFunction;
      // TODO: Allow input function to disable the timer, somehow
      // Disable the beforeCall checker unless specifically requested
      Sk.beforeCallBackup = Sk.beforeCall;
      Sk.beforeCall = null;
      // Enable utility mode
      Sk.builtinFiles.files["src/lib/utility/__init__.js"] = UTILITY_MODULE_CODE;
      Sk.builtinFiles.files["src/lib/coverage.py"] = COVERAGE_MODULE_CODE;
      // TODO: Check if this needs to be optimized
      //const PEDAL_TRACER_MODULE_CODE = Sk.compile($pedal_tracer, "tracer.py", "exec", true, false);
      Sk.builtinFiles.files["src/lib/pedal/sandbox/tracer.py"] = _skulpt_modules_pedal_tracer__WEBPACK_IMPORTED_MODULE_3__.$pedal_tracer;
      delete Sk.builtinFiles.files["src/lib/pedal/sandbox/tracer.js"];
      // TODO: Mock Pedal's tracer module with the appropriate version
      Sk.builtinFiles.files["./_instructor/__init__.js"] = _configurations_js__WEBPACK_IMPORTED_MODULE_0__.EMPTY_MODULE;
      // Reuse any existing sysmodules that we previously found, but not __main__ modules
      this.sysmodules = this.clearExistingStudentImports();
      // Horrific hack, to prevent Tifa from caching a bad version of the students' import
      Sk.clearExistingStudentImports = this.clearExistingStudentImports;
      return this;
    }
  }, {
    key: "print",
    value: function print(value) {
      _superPropGet(InstructorConfiguration, "print", this, 3)([value]);
      console.info("Printed:", value);
      this.main.model.execution.instructor.stdout.push(value);
    }
  }, {
    key: "clearExistingStudentImports",
    value: function clearExistingStudentImports() {
      var sysmodules = this.main.model.execution.instructor.sysmodules;
      // Remove any existing __main__ modules
      if (sysmodules !== undefined) {
        var _iterator = _createForOfIteratorHelper(this.getAllFilenames()),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var filename = _step.value;
            var skFilename = new Sk.builtin.str(filename);
            /*if (sysmodules.quick$lookup(skFilename)) {
                sysmodules.pop$item(skFilename);
            }*/
            sysmodules.pop$item(skFilename);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      return sysmodules;
    }
  }, {
    key: "getAllStudentFiles",
    value: function getAllStudentFiles() {
      var files = {
        "answer.py": this.main.model.ui.files.getStudentCode()
      };
      // Skip special instructor files
      this.main.model.assignment.extraInstructorFiles().forEach(function (file) {
        if (!"!^$#".includes(file.filename()[0])) {
          files[(0,_files__WEBPACK_IMPORTED_MODULE_4__.chompSpecialFile)(file.filename())] = file.contents();
        }
      });
      // Include normal student extra files
      this.main.model.submission.extraFiles().forEach(function (file) {
        files[file.filename()] = file.contents();
      });
      return files;
    }
  }, {
    key: "getAllFilenames",
    value: function getAllFilenames() {
      function clean(filename) {
        filename = (0,_files__WEBPACK_IMPORTED_MODULE_4__.chompSpecialFile)(filename);
        if (filename.endsWith(".py")) {
          filename = filename.slice(0, -3);
        }
        return filename;
      }
      return ["__main__", "_instructor"].concat(_toConsumableArray(this.main.model.assignment.extraInstructorFiles().map(function (file) {
        return "_instructor." + clean(file.filename());
      })), _toConsumableArray(this.main.model.submission.extraFiles().map(function (file) {
        return clean(file.filename());
      })));
    }
  }, {
    key: "getTimeoutPrompt",
    value: function getTimeoutPrompt(longTimeout) {
      if (longTimeout) {
        return "The instructor code has taken a REALLY long time to check your code (30 or more seconds). You might want to cancel and check your code (or get help from an instructor). Or, you can add more seconds to wait below.";
      } else {
        return "The instructor code is taking a little while to check your code; it might just need a little more time. How many more seconds would you like to wait? Use Cancel to abort entirely (or type 'stop execution').";
      }
    }
  }, {
    key: "openFile",
    value: function openFile(filename) {
      var found = this.main.components.fileSystem.searchForFile(filename, false);
      if (found === undefined) {
        throw new Sk.builtin.OSError("File not found: " + filename);
      } else {
        return found.contents();
      }
    }
  }, {
    key: "openURL",
    value: function openURL(url, data, timeout) {
      console.log(this, url, data, timeout);
      // TODO: Figure out why parameters are misaligned..?
      if (data.v === "OPENAI") {
        return this.main.components.server.openaiProxy(data, timeout && timeout.v);
      } else {
        return _superPropGet(InstructorConfiguration, "openURL", this, 3)([url, data, timeout]);
      }
    }
  }, {
    key: "importFile",
    value: function importFile(filename) {
      if (filename === "./answer.py") {
        return this.main.model.submission.code();
      } else if (filename === "./_instructor/on_run.py") {
        return this.main.model.assignment.onRun();
      } else if (filename === "./_instructor/on_eval.py") {
        return this.main.model.assignment.onEval() || "";
      } else if (filename === "./_instructor/__init__.js") {
        return _configurations_js__WEBPACK_IMPORTED_MODULE_0__.EMPTY_MODULE;
      } else if (Sk.builtinFiles === undefined) {
        throw new Sk.builtin.OSError("Built-in modules not accessible.");
      } else if (Sk.builtinFiles["files"][filename] !== undefined) {
        return Sk.builtinFiles["files"][filename];
      } else {
        var found = this.main.components.fileSystem.searchForFile(filename, false);
        if (found === undefined) {
          throw new Sk.builtin.OSError("File not found: '" + filename + "'");
        } else {
          return found.contents();
        }
      }
    }
  }, {
    key: "input",
    value: function input(promptMessage) {
      //return "ApplePie";
      console.log(">>>", this.main.model.execution.input(), this.main.model.execution.inputIndex());
      if (this.main.model.execution.inputIndex() < this.main.model.execution.input().length) {
        var inputIndex = this.main.model.execution.inputIndex();
        var nextInput = this.main.model.execution.input()[inputIndex];
        this.main.model.execution.inputIndex(inputIndex + 1);
        return nextInput;
      } else {
        return "ApplePie";
      }
      /*return new Promise((resolve) => {
          resolve(Sk.queuedInput.pop());
      });*/
    }
  }, {
    key: "beforeCall",
    value: function beforeCall(functionName, posargs, kwargs) {
      var studentModel = this.main.model.execution.reports.student;
      //console.log("HEY INSTRUCTOR CALL", functionName, studentModel.tracing);
      if (studentModel.tracing && studentModel.tracing.length) {
        _superPropGet(InstructorConfiguration, "beforeCall", this, 3)([functionName, posargs, kwargs]);
      }
    }
  }]);
}(_configurations_js__WEBPACK_IMPORTED_MODULE_0__.Configuration);

/***/ }),

/***/ "./src/engine/on_change.js":
/*!*********************************!*\
  !*** ./src/engine/on_change.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnChangeConfiguration: () => (/* binding */ OnChangeConfiguration)
/* harmony export */ });
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var OnChangeConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  function OnChangeConfiguration() {
    _classCallCheck(this, OnChangeConfiguration);
    return _callSuper(this, OnChangeConfiguration, arguments);
  }
  _inherits(OnChangeConfiguration, _InstructorConfigurat);
  return _createClass(OnChangeConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(OnChangeConfiguration, "use", this, 3)([engine]);
      this.filename = "on_change.py";
      this.code = this.main.model.assignment.onChange();
      clearTimeout(this.main.model.display.triggerOnChange);
      return this;
    }
  }]);
}(_instructor__WEBPACK_IMPORTED_MODULE_0__.InstructorConfiguration);

/***/ }),

/***/ "./src/engine/on_eval.js":
/*!*******************************!*\
  !*** ./src/engine/on_eval.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnEvalConfiguration: () => (/* binding */ OnEvalConfiguration),
/* harmony export */   WRAP_INSTRUCTOR_CODE: () => (/* binding */ WRAP_INSTRUCTOR_CODE)
/* harmony export */ });
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _on_run__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./on_run */ "./src/engine/on_run.js");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities */ "./src/utilities.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }





/**
 * @return {string}
 */
var WRAP_INSTRUCTOR_CODE = function WRAP_INSTRUCTOR_CODE(studentCode, instructorCode, quick, isSafe) {
  var safeCode = JSON.stringify(studentCode);
  return "\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\n# Backup the feedback\non_run_feedback = []\nfor feedback in MAIN_REPORT.feedback:\n    on_run_feedback.append(feedback)\nMAIN_REPORT.feedback.clear()\n\nfrom pedal.environments.blockpy import setup_environment\n# Add in evaluated stuff from last time\nstudent = get_sandbox()\n# TODO: What about new inputs since we last ran/evaled?\n# MAIN_REPORT.submission.files['evaluation'] = ".concat(safeCode, "\nevaluate(").concat(safeCode, "['evaluation'])\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n").concat(_on_run__WEBPACK_IMPORTED_MODULE_2__.INSTRUCTOR_MARKER, "\n").concat(instructorCode, "\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        \"title\": positive.title,\n        \"label\": positive.label,\n        \"message\": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == 'log':\n        console_log(system.title, system.message);\n    if system.label == 'debug':\n        console_debug(system.title, system.message);\n\n");
};
var OnEvalConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  function OnEvalConfiguration() {
    _classCallCheck(this, OnEvalConfiguration);
    return _callSuper(this, OnEvalConfiguration, arguments);
  }
  _inherits(OnEvalConfiguration, _InstructorConfigurat);
  return _createClass(OnEvalConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(OnEvalConfiguration, "use", this, 3)([engine]);
      this.filename = "_instructor.on_eval";
      this.code = this.main.model.assignment.onEval() || "";
      var disableTifa = this.main.model.assignment.settings.disableTifa();
      var report = this.main.model.execution.reports;
      //let studentCodeSafe = this.main.model.execution.reports.student.evaluation || "None";
      var studentFiles = this.getAllStudentFiles();
      studentFiles["evaluation"] = this.main.model.execution.reports.student.evaluation || "None";
      this.dummyOutSandbox();
      var instructorCode = this.code;
      var isSafe = !report["parser"].empty && report["verifier"].success;
      instructorCode = WRAP_INSTRUCTOR_CODE(studentFiles, instructorCode, disableTifa, isSafe);
      console.log(">>>", instructorCode);
      var lineOffset = (0,_on_run__WEBPACK_IMPORTED_MODULE_2__.findActualInstructorOffset)(instructorCode); //instructorCode.split(NEW_LINE_REGEX).length;
      report["instructor"] = {
        "compliments": [],
        "filename": "./_instructor/on_eval.py",
        "code": instructorCode,
        "lineOffset": lineOffset
        //'complete': false // Actually, let's use undefined for now.
      };
      this.code = instructorCode;
      _superPropGet(OnEvalConfiguration, "use", this, 3)([engine]);

      //Sk.retainGlobals = false;
      Sk.globals = this.main.model.execution.instructor.globals;
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      console.log("OnEval success");
      // TODO: Actually parse results
      this.main.model.execution.instructor.globals = Sk.globals;
      this.main.model.execution.instructor.sysmodules = Sk.sysmodules;
      console.log(module);
      var results = module.$d.on_eval.$d;
      console.log(module.$d);
      this.main.components.feedback.presentFeedback(results);
      this.main.model.execution.reports["instructor"]["success"] = true;
      var success = Sk.ffi.remapToJs(results.SUCCESS);
      this.main.model.submission.correct(success || this.main.model.submission.correct());
      // Cannot exceed 1 point, cannot go below 0 points
      var score = Sk.ffi.remapToJs(results.SCORE);
      score = Math.max(0.0, Math.min(1.0, score));
      var oldScore = this.main.model.submission.score();
      this.main.model.submission.score(Math.max(oldScore, score));
      // Hide status
      var hide = Sk.ffi.remapToJs(results.HIDE);
      // And fire the result!
      this.main.components.server.updateSubmission(score, success, hide, false);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      //after(module);

      /*if (success && this.main.model.configuration.callbacks.success) {
          this.main.model.configuration.callbacks.success(this.main.model.assignment.id());
      }*/

      if (!Sk.executionReports.instructor.scrolling) {
        try {
          this.main.components.console.scrollToBottom();
        } catch (e) {}
      }
    }
  }, {
    key: "failure",
    value: function failure(error) {
      console.log("OnEval failure", error);
      var report = this.main.model.execution.reports;
      if (error.tp$name === "GracefulExit") {
        report["instructor"]["success"] = true;
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      } else {
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
        //console.log(report["instructor"]["code"]);
        this.main.components.feedback.presentInternalError(error, this.filename);
        //report["instructor"]["success"] = false;
        //report["instructor"]["error"] = error;
        //TODO: report["instructor"]["line_offset"] = lineOffset;
      }
      //TODO: after(error);
    }
  }]);
}(_instructor__WEBPACK_IMPORTED_MODULE_0__.InstructorConfiguration);

/***/ }),

/***/ "./src/engine/on_run.js":
/*!******************************!*\
  !*** ./src/engine/on_run.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INSTRUCTOR_MARKER: () => (/* binding */ INSTRUCTOR_MARKER),
/* harmony export */   NEW_LINE_REGEX: () => (/* binding */ NEW_LINE_REGEX),
/* harmony export */   OnRunConfiguration: () => (/* binding */ OnRunConfiguration),
/* harmony export */   WRAP_INSTRUCTOR_CODE: () => (/* binding */ WRAP_INSTRUCTOR_CODE),
/* harmony export */   findActualInstructorOffset: () => (/* binding */ findActualInstructorOffset)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ "./src/utilities.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
/* harmony import */ var _pools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pools */ "./src/pools.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }




function findActualInstructorOffset(instructorCode) {
  var index = instructorCode.indexOf(INSTRUCTOR_MARKER);
  var before = instructorCode.slice(0, index);
  var match = before.match(NEW_LINE_REGEX);
  return match ? 1 + match.length : 0;
}
var INSTRUCTOR_MARKER = "###Run the actual instructor code###";
var NEW_LINE_REGEX = /\n/g;
/**
 * @return {string}
 */
var WRAP_INSTRUCTOR_CODE = function WRAP_INSTRUCTOR_CODE(studentFiles, instructorCode, quick, isSafe) {
  var safeCode = JSON.stringify(studentFiles);
  var skip_tifa = quick ? "True" : "False";

  // TODO: Add in Sk.queuedInput to be passed in

  return "\n# Support our sysmodules hack by clearing out any lingering old data\nfrom pedal.core.report import MAIN_REPORT\nMAIN_REPORT.clear()\n\nfrom bakery import student_tests\nstudent_tests.reset()\n\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\nfrom pedal.environments.blockpy import setup_environment\n# Do we execute student's code?\nskip_run = get_model_info('assignment.settings.disableInstructorRun')\ninputs = None if skip_run else get_model_info('execution.input')\n\n# Set the seed to the submission ID by default?\nfrom pedal.questions import set_seed\nset_seed(str(get_model_info(\"submission.id\")))\n\n# Initialize the BlockPy environment\npedal = setup_environment(skip_tifa=".concat(skip_tifa, ",\n                          skip_run=skip_run,\n                          inputs=inputs,\n                          main_file='answer.py',\n                          files=").concat(safeCode, ")\nstudent = pedal.fields['student']\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n").concat(INSTRUCTOR_MARKER, "\n").concat(instructorCode, "\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        \"title\": positive.title,\n        \"label\": positive.label,\n        \"message\": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == 'log':\n        console_log(system.title, system.message);\n    if system.label == 'debug':\n        console_debug(system.title, system.message);\n\n");
};
var OnRunConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  function OnRunConfiguration() {
    _classCallCheck(this, OnRunConfiguration);
    return _callSuper(this, OnRunConfiguration, arguments);
  }
  _inherits(OnRunConfiguration, _InstructorConfigurat);
  return _createClass(OnRunConfiguration, [{
    key: "getCurrentOnRun",
    value: function getCurrentOnRun() {
      var raw = this.main.model.assignment.onRun();
      if (this.main.model.assignment.settings.instructionsPool()) {
        return (0,_pools__WEBPACK_IMPORTED_MODULE_3__.extractFromPool)(raw, _pools__WEBPACK_IMPORTED_MODULE_3__.POOL_SEPARATORS.TESTS, this.main.model.ui.menu.currentSeed());
      } else {
        return raw;
      }
    }
  }, {
    key: "use",
    value: function use(engine) {
      _superPropGet(OnRunConfiguration, "use", this, 3)([engine]);
      this.filename = "_instructor.on_run";
      this.code = this.getCurrentOnRun();
      console.log(this.code);
      var disableTifa = this.main.model.assignment.settings.disableTifa();
      // Put the input index back to the front, so we can replay inputs
      this.main.model.execution.inputIndex(1);
      var report = this.main.model.execution.reports;
      //let studentCodeSafe = this.main.model.submission.code();
      var studentFiles = this.getAllStudentFiles();
      this.dummyOutSandbox();
      var instructorCode = this.code;
      var isSafe = !report["parser"].empty && report["verifier"].success;
      instructorCode = WRAP_INSTRUCTOR_CODE(studentFiles, instructorCode, disableTifa, isSafe);
      var lineOffset = findActualInstructorOffset(instructorCode); //instructorCode.split(NEW_LINE_REGEX).length;
      //lineOffset = 0; //instructorCode.split(NEW_LINE_REGEX).length - lineOffset - 4;
      report["instructor"] = {
        "compliments": [],
        "filename": "./_instructor/on_run.py",
        "code": instructorCode,
        "lineOffset": lineOffset
        //'complete': false // Actually, let's use undefined for now.
      };
      /*
      TODO: Interesting situation. If you have an instructor-file (not a student-file),
      then it gets imported into sysmodules as `_instructor.MODULE_NAME`. But the instructor
      script will attempt to import it as `MODULE_NAME`, and fail. UNLESS the *student* has
      previously imported that module successfully. So there's a common case here where the
      students' code fails to import the module THEREBY breaking the instructor code.
       */

      this.code = instructorCode;
      Sk.retainGlobals = false;
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      // TODO Logging!!!!
      //console.log("OnRun success");
      // TODO: Actually parse results
      this.main.model.execution.instructor.globals = Sk.globals;
      this.main.model.execution.instructor.sysmodules = Sk.sysmodules;
      Sk.globals = {};
      var results = module.$d.on_run.$d;
      this.main.components.feedback.presentFeedback(results);
      this.main.model.execution.reports["instructor"]["success"] = true;
      var success = Sk.ffi.remapToJs(results.SUCCESS);
      this.main.model.submission.correct(success || this.main.model.submission.correct());
      // Cannot exceed 1 point, cannot go below 0 points
      var score = Sk.ffi.remapToJs(results.SCORE);
      score = Math.max(0, Math.min(1, score));
      var oldScore = this.main.model.submission.score();
      score = Math.max(oldScore, score);
      this.main.model.submission.score(score);
      // Hide status
      var hide = Sk.ffi.remapToJs(results.HIDE);
      // And fire the result!
      this.main.components.server.updateSubmission(score, success, hide, false);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      //after(module);

      /*if (success && this.main.model.configuration.callbacks.success) {
          this.main.model.configuration.callbacks.success(this.main.model.assignment.id());
      }*/

      if (!Sk.executionReports.instructor.scrolling) {
        try {
          this.main.components.console.scrollToBottom();
        } catch (e) {}
      }
    }
  }, {
    key: "failure",
    value: function failure(error) {
      console.error("OnRun failure", error);
      var report = this.main.model.execution.reports;
      if (error.tp$name === "GracefulExit") {
        report["instructor"]["success"] = true;
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      } else {
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
        //console.log(report["instructor"]["code"]);
        this.main.components.feedback.presentInternalError(error, this.filename);
        //report["instructor"]["success"] = false;
        //report["instructor"]["error"] = error;
        //TODO: report["instructor"]["line_offset"] = lineOffset;
      }
      //TODO: after(error);
    }
  }]);
}(_instructor__WEBPACK_IMPORTED_MODULE_2__.InstructorConfiguration);

/*
# The following is the old instructor code, leaving it here for now.

from pedal.core.report import MAIN_REPORT
# Support our sysmodules hack by clearing out any lingering old data
MAIN_REPORT.clear()
from pedal.core.commands import contextualize_report
contextualize_report(${safeCode}, "answer.py")
${tifaAnalysis}
from pedal.sandbox.sandbox import Sandbox
from pedal.sandbox import compatibility
from utility import *
student = MAIN_REPORT['sandbox']['run'] = Sandbox()
student.report_exceptions_mode = True
log(get_model_info('execution.input'))
student.set_input(get_model_info('execution.input'))
if not get_model_info('assignment.settings.disableInstructorRun'):
    compatibility.run_student(raise_exceptions=False)
#log(student.data)
#student = get_student_data()
#error, position = get_student_error()
#compatibility.raise_exception(error, position)
run_student = compatibility.run_student
reset_output = compatibility.reset_output
queue_input = compatibility.queue_input
get_output = compatibility.get_output
get_plots = compatibility.get_plots
compatibility.trace_lines = trace_lines
from pedal import questions
questions.show_question = set_instructions
# TODO: Remove the need for this hack!
def capture_output(func, *args):
   reset_output()
   student.call(func.__name__, *args)
   return get_output()
compatibility.capture_output = capture_output

from pedal.cait.cait_api import parse_program
${instructorCode}
from pedal.resolvers import simple
final = simple.resolve()
SUCCESS = final.success
SCORE = final.score
CATEGORY = final.category
LABEL = final.title
MESSAGE = final.message
DATA = final.data
HIDE = final.hide_correctness

 */

/***/ }),

/***/ "./src/engine/on_sample.js":
/*!*********************************!*\
  !*** ./src/engine/on_sample.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnSampleConfiguration: () => (/* binding */ OnSampleConfiguration)
/* harmony export */ });
/* harmony import */ var _on_run__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./on_run */ "./src/engine/on_run.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var OnSampleConfiguration = /*#__PURE__*/function (_OnRunConfiguration) {
  function OnSampleConfiguration() {
    _classCallCheck(this, OnSampleConfiguration);
    return _callSuper(this, OnSampleConfiguration, arguments);
  }
  _inherits(OnSampleConfiguration, _OnRunConfiguration);
  return _createClass(OnSampleConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(OnSampleConfiguration, "use", this, 3)([engine]);
      this.filename = "on_run.py";
      this.code = this.main.model.assignment.onRun();
      return this;
    }
  }]);
}(_on_run__WEBPACK_IMPORTED_MODULE_0__.OnRunConfiguration);

/***/ }),

/***/ "./src/engine/run.js":
/*!***************************!*\
  !*** ./src/engine/run.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RunConfiguration: () => (/* binding */ RunConfiguration)
/* harmony export */ });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var RunConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  function RunConfiguration() {
    _classCallCheck(this, RunConfiguration);
    return _callSuper(this, RunConfiguration, arguments);
  }
  _inherits(RunConfiguration, _StudentConfiguration);
  return _createClass(RunConfiguration, [{
    key: "use",
    value: function use(engine) {
      this.main.model.execution.feedback.message("Running...");
      this.filename = "answer";
      this.code = this.main.model.ui.files.getStudentCode();
      if (this.main.model.assignment.settings.disableStudentRun()) {
        this.code = "";
      }
      //this.code = this.main.model.submission.code();
      this.main.components.server.saveFile("answer.py", this.main.model.submission.code(), null);
      this.main.components.server.logEvent("Compile", "", "", "", "answer.py");
      //console.log(this.code);
      _superPropGet(RunConfiguration, "use", this, 3)([engine]);
      engine.reset();
      this.updateParse();
      this.main.model.execution.reports["verifier"] = {
        "success": Boolean(this.code.trim()),
        "code": this.code
      };
      if (typeof Sk.environ == "undefined") {
        Sk.environ = new Sk.builtin.dict();
      }
      var printerTag = this.main.components.console.printerTag,
        width = printerTag.width() - 50,
        height = Math.max(300, printerTag.height() - 50);
      Sk.environ.set$item(new Sk.builtin.str("DESIGNER_WINDOW_WIDTH"), new Sk.builtin.int_(Math.round(width)));
      Sk.environ.set$item(new Sk.builtin.str("DESIGNER_WINDOW_HEIGHT"), new Sk.builtin.int_(Math.round(height)));
      Sk.retainGlobals = false;
      this.clearInput();
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      var _this = this;
      console.log("Run success");
      var message = {
        "inputs": this.main.model.execution.input().join("\n"),
        "outputs": this.main.model.execution.output().map(function (line) {
          return line.content;
        }).join("\n")
      };
      this.main.components.server.logEvent("Run.Program", "", "", JSON.stringify(message), "answer.py");
      this.main.model.display.dirtySubmission(false);
      this.main.components.console.finishTurtles();
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      this.main.model.execution.student.globals(Sk.globals);
      Sk.globals = {};
      var report = this.main.model.execution.reports;
      var filename = this.filename;
      this.main.model.execution.student.results = module;
      if (!this.main.model.assignment.settings.hideEvaluate()) {
        this.main.components.console.beginEval();
      }
      return new Promise(function (resolve, reject) {
        _this.step(module.$d, module.$d, -1, 0, filename + ".py");
        _this.lastStep();
        report["student"] = {
          "success": true,
          "trace": _this.engine.executionBuffer.trace,
          "lines": _this.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "results": module,
          "output": _this.main.model.execution.output,
          "input": _this.main.model.execution.input,
          "calls": _this.main.model.execution.student.calls,
          "tracing": []
        };
        resolve();
      });
    }
  }, {
    key: "failure",
    value: function failure(error) {
      var _this2 = this;
      console.error("Run failure", error);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
      var report = this.main.model.execution.reports;
      if (report.parser.success && report.verifier.success) {
        this.main.components.server.logEvent("Run.Program", "ProgramErrorOutput", "", error.toString(), "answer.py");
      } else {
        this.main.components.server.logEvent("Compile.Error", "", "", error.toString(), "answer.py");
      }
      this.lastStep();
      return new Promise(function (resolve, reject) {
        report["student"] = {
          "success": false,
          "error": error,
          "trace": _this2.engine.executionBuffer.trace,
          "lines": _this2.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this2.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "input": _this2.main.model.execution.input,
          "calls": _this2.main.model.execution.student.calls,
          "tracing": []
        };
        resolve();
      });
    }
  }]);
}(_student__WEBPACK_IMPORTED_MODULE_0__.StudentConfiguration);

/***/ }),

/***/ "./src/engine/sample.js":
/*!******************************!*\
  !*** ./src/engine/sample.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SampleConfiguration: () => (/* binding */ SampleConfiguration)
/* harmony export */ });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var SampleConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  function SampleConfiguration() {
    _classCallCheck(this, SampleConfiguration);
    return _callSuper(this, SampleConfiguration, arguments);
  }
  _inherits(SampleConfiguration, _StudentConfiguration);
  return _createClass(SampleConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(SampleConfiguration, "use", this, 3)([engine]);
      // TODO: Fix to be the current sample submission
      this.filename = "answer.py";
      this.code = "print('Not ready yet!')";
      return this;
    }
  }]);
}(_student__WEBPACK_IMPORTED_MODULE_0__.StudentConfiguration);

/***/ }),

/***/ "./src/engine/student.js":
/*!*******************************!*\
  !*** ./src/engine/student.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StudentConfiguration: () => (/* binding */ StudentConfiguration)
/* harmony export */ });
/* harmony import */ var _configurations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configurations */ "./src/engine/configurations.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var StudentConfiguration = /*#__PURE__*/function (_Configuration) {
  function StudentConfiguration() {
    _classCallCheck(this, StudentConfiguration);
    return _callSuper(this, StudentConfiguration, arguments);
  }
  _inherits(StudentConfiguration, _Configuration);
  return _createClass(StudentConfiguration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      _superPropGet(StudentConfiguration, "use", this, 3)([engine]);
      // Limit execution to 4 seconds
      var settings = this.main.model.settings;
      Sk.execLimitFunction = function () {
        return _this.main.model.assignment.settings.disableTimeout() ? Infinity : 5000;
      };
      Sk.execLimit = Sk.execLimitFunction();
      // Stepper! Executed after every statement.
      Sk.afterSingleExecution = this.step.bind(this);

      // Unmute everything
      this.main.model.display.mutePrinter(false);

      // Function to call after each step
      // afterSingleExecution

      Sk.builtinFiles.files["src/lib/utility/__init__.js"] = _configurations__WEBPACK_IMPORTED_MODULE_0__.EMPTY_MODULE;
      return this;
    }
  }, {
    key: "openFile",
    value: function openFile(filename) {
      var found = this.main.components.fileSystem.searchForFile(filename, true);
      //console.log(filename, found);
      if (found === undefined) {
        if (Sk.builtinFiles && Sk.builtinFiles["files"][filename] !== undefined) {
          return Sk.builtinFiles["files"][filename];
        } else {
          throw new Sk.builtin.OSError("File not found: " + filename);
        }
      } else {
        return found.contents();
      }
    }
  }, {
    key: "importFile",
    value: function importFile(filename) {
      if (this.isForbidden(filename)) {
        throw "File not accessible: '" + filename + "'";
      } else if (filename === "./answer.py") {
        return this.main.model.submission.code();
      } else if (Sk.builtinFiles === undefined) {
        throw new Sk.builtin.OSError("Built-in modules not accessible.");
      } else if (Sk.builtinFiles["files"][filename] !== undefined) {
        return Sk.builtinFiles["files"][filename];
      } else {
        var found = this.main.components.fileSystem.searchForFile(filename, true);
        if (found === undefined) {
          throw new Sk.builtin.OSError("File not found: '" + filename + "'");
        } else {
          return found.contents();
        }
      }
    }
  }, {
    key: "input",
    value: function input(promptMessage) {
      return this.main.components.console.input(promptMessage);
    }
  }, {
    key: "isForbidden",
    value: function isForbidden(filename) {
      return filename.startsWith("src/lib/utility/") || filename.startsWith("src/lib/pedal/") || filename.startsWith("./_instructor/");
    }

    /**
     * "Steps" the execution of the code, meant to be used as a callback to the Skulpt
     * environment.
     *
     * @param {Object} globals - Hash that maps the names of global variables (Strings) to their Skulpt representation.
     * @param {Object} locals - Hash that maps the names of local variables (Strings) to their Skulpt representation.
     * @param {Number} lineNumber - The corresponding line number in the source code that is being executed.
     * @param {Number} columnNumber - The corresponding column number in the source code that is being executed.
     *                                Think of it as the "X" position to the lineNumber's "Y" position.
     * @param {String} filename - The name of the python file being executed (e.g., "__main__.py").
     * @param {Boolean} isDocstring - Whether or not this is an actual line or a docstring.
     */
  }, {
    key: "step",
    value: function step(globals, locals, lineNumber, columnNumber, filename, isDocstring, astName) {
      if (filename === "answer.py") {
        /*if (execStack) {
            console.log(execStack.map(([n, o]) => [n, {...o}]));
        }*/
        var currentStep = this.engine.executionBuffer.step;
        globals = this.main.components.trace.parseGlobals(_objectSpread(_objectSpread({}, globals), locals));
        // TODO: Trace local variables properly
        //let locals = this.main.components.trace.parseGlobals(locals);
        //Object.assign(globals, locals);
        this.engine.executionBuffer.trace.push({
          "step": currentStep,
          "filename": filename,
          //'block': highlightMap[lineNumber-1],
          "line": lineNumber,
          "column": columnNumber,
          "properties": globals.properties,
          "modules": globals.modules,
          "isDocstring": isDocstring,
          "ast": astName
        });
        this.engine.executionBuffer.step = currentStep + 1;
        this.engine.executionBuffer.line = lineNumber;
      }
    }
  }, {
    key: "lastStep",
    value:
    /**
     * Called at the end of the Skulpt execution to terminate the executionBuffer
     * and hand it off to the execution trace in the model.
     */
    function lastStep() {
      var execution = this.main.model.execution;
      execution.student.currentTraceData(this.engine.executionBuffer.trace);
      execution.student.currentStep(this.engine.executionBuffer.step);
      execution.student.lastStep(this.engine.executionBuffer.step);
      execution.student.currentLine(this.engine.executionBuffer.line);
      execution.student.lastLine(this.engine.executionBuffer.line);
      execution.student.currentTraceStep(this.engine.executionBuffer.step);
    }
  }, {
    key: "getLines",
    value: function getLines(ast) {
      var visitedLines = new Set();
      var _visitBody = function visitBody(node) {
        if (node.lineno !== undefined) {
          visitedLines.add(node.lineno);
        }
        if (node.body) {
          node.body.forEach(function (statement) {
            return _visitBody(statement);
          });
        }
        if (node.orelse) {
          node.orelse.forEach(function (statement) {
            return _visitBody(statement);
          });
        }
        if (node.finalbody) {
          node.finalbody.forEach(function (statement) {
            return _visitBody(statement);
          });
        }
      };
      _visitBody(ast);
      return Array.from(visitedLines);
    }

    /**
     * Ensure that the parse information is up-to-date
     */
  }, {
    key: "updateParse",
    value: function updateParse() {
      var report = this.main.model.execution.reports;
      // Hold all the actually discovered lines from the parse
      var lines = [];
      // Attempt a parse
      var ast;
      try {
        var parse = Sk.parse(this.filename, this.code);
        ast = Sk.astFromParse(parse.cst, this.filename, parse.flags);
        lines = this.getLines(ast);
      } catch (error) {
        // Report the error
        report["parser"] = {
          "success": false,
          "error": error,
          "empty": true,
          "lines": lines
        };
        console.error(error);
        console.log(this.filename, this.code);
        return false;
      }
      // Successful parse
      report["parser"] = {
        "success": true,
        "ast": ast,
        "empty": ast.body.length === 0,
        "lines": lines
      };
      return true;
    }
  }, {
    key: "showErrors",
    value: function showErrors() {
      var report = this.main.model.execution.reports;
      if (report["student"].success) {
        this.main.components.feedback.clear("Execution finished. No errors to report.");
      } else {
        this.main.components.feedback.presentRunError(report.student.error);
      }
    }
  }, {
    key: "provideSecretError",
    value: function provideSecretError() {
      var _this2 = this;
      var report = this.main.model.execution.reports;
      var feedback = this.main.components.feedback;
      if (!report["student"].success) {
        var errorButton = this.main.model.configuration.container.find(".blockpy-student-error");
        var message = feedback.presentRunError(report.student.error, true);
        errorButton.attr("title", "Click to see Original Error");
        errorButton.tooltip({
          "trigger": "hover",
          "container": this.main.model.configuration.attachmentPoint
        });
        errorButton.click(function () {
          return _this2.main.components.dialog.ERROR_SHOW_STUDENT_ERROR(message);
        });
        errorButton.show();
      }
    }
  }]);
}(_configurations__WEBPACK_IMPORTED_MODULE_0__.Configuration);

/***/ }),

/***/ "./src/feedback.js":
/*!*************************!*\
  !*** ./src/feedback.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyFeedback: () => (/* binding */ BlockPyFeedback),
/* harmony export */   FEEDBACK_HTML: () => (/* binding */ FEEDBACK_HTML)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }

var FEEDBACK_HTML = "\n\n<span class='blockpy-floating-feedback text-muted-less pull-right position-sticky sticky-top'\n    aria-hidden=\"true\" role=\"presentation\" aria-label=\"New Feedback Alert\">\n    New feedback &uarr;\n</span>\n\n<div class='blockpy-feedback blockpy-panel'\n            role=\"region\" aria-label=\"Feedback\"\n            aria-live=\"polite\"\n            data-bind=\"class: ui.console.size\">\n\n    <div>\n    <!-- Feedback/Trace Visibility Control -->\n    <!-- ko ifnot: ui.secondRow.hideTraceButton -->\n    <button type='button'\n            class='btn btn-sm btn-outline-secondary float-right'\n            data-bind=\"click: ui.secondRow.advanceState\">\n        <span class='fas fa-eye'></span>\n        <span data-bind=\"text: ui.secondRow.switchLabel\"></span>\n    </button>\n    <!-- /ko -->\n\n    <!-- Actual Feedback Region -->    \n    <div>\n        <strong class=\"feedback-header\">Feedback: </strong>\n        <span class='badge blockpy-feedback-category feedback-badge'\n            data-bind=\"css: ui.feedback.badge,\n                       text: ui.feedback.category\">Feedback Kind</span>\n        <small data-bind=\"text: (100*submission.score())+'%',\n                          visible: display.instructor() && execution.feedback.label()\"\n            class=\"text-muted\"></small>\n        <small data-bind=\"click: ui.feedback.resetScore,\n                          visible: display.instructor() && execution.feedback.label() && submission.score() > 0\"\n            class=\"text-muted\" style=\"cursor: pointer\"><u>(reset)</u></small>\n    </div>\n    <div>\n        <strong class=\"blockpy-feedback-label\"\n            data-bind=\"text: execution.feedback.label\"></strong>\n        <div class=\"blockpy-feedback-message\"\n            data-bind=\"html: execution.feedback.message\"></div>\n    </div>\n    </div>\n    <div style=\"position: relative;\">\n        <!-- The thank you message will appear above the span -->\n        <span class=\"blockpy-feedback-thank-you\">Thank you!</span>\n    </div>\n    <small class=\"blockpy-feedback-response-full\" style=\"text-align: right\"\n        data-bind=\"visible: ui.feedback.provideRatings() && execution.feedback.label() && display.showRating()\">\n        <span style=\"cursor: pointer;\" class=\"far fa-minus-square\"\n            data-bind=\"click: ui.feedback.flipRating\"></span>\n        Rate this Feedback:\n        <span style=\"cursor: pointer; font-size: 20px\" class=\"blockpy-rating fa-thumbs-up\"\n            data-bind=\"click: ()=>ui.feedback.rate('thumbs-up'),\n                        css: ui.feedback.hasRatedClass\"></span>\n<!--        <span style=\"cursor: pointer; font-size: 20px\" class=\"blockpy-rating fa-meh\"-->\n<!--            data-bind=\"click: ()=>ui.feedback.rate('meh'),-->\n<!--                        css: ui.feedback.hasRatedClass\"></span>-->\n        <span style=\"cursor: pointer; font-size: 20px\" class=\"blockpy-rating fa-thumbs-down\"\n            data-bind=\"click: ()=>ui.feedback.rate('thumbs-down', true),\n                        css: ui.feedback.hasRatedClass\"></span>\n    </small>\n    <!-- Positive Feedback Region -->\n    <div class=\"blockpy-feedback-positive\" style=\"text-align: right\">\n    </div>\n    <small class=\"blockpy-feedback-response-collapsed\" \n        style=\"position: absolute; right: 0; bottom: 0\"\n        data-bind=\"visible: execution.feedback.label() && !display.showRating()\">\n        <span style=\"cursor: pointer; vertical-align: middle\" class=\"far fa-plus-square\"\n            data-bind=\"click: ui.feedback.flipRating\"></span> Rate\n    </small>\n</div>            \n";
var BlockPyFeedback = /*#__PURE__*/function () {
  /**
   * An object that manages the feedback area, where users are told the state of their
   * program's execution and given guidance. Also manages the creation of the Trace Table.
   *
   * @constructor
   * @this {BlockPyFeedback}
   * @param {Object} main - The main BlockPy instance
   * @param {HTMLElement} tag - The HTML object this is attached to.
   */
  function BlockPyFeedback(main, tag) {
    var _this = this;
    _classCallCheck(this, BlockPyFeedback);
    this.main = main;
    this.tag = tag;
    this.feedbackModel = this.main.model.execution.feedback;
    this.category = this.tag.find(".blockpy-feedback-category");
    this.feedbackHeader = this.tag.find(".feedback-header");
    this.label = this.tag.find(".blockpy-feedback-label");
    this.message = this.tag.find(".blockpy-feedback-message");
    this.positive = this.tag.find(".blockpy-feedback-positive");

    // TODO: If they change the student extra files, also update the dirty flag
    this.main.model.submission.code.subscribe(function () {
      return _this.main.model.display.dirtySubmission(true);
    });
  }
  return _createClass(BlockPyFeedback, [{
    key: "scrollIntoView",
    value:
    /**
     * Moves the screen (takes 1 second) to make the Feedback area visible.
     */
    function scrollIntoView() {
      $("html, body").animate({
        scrollTop: this.tag.offset().top
      }, 700);
    }
  }, {
    key: "isFeedbackVisible",
    value:
    /**
     * Determines if the feedback area is currently visible
     * @returns {boolean}
     */
    function isFeedbackVisible() {
      var visibilityBuffer = 100;
      var topOfElement = this.tag.offset().top;
      //let bottomOfElement = this.tag.offset().top + this.tag.outerHeight();
      var bottomOfElement = topOfElement + visibilityBuffer;
      var bottomOfScreen = $(window).scrollTop() + $(window).height();
      var topOfScreen = $(window).scrollTop();
      //bottom_of_element -= 40; // User friendly padding
      return topOfElement < bottomOfScreen && topOfScreen < bottomOfElement;
    }
  }, {
    key: "clear",
    value:
    /**
     * Clears any output currently in the feedback area. Also resets the printer and
     * any highlighted lines in the editor.
     */
    function clear() {
      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "Ready";
      this.feedbackModel.message(message);
      this.feedbackModel.category(null);
      this.feedbackModel.label(null);
      this.feedbackModel.hidden(false);
      this.feedbackModel.linesError.removeAll();
      this.feedbackModel.linesUncovered.removeAll();
      this.clearPositiveFeedback();
      this.feedbackHeader.off("click");
      this.main.model.display.hasRated(false);
    }
  }, {
    key: "updateRegularFeedback",
    value: function updateRegularFeedback() {}

    /**
     * Updates the model with these new execution results
     * @param executionResults
     */
  }, {
    key: "updateFeedback",
    value: function updateFeedback(executionResults) {
      var _this2 = this;
      // Parse out data
      var message = Sk.ffi.remapToJs(executionResults.MESSAGE);
      var category = Sk.ffi.remapToJs(executionResults.CATEGORY);
      var label = Sk.ffi.remapToJs(executionResults.LABEL);
      var hide = Sk.ffi.remapToJs(executionResults.HIDE);
      var data = executionResults.DATA;
      var positives = Sk.ffi.remapToJs(executionResults.POSITIVE);

      // Override based on assignments' settings
      // NOTE: We used to hide the completion if the assignment was hidden, but this is no longer the case.
      // Now the hidden status controls whether the student can see detailed feedback and stuff when they look at it
      // in the grade view, and whether TAs can see the submission.
      // let hideScore = this.main.model.assignment.hidden();
      // if (hideScore && category.toLowerCase() === "complete") {
      //     category = "no errors";
      //     label = "No errors";
      //     message = "No errors reported.";
      // }

      // Remap to expected BlockPy labels
      if (category.toLowerCase() === "instructor" && label.toLowerCase() === "explain") {
        label = "Instructor Feedback";
      }

      // Don't present a lack of error as being incorrect
      if (category === "Instructor" && label === "No errors") {
        category = "no errors";
      }

      // Update model accordingly
      message = this.main.utilities.markdown(message).replace(/<pre>\n/g, "<pre>\n\n");
      this.feedbackModel.message(message);
      this.feedbackModel.category(category);
      this.feedbackModel.label(label);
      //let highlightTimeout = setTimeout(() => {
      this.message.find("pre code").map(function (i, block) {
        window.hljs.highlightBlock(block);
      });
      //}, 400);
      // TODO: Instead of tracking student file, let's track the instructor file
      this.main.components.server.logEvent("Intervention", category, label, message, "answer.py");

      // Clear out any previously highlighted lines
      this.main.components.pythonEditor.bm.clearHighlightedLines();

      // Find the first error on a line and report that
      var line = BlockPyFeedback.findFirstErrorLine(data);
      this.feedbackModel.linesError.removeAll();
      if (line !== null && line !== undefined) {
        this.feedbackModel.linesError.push(line);
      }

      // Invert the set of traced lines
      var studentReport = this.main.model.execution.reports.student;
      this.feedbackModel.linesUncovered.removeAll();
      if (studentReport.success) {
        var uncoveredLines = [];
        this.main.model.execution.reports.parser.lines.forEach(function (line) {
          if (studentReport.lines.indexOf(line) === -1) {
            uncoveredLines.push(line);
          }
        });
        this.feedbackModel.linesUncovered(uncoveredLines);
      }
      var _loop = function _loop() {
        var positiveData = positives[i];
        _this2.addPositiveFeedback(positiveData.message, "star", "green", function () {
          return _this2.main.components.dialog.POSITIVE_FEEDBACK_FULL(positiveData.title, positiveData.message);
        });
      };
      for (var i = 0; i < positives.length; i += 1) {
        _loop();
      }
    }
  }, {
    key: "clearPositiveFeedback",
    value: function clearPositiveFeedback() {
      this.positive.empty();
      this.main.model.configuration.container.find(".blockpy-student-error").hide();
    }
  }, {
    key: "addPositiveFeedback",
    value: function addPositiveFeedback(text, icon, color, onclick, toEnd) {
      var _this3 = this;
      var positive = $("<span></span>");
      positive.addClass("blockpy-feedback-positive-icon fas fa-" + icon);
      positive.css("color", color);
      positive.attr("title", text);
      if (toEnd) {
        this.positive.append(positive);
      } else {
        this.positive.prepend(positive);
      }
      positive.tooltip({
        "trigger": "hover",
        "container": this.main.model.configuration.attachmentPoint
      });
      if (onclick !== undefined) {
        positive.click(onclick);
      }
      positive.hover(function () {
        _this3.main.components.server.logEvent("X-Feedback", "positive", "hover", text, "");
      });
    }

    /**
     * Present any accumulated feedback
     */
  }, {
    key: "presentFeedback",
    value: function presentFeedback(executionResults) {
      this.updateFeedback(executionResults);
      this.feedbackHeader.off("click");
      if (this.main.model.display.instructor()) {
        this.updateFullFeedback(executionResults);
      }

      // TODO: Logging
      //this.main.components.server.logEvent("feedback", category+"|"+label, message);

      this.notifyFeedbackUpdate();
    }
  }, {
    key: "processSingleFeedback",
    value: function processSingleFeedback(element) {
      var title = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("title")).toString();
      var category = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.capitalize)(element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("category")).toString());
      var kind = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("kind")).toString();
      var active = Sk.misceval.isTrue(element);
      var message = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("message")).toString();
      var unused_message = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("unused_message")).toString();
      message = message === "None" ? unused_message : message;
      var justification = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("justification")).toString();
      var parent = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("parent"));
      var hasParent = !Sk.builtin.checkNone(parent);
      var score = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("resolved_score"));
      score = score === Sk.builtin.none.none$ ? "" : score.tp$name === "float" ? "+" + Math.round(score.v * 100).toString() + "%" : score.toString();
      return [element, parent, "\n        <div class=\"list-group-item flex-column align-items-start\" ".concat(hasParent ? "style='margin-left: 50px;'" : "", ">\n            <div class=\"d-flex w-100 justify-content-between align-items-center\">\n                <span><strong class=\"mb-1\" style=\"").concat(active ? "" : "text-decoration: line-through;", "\">").concat(title, "</strong> (").concat(category, " - ").concat(kind, ")</span>\n                <span class=\"badge badge-info badge-pill\">").concat(score, "</span>\n            </div>\n            ").concat(active ? "" : "<div>(Muted - Not shown to student)</div>", "\n            <div class=\"mb-1 p-1 feedback-expand-on-click feedback-shrunk\">\n                ").concat(message, "\n            </div>\n            <small style=\"white-space: pre\">").concat(justification, "</small>\n        </div>\n        ")];
    }
  }, {
    key: "updateFullFeedback",
    value: function updateFullFeedback(executionResults) {
      var _this4 = this;
      console.log(executionResults);
      if (!("MAIN_REPORT" in executionResults)) {
        return;
      }
      var mainReport = executionResults.MAIN_REPORT;
      var feedback = mainReport.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("feedback"));
      if (!feedback) {
        return;
      }
      var feedbacks = [];
      Sk.misceval.iterFor(feedback.tp$iter(), function (element) {
        feedbacks.push(_this4.processSingleFeedback(element));
      });
      Sk.misceval.iterFor(mainReport.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("ignored_feedback")).tp$iter(), function (element) {
        feedbacks.push(_this4.processSingleFeedback(element));
      });
      var parents = new Map();
      for (var i = 0; i < feedbacks.length; i += 1) {
        var _feedbacks$i = _slicedToArray(feedbacks[i], 3),
          element = _feedbacks$i[0],
          parent = _feedbacks$i[1],
          text = _feedbacks$i[2];
        var hasParent = !Sk.builtin.checkNone(parent);
        if (hasParent) {
          if (!parents.has(parent)) {
            parents.set(parent, []);
          }
          parents.get(parent).push(text);
        } else {
          if (!parents.has(element)) {
            parents.set(element, []);
          }
          parents.get(element).unshift(text);
        }
      }
      feedbacks = _toConsumableArray(parents.values()).flat();
      this.feedbackHeader.on("click", function () {
        _this4.main.components.dialog.show("Full Feedback Information", '<div class="list-group">' + feedbacks.join("\n") + "</div>");
        $(".feedback-expand-on-click").on("click", function (event) {
          $(event.target).toggleClass("feedback-shrunk");
        });
      });
    }
  }, {
    key: "notifyFeedbackUpdate",
    value: function notifyFeedbackUpdate() {
      if (!this.isFeedbackVisible()) {
        this.tag.find(".blockpy-floating-feedback").show().fadeOut(7000);
        if (this.shouldScrollIntoView()) {
          this.scrollIntoView();
        }
      }
    }
  }, {
    key: "shouldScrollIntoView",
    value: function shouldScrollIntoView() {
      return !this.main.model.ui.smallLayout();
    }
  }, {
    key: "presentRunError",
    value: function presentRunError(error, just_return) {
      if (just_return === undefined) {
        just_return = false;
      }
      var message, label, category, lineno;
      label = error.tp$name;
      category = "runtime";
      message = this.convertSkulptError(error);
      if (just_return) {
        return message;
      }
      this.feedbackModel.message(message);
      this.feedbackModel.category(category);
      this.feedbackModel.label(label);
      this.feedbackModel.linesError.removeAll();
      if (lineno !== undefined && lineno !== null) {
        this.feedbackModel.linesError.push(lineno);
      }
    }
  }, {
    key: "buildTraceback",
    value: function buildTraceback(error, filenameExecuted) {
      var _this5 = this;
      return error.traceback.map(function (frame) {
        if (!frame) {
          return "??";
        }
        var lineno = frame.lineno;
        if (frame.filename.slice(0, -3) === filenameExecuted) {
          lineno -= _this5.main.model.execution.reports.instructor.lineOffset;
        }
        var file = "File <code class=\"filename\">\"".concat(frame.filename, "\"</code>, ");
        var line = "on line <code class=\"lineno\">".concat(lineno, "</code>, ");
        var scope = frame.scope !== "<module>" && frame.scope !== undefined ? "in scope ".concat(frame.scope) : "";
        var source = "";
        if (frame.source !== undefined) {
          source = "\n<pre><code>".concat(frame.source, "</code></pre>");
        }
        return file + line + scope + source;
      });
    }
  }, {
    key: "convertSkulptError",
    value: function convertSkulptError(error, filenameExecuted, isInstructor) {
      var name = error.tp$name;
      var args = Sk.ffi.remapToJs(error.args);
      var top = "".concat(name, ": ").concat(args[0], "\n<br>\n<br>");
      var traceback = "";
      if (name === "TimeoutError") {
        if (error.err && error.err.traceback && error.err.traceback.length) {
          var allFrames = this.buildTraceback(error.err, filenameExecuted);
          var result = ["Traceback:"];
          if (allFrames.length > 5) {
            result.push.apply(result, _toConsumableArray(allFrames.slice(0, 3)).concat(["... Hiding ".concat(allFrames.length - 3, " other stack frames ...,")], _toConsumableArray(allFrames.slice(-3, -2))));
          } else {
            result.push.apply(result, _toConsumableArray(allFrames));
          }
          traceback = result.join("\n<br>");
        }
      } else {
        if (isInstructor) {
          top = "Error in instructor feedback. Please show the following to an instructor:<br>\n" + top;
        }
        if (error.traceback && error.traceback.length) {
          traceback = "Traceback:<br>\n" + this.buildTraceback(error, filenameExecuted).join("\n<br>");
        }
      }
      return top + "\n" + traceback;
    }
  }, {
    key: "presentInternalError",
    value: function presentInternalError(error, filenameExecuted) {
      if (error.tp$name === "TimeoutError") {
        this.main.model.execution.feedback.category("runtime");
        this.main.model.execution.feedback.label("Timeout Error");
      } else {
        this.main.model.execution.feedback.category("internal");
        this.main.model.execution.feedback.label("Internal Error");
      }
      var message = this.convertSkulptError(error, filenameExecuted, true);
      this.main.model.execution.feedback.message(message);
      this.notifyFeedbackUpdate();
      this.main.components.server.logEvent("X-System.Error", "internal", "Internal Error", message, filenameExecuted);
    }
  }], [{
    key: "findFirstErrorLine",
    value: function findFirstErrorLine(feedbackData) {
      if (feedbackData.quick$lookup) {
        var location = feedbackData.quick$lookup(new Sk.builtin.str("location"));
        if (location) {
          var line = location.tp$getattr(new Sk.builtin.str("line"));
          if (line) {
            return Sk.ffi.remapToJs(line);
          }
        }
      }
      return null;
      /*for (let i = feedbackData.length-1; i >= 0; i-= 1) {
          if ("position" in feedbackData[i]) {
              return feedbackData[i].position.line;
          }
      }
      return null;*/
    }
  }]);
}();

/***/ }),

/***/ "./src/files.js":
/*!**********************!*\
  !*** ./src/files.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BASIC_NEW_FILES: () => (/* binding */ BASIC_NEW_FILES),
/* harmony export */   BlockPyFileSystem: () => (/* binding */ BlockPyFileSystem),
/* harmony export */   FILES_HTML: () => (/* binding */ FILES_HTML),
/* harmony export */   STARTING_FILES: () => (/* binding */ STARTING_FILES),
/* harmony export */   UNDELETABLE_FILES: () => (/* binding */ UNDELETABLE_FILES),
/* harmony export */   UNRENAMABLE_FILES: () => (/* binding */ UNRENAMABLE_FILES),
/* harmony export */   chompSpecialFile: () => (/* binding */ chompSpecialFile),
/* harmony export */   createConcatenatedFile: () => (/* binding */ createConcatenatedFile),
/* harmony export */   loadConcatenatedFile: () => (/* binding */ loadConcatenatedFile),
/* harmony export */   makeModelFile: () => (/* binding */ makeModelFile),
/* harmony export */   observeConcatenatedFile: () => (/* binding */ observeConcatenatedFile)
/* harmony export */ });
/* harmony import */ var utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! utilities.js */ "./src/utilities.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }


// ${makeTab("?mock_urls.blockpy", "URL Data", true)}

var makeTab = function makeTab(filename, friendlyName, hideIfEmpty, notInstructor) {
  if (friendlyName === undefined) {
    friendlyName = filename;
  }
  var instructorFileClass = "";
  var hideIfNotInstructor = "true";
  if (!notInstructor) {
    instructorFileClass = "blockpy-file-instructor";
    hideIfNotInstructor = "display.instructor()";
  }
  return "\n    <li class=\"nav-item ".concat(instructorFileClass, "\">\n        <a class=\"nav-link\" href=\"#\"\n            data-toggle=\"tab\"\n            data-bind=\"css: {active: display.filename() === '").concat(filename, "'},\n                click: display.filename.bind($data, '").concat(filename, "'),\n                visible: (!").concat(hideIfEmpty, " || ui.files.hasContents('").concat(filename, "')) && ").concat(hideIfNotInstructor, "\">\n            ").concat(friendlyName, "</a>\n    </li>");
};
var FILES_HTML = "\n<div class=\"blockpy-panel blockpy-files\"\n    data-bind=\"visible: ui.files.visible, class: ui.files.width\">\n<ul class=\"nav nav-tabs\" role=\"tablist\">\n\n    <li class=\"nav-item\">\n        <strong>View: </strong>\n    </li>\n\n    ".concat(makeTab("answer.py", undefined, undefined, true), "\n    ").concat(makeTab("!instructions.md", "Instructions"), "\n    ").concat(makeTab("!assignment_settings.blockpy", "Settings"), "\n    ").concat(makeTab("^starting_code.py", "Starting Code"), "\n    ").concat(makeTab("!on_run.py", "On Run"), "\n    ").concat(makeTab("!on_change.py", "On Change", true), "\n    ").concat(makeTab("!on_eval.py", "On Eval", true), "\n    ").concat(makeTab("!sample_submissions.blockpy", "Sample Submissions", true), "\n    ").concat(makeTab("!tags.blockpy", "Tags", true), "\n    \n    <!-- ko foreach: assignment.extraInstructorFiles -->\n        <li class=\"nav-item\"\n            data-bind=\"css: {'blockpy-file-instructor': !filename().startsWith('&')},\n                       visible: filename().startsWith('&') || $root.display.instructor() \">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename(),\n                                 uneditable: filename().startsWith('&')},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())\">\n            </a>        \n        </li>\n    <!-- /ko -->\n    <!-- ko foreach: assignment.extraStartingFiles -->\n        <li class=\"nav-item blockpy-file-instructor\"\n            data-bind=\"visible: $root.display.instructor()\">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: filename\">\n            </a>        \n        </li>\n    <!-- /ko -->\n    \n    <!-- ko foreach: submission.extraFiles -->\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())\">\n            </a>\n        </li>\n    <!-- /ko -->\n  \n    <li class=\"nav-item dropdown\" data-bind=\"visible: ui.files.addIsVisible\">\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" data-toggle=\"dropdown\"\n         role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Add New</a>\n        <!-- ko if: $root.display.instructor() -->\n        <div class=\"dropdown-menu dropdown-menu-right\">\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?mock_urls.blockpy'),\n                           click: ui.files.add.bind($data, '?mock_urls.blockpy')\">URL Data</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('images.blockpy'),\n                           click: ui.files.add.bind($data, 'images.blockpy')\">Images</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?toolbox.blockpy'),\n                           click: ui.files.add.bind($data, '?toolbox.blockpy')\">Toolbox</a>\n            \n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!tags.blockpy')\">Tags</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!sample_submissions.blockpy'),\n                           click: ui.files.add.bind($data, '!sample_submissions.blockpy')\">Sample Submissions</a>\n            <div class=\"dropdown-divider\"></div>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: assignment.onChange,\n                           click: ui.files.add.bind($data, '!on_change.py')\">On Change</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: assignment.onEval,\n                           click: ui.files.add.bind($data, '!on_eval.py')\">On Eval</a>\n            <div class=\"dropdown-divider\"></div>\n           <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!answer_prefix.py'),\n                           click: ui.files.add.bind($data, '!answer_prefix.py')\">Answer Prefix</a>\n           <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!answer_suffix.py'),\n                           click: ui.files.add.bind($data, '!answer_suffix.py')\">Answer Suffix</a>\n            <div class=\"dropdown-divider\"></div>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'starting')\">Starting File</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'instructor')\">Instructor File</a>\n            <a class=\"dropdown-item\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'student')\">Student File</a>\n        </div>\n        <!-- /ko -->\n        <!-- ko ifnot: $root.display.instructor() -->\n        <div class=\"dropdown-menu dropdown-menu-right\">\n        <a class=\"dropdown-item\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'student')\">Student File</a>\n        </div>\n        <!-- /ko -->\n    </li>\n  \n</ul>\n</div>\n");
var NEW_INSTRUCTOR_FILE_DIALOG_HTML = "\n<form>\n<div class=\"form-group row\">\n    <div>\n        <p>This dialog box is for creating text files (e.g., Python code, Markdown, etc.) that will be\n        accessible from Python. If you want to upload a binary file (e.g., an image, a sqlite database),\n        then you should use the \"Images\" or \"URL Data\" options.</p>\n        \n        <p>Students will not be able to see file tabs unless you change the \"Hide Files\" setting to be unchecked.</p>\n    </div>\n    <!-- Filename -->\n    <div class=\"col-sm-2 text-right\">\n        <label for=\"blockpy-instructor-file-dialog-filename\">Filename:</label>\n    </div>\n    <div class=\"col-sm-10\">\n        <input type=\"text\" class=\"form-control blockpy-instructor-file-dialog-filename\"\n            id=\"blockpy-instructor-file-dialog-filename\">    \n    </div>\n    <!-- Filetype -->\n    <div class=\"col-sm-2 text-right mt-2\">\n        <label for=\"blockpy-instructor-file-dialog-filetype\">Filetype: </label>\n    </div>\n    <div class=\"col-sm-10\">\n        <span class=\"blockpy-instructor-file-dialog-filetype\"\n            id=\"blockpy-instructor-file-dialog-filetype\"></span>    \n    </div>\n    <!-- Inaccessible to student? -->\n    <div class=\"col-sm-2 text-right mt-2\">\n        <label for=\"blockpy-instructor-file-dialog-namespace\">Namespace: </label>\n    </div>\n    <div class=\"col-sm-4\">\n        <select class=\"form-control blockpy-instructor-file-dialog-namespace\"\n            id=\"blockpy-instructor-file-dialog-namespace\">\n            <option value=\"!\">Completely inaccessible</option>\n            <option value=\"?\">Hidden from student, accessible programatically</option>\n            <option value=\"&\">Visible to student, but not editable</option>\n        </select>\n    </div>\n</div>\n</form>\n";

/**
 * Filenames live in one of five possible namespaces:
 *  Instructor (!): Invisible to the student under all circumstances
 *  Start Space (^): Used to reset the student namespace
 *  Student Space (): Visible to the student when display.hideFiles is not true, able to be edited
 *  Hidden Space (?): Not directly visible to the student, but accessible programmatically
 *  Read-only Space (&): An instructor file type visible to the student, but is uneditable by them
 *  Secret Space ($): Not visible from the menu at all, some other mechanism controls it
 *  Generated Space (*): Visible to the student, but destroyed after Engine.Clear. Can shadow an actual file.
 *  Concatenated Space (#): Used when bundling a space for the server.
 */

var STARTING_FILES = [
// Submission
"answer.py",
// Instructor files
"!instructions.md", "!assignment_settings.blockpy", "^starting_code.py", "!on_run.py", "$settings.blockpy"];
var BASIC_NEW_FILES = ["!on_change.py", "!on_eval.py", "?mock_urls.blockpy", "?toolbox.blockpy", "!tags.blockpy", "!sample_submissions.blockpy", "!answer_prefix.py", "!answer_suffix.py"];
function chompSpecialFile(filename) {
  if ("!^?&$*#".includes(filename[0])) {
    return filename.slice(1);
  } else {
    return filename;
  }
}
var INSTRUCTOR_DIRECTORY = "_instructor/";
var STUDENT_DIRECTORY = "_student/";
var SearchModes = {
  EVERYWHERE: "EVERYWHERE",
  START_WITH_INSTRUCTOR: "START_WITH_INSTRUCTOR",
  ONLY_STUDENT_FILES: "ONLY_STUDENT_FILES"
};
var DELETABLE_SIMPLE_FILES = ["!on_change.py", "!on_eval.py"];
var UNDELETABLE_FILES = ["answer.py", "!instructions.md", "!assignment_settings.py", "^starting_code.py", "!on_run.py", "$settings.blockpy"];
var UNRENAMABLE_FILES = ["answer.py", "!instructions.md", "!assignment_settings.py", "^starting_code.py", "!on_run.py", "$settings.blockpy", "!on_change.py", "!on_eval.py", "?mock_urls.blockpy", "?toolbox.blockpy", "!tags.blockpy", "!sample_submissions.blockpy", "!answer_prefix.py", "!answer_suffix.py"];
var BlockPyFile = /*#__PURE__*/_createClass(function BlockPyFile(main, filename, contents) {
  _classCallCheck(this, BlockPyFile);
  this.main = main;
  this.filename = filename;
  this.contents = contents || "";
  this.owner = null;
  this.handle = null;
});
function makeModelFile(filename, contents) {
  return {
    "filename": ko.observable(filename),
    contents: ko.observable(contents || "")
  };
}
function makeMockModelFile(filename, _contents) {
  return {
    filename: function (_filename) {
      function filename() {
        return _filename.apply(this, arguments);
      }
      filename.toString = function () {
        return _filename.toString();
      };
      return filename;
    }(function () {
      return filename;
    }),
    contents: function contents() {
      return _contents;
    }
  };
}
function loadConcatenatedFile(concatenatedFile, modelFileList) {
  if (concatenatedFile) {
    var files = JSON.parse(concatenatedFile);
    var modelFiles = [];
    for (var _filename2 in files) {
      if (files.hasOwnProperty(_filename2)) {
        modelFiles.push(makeModelFile(_filename2, files[_filename2]));
      }
    }
    //files = files.map(file => makeModelFile(file.filename, file.contents));
    if (modelFileList) {
      modelFileList(modelFiles);
    } else {
      return modelFiles;
    }
  } else {
    if (modelFileList) {
      modelFileList([]);
    } else {
      return [];
    }
  }
}
function createConcatenatedFile(modelFileList) {
  return JSON.stringify(modelFileList().map(function (file) {
    return {
      filename: file.filename(),
      contents: file.contents()
    };
  }));
}
function observeConcatenatedFile(modelFileList) {
  return ko.pureComputed(function () {
    var result = {};
    modelFileList().forEach(function (file) {
      return result[file.filename()] = file.contents();
    });
    return JSON.stringify(result);
  });
}

/**
 * Abstracts away database logic
 */
var BlockPyFileSystem = /*#__PURE__*/function () {
  function BlockPyFileSystem(main) {
    _classCallCheck(this, BlockPyFileSystem);
    this.main = main;
    this.files_ = {};
    this.mountFiles();
    this.watchModel();
    this.watches_ = {};
    this.remoteFiles_ = {};
    this.filesToUrls = {};

    /*main.model.configuration.container.find(".blockpy-file-instructor").toggle(this.main.model.display.instructor());
    this.main.model.display.instructor.subscribe((visiblity)=> {
        main.model.configuration.container.find(".blockpy-file-instructor").toggle(visiblity);
    });*/
  }
  return _createClass(BlockPyFileSystem, [{
    key: "watchFile",
    value: function watchFile(filename, callback) {
      if (!(filename in this.watches_)) {
        this.watches_[filename] = [];
      }
      this.watches_[filename].push(callback);
    }
  }, {
    key: "stopWatchingFile",
    value: function stopWatchingFile(filename) {
      delete this.watches_[filename];
    }
  }, {
    key: "watchModel",
    value: function watchModel() {
      var _this = this;
      var filesystem = this;
      [this.main.model.submission.extraFiles, this.main.model.assignment.extraStartingFiles, this.main.model.assignment.extraInstructorFiles].forEach(function (fileArray) {
        return fileArray.subscribe(function (changes) {
          changes.sort(function (first, second) {
            return second.status.localeCompare(first.status);
          }).forEach(function (change) {
            var modelFile = change.value;
            if (change.status === "added") {
              // Track new file
              var file = filesystem.newFile(modelFile.filename(), modelFile.contents(), modelFile.contents);
              filesystem.notifyWatches(file);
            } else if (change.status === "deleted") {
              // Delete file
              var _file = filesystem.deleteFileLocally_(modelFile.filename());
              if (filesystem.main.model.display.filename() === modelFile.filename()) {
                filesystem.main.model.display.filename("answer.py");
              }
            }
          });
        }, _this, "arrayChange");
      });
    }

    // answer.py
    //   => subscribe to first element of submission.code)
    // !on_run.py, !on_change.py, !on_eval.py
    //   => subscribe to relevant assignment.<whatever>
    // ^starting_code.py
    //   => subscribe to first element of assignment.startingCode
    // ^whatever
    //   => subscribe to rest of the elements of assignment.startingCode
    // !whatever or ?whatever
    //   => subscribe to elements of assignment.extraFiles
    // Otherwise:
    //   => subscribe to rest of the elements of submission.code
    /**
     * New special files need to be registered here
     * @param file {BlockPyFile}
     * @private
     */
  }, {
    key: "observeFile_",
    value: function observeFile_(file) {
      if (file.filename === "answer.py") {
        file.handle = this.main.model.submission.code;
      } else if (file.filename === "!on_run.py") {
        file.handle = this.main.model.assignment.onRun;
      } else if (file.filename === "!on_change.py") {
        file.handle = this.main.model.assignment.onChange;
      } else if (file.filename === "!on_eval.py") {
        file.handle = this.main.model.assignment.onEval;
      } else if (file.filename === "!instructions.md") {
        file.handle = this.main.model.assignment.instructions;
      } else if (file.filename === "^starting_code.py") {
        file.handle = this.main.model.assignment.startingCode;
      } else if (file.filename === "?mock_urls.blockpy") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "?toolbox.blockpy") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!answer_prefix.py") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!answer_suffix.py") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!tags.blockpy") {
        file.handle = this.main.model.assignment.tags;
      } else if (file.filename === "!assignment_settings.blockpy") {
        file.handle = this.main.model.assignment.settings;
      } else if (file.filename === "!sample_submissions.blockpy") {
        file.handle = this.main.model.assignment.sampleSubmissions;
      } else if (file.filename === "$settings.blockpy") {
        file.handle = this.main.model.display;
      } else if (file.filename.startsWith("^")) {
        this.observeInArray_(file, this.main.model.assignment.extraStartingFiles);
      } else if (file.filename.startsWith("!") || file.filename.startsWith("?") || file.filename.startsWith("&")) {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else {
        this.observeInArray_(file, this.main.model.submission.extraFiles);
      }
    }
  }, {
    key: "observeInArray_",
    value: function observeInArray_(file, array) {
      file.owner = array;
      var codeBundle = file.owner();
      for (var i = 0; i < codeBundle.length; i++) {
        if (codeBundle[i].filename() === file.filename) {
          file.handle = codeBundle[i].contents;
        }
      }
      if (file.handle === null) {
        var newFile = makeModelFile(file.filename);
        file.handle = newFile.contents;
        array.push(newFile);
      }
    }
  }, {
    key: "mountFiles",
    value: function mountFiles() {
      this.newFile("answer.py");
      this.newFile("^starting_code.py");
      this.newFile("!on_run.py");
      this.newFile("!instructions.md");
      this.newFile("!assignment_settings.blockpy");
    }
  }, {
    key: "dismountExtraFiles",
    value: function dismountExtraFiles() {
      for (var name in this.files_) {
        if (this.files_.hasOwnProperty(name)) {
          if (UNDELETABLE_FILES.indexOf(name) === -1) {
            delete this.files_[name];
            delete this.watches_[name];
          }
        }
      }
      // submission.codeTODO: Shouldn't we notify the UI that the file was deleted?
    }
  }, {
    key: "newFile",
    value: function newFile(filename, contents, modelFile) {
      if (filename in this.files_) {
        // File already exists! Just update its handle
        var existingFile = this.files_[filename];
        if (modelFile === undefined) {
          this.observeFile_(existingFile);
        } else {
          existingFile.handle = modelFile;
        }
        existingFile.handle(contents || "");
        return existingFile;
      } else {
        // File does not exist
        var _newFile = new BlockPyFile(this.main, filename);
        this.files_[filename] = _newFile;
        if (modelFile === undefined) {
          this.observeFile_(_newFile);
        } else {
          _newFile.handle = modelFile;
        }
        if (contents !== undefined) {
          _newFile.handle(contents);
        }
        return _newFile;
      }
    }
  }, {
    key: "writeFile",
    value: function writeFile(filename, contents) {
      contents = contents || "";
      this.files_[filename].handle(contents);
    }
  }, {
    key: "readFile",
    value: function readFile(filename) {
      return this.files_[filename].handle();
    }
  }, {
    key: "getFile",
    value: function getFile(filename) {
      return this.files_[filename];
    }

    /**
     *
     * @param filename
     * @returns {boolean|object} The info about the file, or false if it could not be deleted
     */
  }, {
    key: "deleteFile",
    value: function deleteFile(filename) {
      if (DELETABLE_SIMPLE_FILES.indexOf(filename) !== -1) {
        var file = this.deleteFileLocally_(filename);
        file.handle(null);
        return true;
      } else if (this.files_[filename].owner === null) {
        return false;
      } else {
        // Triggers a callback to eventually call deleteFileLocally_
        var found = this.files_[filename].owner.remove(function (modelFile) {
          return modelFile.filename() === filename;
        });
        return found || false;
      }
    }
  }, {
    key: "deleteFileLocally_",
    value: function deleteFileLocally_(filename) {
      var file = this.files_[filename];
      delete this.files_[filename];
      if (filename in this.watches_) {
        this.watches_[filename].forEach(function (callback) {
          return callback.deleted();
        });
      }
      return file;
    }
  }, {
    key: "renameFile",
    value: function renameFile(source, destination) {
      if (UNRENAMABLE_FILES.indexOf(source) !== -1) {
        return false;
      } else if (this.files_[filename].owner === null) {
        return false;
      } else {
        // Triggers a callback to eventually call deleteFileLocally_
        var found = this.files_[filename].owner.remove(function (modelFile) {
          return modelFile.filename() === filename;
        });
        return found || false;
      }
    }
  }, {
    key: "notifyWatches",
    value: function notifyWatches(file) {
      if (file.filename in this.watches_) {
        this.watches_[file.filename].forEach(function (callback) {
          return callback.updated(file);
        });
      }
    }
  }, {
    key: "searchForFile",
    value: function searchForFile(name, studentSearch) {
      /*
      TODO: This is called quite a bit by the Import mechanism, might need
            to optimize it some more. Do timing tests.
       files.*
      _instructor/files.*
      _student/files.*
       If a student searches for a file, it checks the "?", "&", "*", "" namespaces
          import helper => "./helper.py"
          open("external.json") => "external.json"
      If an instructor searches for a file, it checks "!", "^", "?", "&", "*", "" namespaces
          To explicitly search instructor namespaces first
              import _instructor.helper => "./instructor/helper.py"
              open("_instructor/external.json") => "_instructor/external.json"
          to allow student files to override:
              import helper => "./helper.py"
              open("external.json") => "external.json"
          to only check student files, prepend with _student
       */
      // Chop off starting "./"
      if (name.startsWith("./")) {
        name = name.slice(2);
      }
      var searchMode = SearchModes.EVERYWHERE;
      // Should the search be start with instructor side?
      if (name.startsWith(INSTRUCTOR_DIRECTORY)) {
        name = name.slice(INSTRUCTOR_DIRECTORY.length);
        searchMode = SearchModes.START_WITH_INSTRUCTOR;
      }
      // Should the search be limited to the student mode?
      if (name.startsWith(STUDENT_DIRECTORY)) {
        name = name.slice(STUDENT_DIRECTORY.length);
        searchMode = SearchModes.ONLY_STUDENT_FILES;
      } else if (studentSearch) {
        searchMode = SearchModes.ONLY_STUDENT_FILES;
      }
      // Shortcut for instructor versions
      var extraStudentFiles = this.main.model.submission.extraFiles();
      var extraInstructorFiles = this.main.model.assignment.extraInstructorFiles();
      var extraStartingFiles = this.main.model.assignment.extraStartingFiles();
      // Check special files (TODO: how would an instructor access "./_instructor/answer.py"?
      var specialFile = this.searchForSpecialFiles_(name, searchMode);
      if (specialFile !== undefined) {
        return specialFile;
      }
      // Start looking through possible files
      var studentVersion = this.searchForFileInList_(extraStudentFiles, name);
      var generatedVersion = this.searchForFileInList_(extraStudentFiles, "*" + name);
      var defaultVersion = this.searchForFileInList_(extraInstructorFiles, "&" + name);
      var hiddenVersion = this.searchForFileInList_(extraInstructorFiles, "?" + name);
      var remoteVersion = this.remoteFiles_[name];
      if (searchMode === SearchModes.ONLY_STUDENT_FILES) {
        return (0,utilities_js__WEBPACK_IMPORTED_MODULE_0__.firstDefinedValue)(hiddenVersion, defaultVersion, studentVersion, generatedVersion, remoteVersion);
      }
      var instructorVersion = this.searchForFileInList_(extraInstructorFiles, "!" + name);
      var startingVersion = this.searchForFileInList_(extraStartingFiles, "^" + name);
      if (searchMode === SearchModes.START_WITH_INSTRUCTOR) {
        return (0,utilities_js__WEBPACK_IMPORTED_MODULE_0__.firstDefinedValue)(instructorVersion, hiddenVersion, startingVersion, defaultVersion, studentVersion, generatedVersion, remoteVersion);
      } else if (searchMode === SearchModes.EVERYWHERE) {
        return (0,utilities_js__WEBPACK_IMPORTED_MODULE_0__.firstDefinedValue)(defaultVersion, studentVersion, generatedVersion, instructorVersion, hiddenVersion, startingVersion, remoteVersion);
      }
    }
  }, {
    key: "searchForFileInList_",
    value: function searchForFileInList_(modelList, filename) {
      for (var i = 0; i < modelList.length; i++) {
        if (modelList[i].filename() === filename) {
          return modelList[i];
        }
      }
      return undefined;
    }
  }, {
    key: "searchForSpecialFiles_",
    value: function searchForSpecialFiles_(filename, searchMode) {
      if (searchMode === SearchModes.ONLY_STUDENT_FILES) {
        if (filename === "answer.py") {
          return makeMockModelFile("_instructor/answer.py", this.main.model.submission.code());
        }
        return undefined;
      }
      switch (filename) {
        case "answer.py":
          return makeMockModelFile("_instructor/answer.py", this.main.model.submission.code());
        case "on_run.py":
          return makeMockModelFile("_instructor/on_run.py", this.main.model.assignment.onRun());
        case "on_change.py":
          return makeMockModelFile("_instructor/on_change.py", this.main.model.assignment.onChange());
        case "on_eval.py":
          return makeMockModelFile("_instructor/on_eval.md", this.main.model.assignment.onEval());
        case "instructions.md":
          return makeMockModelFile("_instructor/instructions.md", this.main.model.assignment.instructions());
        case "starting_code.py":
          return makeMockModelFile("_instructor/starting_code.py", this.main.model.assignment.startingCode());
      }
      return undefined;
    }
  }, {
    key: "newFileDialog",
    value: function newFileDialog(kind) {
      var _this2 = this;
      var body = $(NEW_INSTRUCTOR_FILE_DIALOG_HTML);
      var filename = body.find(".blockpy-instructor-file-dialog-filename");
      var filetype = body.find(".blockpy-instructor-file-dialog-filetype");
      var namespace = body.find(".blockpy-instructor-file-dialog-namespace");
      var extensionRegex = /(?:\.([^.]+))?$/;
      filename.on("input", function () {
        var extension = extensionRegex.exec(filename.val())[1];
        extension = extension === undefined ? "No extension" : extension;
        //TODO: this.main.components.editors.getEditorFromExtension(extension);
        filetype.text(extension);
      });
      var yes = function yes() {
        var prefix = "";
        if (kind === "instructor") {
          prefix = namespace.val();
        } else if (kind === "starting") {
          prefix = "^";
        }
        if (filename.val()) {
          filename = prefix + filename.val();
          _this2.newFile(filename);
        }
      };
      body.submit(function (e) {
        e.preventDefault();
        yes();
        _this2.main.components.dialog.close();
      });
      this.main.components.dialog.confirm("Make New File", body, yes, function () {}, "Add");
    }
  }, {
    key: "loadRemoteFiles",
    value: function loadRemoteFiles() {
      var _this3 = this;
      var files = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      // Clear existing remote files (?)
      /*
      Object.getOwnPropertyNames(this.remoteFiles_).forEach(function (prop) {
          delete this.remoteFiles_[prop];
      });*/
      var model = this.main.model;
      var preloadFiles = model.assignment.settings.preloadFiles() || model.assignment.settings.preloadAllFiles();
      if (!preloadFiles && !files) {
        return null;
      }
      if (model.assignment.settings.preloadFiles()) {
        try {
          files = JSON.parse(preloadFiles);
        } catch (e) {
          console.error("Failed to preload files, invalid structure: ", e);
          return null;
        }
        this.downloadRemoteFiles(files);
      } else if (files) {
        this.downloadRemoteFiles(this.reorganizeFiles(files));
      } else {
        this.main.components.server.listUploadedFiles(function (data) {
          _this3.downloadRemoteFiles(_this3.reorganizeFiles(data.files));
        });
      }
    }
  }, {
    key: "reorganizeFiles",
    value: function reorganizeFiles(files) {
      var _this4 = this;
      var organized = {};
      Object.entries(files).forEach(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
          placement = _ref2[0],
          placedFiles = _ref2[1];
        placedFiles.forEach(function (_ref3) {
          var _ref4 = _slicedToArray(_ref3, 2),
            filename = _ref4[0],
            url = _ref4[1];
          var searchParams = new URL(url, window.location.origin).searchParams;
          var directory = searchParams.get("directory");
          var placement = searchParams.get("placement");
          if (!(placement in organized)) {
            organized[placement] = {};
          }
          if (!(directory in organized[placement])) {
            organized[placement][directory] = {};
          }
          organized[placement][directory][filename] = true;
          _this4.filesToUrls[filename] = url;
        });
      });
      return organized;
    }
  }, {
    key: "downloadRemoteFiles",
    value: function downloadRemoteFiles(files) {
      var _this5 = this;
      var oldRemainingFiles = Object.keys(this.remoteFiles_);
      Object.entries(files).forEach(function (_ref5) {
        var _ref6 = _slicedToArray(_ref5, 2),
          placement = _ref6[0],
          placementData = _ref6[1];
        Object.entries(placementData).forEach(function (_ref7) {
          var _ref8 = _slicedToArray(_ref7, 2),
            directory = _ref8[0],
            directoryData = _ref8[1];
          Object.entries(directoryData).forEach(function (_ref9) {
            var _ref10 = _slicedToArray(_ref9, 2),
              filename = _ref10[0],
              renamedFile = _ref10[1];
            if (renamedFile === true) {
              renamedFile = filename;
            }
            if (!(renamedFile in _this5.remoteFiles_)) {
              _this5.main.components.server.downloadFile(placement, directory, filename, function (data) {
                _this5.newFile("images.blockpy", "{}");
                _this5.remoteFiles_[renamedFile] = makeMockModelFile(renamedFile, data);
                delete oldRemainingFiles[renamedFile];
              });
            }
          });
        });
      });
      // TODO: Clean up the old files after all the new ones are loaded
    }
  }]);
}();

/***/ }),

/***/ "./src/footer.js":
/*!***********************!*\
  !*** ./src/footer.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FOOTER_HTML: () => (/* binding */ FOOTER_HTML)
/* harmony export */ });
//TODO: Move get link down to footer, remove vertical bar from quick-menu
var FOOTER_HTML = "\n<div class=\"col-md-12 blockpy-panel blockpy-status\">\n    <div>\n        <label class=\"badge\" data-bind=\"class: ui.server.status('loadAssignment')\">Load Assignment\n            <!-- ko if: display.instructor -->\n            <input type=\"file\"\n            class=\"blockpy-force-load-assignment-file blockpy-hidden-file\"\n            accept=\"application/JSON\"\n            data-bind=\"event: {change: ui.server.force.loadAssignment}\">\n            <!-- /ko -->\n        </label>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('saveAssignment')\">Save Assignment</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadFile')\">Load File</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('saveFile')\">Save File</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadDataset')\">Load Dataset</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('logEvent')\">Log Event</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('updateSubmission'),\n                                        click: ui.server.force.updateSubmission\">Update Submission</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('onExecution')\">Execution</span>\n    </div>\n    <div\n        <span data-bind=\"text: ui.server.messages\"></span>\n    </div>\n    <div>\n        <span>User: <span data-bind=\"text: user.id\"></span> (<span data-bind=\"text: user.name\"></span>, <span data-bind=\"text: user.role\"></span>)</span>, \n        <span>Course: <span data-bind=\"text: user.courseId\"></span></span>,\n        <span>Group: <span data-bind=\"text: user.groupId\"></span></span>,\n        <span>Assignment: <span data-bind=\"text: assignment.id\"></span></span>,\n        <span>Assignment Version: <span data-bind=\"text: assignment.version\"></span></span>,\n        <span>Submission: \n            <span data-bind=\"text: submission.id\"></span>\n            <span data-bind=\"if: submission.ownerId() != user.id()\">\n                (Owner ID: <span data-bind=\"text: submission.ownerId()\"></span>)\n            </span>\n        </span>, \n        <span>Submission Version: <span data-bind=\"text: submission.version\"></span></span>,\n        <span>Editor Version: <span data-bind=\"text: display.editorVersion\"></span></span>\n    </div>\n</div>\n";

/***/ }),

/***/ "./src/history.js":
/*!************************!*\
  !*** ./src/history.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyHistory: () => (/* binding */ BlockPyHistory),
/* harmony export */   HISTORY_TOOLBAR_HTML: () => (/* binding */ HISTORY_TOOLBAR_HTML)
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
// TODO: Should disable buttons if we can't activate them.

var HISTORY_TOOLBAR_HTML = "\n<div class=\"blockpy-history-toolbar col-md-12\" data-bind=\"visible: display.historyMode\">\n\n    <form class=\"form-inline\">\n        <button class=\"blockpy-history-start btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.start\">\n            <span class='fas fa-step-backward'></span> Start\n        </button>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.previous\">\n            <span class='fas fa-backward'></span> Previous\n        </button>\n        <select class=\"blockpy-history-selector form-control custom-select mr-2\" aria-title=\"History Selector\">\n        </select>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.use\">\n            <span class='fas fa-file-import'></span> Use\n        </button>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.next\">\n            <span class='fas fa-forward'></span> Next\n        </button>\n        <button class=\"btn btn-outline-secondary\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.mostRecent\">\n            <span class='fas fa-step-forward'></span> Most Recent\n        </button>\n    </form>\n</div>\n";

/**
 * An object for displaying the user's coding logs (their history).
 * A lightweight component, its only job is to open a dialog.
 *
 * @constructor
 * @this {BlockPyHistory}
 * @param {Object} main - The main BlockPy instance
 */
var BlockPyHistory = /*#__PURE__*/function () {
  function BlockPyHistory(main, tag) {
    _classCallCheck(this, BlockPyHistory);
    this.main = main;
    this.tag = tag;
    this.currentId = null;
    this.history = [];
    this.editEvents = [];
  }
  return _createClass(BlockPyHistory, [{
    key: "load",
    value: function load(history) {
      var _this = this;
      this.history = history;
      this.editEvents = [];
      this.selector = $(".blockpy-history-selector").empty();
      var editId = 0;
      history.filter(function (entry) {
        return !entry.file_path.startsWith("_instructor.") && entry.event_type !== "Compile" && entry.event_type !== "Intervention" && (!_this.main.model.assignment.hidden() || entry.event_type !== "X-Submission.LMS");
      }).forEach(function (entry, index) {
        var event_type = REMAP_EVENT_TYPES[entry.event_type] || entry.event_type;
        var displayed = prettyPrintDateTime(entry.client_timestamp) + " - " + event_type;
        var disable = entry.event_type !== "File.Edit";
        var option = $("<option></option>", {
          text: displayed,
          disabled: disable
        });
        if (_this.isEditEvent(entry)) {
          option.attr("value", editId);
          _this.editEvents.push(entry);
          editId += 1;
        }
        _this.selector.append(option);
      });
      this.selector.val(Math.max(0, editId - 1));
      this.selector.change(function (evt) {
        _this.updateEditor();
      });
    }
  }, {
    key: "moveToStart",
    value: function moveToStart() {
      this.selector.val(0);
      this.updateEditor();
    }
  }, {
    key: "movePrevious",
    value: function movePrevious() {
      var currentId = parseInt(this.selector.val(), 10);
      this.selector.val(Math.max(0, currentId - 1));
      this.updateEditor();
    }
  }, {
    key: "moveNext",
    value: function moveNext() {
      var currentId = parseInt(this.selector.val(), 10);
      this.selector.val(Math.min(this.editEvents.length - 1, currentId + 1));
      this.updateEditor();
    }
  }, {
    key: "moveToMostRecent",
    value: function moveToMostRecent() {
      this.selector.val(this.editEvents.length - 1);
      this.updateEditor();
    }
  }, {
    key: "updateEditor",
    value: function updateEditor() {
      if (this.editEvents.length) {
        var currentId = parseInt(this.selector.val(), 10);
        this.main.components.pythonEditor.bm.setCode(this.editEvents[currentId].message);
      }
    }
  }, {
    key: "use",
    value: function use() {
      if (this.editEvents.length) {
        var currentId = parseInt(this.selector.val(), 10);
        var code = this.editEvents[currentId].message;
        this.main.model.ui.editors.python.turnOffHistoryMode();
        this.main.components.pythonEditor.file.handle(code);
      }
    }
  }, {
    key: "isEditEvent",
    value: function isEditEvent(entry) {
      return (entry.event_type === "File.Edit" || entry.event_type === "File.Create") && this.main.model.display.filename() === entry.file_path;
    }
  }]);
}();
var REMAP_EVENT_TYPES = {
  "Session.Start": "Began session",
  "X-IP.Change": "Changed IP address",
  "File.Edit": "Edited code",
  "File.Create": "Started assignment",
  "Run.Program": "Ran program",
  "Compile.Error": "Syntax error",
  "X-Submission.LMS": "Updated grade"
};
var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
var weekDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
function isSameDay(first, second) {
  return first.getDate() === second.getDate() && first.getMonth() === second.getMonth() && first.getFullYear() === second.getFullYear();
}

/**
 * Helper function to parse a date/time string and rewrite it as something
 * more human readable.
 * @param {String} timeString - the string representation of time ("YYYYMMDD HHMMSS")
 * @returns {String} - A human-readable time string.
 */
function prettyPrintDateTime(timeString) {
  /*let year = timeString.slice(0, 4),
      month = parseInt(timeString.slice(4, 6), 10)-1,
      day = timeString.slice(6, 8),
      hour = timeString.slice(9, 11),
      minutes = timeString.slice(11, 13),
      seconds = timeString.slice(13, 15);*/
  // TODO: Handle timezones correctly
  if (timeString === undefined) {
    return "Undefined Time";
  }
  var now = new Date();
  var past = new Date(parseInt(timeString, 10));
  if (isSameDay(now, past)) {
    return "Today at " + past.toLocaleTimeString();
  } else {
    var dayStr = weekDays[past.getDay()];
    var monthStr = monthNames[past.getMonth()];
    var date = dayStr + ", " + monthStr + " " + past.getDate();
    if (now.getFullYear() === past.getFullYear()) {
      return date + " at " + past.toLocaleTimeString();
    } else {
      return date + ", " + past.getFullYear() + " at " + past.toLocaleTimeString();
    }
  }
}

/**
 * Opens the history dialog box. This requires a trip to the server and
 * occurs asynchronously. The users' code is shown in preformatted text
 * tags (no code highlighting currently) along with the timestamp.
 */
BlockPyHistory.prototype.openDialog = function () {
  var dialog = this.main.components.dialog;
  var body = "<pre>a = 0</pre>";
  this.main.components.server.getHistory(function (data) {
    body = data.reverse().reduce(function (complete, elem) {
      var complete_str = prettyPrintDateTime(elem.time);
      var new_line = "<b>" + complete_str + "</b><br><pre>" + elem.code + "</pre>";
      return complete + "\n" + new_line;
    }, "");
    dialog.show("Work History", body, function () {});
  });
};

/***/ }),

/***/ "./src/interface.js":
/*!**************************!*\
  !*** ./src/interface.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SecondRowSecondPanelOptions: () => (/* binding */ SecondRowSecondPanelOptions),
/* harmony export */   makeExtraInterfaceSubscriptions: () => (/* binding */ makeExtraInterfaceSubscriptions),
/* harmony export */   makeInterface: () => (/* binding */ makeInterface)
/* harmony export */ });
/* harmony import */ var trace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! trace.js */ "./src/trace.js");
/* harmony import */ var dialog_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dialog.js */ "./src/dialog.js");
/* harmony import */ var feedback_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! feedback.js */ "./src/feedback.js");
/* harmony import */ var files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! files.js */ "./src/files.js");
/* harmony import */ var footer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! footer.js */ "./src/footer.js");
/* harmony import */ var editors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! editors.js */ "./src/editors.js");
/* harmony import */ var console_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! console.js */ "./src/console.js");
/**
 * @fileoverview Contains main HTML of BlockPy interface, and helper functions.
 * Combines a lot of HTML from components.
 *
 * Here's the layout:
 *  Row 1: Header and Quick Menu
 *  Row 2: Console and Feedback
 *  Row 3: File Navigation
 *  Row 4: View Row
 *  Row 5: Footer Row
 */









/**
 * The different layout options of the panes in the second row of the layout.
 * @enum {String}
 */
var SecondRowSecondPanelOptions = {
  FEEDBACK: "feedback",
  TRACE: "trace",
  NONE: "none"
};

/**
 * Setup any additional Knockout subscriptions to fire on interface changes.
 * @param self
 * @param model
 */
function makeExtraInterfaceSubscriptions(self, model) {
  // Highlight Markdown when instructions update
  var highlightTimeout = null;
  model.ui.instructions.current.subscribe(function () {
    if (highlightTimeout !== null) {
      clearTimeout(highlightTimeout);
    }
    highlightTimeout = setTimeout(function () {
      model.configuration.container.find(".blockpy-instructions pre code").map(function (i, block) {
        window.hljs.highlightBlock(block);
      });
    }, 400);
  });
  // Provide Fullscreen support
  model.display.fullscreen.subscribe(function (isFullscreen) {
    self.components.server.logEvent("X-Display.Fullscreen.Request", "", "", isFullscreen.toString(), "");
    if (isFullscreen) {
      // NOTE: navigationUI could allow us to force controls to show
      model.configuration.container.parent()[0].requestFullscreen()["catch"](function (err) {
        var message = "Error attempting to enable full-screen mode: ".concat(err.message, " (").concat(err.name, ")");
        self.components.server.logEvent("X-Display.Fullscreen.Error", "", "", message, "");
        alert(message);
      }).then(function () {
        self.components.server.logEvent("X-Display.Fullscreen.Success", "", "", "", "");
        model.display.fullscreen(true);
        model.configuration.container.css("overflow-y", "auto");
      });
    } else {
      document.exitFullscreen().then(function () {
        self.components.server.logEvent("X-Display.Fullscreen.Exit", "", "", isFullscreen.toString(), "");
        model.display.fullscreen(false);
      });
    }
  });
}

// TODO: Get shareable link button

function makeInterface(main) {
  return "\n<div class='blockpy-content container-fluid'>\n\n    <!-- Dialog -->\n    ".concat(dialog_js__WEBPACK_IMPORTED_MODULE_1__.DIALOG_HTML, "\n    \n    <!-- Hidden Capture Canvas -->\n    <canvas id='capture-canvas' class='d-none' role=\"presentation\" aria-hidden=\"true\"></canvas>\n    \n    <!-- Row 1: Header and Quick Menu -->\n    <div class='row' data-bind=\"hidden: ui.smallLayout()\">\n         \n         <!-- Description -->\n         <div class='col-md-9 blockpy-panel blockpy-header'\n               role='heading' aria-label='Assignment Description'>\n         \n            <!-- Assignment Name -->\n            <span role='heading' aria-level='1'\n                  class=\"blockpy-name\">\n                <strong>BlockPy: </strong> \n                <span data-bind='text: assignment.name'></span>\n            </span>\n            \n            <!-- Reset Instructions Button -->\n            <div class=\"blockpy-instructions-reset\"\n                data-bind=\"visible: ui.instructions.isChanged\">\n                <a class=\"float-right\"\n                    data-bind=\"click: ui.instructions.reset\"\n                    href=\"\">\n                    Reset instructions</a>\n            </div>\n            \n            <!-- Instructions -->\n            <div class='blockpy-instructions'\n                 data-bind=\"html: ui.instructions.current\">\n            </div>\n        </div>\n        \n        <div class='col-md-3 blockpy-panel blockpy-quick-menu'\n             role='menubar' aria-label='Quick Menu' title=\"Quick Menu\">\n            <!-- Get Shareable Link -->\n            <!--<button class=\"btn btn-outline-secondary btn-sm\">\n                Get shareable link</button>-->\n            <span data-bind=\"visible: ui.menu.isSubmitted\">\n                Your submission is ready to be reviewed!</span>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"visible: ui.menu.canMarkSubmitted,\n                           text: ui.menu.textMarkSubmitted,\n                           click: ui.menu.clickMarkSubmitted\"></button>\n            <!-- View as instructor -->\n            <div class=\"form-check\"\n                 data-bind=\"visible: ui.role.isGrader\">\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"blockpy-as-instructor\"\n                    data-bind=\"checked: display.instructor\">\n                <label class=\"form-check-label\" for=\"blockpy-as-instructor\">\n                    View as instructor\n                </label>\n            </div>\n            <!-- Readonly mode for spying -->\n            <div data-bind=\"if: submission.ownerId() != user.id()\">\n                Owner: <span data-bind=\"text: submission.ownerId\"></span>\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"blockpy-read-only\"\n                        data-bind=\"checked: display.readOnly\">\n                    <label class=\"form-check-label\" for=\"blockpy-read-only\">\n                        Readonly?\n                    </label>\n                </div>\n            </div>\n            \n            \n            <!-- Fullscreen button -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ui.menu.clickFullscreen\"\n                title=\"Full Screen\">\n                <span class='fas' data-bind=\"class: ui.menu.textFullscreen\"></span>\n            </button>\n            <!-- Edit Queued Inputs -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ui.menu.editInputs, visible: ui.menu.showQueuedInputs\" title=\"Edit Inputs\">\n                <span class='fas fa-list-alt'></span>\n            </button>\n            <!-- Toggle Image Rendering -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-toggle=\"button\"\n                data-bind=\"click: ui.menu.toggleImages\" title=\"Toggle Images\">\n                <span class=\"fas fa-images\"></span>\n            </button>\n            <!-- Get Shareable Link Dialog -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ()=>ui.menu.startShare(false), visible: ui.menu.canShare\"\n                title=\"Get Shareable Link for Instructors or TAs\">\n                <span class=\"fas fa-link\"></span>\n            </button>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n            style=\"text-align: right; cursor: pointer\"\n            data-bind=\"click: ui.feedback.showInstructorStdout,\n                       visible: display.instructor()\"\n            title=\"Show instructor stdout in a dialog box.\">\n            <span class=\"fa fa-terminal\"></span>\n            </button>\n            <!-- Pink Bug for actual errors -->\n            <span class=\"blockpy-student-error fas fa-bug\"></span>\n            <span data-bind=\"hidden: ui.menu.showClock\" class=\"blockpy-menu-clock\"></span>\n            <!-- ko if: assignment.settings.instructionsPool -->\n                <div style=\"display: flex;\">\n                <label for=\"blockpy-set-seed\" class=\"my-1 mr-2\">Seed</label>\n                <input type=\"text\" class=\"form-control mb-2 mr-sm-2\" id=\"blockpy-set-seed\"\n                    data-bind=\"\n                    textInput: display.poolSeed,\n                    attr: {placeholder: submission.id}\n                \">\n                </div>\n            <!-- /ko -->\n        </div>\n         \n    </div>\n    \n    <!-- ko if: ui.smallLayout() -->\n    <!-- Small layout View as instructor -->\n    <div class=\"form-check\"\n         data-bind=\"visible: ui.role.isGrader\">\n        <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"blockpy-as-instructor\"\n            data-bind=\"checked: display.instructor\">\n        <label class=\"form-check-label\" for=\"blockpy-as-instructor\">\n            View as instructor\n        </label>\n    </div>\n    <!-- ko if: ui.files.visible() -->\n    ").concat(files_js__WEBPACK_IMPORTED_MODULE_3__.FILES_HTML, "\n    <!-- /ko -->\n    <!-- /ko -->\n    \n    <div class='row'>\n    <!-- Row 2: Console and Feedback -->\n    <!-- ko if: ui.secondRow.isAllVisible -->\n    <div data-bind=\"class: ui.secondRow.width\">\n    <div class='row'>\n        <!-- Console -->\n        ").concat(console_js__WEBPACK_IMPORTED_MODULE_6__.CONSOLE_HTML, "\n        <!-- Feedback -->\n        <!-- ko if: ui.secondRow.isFeedbackVisible -->\n        ").concat(feedback_js__WEBPACK_IMPORTED_MODULE_2__.FEEDBACK_HTML, "\n        <!-- /ko -->\n        <!-- Trace -->\n        <!-- ko if: ui.secondRow.isTraceVisible -->\n        ").concat(trace_js__WEBPACK_IMPORTED_MODULE_0__.TRACE_HTML, "\n        <!-- /ko -->\n    </div>\n    </div>\n    <!-- /ko -->\n    \n    <!-- Row 3: File Navigation -->\n    <!-- ko if: ui.files.visible() && !ui.smallLayout() -->\n    ").concat(files_js__WEBPACK_IMPORTED_MODULE_3__.FILES_HTML, "\n    <!-- /ko -->\n    \n    <!-- Row 4: View Row -->\n    ").concat(editors_js__WEBPACK_IMPORTED_MODULE_5__.EDITORS_HTML, "\n    \n    </div>\n    \n    \n    <!-- Row 5: Footer Row -->    \n    <!-- ko if: ui.footer.visible -->\n    <div class=\"row\">\n        ").concat(footer_js__WEBPACK_IMPORTED_MODULE_4__.FOOTER_HTML, "\n    </div>\n    <!-- /ko -->\n    \n</div>\n    ");
}

/***/ }),

/***/ "./src/pools.js":
/*!**********************!*\
  !*** ./src/pools.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   POOL_SEPARATORS: () => (/* binding */ POOL_SEPARATORS),
/* harmony export */   calculatePoolIndex: () => (/* binding */ calculatePoolIndex),
/* harmony export */   countPools: () => (/* binding */ countPools),
/* harmony export */   extractFromPool: () => (/* binding */ extractFromPool),
/* harmony export */   formatPoolInstructions: () => (/* binding */ formatPoolInstructions)
/* harmony export */ });
var POOL_SEPARATORS = {
  TESTS: /#{4,} .+ #{4,}/,
  INSTRUCTIONS: /<!-{4,}# .+ #-{4,}>/
};
function calculatePoolIndex(pools, seed) {
  return 1 + seed % (pools.length - 2);
}
function extractFromPool(pool, splitter, seed) {
  var pools = pool.split(splitter);
  if (pools.length <= 2) {
    return "#>>> Invalid Pool: Not Enough Parts!\n# Remember to include header and footer!\n# Original data is below\n" + pool;
  }
  var chosenPool = pools[calculatePoolIndex(pools, seed)];
  var poolParts = [pools[0], chosenPool, pools[pools.length - 1]];
  return poolParts.join("\n");
}
function countPools(pool, splitter) {
  return pool.split(splitter).length - 2;
}
function formatPoolInstructions(text, model) {
  var isInstructor = model.display.instructor();
  var seed = model.ui.menu.currentSeed();
  var content;
  // if (isInstructor) {
  //     content = markPools(text, POOL_SEPARATORS.INSTRUCTIONS, seed);
  // }
  content = extractFromPool(text, POOL_SEPARATORS.INSTRUCTIONS, seed);
  content += "\n\n_This question was drawn from a randomized question pool._\n";
  return content;
}

// export function markPools(pool, splitter, seed) {
//     const pools = pool.split(POOL_SEPARATORS.INSTRUCTIONS);
//     const chosenPoolIndex = calculatePoolIndex(pools, seed);
//     const content = pools.map(
//         (part, index) => {
//             if (index === 0) {
//                 return part;
//             }
//             if (index === chosenPoolIndex) {
//                 return part;
//             }
//             return part;
//         }
//     );
//     return content.join("\n---\n");
// }

/***/ }),

/***/ "./src/server.js":
/*!***********************!*\
  !*** ./src/server.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyServer: () => (/* binding */ BlockPyServer),
/* harmony export */   StatusState: () => (/* binding */ StatusState)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/storage.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }



/**
 *
 * @enum {string}
 */
var StatusState = {
  READY: "ready",
  ACTIVE: "active",
  RETRYING: "retrying",
  FAILED: "failed",
  OFFLINE: "offline"
};

/**
 * Object for communicating with the external servers. This includes functionality for
 * saving and loading files, logging events, saving completions, and retrieving history.
 *
 * @constructor
 * @this {BlockPyServer}
 * @param {Object} main - The main BlockPy instance
 */
function BlockPyServer(main) {
  this.main = main;

  // Save URLs locally for quicker access
  this.urls = main.model.configuration.urls;

  // Add the LocalStorage connection
  this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.LocalStorageWrapper("BLOCKPY");

  // FaultResistantCache
  this.queue = {
    "logEvent": JSON.parse(this.storage.getDefault("logEvent", "[]")),
    "updateSubmission": JSON.parse(this.storage.getDefault("updateSubmission", "[]"))
  };
  this.MAX_QUEUE_SIZE = {
    "logEvent": 200,
    "updateSubmission": 50
  };
  this.TIMER_DELAY = 1000;
  this.FAIL_DELAY = 2000;
  this.timers = {};
  this.overlay = null;
  this.blockingAttempts = 0;
  this.cachedFilenames = [];
  this.createSubscriptions();
  this.checkCaches();
  this.altLogEntry = null;
}

/**
 * Checks whether the IP address has changed, logging an event if that occurs.
 * @param response
 */
BlockPyServer.prototype.checkIP = function (response) {
  if (response.success) {
    if (this.storage.has("IP")) {
      var oldIP = this.storage.get("IP");
      if (oldIP !== response.ip) {
        var message = JSON.stringify({
          "old": oldIP,
          "new": response.ip
        });
        if (this.altLogEntry) {
          this.altLogEntry("X-IP.Change", undefined, undefined, message);
        } else {
          this.logEvent("X-IP.Change", undefined, undefined, message);
        }
        this.storage.set("IP", response.ip);
      }
    } else {
      this.storage.set("IP", response.ip);
    }
  }
};

/**
 * Determines if there have been previous failures cached, and if so retries them.
 * TODO: update
 */
BlockPyServer.prototype.checkCaches = function () {
  var _this = this;
  if (this.storage.has("saveAssignment")) {
    var data = JSON.parse(this.storage.get("saveAssignment"));
    this._postLatestRetry(data, "assignment", "saveAssignment", this.TIMER_DELAY);
  }
  this.cachedFilenames.forEach(function (filename) {
    if (_this.storage.has("saveFile" + filename)) {
      var _data = JSON.parse(_this.storage.get("saveFile" + filename));
      _this._postLatestRetry(_data, filename, "saveFile", _this.TIMER_DELAY);
    }
  });
  var server = this;
  Object.keys(this.queue).forEach(function (endpoint) {
    (function pushAnyQueued(response) {
      if (response.success) {
        if (server.queue[endpoint].length) {
          var data = JSON.parse(server.queue[endpoint].pop());
          var url = server.urls[endpoint];
          server._postRetry(data, endpoint, 1000, pushAnyQueued);
        }
      }
    })({
      "success": true
    });
  });
};
BlockPyServer.prototype.createFileSubscription = function (model, filename) {
  var _this2 = this;
  model.subscribe(function (contents) {
    return _this2.main.model.display.autoSave() ? _this2.saveFile(filename, contents) : false;
  }, this);
  this.cachedFilenames.push(filename);
};

/**
 * TODO: fix
 */
BlockPyServer.prototype.createSubscriptions = function () {
  var model = this.main.model;
  this.createFileSubscription(model.submission.code, "answer.py");
  this.createFileSubscription(model.assignment.onRun, "!on_run.py");
  this.createFileSubscription(model.assignment.onEval, "!on_eval.py");
  this.createFileSubscription(model.assignment.onChange, "!on_change.py");
  this.createFileSubscription(model.assignment.instructions, "!instructions.md");
  this.createFileSubscription(model.assignment.startingCode, "^starting_code.py");
  this.createFileSubscription(model.ui.files.extraStudentFiles, "#extra_student_files.blockpy");
  this.createFileSubscription(model.ui.files.extraStartingFiles, "#extra_starting_files.blockpy");
  this.createFileSubscription(model.ui.files.extraInstructorFiles, "#extra_instructor_files.blockpy");
};
BlockPyServer.prototype.createEventLogs = function () {
  var _this3 = this;
  window.onblur = function () {
    _this3.logEvent("Session.End", undefined, undefined, undefined);
  };
  window.onfocus = function () {
    _this3.logEvent("Session.Start", undefined, undefined, undefined);
  };

  // TODO: Add in beacon?
};

/**
 *
 * Some subscriptions have to happen after other things have been loaded.
 * Right now this is just after CORGIS libraries have been loaded, but maybe
 * we'll add more later and this will need to be refactored.
 *
 * TODO: fix
 *
 */
BlockPyServer.prototype.finalizeSubscriptions = function () {
  //this.main.model.assignment.settings.datasets.subscribe(this.saveAssignment.bind(this));
};
BlockPyServer.prototype.authorizeHeader = function (currentSettings) {
  if (!currentSettings) {
    currentSettings = {};
  }
  var accessToken = this.main.model.configuration.accessToken();
  if (accessToken) {
    if (!currentSettings.headers) {
      currentSettings.headers = {};
    }
    currentSettings.headers["Authorization"] = "Bearer " + accessToken;
  }
  return currentSettings;
};

/**
 * Creates the default payload for any communication with the server API
 * @returns {{assignment_id: *, course_id: *, group_id: *, user_id: *, timezone: *, version: *, timestamp: *}}
 */
BlockPyServer.prototype.createServerData = function () {
  var assignment = this.main.model.assignment;
  var user = this.main.model.user;
  var submission = this.main.model.submission;
  var display = this.main.model.display;
  var configuration = this.main.model.configuration;
  var now = new Date();
  var microseconds = now.getTime();
  var result = {
    "assignment_id": assignment.id(),
    "assignment_group_id": user.groupId(),
    "course_id": user.courseId(),
    "submission_id": submission.id(),
    "user_id": user.id(),
    "version": assignment.version(),
    "timestamp": microseconds,
    "timezone": now.getTimezoneOffset(),
    "passcode": display.passcode(),
    "part_id": configuration.partId()
  };
  return result;
};

/**
 * Updates the status and message for the relevant endpoint.
 * @param endpoint {string} one of the URL endpoints
 * @param status {StatusState}
 * @param message {string?}
 */
BlockPyServer.prototype.setStatus = function (endpoint, status, message) {
  if (endpoint in this.main.model.status) {
    this.main.model.status[endpoint](status);
    this.main.model.status[endpoint + "Message"](message || "");
  }
};

/**
 * Renders an overlay on the screen that blocks operation until the system is ready.
 * The overlay gets progressively darker to indicate repeated failures.
 */
BlockPyServer.prototype.showOverlay = function (attempt) {
  this.blockingAttempts += 1;
  if (!document.getElementsByClassName("blockpy-overlay").length) {
    this.overlay = $('<div class="blockpy-overlay"> </div>');
    this.overlay.appendTo(document.body);
  }
  switch (attempt) {
    case 0:
      this.overlay.css("background-color", "#988");
      break;
    case 1:
      this.overlay.css("background-color", "#655");
      break;
    case 2:
      this.overlay.css("background-color", "#333");
      break;
    default:
      this.overlay.css("background-color", "black");
      break;
  }
};

/**
 * Undo a level of overlay; if this was the last level, removes it from the screen.
 */
BlockPyServer.prototype.hideOverlay = function () {
  this.blockingAttempts -= 1;
  if (this.blockingAttempts <= 0) {
    this.overlay.remove();
  }
};
BlockPyServer.prototype._enqueueData = function (cache, data) {
  // Ensure we have not overfilled the queue
  var length = this.queue[cache].length;
  var max = this.MAX_QUEUE_SIZE[cache];
  if (length > max) {
    this.queue[cache] = this.queue[cache].slice(length - max, max);
  }
  // Only add the element if it's new
  var key = JSON.stringify(data);
  var index = this.queue[cache].indexOf(key);
  if (index === -1) {
    this.queue[cache].push(key);
    this.storage.set(cache, JSON.stringify(this.queue[cache]));
  }
};
BlockPyServer.prototype._dequeueData = function (cache, data) {
  var key = JSON.stringify(data);
  var index = this.queue[cache].indexOf(key);
  if (index >= 0) {
    this.queue[cache].splice(index);
    this.storage.set(cache, JSON.stringify(this.queue[cache]));
  }
};
BlockPyServer.prototype._postRetry = function (data, endpoint, delay, callback) {
  var _this4 = this;
  // Trigger request
  var postRequest = function postRequest() {
    // Make a backup of the current post
    _this4._enqueueData(endpoint, data);
    $.ajax(_objectSpread({
      url: _this4.urls[endpoint],
      type: "post",
      data: data
    }, _this4.authorizeHeader())).done(function (response) {
      _this4._dequeueData(endpoint, data);
      if (response.success) {
        _this4.setStatus(endpoint, StatusState.READY);
      } else {
        console.error(response);
        _this4.setStatus(endpoint, StatusState.FAILED, response.message);
      }
      if (callback) {
        callback(response);
      }
      if (response.success) {
        _this4.checkIP(response.ip);
      }
    })
    // If server request is the latest one, then let's try it again in a bit
    .fail(function (error, textStatus) {
      _this4.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
      _this4._postRetry(data, endpoint, delay + _this4.FAIL_DELAY, callback);
    });
  };
  if (delay === null) {
    postRequest();
  } else {
    setTimeout(postRequest, delay);
  }
};

/**
 * Make a AJAX request that, upon failure, will check to see if this was the
 * latest attempt for this `cache` marker. If so, it will attempt again until
 * successful; otherwise, it gives up the request.
 *
 * @param {Object} data - The AJAX-ready data to be posted
 * @param {String} filename - The unique name given to the relevant timer
 * @param {String} endpoint - The unique name given to the relevant cache entry
 * @param {Integer} delay - The current number of milliseconds to wait before
 trying the request again.
 */
BlockPyServer.prototype._postLatestRetry = function (data, filename, endpoint, delay, failureFunction, doneFunction) {
  var _this5 = this;
  var cache = endpoint + filename;
  var request = function request() {
    // Make a backup of the current post
    _this5.storage.set(cache, JSON.stringify(data));
    var time = _this5.storage.getTime(cache);
    // Send the request
    $.ajax(_objectSpread({
      url: _this5.urls[endpoint],
      data: data,
      type: "post"
    }, _this5.authorizeHeader())).done(function (response) {
      if (response.success) {
        _this5.checkIP(response);
        // If server request is the latest one, clear it from the cache
        var cachedTime = _this5.storage.getTime(cache);
        if (time >= cachedTime) {
          _this5.storage.remove(cache);
        }
        _this5.setStatus(endpoint, StatusState.READY);
      } else {
        // This connected but failed, don't try again but let the user know why.
        _this5.setStatus(endpoint, StatusState.FAILED, response.message);
        if (response.success === false) {
          // If we're the latest one, clear it from the cache
          var _cachedTime = _this5.storage.getTime(cache);
          if (time >= _cachedTime) {
            _this5.storage.remove(cache);
          }
          if (failureFunction) {
            failureFunction(response);
          }
        }
      }
    }).fail(function (error, textStatus) {
      _this5.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
      // If server request is the latest one, then let's try it again in a bit
      var cachedTime = _this5.storage.getTime(cache);
      if (time >= cachedTime) {
        _this5._postLatestRetry(data, filename, endpoint, delay + _this5.FAIL_DELAY);
      }
    }).done(doneFunction);
  };
  clearTimeout(this.timers[cache]);
  if (delay === null) {
    return request();
  } else {
    this.timers[cache] = setTimeout(request, delay);
  }
};
BlockPyServer.prototype._postBlocking = function (endpoint, data, attempts, success, failure) {
  var _this6 = this;
  var extraSettings = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
  this.showOverlay(attempts);
  return $.ajax(_objectSpread({
    type: "POST",
    url: this.urls[endpoint],
    data: data
  }, this.authorizeHeader(extraSettings))).done(function (response) {
    _this6.hideOverlay();
    _this6.setStatus(endpoint, StatusState.READY);
    success(response);
    _this6.checkIP(response);
  }).fail(function (e, textStatus, errorThrown) {
    if (attempts <= 0) {
      _this6.hideOverlay();
      _this6.setStatus(endpoint, StatusState.FAILED, textStatus.toString());
      if (failure) {
        failure(e, textStatus, errorThrown);
      }
    } else {
      setTimeout(function () {
        _this6.hideOverlay();
        _this6.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
        _this6._postBlocking(endpoint, data, attempts - 1, success, failure, extraSettings);
      }, _this6.FAIL_DELAY);
    }
  });
};
BlockPyServer.prototype.loadAssignment = function (assignment_id) {
  var _this7 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("loadAssignment")) {
    var data = this.createServerData();
    data["assignment_id"] = assignment_id;
    this._postBlocking("loadAssignment", data, 4, function (response) {
      if (response.success) {
        _this7.main.loadAssignmentData_(response);
      } else {
        _this7.setStatus("loadAssignment", StatusState.FAILED, response.message);
        _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(response.message);
      }
    }, function (e, textStatus, errorThrown) {
      _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(textStatus);
      console.error(e, textStatus, errorThrown);
    });
  } else {
    this.setStatus("loadAssignment", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.saveAssignment = function () {
  var _this8 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("saveAssignment")) {
    var data = this.createServerData();
    data["hidden"] = model.assignment.hidden();
    data["reviewed"] = model.assignment.reviewed();
    data["public"] = model.assignment["public"]();
    data["url"] = model.assignment.url();
    data["points"] = model.assignment.points();
    data["ip_ranges"] = model.assignment.ipRanges();
    data["name"] = model.assignment.name();
    data["settings"] = (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_1__.saveAssignmentSettings)(model);
    this._postBlocking("saveAssignment", data, 3, this.startPossibleFork.bind(this), function (e, textStatus, errorThrown) {
      _this8.main.components.dialog.ERROR_SAVING_ASSIGNMNENT(textStatus);
      console.error(e, textStatus, errorThrown);
    });
  } else {
    this.setStatus("saveAssignment", StatusState.OFFLINE, "Server is not connected! (Save Assignment)");
  }
};
BlockPyServer.prototype.loadHistory = function (callback) {
  var _this9 = this;
  if (this.main.model.ui.server.isEndpointConnected("loadHistory")) {
    var model = this.main.model;
    var data = this.createServerData();
    this._postBlocking("loadHistory", data, 2, callback, function (e, textStatus, errorThrown) {
      _this9.main.components.dialog.ERROR_LOADING_HISTORY();
      console.error(e, textStatus, errorThrown);
    });
  }
};
BlockPyServer.prototype.listUploadedFiles = function (callback) {
  var _this10 = this;
  if (this.main.model.ui.server.isEndpointConnected("listUploadedFiles")) {
    var model = this.main.model;
    var data = this.createServerData();
    this._postBlocking("listUploadedFiles", data, 2, callback, function (e, textStatus, errorThrown) {
      _this10.main.components.dialog.ERROR_LISTING_UPLOADED_FILES(textStatus);
      console.error(e, textStatus, errorThrown);
    });
  }
};
BlockPyServer.prototype.uploadFile = function (placement, directory, filename, contents, callback) {
  var _this11 = this;
  var deleteInstead = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("uploadFile")) {
    var data = this.createServerData();
    data["placement"] = placement;
    data["directory"] = directory;
    data["filename"] = filename;
    data["contents"] = contents;
    if (deleteInstead) {
      data["delete"] = true;
    }
    var fd = Object.entries(data).reduce(function (d, e) {
      return d.append.apply(d, _toConsumableArray(e)), d;
    }, new FormData());
    return this._postBlocking("uploadFile", fd, 3, callback, function (e, textStatus, errorThrown) {
      if (deleteInstead) {
        _this11.main.components.dialog.ERROR_DELETING_FILE(textStatus);
      } else {
        _this11.main.components.dialog.ERROR_UPLOADING_FILE(textStatus);
      }
      console.error(e, textStatus, errorThrown);
    }, {
      processData: false,
      contentType: false
    });
  } else {
    this.setStatus("uploadFile", StatusState.OFFLINE, "Server is not connected! (Upload File)");
  }
};
BlockPyServer.prototype.downloadFile = function (placement, directory, filename, callback) {
  var _this12 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("downloadFile")) {
    var data = this.createServerData();
    data["placement"] = placement;
    data["directory"] = directory;
    data["filename"] = filename;
    var fd = Object.entries(data).reduce(function (d, e) {
      return d.append.apply(d, _toConsumableArray(e)), d;
    }, new FormData());
    return this._postBlocking("downloadFile", fd, 3, callback, function (e, textStatus, errorThrown) {
      _this12.main.components.dialog.ERROR_DOWNLOADING_FILE(textStatus);
      console.error(e, textStatus, errorThrown);
    }, {
      processData: false,
      contentType: false,
      dataType: "text"
    });
  } else {
    this.setStatus("uploadFile", StatusState.OFFLINE, "Server is not connected! (Upload File)");
  }
};
BlockPyServer.prototype.renameFile = function (placement, directory, old_filename, new_filename, callback) {
  var _this13 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("renameFile")) {
    var data = this.createServerData();
    data["placement"] = placement;
    data["directory"] = directory;
    data["old_filename"] = old_filename;
    data["new_filename"] = new_filename;
    var fd = Object.entries(data).reduce(function (d, e) {
      return d.append.apply(d, _toConsumableArray(e)), d;
    }, new FormData());
    return this._postBlocking("renameFile", fd, 3, callback, function (e, textStatus, errorThrown) {
      _this13.main.components.dialog.ERROR_UPLOADING_FILE(textStatus);
      console.error(e, textStatus, errorThrown);
    }, {
      processData: false,
      contentType: false
    });
  } else {
    this.setStatus("renameFile", StatusState.OFFLINE, "Server is not connected! (Rename File)");
  }
};
BlockPyServer.prototype.logEvent = function (event_type, category, label, message, file_path) {
  if (this.main.model.display.readOnly()) {
    this.setStatus("logEvent", StatusState.OFFLINE);
    return;
  }
  if (this.main.model.ui.server.isEndpointConnected("logEvent")) {
    var data = this.createServerData();
    data["event_type"] = event_type;
    data["category"] = category;
    data["label"] = label;
    data["message"] = message;
    data["file_path"] = file_path;
    this.setStatus("logEvent", StatusState.ACTIVE);
    // Trigger request
    this._postRetry(data, "logEvent", 0, function () {});
  } else {
    this.setStatus("logEvent", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.saveImage = function (directory, image) {
  if (this.main.model.display.readOnly()) {
    this.setStatus("saveImage", StatusState.OFFLINE);
    return;
  }
  if (this.main.model.ui.server.isEndpointConnected("saveImage")) {
    var data = this.createServerData();
    data["directory"] = directory;
    data["image"] = image;
    this.setStatus("saveImage", StatusState.ACTIVE);
    // Trigger request
    this._postLatestRetry(data, "turtle_output", "saveImage", 0);
  } else {
    this.setStatus("saveImage", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.updateSubmissionStatus = function (newStatus) {
  var _this14 = this;
  if (this.main.model.display.readOnly()) {
    this.setStatus("updateSubmissionStatus", StatusState.OFFLINE);
    return;
  }
  if (this.main.model.ui.server.isEndpointConnected("updateSubmissionStatus")) {
    var data = this.createServerData();
    data["status"] = newStatus;
    var postStatusChange = function postStatusChange(data) {
      if (data.success) {
        _this14.main.model.submission.submissionStatus(newStatus);
      }
    };
    this._postBlocking("updateSubmissionStatus", data, 2, postStatusChange, function (e, textStatus, errorThrown) {
      _this14.main.components.dialog.ERROR_UPDATING_SUBMISSION_STATUS();
      console.error(e, textStatus, errorThrown);
    });
  }
};

/**
 * This function can be used to load files and web resources.
 *
 * DEPRECATED
 */
BlockPyServer.prototype.loadFile = function (filename, type, callback, errorCallback) {
  var model = this.main.model;
  var server = this;
  if (model.ui.server.isEndpointConnected("load_file")) {
    var data = this.createServerData();
    data["filename"] = filename;
    data["type"] = type;
    this._postBlocking(this.urls.load_file, data, 5, function (response) {
      if (response.success) {
        callback(response.data);
      } else {
        errorCallback(response.message);
        server.setStatus("loadFile", StatusState.FAILED, response.message);
      }
    }, function (e, textStatus, errorThrown) {
      errorCallback("Server failure! Report to instructor");
      console.error(errorThrown);
    });
  } else {
    errorCallback("No file server available.");
    this.setStatus("loadFile", StatusState.OFFLINE, "Server is not connected! (Load File)");
  }
};
BlockPyServer.prototype.saveFile = function (filename, contents, delay) {
  if (delay === undefined) {
    delay = this.TIMER_DELAY;
  }
  var model = this.main.model;
  if (model.display.readOnly()) {
    this.setStatus("saveFile", StatusState.OFFLINE);
    return;
  }
  if (model.ui.server.isEndpointConnected("saveFile")) {
    var data = this.createServerData();
    data["filename"] = filename;
    data["code"] = contents;
    this.setStatus("saveFile", StatusState.ACTIVE);
    return this._postLatestRetry(data, filename, "saveFile", delay, this.startPossibleFork.bind(this));
  } else {
    return this.setStatus("saveFile", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.startPossibleFork = function (response) {
  if (!response.success && response.forkable) {
    this.main.components.dialog.OFFER_FORK();
  }
};
BlockPyServer.prototype.updateSubmission = function (score, correct, hiddenOverride, forceUpdate) {
  var _this15 = this;
  if (this.main.model.display.readOnly()) {
    this.setStatus("updateSubmission", StatusState.OFFLINE);
    return;
  }
  var callback = this.main.model.configuration.callbacks.success;
  if (this.main.model.ui.server.isEndpointConnected("updateSubmission")) {
    var data = this.createServerData();
    data["score"] = score;
    data["correct"] = correct;
    data["hidden_override"] = hiddenOverride;
    data["force_update"] = forceUpdate;
    this.main.components.pythonEditor.bm.blockEditor.getPngFromBlocks(function (pngData, img) {
      data["image"] = pngData;
      if (img.remove) {
        img.remove();
      }
      _this15._postRetry(data, "updateSubmission", 0, function (response) {
        if (response.success) {
          _this15.setStatus("updateSubmission", StatusState.READY);
        } else {
          _this15.setStatus("updateSubmission", StatusState.FAILED, response.message);
        }
        if (!hiddenOverride && correct && callback) {
          callback(data["assignment_id"]);
        }
      });
    });
  }
};
BlockPyServer.prototype.openaiProxy = function (openai_data, timeout) {
  var model = this.main.model;
  var server = this;
  var data = this.createServerData();
  data["openai_data"] = openai_data;
  return this._postBlocking(this.urls.openai_proxy, data);
};

/***/ }),

/***/ "./src/skulpt_modules/coverage.js":
/*!****************************************!*\
  !*** ./src/skulpt_modules/coverage.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $sk_mod_coverage: () => (/* binding */ $sk_mod_coverage)
/* harmony export */ });
var $sk_mod_coverage = "\n\"\"\"\nHideous fill-in replacement for Coverage, leveraging some magic from the\nUtility function. The data this returns is false - it doesn't actually\ndescribe the missing lines and all lines; it just describes the traced lines.\nBut since Pedal doesn't need the other two, it works out fine when you do:\n\nstatements - missing\n\"\"\"\n\nimport utility\n\nclass Coverage:\n    def start(self):\n        pass\n\n    def stop(self):\n        pass\n\n    def save(self):\n        pass\n\n    def _analyze(self, filename: str):\n        lines = set(utility.trace_lines())\n        # lines will be the lines that were actually executed\n        return Analysis(None, len(lines), None, set(), lines)\n\n\nclass Numbers:\n    def __init__(self, n_missing, n_statements, pc_covered):\n        self.n_missing = n_missing\n        self.n_statements = n_statements\n        self.pc_covered = pc_covered\n\n\nclass Analysis:\n    def __init__(self, n_missing, n_statements, pc_covered, missing, statements):\n        self.missing = missing\n        self.statements = statements\n        self.numbers = Numbers(n_missing, n_statements, pc_covered)\n\n\nclass python:\n    def get_python_source(self):\n        return None\n";

/***/ }),

/***/ "./src/skulpt_modules/image.js":
/*!*************************************!*\
  !*** ./src/skulpt_modules/image.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $builtinmodule: () => (/* binding */ $builtinmodule)
/* harmony export */ });
var $builtinmodule = function $builtinmodule(name) {
  var mod, sampleWrapper;
  mod = {
    __name__: "image"
  };
  if (!Sk.PIL) {
    Sk.PIL = {
      assets: {}
    };
  }

  // InstantPromise is a workaround to allow usage of the clean promise-style
  // then/catch syntax but to instantly call resolve the then/catch chain so we
  // can avoid creating Suspensions in unnecessary cases.  This is desirable
  // because Suspensions have a fairly large negative impact on overall
  // performance.  These 'instant promises' come into play when a tracer()
  // call is made with a value other than 1.  When tracer is 0 or greater than 1
  // , we can bypass the creation of a Suspension and proceed to the next line of
  // code immediately if the current line is not going to involve a screen
  // update. We determine if a real promise or InstantPromise is necessary by
  // checking FrameManager.willRenderNext()
  function InstantPromise(err, result) {
    this.lastResult = result;
    this.lastError = err;
  }
  InstantPromise.prototype.then = function (cb) {
    if (this.lastError) {
      return this;
    }
    try {
      this.lastResult = cb(this.lastResult);
    } catch (e) {
      this.lastResult = undefined;
      this.lastError = e;
    }
    return this.lastResult instanceof Promise ? this.lastResult : this;
  };
  InstantPromise.prototype["catch"] = function (cb) {
    if (this.lastError) {
      try {
        this.lastResult = cb(this.lastError);
        this.lastError = undefined;
      } catch (e) {
        this.lastResult = undefined;
        this.lastError = e;
      }
    }
    return this.lastResult instanceof Promise ? this.lastResult : this;
  };
  var buildImage = function buildImage(imageData) {};
  function getAsset(name) {
    return new Promise(function (resolve, reject) {
      if (Sk.PIL.assets[name] !== undefined) {
        //return Sk.PIL.assets[name];
        resolve(Sk.PIL.assets[name]);
      } else {
        var img = new Image();
        img.crossOrigin = "Anonymous";
        img.onload = function () {
          Sk.PIL.assets[name] = img;
          resolve(img);
        };
        img.onerror = function () {
          //throw new Error("Failed to load asset: " + name);
          reject(name);
        };
        img.src = name;
      }
    });
  }
  var image = function image($gbl, $loc) {
    // open(filename) or open(url)
    // show()

    $loc.__init__ = new Sk.builtin.func(function (self, file_or_url) {
      Sk.builtin.pyCheckArgs("__init__", arguments, 2, 2);
      Sk.builtin.pyCheckType("file_or_url", "string", Sk.builtin.checkString(file_or_url));
      self.file_or_url = file_or_url;
      // TODO: Change to suspension
      var imagePromise = getAsset(Sk.ffi.remapToJs(file_or_url));
      var susp = new Sk.misceval.Suspension();
      self.image = Sk.builtin.none.none$;
      susp.resume = function () {
        if (susp.data["error"]) {
          //throw new Sk.builtin.IOError(susp.data["error"].message);
          throw susp.data["error"];
        } else {
          //return self.image;
        }
      };
      susp.data = {
        type: "Sk.promise",
        promise: imagePromise.then(function (value) {
          self.image = value;
          self.canvas = document.createElement("canvas");
          self.canvas.width = self.image.width;
          self.canvas.height = self.image.height;
          self.canvas.getContext("2d").drawImage(self.image, 0, 0, self.image.width, self.image.height);
          self.pixels = self.canvas.getContext("2d").getImageData(0, 0, self.image.width, self.image.height).data;
          //return value;
        }, function (err) {
          self.image = "";
          throw err;
          //return err;
        })
      };
      return susp;
    });
    $loc.show = new Sk.builtin.func(function (self) {
      if (Sk.console === undefined) {
        throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");
      }
      var consoleData = {
        image: self.image,
        file_or_url: self.file_or_url
      };
      Sk.console.printPILImage(consoleData);
    });
    $loc.flip = new Sk.builtin.func(function (self) {
      self.image.style.transform = "scaleX(-1)";
      if (Sk.console === undefined) {
        throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");
      }
      return self;
    });
  };
  mod.Image = Sk.misceval.buildClass(mod, image, "Image", []);
  return mod;
};

/***/ }),

/***/ "./src/skulpt_modules/pedal_tracer.js":
/*!********************************************!*\
  !*** ./src/skulpt_modules/pedal_tracer.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $pedal_tracer: () => (/* binding */ $pedal_tracer)
/* harmony export */ });
var $pedal_tracer = "\n\n\"\"\"\nWraps the tracer module in Pedal\n\"\"\"\n\nimport os\nimport utility\n        \nclass SandboxBasicTracer:\n    \"\"\"\n\n    \"\"\"\n    def __init__(self):\n        super().__init__()\n        self.filename = \"student.py\"\n        self.code = None\n\n    def as_filename(self, filename, code):\n        if os.path.isabs(filename):\n            self.filename = filename\n        else:\n            self.filename = os.path.abspath(filename)\n        self.code = code\n        return self\n\n    def __enter__(self):\n        pass\n\n    def __exit__(self, exc_type, exc_val, traceback):\n        pass\n\nclass SandboxNativeTracer(SandboxBasicTracer):\n    \"\"\"\n    Tracks lines covered and function calls. Possibly other things? We could track variables, if that\n    was something people wanted.\n\n    TODO: Handle multiple submission files?\n    \"\"\"\n    def __init__(self):\n        super().__init__()\n        #self.calls = utility.trace_calls()\n        self.lines = utility.trace_lines()\n        self.step_index = len(utility.trace_lines())\n    \n    def get_calls(self):\n        return utility.trace_calls()\n    \n    calls = property(get_calls)\n    \n    def __enter__(self):\n        utility.start_trace(self)\n\n    def __exit__(self, exc_type, exc_val, traceback):\n        utility.stop_trace(self)\n\nTRACER_STYLES = {\n    'none': SandboxBasicTracer,\n    'native': SandboxNativeTracer\n}\n\n";

/***/ }),

/***/ "./src/skulpt_modules/sk_mod_instructor.js":
/*!*************************************************!*\
  !*** ./src/skulpt_modules/sk_mod_instructor.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $sk_mod_instructor: () => (/* binding */ $sk_mod_instructor)
/* harmony export */ });
/**
 * Skulpt Module for holding the Instructor API.
 *
 * This module is loaded in by getting the functions' source code from toString.
 * Isn't that crazy?
 *
 *
 */
var $sk_mod_instructor = function $sk_mod_instructor() {
  // Main module object that gets returned at the end.
  var mod = {};
  var none = Sk.builtin.none.none$;
  var prior = null;
  mod.timeit = new Sk.builtin.func(function (name) {
    Sk.builtin.pyCheckArgs("timeit", arguments, 1, 1);
    var difference;
    if (prior === null) {
      difference = 0;
    } else {
      difference = Date.now() - prior;
    }
    console.log(Sk.ffi.remapToJs(name), difference / 1000);
    prior = Date.now();
  });

  /**
   * Logs feedback to javascript console
   */
  mod.console_log = new Sk.builtin.func(function () {
    var strArgs = Array.prototype.slice.call(arguments).map(Sk.ffi.remapToJs);
    strArgs.forEach(function (arg) {
      Sk.executionReports["model"].ui.feedback.addPositiveFeedback(arg, "comment", "rgb(128, 128, 128)", undefined, true, true);
    });
  });

  /**
   * Logs debug to javascript console
   */
  mod.console_debug = new Sk.builtin.func(function () {
    console.log("debug", arguments);
    try {
      var strArgs = Array.prototype.slice.call(arguments).map(JSON.stringify);
      strArgs.forEach(function (arg) {
        Sk.executionReports["model"].ui.feedback.addPositiveFeedback(arg, "info-circle", "rgb(128, 128, 128)", undefined, true, true);
      });
    } catch (e) {
      Sk.executionReports["model"].ui.feedback.addPositiveFeedback("Failed to render debug message: ".concat(e), "exclamation-triangle", "rgb(128, 128, 128)", undefined, true, true);
    }
  });

  /**
   * This function coverts the output in the student report to a python 
   * list and returns it.
  **/
  mod.get_output = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_output", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      var output = Sk.executionReports["student"]["output"]();
      output = output.map(function (item) {
        return item.toSkulpt();
      });
      return new Sk.builtin.list(output);
    } else {
      return new Sk.builtin.list([]);
    }
  });

  /**
   * This function resets the output, particularly useful if the student
   * code is going to be rerun.
   */
  mod.reset_output = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("reset_output", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      Sk.executionReports["student"].output.removeAll();
    }
    return Sk.builtin.none.none$;
  });

  /*mod.queue_input = new Sk.builtin.func(function() {
      Sk.builtin.pyCheckArgs("queue_input", arguments, 1, Infinity);
      let args = arguments;
      for (let i = args.length-1; i >= 0; i--) {
          let input = args[i];
          Sk.builtin.pyCheckType("input", "string", Sk.builtin.checkString(input));
          Sk.queuedInput.push(Sk.ffi.remapToJs(input));
      }
  });*/

  /**
   * This function is called by instructors to get the students' code as a string.
  **/
  mod.get_program = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_program", arguments, 0, 0);
    return Sk.ffi.remapToPy(Sk.executionReports["verifier"].code);
  });

  /**
   * This function is called by instructors to get the students' code as a string.
  **/
  mod.get_evaluation = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_evaluation", arguments, 0, 0);
    return Sk.ffi.remapToPy(Sk.executionReports["student"].evaluation || "");
  });
  mod.trace_lines = new Sk.builtin.func(function () {
    if (Sk.executionReports["student"].success) {
      var lines = Sk.executionReports["student"].realLines;
      return Sk.ffi.remapToPy(lines);
    } else {
      return new Sk.builtin.list([]);
    }
  });
  mod.trace_calls = new Sk.builtin.func(function () {
    //console.log("--", Sk.executionReports["student"]);
    //console.log("CHECKING CALLS", Sk.executionReports['student'].success);
    if (Sk.executionReports["student"].success) {
      var calls = Sk.executionReports["student"].calls;
      return Sk.ffi.remapToPy(calls);
    }
    return new Sk.builtin.dict([]);
  });
  mod.start_trace = new Sk.builtin.func(function () {
    //console.log("START/BEGIN", Sk.beforeCall, Sk.executionReports.student.tracing);
    if (Sk.beforeCall === null) {
      Sk.beforeCall = Sk.beforeCallBackup;
    }
    Sk.executionReports["student"].tracing.push(true);
    //console.log("START/END", Sk.beforeCall, Sk.executionReports.student.tracing);
  });
  mod.stop_trace = new Sk.builtin.func(function () {
    //console.log("STOP/BEGIN", Sk.beforeCall, Sk.executionReports.student.tracing);
    Sk.executionReports["student"].tracing.pop();
    if (Sk.executionReports["student"].tracing.length === 0) {
      Sk.beforeCall = null;
    }
    //console.log("STOP/END", Sk.beforeCall, Sk.executionReports.student.tracing);
  });

  /**
   *
   */
  mod.get_student_error = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_student_error", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      return new Sk.builtin.tuple([none, none]);
    } else {
      var error = Sk.executionReports["student"].error,
        position = {};
      if (error && error.traceback && error.traceback.length > 0) {
        position["line"] = error.traceback[0].lineno;
      } else {
        error = none;
      }
      position = Sk.ffi.remapToPy(position);
      return new Sk.builtin.tuple([error, position]);
    }
  });
  mod.had_execution_time_error = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("had_execution_time_error", arguments, 0, 0);
    return !Sk.executionReports["student"].success && Sk.executionReports["student"].error && Sk.executionReports["student"].error.tp$name === "TimeLimitError";
  });
  var backupTime = undefined;
  mod.limit_execution_time = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("limit_execution_time", arguments, 0, 0);
    backupTime = Sk.execLimit;
    if (Sk.execLimitFunction) {
      Sk.execLimit = Sk.execLimitFunction();
      Sk.execStart = Date.now();
    }
  });
  mod.unlimit_execution_time = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("unlimit_execution_time", arguments, 0, 0);
    Sk.execLimit = backupTime;
    Sk.execStart = Date.now();
  });
  mod.suppress_scrolling = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("suppress_scrolling", arguments, 0, 0);
    Sk.executionReports.instructor.scrolling = true;
  });

  /*
  def hist(self, data, **kwargs):
      label = kwargs.get('label', None)
      self.active_plot['data'].append({'type': 'Histogram', 'values': data, 'label': label})
  def plot(self, xs, ys=None, **kwargs):
      label = kwargs.get('label', None)
      if ys == None:
          self.active_plot['data'].append({'type': 'Line', 
                                          'x': range(len(xs)), 'y': xs, 'label': label})
      else:
          self.active_plot['data'].append({'type': 'Line', 'x': xs, 'y': ys, 'label': label})
  def scatter(self, xs, ys, **kwargs):
      label = kwargs.get('label', None)
      self.active_plot['data'].append({'type': 'Scatter', 'x': xs, 'y': ys, 'label': label})
  */
  mod.get_plots = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_plots", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      var outputs = Sk.executionReports["student"]["output"]();
      outputs = outputs.filter(function (output) {
        return output.type === "plot";
      }).map(function (graph) {
        return {
          "data": graph.content.map(function (plot) {
            var newPlot = {
              "type": plot.type,
              "label": ""
            };
            if (plot.type === "line" || plot.type === "scatter") {
              newPlot["x"] = plot.data.map(function (v) {
                return v.x;
              });
              newPlot["y"] = plot.data.map(function (v) {
                return v.y;
              });
            } else if (plot.type === "hist") {
              newPlot["values"] = plot.data;
            }
            return newPlot;
          }),
          "xlabel": "",
          "ylabel": "",
          "title": "",
          "legend": false
        };
      });
      return Sk.ffi.remapToPy(outputs);
    } else {
      return Sk.ffi.remapToPy([]);
    }
  });

  // Provides `student` as an object with all the data that the student declared.
  mod.StudentData = Sk.misceval.buildClass(mod, function ($gbl, $loc) {
    $loc.__init__ = new Sk.builtin.func(function (self) {
      //self.data = Sk.builtin.dict();
      var newDict = new Sk.builtin.dict();
      Sk.abstr.sattr(self, new Sk.builtin.str("data"), newDict, true);
      self.module = Sk.executionReports["student"].results;
      if (self.module !== undefined) {
        self.module = self.module.$d;
        for (var key in self.module) {
          if (self.module.hasOwnProperty(key)) {
            Sk.abstr.objectSetItem(newDict, Sk.ffi.remapToPy(Sk.unfixReserved(key)), self.module[key]);
          }
        }
      } else {
        self.module = {};
      }
      return Sk.builtin.none.none$;
    });
    var call_f = function call_f(kwa) {
      Sk.builtin.pyCheckArgsLen("call", arguments.length, 1, Infinity, true, true);
      var args = Array.prototype.slice.call(arguments, 1);
      var kwargs = new Sk.builtins.dict(kwa);
      var self = args[0];
      var functionName = args[1];
      args = args.slice(2);
      var inputs = kwargs.mp$lookup(new Sk.builtin.str("inputs"));
      if (inputs !== undefined) {
        inputs = Sk.ffi.remapToJs(inputs);
        if (inputs.constructor === Array) {
          inputs.forEach(function (item) {
            Sk.queuedInput.push(item);
          });
        } else {
          Sk.queuedInput.push(input);
        }
      }
      var data = self.tp$getattr(new Sk.builtin.str("data"));
      var functionObject = data.mp$lookup(functionName);
      var result = functionObject.tp$call(args);
      return result;
    };
    call_f.co_kwargs = true;
    //call_f.co_varnames = ["self", "function"];
    call_f.co_name = new Sk.builtin.str("call");
    $loc["call_$rn$"] = new Sk.builtin.func(call_f);
    $loc["__repr__"] = new Sk.builtin.func(function (self) {
      return new Sk.builtin.str("");
    });
    $loc.get_names_by_type = new Sk.builtin.func(function (self, type, exclude_builtins) {
      Sk.builtin.pyCheckArgs("get_names_by_type", arguments, 2, 3);
      if (exclude_builtins === undefined) {
        exclude_builtins = true;
      } else {
        Sk.builtin.pyCheckType("exclude_builtins", "boolean", Sk.builtin.checkBool(exclude_builtins));
        exclude_builtins = Sk.ffi.remapToJs(exclude_builtins);
      }
      var result = [];
      for (var property in self.module) {
        if (self.module.hasOwnProperty(property)) {
          if (self.module[property].tp$name === type.tp$name) {
            //console.log(exclude_builtins);
            if (exclude_builtins && property.startsWith("__")) {
              continue;
            }
            result.push(Sk.ffi.remapToPy(Sk.unfixReserved(property)));
          }
        }
      }
      return new Sk.builtin.list(result);
    });
    $loc.get_values_by_type = new Sk.builtin.func(function (self, type, exclude_builtins) {
      Sk.builtin.pyCheckArgs("get_values_by_type", arguments, 2, 3);
      if (exclude_builtins === undefined) {
        exclude_builtins = true;
      } else {
        Sk.builtin.pyCheckType("exclude_builtins", "boolean", Sk.builtin.checkBool(exclude_builtins));
        exclude_builtins = Sk.ffi.remapToJs(exclude_builtins);
      }
      var result = [];
      for (var property in self.module) {
        if (self.module.hasOwnProperty(property)) {
          if (self.module[property].tp$name === type.tp$name) {
            if (exclude_builtins && property.startsWith("__")) {
              continue;
            }
            result.push(self.module[property]);
          }
        }
      }
      return new Sk.builtin.list(result);
    });
  }, "StudentData");
  mod.student = Sk.misceval.callsimOrSuspend(mod.StudentData);
  mod.get_student_data = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_student_data", arguments, 0, 0);
    return mod.student;
  });
  mod.set_instructions = new Sk.builtin.func(function (newInstructions) {
    Sk.builtin.pyCheckArgs("set_instructions", arguments, 1, 2);
    newInstructions = Sk.ffi.remapToJs(newInstructions);
    Sk.executionReports["model"].display.changedInstructions(newInstructions);
  });
  mod.get_model_info = new Sk.builtin.func(function (keys) {
    Sk.builtin.pyCheckArgs("get_model_info", arguments, 1, 1);
    var model = Sk.executionReports["model"];
    keys = Sk.ffi.remapToJs(keys).split(".");
    for (var i = 0; i < keys.length; i++) {
      model = model[keys[i]];
    }
    return Sk.ffi.remapToPy(model());
  });
  mod.clear_existing_student_imports = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("clear_existing_student_imports", arguments, 0, 0);
    Sk.clearExistingStudentImports();
  });
  mod.download_file = new Sk.builtin.func(function (placement, directory, filename) {
    Sk.builtin.pyCheckArgs("download_file", arguments, 3, 3);
    var downloadFileUrl = Sk.executionReports["model"].configuration.urls["downloadFile"];
    var combiner = downloadFileUrl.includes("?") ? "&" : "?";
    var url = "".concat(downloadFileUrl).concat(combiner, "placement=").concat(placement, "&directory=").concat(directory, "&filename=").concat(filename);
    var prom = new Promise(function (resolve, reject) {
      var xmlhttp = new XMLHttpRequest();
      // TODO: Figure out if this needs headers

      xmlhttp.addEventListener("loadend", function (e) {
        resolve(Sk.ffi.remapToPy(xmlhttp.responseText));
      });
      xmlhttp.open("GET", url);
      xmlhttp.send(null);
    });
    var susp = new Sk.misceval.Suspension();
    var resolution = null;
    susp.resume = function () {
      return resolution;
    };
    susp.data = {
      type: "Sk.promise",
      promise: prom.then(function (value) {
        resolution = value;
        return value;
      }, function (err) {
        resolution = "";
        return err;
      })
    };
    return susp;
  });
  return mod;
};

/***/ }),

/***/ "./src/skulpt_modules/weakref.js":
/*!***************************************!*\
  !*** ./src/skulpt_modules/weakref.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $builtinmodule: () => (/* binding */ $builtinmodule)
/* harmony export */ });
var $builtinmodule = function $builtinmodule(name) {
  var mod, sampleWrapper;
  mod = {
    __name__: "weakref"
  };

  /*mod.WeakSet = Sk.abstr.buildNativeClass("weakref.WeakSet", {
      constructor: function WeakSet()
  });*/

  var WeakSet = function WeakSet($gbl, $loc) {
    $loc.__init__ = new Sk.builtin.func(function (self, data) {
      Sk.builtin.pyCheckArgs("__init__", arguments, 2, 2);
      Sk.builtin.pyCheckType("data", "iterable", Sk.builtin.checkIterable(data));
      self.data = [];
      var iter = Sk.abstr.iter(data);
      var next;
      do {
        next = Sk.abstr.iternext(iter);
        if (next !== undefined) {
          self.data.push(new WeakRef(next));
        }
      } while (next !== undefined);
      return Sk.builtin.none.none$;
    });
    $loc.__iter__ = new Sk.builtin.func(function (self) {
      var viewOfData = [];
      for (var i = 0; i < self.data.length; i++) {
        var item = self.data[i].deref();
        if (item !== undefined) {
          viewOfData.push(item);
        }
      }
      self.data = viewOfData;
      return Sk.abstr.iter(new Sk.builtin.list(viewOfData));
    });

    /*$loc.next$ = new Sk.builtin.func(function (self) {
        return self.tp$iter();
    });*/

    $loc.add = new Sk.builtin.func(function (self, item) {
      self.data.push(new WeakRef(item));
    });
  };
  mod.WeakSet = Sk.misceval.buildClass(mod, WeakSet, "WeakSet", []);
  return mod;
};

/***/ }),

/***/ "./src/storage.js":
/*!************************!*\
  !*** ./src/storage.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalStorageWrapper: () => (/* binding */ LocalStorageWrapper)
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
var LOCAL_STORAGE_REF;
try {
  LOCAL_STORAGE_REF = localStorage;
  var mod = "BLOCKPY_LOCALSTORAGE_TEST";
  LOCAL_STORAGE_REF.setItem(mod, mod);
  LOCAL_STORAGE_REF.removeItem(mod);
} catch (e) {
  LOCAL_STORAGE_REF = {
    _data: {},
    setItem: function setItem(id, val) {
      return this._data[id] = String(val);
    },
    getItem: function getItem(id) {
      return this._data.hasOwnProperty(id) ? this._data[id] : null;
    },
    removeItem: function removeItem(id) {
      return delete this._data[id];
    },
    clear: function clear() {
      return this._data = {};
    }
  };
}

/**
 * Helper object for interfacing with the LocalStorage. The LocalStorage
 * browser API allows for offline storage. That API is very unsophisticated,
 * and is essentially a lame key-value store. This object sits on top
 * and provides a number of useful utilities, including rudimentarycache
 * cache expiration.
 *
 * @constructor
 * @this {LocalStorageWrapper}
 * @param {String} namespace - A namespace to use in grouping access to localstorage. This keeps access clean and organized, while also making it possible to have multiple LocalStorage connections.
 */
function LocalStorageWrapper(namespace) {
  this.namespace = namespace;
}
/**
 * A method for adding a key/value pair to LocalStorage.
 * Note that both parameters must be strings (JSON.stringify is your friend).
 *
 * @param {String} key - The name of the key.
 * @param {String} value - The value.
 */
LocalStorageWrapper.prototype.set = function (key, value) {
  LOCAL_STORAGE_REF.setItem(this.namespace + "_" + key + "_value", value);
  LOCAL_STORAGE_REF.setItem(this.namespace + "_" + key + "_timestamp", $.now());
};

/**
 * A method for removing a key from LocalStorage.
 *
 * @param {String} key - The name of the key to remove.
 */
LocalStorageWrapper.prototype.remove = function (key) {
  LOCAL_STORAGE_REF.removeItem(this.namespace + "_" + key + "_value");
  LOCAL_STORAGE_REF.removeItem(this.namespace + "_" + key + "_timestamp");
};

/**
 * A method for retrieving the value associated with the given key.
 *
 * @param {String} key - The name of the key to retrieve the value for.
 */
LocalStorageWrapper.prototype.get = function (key) {
  return LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_value");
};

/**
 * A method for retrieving the time associated with the given key.
 *
 * @param {String} key - The name of the key to retrieve the time for.
 * @returns {Integer} - The timestamp (local epoch) when the key was last set.
 */
LocalStorageWrapper.prototype.getTime = function (key) {
  return parseInt(LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_timestamp"));
};

/**
 * A method for retrieving the value associated with the given key.
 * If the key does not exist, then the default value is used instead.
 * This default will be set.
 *
 * @param {String} key - The name of the key to retrieve the value for.
 * @param {String} defaultValue - The default value to use. Must be a string.
 */
LocalStorageWrapper.prototype.getDefault = function (key, defaultValue) {
  if (this.has(key)) {
    return this.get(key);
  } else {
    this.set(key, defaultValue);
    return defaultValue;
  }
};

/**
 * A test for whether the given key is in LocalStorage.
 *
 * @param {String} key - The key to test existence for.
 */
LocalStorageWrapper.prototype.has = function (key) {
  return LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_value") !== null;
};

/**
 * A test for whether the server has the newer version. This function
 * assumes that the server trip takes about 5 seconds. This method
 * is largely deprecated.
 *
 * @param {String} key - The key to check.
 * @param {Integer} server_time - The server's time as an epoch (in milliseconds)
 */
LocalStorageWrapper.prototype.is_new = function (key, server_time) {
  var stored_time = LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_timestamp");
  return server_time >= stored_time + 5000;
};

/***/ }),

/***/ "./src/trace.js":
/*!**********************!*\
  !*** ./src/trace.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AST_DESCRIPTIONS: () => (/* binding */ AST_DESCRIPTIONS),
/* harmony export */   BlockPyTrace: () => (/* binding */ BlockPyTrace),
/* harmony export */   TRACE_HTML: () => (/* binding */ TRACE_HTML)
/* harmony export */ });
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var TRACE_HTML = "\n\n<div class=\"blockpy-trace col-md-6 blockpy-panel\"\n            role=\"region\" aria-label=\"Trace\">\n    \n    <div class=\"clearfix\">\n        <strong>Trace: </strong>\n        \n        <!-- Feedback/Trace Visibility Control -->\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-hide-trace'\n                data-bind=\"click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span> Hide Trace\n        </button>\n    </div>\n\n    <div class=\"input-group mb-3 blockpy-trace-controls\">\n        <div class=\"input-group-prepend\">\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.first\">\n                <span class='fas fa-step-backward'></span>\n            </button>\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.backward\">\n                <span class='fas fa-backward'></span>\n            </button>\n            <span class=\"input-group-text\">Step:</span>\n            <span class=\"input-group-text\">\n                <span data-bind='text: execution.student.currentTraceStep'></span>\n                / <span data-bind='text: execution.student.lastStep'></span>\n            </span>\n        </div>\n        <div class=\"input-group-append\">\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.forward\">\n                <span class='fas fa-forward'></span>\n            </button>\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.last\">\n                <span class='fas fa-step-forward'></span>\n            </button>\n            <span class=\"input-group-text\">\n                <span data-bind='text: ui.trace.line'></span>\n            </span>\n        </div>\n    </div>\n    <p data-bind=\"text: ui.trace.ast\"></p>\n    <p>Variables after this step:</p>\n    <table class='table table-sm table-striped table-bordered table-hover'>\n        <thead>\n            <tr><th>Name</th><th>Type</th><th>Value</th></tr>\n        </thead>\n        <tbody data-bind=\"foreach: ui.trace.data().properties\">\n            <tr data-bind=\"visible: name != '__file__' && name != '__path__'\">\n                <td data-bind=\"text: name\"></td>\n                <td data-bind=\"text: type\"></td>\n                <td>\n                    <code data-bind=\"text: value\"></code>\n                    <!-- ko if: type == \"List\" -->\n                    \n                    <a href=\"\" data-bind=\"click: //$root.viewExactValue(type, exact_value)\">\n                    <span class='glyphicon glyphicon-new-window'></span>\n                    </a>\n                    <!-- /ko -->\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    \n</div>\n";
var AST_DESCRIPTIONS = {
  "Add": "An addition operator",
  "And": "A boolean AND operator",
  "AnnAssign": "An annotated assignment",
  "Assert": "An assert statement",
  "Assign": "An assignment statement",
  "AsyncFor": "An asychronous for loop",
  "AsyncFunctionDef": "An asychronous function definition",
  "AsyncWith": "An asychronous with statement",
  "Attribute": "An attribute lookup (access a field)",
  "AugAssign": "An augmented assignment",
  "AugLoad": "An augmented load",
  "AugStore": "An augmented store",
  "Await": "An await statement",
  "BinOp": "A binary operator",
  "BitAnd": "A bitwise AND operator",
  "BitOr": "A bitwise OR operator",
  "BitXor": "A bitwise XOR operator",
  "BoolOp": "A boolean operator",
  "Break": "A break statement",
  "Bytes": "A literal bytes string",
  "Call": "A function call",
  "ClassDef": "A class definition",
  "Compare": "A boolean comparison",
  "Constant": "A literal value",
  "Continue": "A continue statement",
  "Del": "A delete statement",
  "Delete": "A deletion",
  "Dict": "A dictionary literal",
  "DictComp": "A dictionary comprehension",
  "Div": "A division operator",
  "Ellipsis": "An ellipsis",
  "Eq": "An equality comparison operator",
  "ExceptHandler": "An except handler",
  "Expr": "An expression used as a statement",
  "Expression": "An evaluated expression",
  "ExtSlice": "A multi-dimensional slice",
  "FloorDiv": "An integer division operator",
  "For": "A FOR loop",
  "FormattedValue": "A formatted value in an f-string",
  "FunctionDef": "A function definition",
  "GeneratorExp": "A generator expression",
  "Global": "A global statement",
  "Gt": "A greater than comparison operator",
  "GtE": "A greater than or equal to comparison operator",
  "If": "An IF statement",
  "IfExp": "An IF expression",
  "Import": "An import statement",
  "ImportFrom": "An import/from statement",
  "In": "An IN operator",
  "Index": "An index",
  "Interactive": "An interactive expression",
  "Invert": "An invert operator",
  "Is": "An IS operator",
  "IsNot": "An IS NOT operator",
  "JoinedStr": "An f-string",
  "LShift": "A left shift operator",
  "Lambda": "A lambda expression",
  "List": "A list literal",
  "ListComp": "A list comprehension",
  "Load": "A load",
  "Lt": "A less than comparison operator",
  "LtE": "A less than or equal to comparison operator",
  "MatMult": "A matrix multiplication operator",
  "Mod": "A modulo operator",
  "Module": "A module",
  "Mult": "A multiplication operator",
  "Name": "A name",
  "NameConstant": "A name constant",
  "Nonlocal": "A nonlocal statement",
  "Not": "A not operator",
  "NotEq": "A not equal to comparison operator",
  "NotIn": "A NOT IN operator",
  "Num": "A numeric literal",
  "Or": "A boolean OR operator",
  "Param": "A parameter",
  "Pass": "A pass statement",
  "Pow": "A power operator",
  "RShift": "A right shift operator",
  "Raise": "A raise statement",
  "Return": "A return statement",
  "Set": "A set literal",
  "SetComp": "A set comprehension",
  "Slice": "A slice",
  "Starred": "A starred argument",
  "Store": "A store",
  "Str": "A string literal",
  "Sub": "A subtraction operator",
  "Subscript": "A subscript",
  "Suite": "A suite",
  "Try": "A try statement",
  "Tuple": "A tuple literal",
  "TypeIgnore": " a type ignore",
  "UAdd": "A unary addition operator",
  "USub": "A unary subtraction operator",
  "UnaryOp": "A unary operator",
  "While": "A while loop",
  "With": "A with statement",
  "Yield": "A yield statement",
  "YieldFrom": "A yield/from statement"
};
var BlockPyTrace = /*#__PURE__*/function () {
  function BlockPyTrace(main, tag) {
    _classCallCheck(this, BlockPyTrace);
    this.main = main;
    this.tag = tag;
    this.IGNORED_GLOBALS = ["__name__", "__doc__", "__package__", "classmethod", "property", "staticmethod", "$free", "$cell"];

    // this.trace.click(this.buildTraceTable.bind(this));
  }

  /**
   * Consume a set of variables traced from the execution and parse out any
   * global variables and modules.
   *
   * @param {Object} variables - a mapping of variable names to their Skupt value.
   */
  return _createClass(BlockPyTrace, [{
    key: "parseGlobals",
    value: function parseGlobals(variables) {
      var result = [];
      var modules = [];
      //console.log(variables);
      if (!this.main.model.display.traceExecution()) {
        /*if ("$cell" in variables) {
            variables = {...variables, ...variables.$cell};
        }*/
        /*if ("$free" in variables) {
            variables = {...variables, ...variables.$free};
        }*/
        for (var property in variables) {
          var value = variables[property];
          if (this.IGNORED_GLOBALS.indexOf(property) === -1 && value !== undefined) {
            property = property.replace("_$rw$", "").replace("_$rn$", "");
            var parsed = void 0;
            try {
              parsed = BlockPyTrace.parseValue(property, value);
            } catch (_unused) {
              parsed = {
                "name": property,
                "type": "Unknown",
                "value": value.toString()
              };
            }
            if (parsed !== null) {
              result.push(parsed);
            } else if (value.constructor === Sk.builtin.module) {
              modules.push(value.$d.__name__.v);
            }
          }
        }
      }
      return {
        "properties": result,
        "modules": modules
      };
    }
  }], [{
    key: "parseValue",
    value:
    /**
     * Convert a Skulpt value into a more easily printable object.
     *
     * @param {String} property
     * @param {Object} value - the skulpt value
     */
    function parseValue(property, value, fullLength) {
      if (value === undefined) {
        return {
          "name": property,
          "type": "Unknown",
          "value": "Undefined"
        };
      }
      switch (property) {
        case "dataclass":
          return {
            name: property,
            type: "Decorator",
            value: "<dataclass decorator>"
          };
      }
      switch (value.constructor) {
        case Sk.builtin.func:
          return {
            "name": property,
            "type": "Function",
            "value": value.func_code.co_varnames !== undefined ? " Parameters: " + value.func_code.co_varnames.join(", ") : " No parameters"
          };
        case Sk.builtin.module:
          return null;
        case Sk.builtin.str:
          if (fullLength || value.v.length <= 32) {
            return {
              "name": property,
              "type": "String",
              "value": value.$r().v
            };
          } else {
            return {
              "name": property,
              "type": "String",
              "value": "[" + value.sq$length() + " characters not shown]"
            };
          }
        case Sk.builtin.none:
          return {
            "name": property,
            "type": "None",
            "value": "None"
          };
        case Sk.builtin.bool:
          return {
            "name": property,
            "type": "Boolean",
            "value": value.$r().v
          };
        case Sk.builtin.nmber:
          return {
            "name": property,
            "type": "int" === value.skType ? "Integer" : "Float",
            "value": value.$r().v
          };
        case Sk.builtin.int_:
          return {
            "name": property,
            "type": "Integer",
            "value": value.$r().v
          };
        case Sk.builtin.float_:
          return {
            "name": property,
            "type": "Float",
            "value": value.$r().v
          };
        case Sk.builtin.tuple:
          return {
            "name": property,
            "type": "Tuple",
            "value": value.$r().v
          };
        case Sk.builtin.list:
          if (value.v.length <= 20) {
            return {
              "name": property,
              "type": "List",
              "value": value.$r().v,
              "exact_value": value
            };
          } else {
            return {
              "name": property,
              "type": "List",
              "value": "[... " + value.v.length + " elements ...]",
              "exact_value": value
            };
          }
        case Sk.builtin.dict:
          return {
            "name": property,
            "type": "Dictionary",
            "value": value.$r().v
          };
        case Number:
          return {
            "name": property,
            "type": value % 1 === 0 ? "Integer" : "Float",
            "value": value
          };
        case String:
          return {
            "name": property,
            "type": "String",
            "value": value
          };
        case Boolean:
          return {
            "name": property,
            "type": "Boolean",
            "value": value ? "True" : "False"
          };
        default:
          return {
            "name": property,
            "type": value.tp$name === undefined ? value : value.tp$name,
            "value": value.$r === undefined ? value : value.$r().v
          };
      }
    }
  }]);
}();

// TODO: viewExactValue

/***/ }),

/***/ "./src/utilities.js":
/*!**************************!*\
  !*** ./src/utilities.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IndexError: () => (/* binding */ IndexError),
/* harmony export */   KeyError: () => (/* binding */ KeyError),
/* harmony export */   TypeError: () => (/* binding */ _TypeError),
/* harmony export */   ValueError: () => (/* binding */ ValueError),
/* harmony export */   arrayMove: () => (/* binding */ arrayMove),
/* harmony export */   asnum$: () => (/* binding */ asnum$),
/* harmony export */   buildNativeClass: () => (/* binding */ buildNativeClass),
/* harmony export */   capitalize: () => (/* binding */ capitalize),
/* harmony export */   chain: () => (/* binding */ chain),
/* harmony export */   chainOrSuspend: () => (/* binding */ chainOrSuspend),
/* harmony export */   checkString: () => (/* binding */ checkString),
/* harmony export */   encodeHTML: () => (/* binding */ encodeHTML),
/* harmony export */   extractPart: () => (/* binding */ extractPart),
/* harmony export */   firstDefinedValue: () => (/* binding */ firstDefinedValue),
/* harmony export */   getAttr: () => (/* binding */ getAttr),
/* harmony export */   getCurrentTime: () => (/* binding */ getCurrentTime),
/* harmony export */   indent: () => (/* binding */ indent),
/* harmony export */   isTrue: () => (/* binding */ isTrue),
/* harmony export */   pyCallOrSuspend: () => (/* binding */ pyCallOrSuspend),
/* harmony export */   pyInt: () => (/* binding */ pyInt),
/* harmony export */   pyNone: () => (/* binding */ pyNone),
/* harmony export */   pyStr: () => (/* binding */ pyStr),
/* harmony export */   pyTuple: () => (/* binding */ pyTuple),
/* harmony export */   remapToJs: () => (/* binding */ remapToJs),
/* harmony export */   remapToPy: () => (/* binding */ remapToPy),
/* harmony export */   richCompareBool: () => (/* binding */ richCompareBool),
/* harmony export */   setAttr: () => (/* binding */ setAttr),
/* harmony export */   setUpModuleMethods: () => (/* binding */ setUpModuleMethods),
/* harmony export */   slug: () => (/* binding */ slug),
/* harmony export */   typeName: () => (/* binding */ typeName)
/* harmony export */ });
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * Move an element from index in an array to a new index.
 * O(n)
 * Courtesy:
 * https://stackoverflow.com/a/73877680/1718155
 * @param arr
 * @param oldIndex
 * @param newIndex
 * @returns {*}
 */
function arrayMove(arr, oldIndex, newIndex) {
  var length = arr.length;
  var itemToMove = arr[oldIndex];
  if (oldIndex === newIndex || oldIndex > length || newIndex > length) {
    return arr;
  }
  return arr.reduce(function (acc, item, index) {
    if (index === oldIndex) {
      return acc;
    }
    if (index === newIndex) {
      return oldIndex < newIndex ? [].concat(_toConsumableArray(acc), [item, itemToMove]) : [].concat(_toConsumableArray(acc), [itemToMove, item]);
    }
    return [].concat(_toConsumableArray(acc), [item]);
  }, []);
}

/**
 * Determines if the element is in the list.
 * @param {anything} needle - The element to look for.
 * @param {Array} haystack - The list to search.
 * @return {Boolean} Whether the element exists
 */
function arrayContains(needle, haystack) {
  return haystack.indexOf(needle) > -1;
}

/**
 * Remove duplicate values from an array, preserving order.
 * Creates a new array, so is non-destructive.
 * Courtesy:
 * https://stackoverflow.com/questions/1584370/how-to-merge-two-arrays-in-javascript-and-de-duplicate-items
 *
 * @param {Array} array - The array to uniquify. Elements compared with ===.
 */
function arrayUnique(array) {
  var a = array.concat();
  for (var i = 0; i < a.length; ++i) {
    for (var j = i + 1; j < a.length; ++j) {
      if (a[i] === a[j]) {
        a.splice(j--, 1);
      }
    }
  }
  return a;
}

/**
 * A helper function for extending an array based
 * on an "addArray" and "removeArray". Any element
 * found in removeArray is removed from the first array
 * and all the elements of addArray are added.
 * Any duplicate items are removed.
 * Creates a new array, so is non-destructive.
 *
 * @param {Array} array - the array to manipulate
 * @param {Array} addArray - the elements to add to the array
 * @param {Array} removeArray - the elements to remove from the array
 * @return {Array} The modified array
 */
function expandArray(array, addArray, removeArray) {
  var copyArray = array.filter(function (item) {
    return removeArray.indexOf(item) === -1;
  });
  return arrayUnique(copyArray.concat(addArray));
}

/**
 * Deeply clones a node
 * @param {Node} node A node to clone
 * @return {Node} A clone of the given node and all its children
 */
function cloneNode(node) {
  // If the node is a text node, then re-create it rather than clone it
  var clone = node.nodeType == 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);

  // Recurse     
  var child = node.firstChild;
  while (child) {
    clone.appendChild(cloneNode(child));
    child = child.nextSibling;
  }
  return clone;
}

/**
 * Indents the given string by 4 spaces. This correctly handles multi-line strings.
 *
 * @param {String} str - The string to be manipulated.
 * @returns {String} The string with four spaces added at the start of every new line.
 */
function indent(str) {
  return str.replace(/^(?=.)/gm, "    ");
}

/**
 * Turns spaces into underscores in the string, makes it lowercase.
 * @param {String} str - the string to be manipulated
 * @returns {string}
 */
function slug(str) {
  return str.replace(/\s/g, "_").toLowerCase();
}

/**
 * Capitalize the first letter of a string.
 * @param {String} s - The string to be capitalized.
 * @returns {string}
 */
function capitalize(s) {
  if (typeof s !== "string") {
    return "";
  }
  return s.charAt(0).toUpperCase() + s.slice(1);
}

/**
 * Return a random integer between [`min`, `max`].
 * 
 * @param {number} min - The lowest possible integer.
 * @param {number} max - The highest possible integer (inclusive).
 * @returns {number} A random integer.
 */
function randomInteger(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

/**
 * Encodes some text so that it can be safely written into an HTML box.
 * This includes replacing special HTML characters (&, <, >, etc.).
 *
 * @param {string} str - The text to be converted.
 * @return {string} The HTML-safe text.
 */
function encodeHTML(str) {
  return str.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
}

/**
 * Shuffle the blocks in the workspace
 */
if (typeof Blockly !== "undefined") {
  Blockly.WorkspaceSvg.prototype.shuffle = function () {
    var metrics = this.getMetrics();
    var width = metrics.viewWidth / 2,
      height = metrics.viewHeight;
    var blocks = this.getTopBlocks(false);
    var y = 5,
      x = 0,
      maximal_increase = height / blocks.length;
    for (var i = 0; i < blocks.length; i++) {
      // Get a block
      var block = blocks[i];
      var properties = block.getRelativeToSurfaceXY();
      if (i == 0) {
        x = 5;
      } else {
        x = -properties.x + randomInteger(10, width);
      }
      block.moveBy(x, -properties.y + y);
      y = y + randomInteger(5, maximal_increase);
    }
  };
}

/**
 * Move elements from one array to another based on a conditional check.
 * https://stackoverflow.com/questions/31887967/javascript-move-objects-from-one-array-to-another-best-approach
 */
function moveElements(source, target, moveCheck) {
  for (var i = 0; i < source.length; i++) {
    var element = source[i];
    if (moveCheck(element)) {
      source.splice(i, 1);
      target.push(element);
      i--;
    }
  }
}
function firstDefinedValue() {
  for (var i = 0; i < arguments.length; i++) {
    if (arguments[i] != null) {
      return arguments[i];
    }
  }
  return undefined;
}

/**
 * This function checks if the given object is one of the Sk.builtin objects
 * TODO: make this so we don't have to explicitly put out every option
 *          one possible thing we could do is get a string version of the 
 *          of the constructor and look for the substring "return new Sk.builtin"
 *          But I don't know how reliable that is.  Rather, it's kind of hackish.
 *          Should tehoretically belong in Sk.ffi
 * @param {object} obj - the object to be examined
 * @return {boolean} true if the object is one of the Sk.builtin types
**/
function isSkBuiltin(obj) {
  return obj instanceof Sk.builtin.dict || obj instanceof Sk.builtin.list || obj instanceof Sk.builtin.tuple || obj instanceof Sk.builtin.bool || obj instanceof Sk.builtin.int_ || obj instanceof Sk.builtin.float_ || obj instanceof Sk.builtin.str || obj instanceof Sk.builtin.lng;
  //var cons_str = obj.constructor + "";
  //return cons_str.indexOf("return new Sk.builtin") !== -1;
}
function isAstNode(obj) {
  return obj instanceof Object && "_astname" in obj;
}
var DEFAULT_SECTION_PATTERN = /^(##### Part (.+))$/gm;

/**
 * Finds the given Part ID using the pattern `#### Part whatever` (on its own separate line). If the pattern
 * is not found, then null is returned. If no pattern is given (empty string or null), then the original text
 * is returned without modifications.
 * @param text
 * @param partId
 * @returns {null|*}
 */
function extractPart(text, partId) {
  if (partId === "" || partId == null) {
    return text;
  }
  var parts = text.split(DEFAULT_SECTION_PATTERN);
  for (var i = 2; i < parts.length; i += 3) {
    /* // Unnecessary assertion, but not bad to think about
    if (!parts[i-1].startsWith("#### Part ")) {
        throw "Error: part format is broken!";
    }*/
    if (parts[i] === partId) {
      var body = parts[i + 1];
      if (body && body[0] === "\n") {
        body = body.slice(1);
      }
      if (i !== parts.length - 3 && body && body.slice(-1) === "\n") {
        body = body.slice(0, -1);
      }
      return body;
    }
  }
  return null;
}

/**
 * Should theoretically belong in Sk.ffi, but I put it here instead to not mess up the skulpt files
 * like the normal Sk.ffi.remapToPy, it doesn't work for functions or more complex objects, but it handles
 * cases where the types in obj are a mix of python SIMPLE objects and SIMPLE normal javascript objects
 * @param {object} obj - the object to be converted
 * @return {Sk.builtin.???} - returns the corresponding python object, dropping all functions and things it can't convert
**/
function mixedRemapToPy(obj) {
  var k;
  var kvs;
  var i;
  var arr;
  //@TODO: should theoretically check if the object is a pyhon dict or array with js objects
  if (isSkBuiltin(obj)) {
    //object is already python ready
    return obj;
  } else if (Object.prototype.toString.call(obj) === "[object Array]") {
    //object is actually a javascript array
    arr = [];
    for (i = 0; i < obj.length; ++i) {
      //for each object, convert it to a python object if it isn't one already
      var subval = obj[i];
      if (!isSkBuiltin(subval)) {
        arr.push(mixedRemapToPy(subval));
      } else {
        arr.push(subval);
      }
    }
    return new Sk.builtin.list(arr);
  } else if (obj === null) {
    //null object
    return Sk.builtin.none.none$;
  } else if (_typeof(obj) === "object") {
    if (!isSkBuiltin(obj)) {
      //assuming it's a standard dictionary
      kvs = []; //Sk.builtin.dict uses an array of key-value,key-value...
      for (k in obj) {
        //convert the key if it needs to be converted
        kvs.push(mixedRemapToPy(k));
        //covert corresponding value if it needs to be converted
        kvs.push(mixedRemapToPy(obj[k]));
      }
      //create the new dictionary
      return new Sk.builtin.dict(kvs);
    } else {
      return obj;
    }
  } else if (typeof obj === "string") {
    return new Sk.builtin.str(obj);
  } else if (typeof obj === "number") {
    return Sk.builtin.assk$(obj);
  } else if (typeof obj === "boolean") {
    return new Sk.builtin.bool(obj);
  } else if (typeof obj === "function") {
    return new Sk.builtin.str(obj.name);
  }
}
function getCurrentTime() {
  var today = new Date();
  var h = Math.floor(today.getHours() % 12);
  var m = today.getMinutes();
  //let s = today.getSeconds();
  if (m < 10) {
    m = "0" + m;
  }
  //if (s < 10) {s = "0" + s;}
  var p = "am";
  if (today.getHours() >= 12) {
    p = "pm";
  }
  return "".concat(h, ":").concat(m).concat(p);
}
var pyInt = Sk.builtin.int_;
var pyNone = Sk.builtin.none.none$;
var pyStr = Sk.builtin.str;
var pyTuple = Sk.builtin.tuple;
var pyCallOrSuspend = Sk.misceval.callsimOrSuspendArray;
var _Sk$misceval = Sk.misceval,
  isTrue = _Sk$misceval.isTrue,
  richCompareBool = _Sk$misceval.richCompareBool,
  chain = _Sk$misceval.chain;

var _Sk$abstr = Sk.abstr,
  typeName = _Sk$abstr.typeName,
  setUpModuleMethods = _Sk$abstr.setUpModuleMethods,
  buildNativeClass = _Sk$abstr.buildNativeClass;

var _Sk$builtin = Sk.builtin,
  _TypeError = _Sk$builtin.TypeError,
  ValueError = _Sk$builtin.ValueError,
  KeyError = _Sk$builtin.KeyError,
  IndexError = _Sk$builtin.IndexError,
  checkString = _Sk$builtin.checkString,
  asnum$ = _Sk$builtin.asnum$;

var _Sk$ffi = Sk.ffi,
  remapToPy = _Sk$ffi.remapToPy,
  remapToJs = _Sk$ffi.remapToJs;

var _Sk$generic = Sk.generic,
  getAttr = _Sk$generic.getAttr,
  setAttr = _Sk$generic.setAttr;

var chainOrSuspend = chain;

/***/ }),

/***/ "filepond":
/*!***************************!*\
  !*** external "FilePond" ***!
  \***************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_filepond__;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;

/***/ }),

/***/ "knockout":
/*!*********************!*\
  !*** external "ko" ***!
  \*********************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_knockout__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!************************!*\
  !*** ./src/blockpy.js ***!
  \************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPy: () => (/* binding */ BlockPy),
/* harmony export */   _IMPORTED_COMPLETE_DATASETS: () => (/* reexport safe */ _corgis__WEBPACK_IMPORTED_MODULE_18__._IMPORTED_COMPLETE_DATASETS),
/* harmony export */   _IMPORTED_DATASETS: () => (/* reexport safe */ _corgis__WEBPACK_IMPORTED_MODULE_18__._IMPORTED_DATASETS)
/* harmony export */ });
/* harmony import */ var _css_blockpy_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css/blockpy.css */ "./src/css/blockpy.css");
/* harmony import */ var _css_bootstrap_retheme_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./css/bootstrap_retheme.css */ "./src/css/bootstrap_retheme.css");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var skulpt_modules_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! skulpt_modules/image */ "./src/skulpt_modules/image.js");
/* harmony import */ var skulpt_modules_weakref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! skulpt_modules/weakref */ "./src/skulpt_modules/weakref.js");
/* harmony import */ var storage_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! storage.js */ "./src/storage.js");
/* harmony import */ var editors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! editors.js */ "./src/editors.js");
/* harmony import */ var editor_python_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! editor/python.js */ "./src/editor/python.js");
/* harmony import */ var server_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./server */ "./src/server.js");
/* harmony import */ var interface_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! interface.js */ "./src/interface.js");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./files */ "./src/files.js");
/* harmony import */ var _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./editor/abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var engine_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine.js */ "./src/engine.js");
/* harmony import */ var _trace__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./trace */ "./src/trace.js");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./console */ "./src/console.js");
/* harmony import */ var feedback_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! feedback.js */ "./src/feedback.js");
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dialog */ "./src/dialog.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* harmony import */ var _corgis__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./corgis */ "./src/corgis.js");
/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./history */ "./src/history.js");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* harmony import */ var _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./editor/sample_submissions */ "./src/editor/sample_submissions.js");
/* harmony import */ var _pools__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pools */ "./src/pools.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * @fileoverview Starting point of the BlockPy application, containing the main
 * BlockPy class.
 */





//import {$builtinmodule as matplotlibModule} from "skulpt_modules/matplotlib2";





















var EDITOR_VERSION = "5.1.2";

/**
 * Major entry point for creating a BlockPy instance.
 * Two most important fields are `model` and `components`.
 * The `model` holds all the data about the interface.
 * The `components` are references to the disparate parts of BlockPy.
 *
 * Most of this classes definition is just initializing the model and updating
 * it on an assignment switch.
 */
var BlockPy = /*#__PURE__*/function () {
  /**
   * @param {Object} configuration - User level settings (e.g., what editor mode, whether to mute semantic errors, etc.)
   * @param {Object} assignment - Assignment level settings (data about the loaded assignment, user, submission, etc.)
   * @param {Object} submission - Includes the source code of any programs to be loaded
   */
  function BlockPy(configuration, assignment, submission) {
    _classCallCheck(this, BlockPy);
    this.initModel(configuration);
    if (assignment !== undefined) {
      this.setAssignment(configuration, assignment, submission);
    }
    this.initMain();
  }

  /**
   * Initializes the BlockPy object by initializing its interface,
   * model, and components.
   *
   */
  return _createClass(BlockPy, [{
    key: "initMain",
    value: function initMain() {
      this.initUtilities();
      this.initModelMethods();
      this.turnOnHacks();
      this.initInterface();
      this.applyModel();
      this.initComponents();
      this.makeExtraSubscriptions();
      this.start();
    }
  }, {
    key: "getSetting",
    value:
    /**
     * Retrieves a default value or
     * @param {string} key - the key to look up a value for
     * @param {Object} defaultValue - if the key is not found anywhere, use this value
     */
    function getSetting(key, defaultValue) {
      if (key in this.initialConfiguration_) {
        return this.initialConfiguration_[key];
      } else if (this.localSettings_.has(key)) {
        return this.localSettings_.get(key);
      } else {
        return defaultValue;
      }
    }

    /**
     * Initializes the model to its defaults.
     *
     * Categories:
     *   * user: values for the current user (stored to server)
     *   * assignment: values for the current assignment (stored to server)
     *   * submission: values for the current submission (stored to server)
     *   * display: flags related to current visibility (stored to localSettings)
     *   * status: messages related to current status (not stored)
     *   * execution: values related to last run (not stored)
     *   * configuration: constant values related to setup (not stored)
     */
  }, {
    key: "initModel",
    value: function initModel(configuration) {
      // Connect to local storage
      this.localSettings_ = new storage_js__WEBPACK_IMPORTED_MODULE_5__.LocalStorageWrapper("localSettings");
      this.initialConfiguration_ = configuration;
      //console.log(configuration, configuration["submission.code"], configuration["partId"], extractPart(configuration["submission.code"] || "", configuration["partId"]));

      this.model = {
        user: {
          id: ko.observable(configuration["user.id"]),
          name: ko.observable(configuration["user.name"]),
          /**
           * Whether you are an Owner (can modify the assignment), Grader (can view
           * the assignments' information) or Student (can not see any instructor stuff).
           * @type {bool}
           */
          role: ko.observable(this.getSetting("user.role", "owner")),
          /**
           * Current course for this user
           */
          courseId: ko.observable(configuration["user.course_id"]),
          /**
           * Current assignment group that this user is inside
           */
          groupId: ko.observable(configuration["user.group_id"])
        },
        assignment: {
          id: ko.observable(null),
          name: ko.observable("Scratch Canvas"),
          instructions: ko.observable(configuration["assignment.instructions"] || "Welcome to BlockPy. Try editing and running the code below."),
          /**
           * The human-friendly URL to use as a shortcut for this assignment
           */
          url: ko.observable(""),
          // TODO: warning message if maze
          type: ko.observable(_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.AssigmentType.BLOCKPY),
          points: ko.observable(null),
          startingCode: ko.observable(configuration["assignment.starting_code"] || ""),
          onRun: ko.observable(configuration["assignment.on_run"] || ""),
          onChange: ko.observable(configuration["assignment.on_change"] || null),
          onEval: ko.observable(configuration["assignment.on_eval"] || null),
          extraInstructorFiles: ko.observableArray((0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(configuration["assignment.extra_instructor_files"]) || []),
          extraStartingFiles: ko.observableArray([]),
          forkedId: ko.observable(null),
          forkedVersion: ko.observable(null),
          ownerId: ko.observable(null),
          courseId: ko.observable(null),
          version: ko.observable(null),
          tags: ko.observableArray([]),
          sampleSubmissions: ko.observableArray([]),
          reviewed: ko.observable(configuration["assignment.reviewed"]),
          "public": ko.observable(configuration["assignment.public"]),
          hidden: ko.observable(configuration["assignment.hidden"]),
          ipRanges: ko.observable(configuration["assignment.ip_ranges"]),
          settings: (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.makeAssignmentSettingsModel)(configuration)
        },
        submission: {
          id: ko.observable(null),
          code: ko.observable((0,_utilities__WEBPACK_IMPORTED_MODULE_20__.extractPart)(configuration["submission.code"] || "", configuration["partId"]) || ""),
          extraFiles: ko.observableArray([]),
          url: ko.observable(""),
          endpoint: ko.observable(""),
          score: ko.observable(0),
          correct: ko.observable(false),
          // assignmentId inferred from assignment.id
          // courseId inferred from user.courseId
          // userId inferred from user.id
          // assignmentVersion inferred from assignment.version
          version: ko.observable(0),
          submissionStatus: ko.observable("Started"),
          gradingStatus: ko.observable("NotReady"),
          ownerId: ko.observable(null)
        },
        display: {
          /**
           * Currently visible File, if applicable
           * @type {String}
           */
          filename: ko.observable(null),
          /**
           * Whether or not to be presented with the instructor settings and files
           * @type {bool}
           */
          instructor: ko.observable("" + this.getSetting("display.instructor", "false") === "true"),
          /**
           * Whether or not to prevent the printer from showing things
           */
          mutePrinter: ko.observable(false),
          /**
           * (Python Views) The current editor mode.
           * @type {DisplayModes}
           */
          pythonMode: ko.observable(this.getSetting("display.python.mode", editor_python_js__WEBPACK_IMPORTED_MODULE_7__.DisplayModes.TEXT)),
          /**
           * Whether or not History mode is engaged.
           * @type {bool}
           */
          historyMode: ko.observable(false),
          /**
           * Whether or not to be auto-saving changes in Python editor
           * If an integer, specifies the delay that should be used (microseconds).
           * This is never on in non-Python editors.
           * @type {bool|int}
           */
          autoSave: ko.observable(true),
          /**
           * Whether or not the console is full width and feedback is hidden
           */
          bigConsole: ko.observable(false),
          /**
           * The height to use for the console.
           *    If null, then let the height remain unchanged
           *    If a number, then the
           */
          previousConsoleHeight: ko.observable(null),
          currentConsoleHeight: ko.observable(null),
          /**
           * Which panel to show in the second row's second column
           * @type {SecondRowSecondPanelOptions}
           */
          secondRowSecondPanel: ko.observable(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.FEEDBACK),
          previousSecondRowSecondPanel: ko.observable(null),
          /**
           * Whether or not to be tracing the code right now
           */
          traceExecution: ko.observable(false),
          /**
           * The list of promises to still resolve while loading datasets
           * @type {Array<Promise>}
           */
          loadingDatasets: ko.observableArray([]),
          /**
           * The temporary changed value of the instructions have been changed from what is in the assignment
           */
          changedInstructions: ko.observable(null),
          /**
           * A holder for the timer to trigger on-changes
           */
          triggerOnChange: null,
          /**
           * Whether the current feedback and output corresponds to the current submission.
           * This would be false if there is no feedback/output (i.e., code has not been run),
           * or if the user has modified the submission after the last run (e.g., by editing
           * the text).
           */
          dirtySubmission: ko.observable(true),
          /**
           *  Whether or not to make the BlockPy element in FULL SCREEN mode. Sadly, not fullscreen
           *  within the window, but FULL SCREEN. Very aggressive.
           */
          fullscreen: ko.observable(false),
          /**
           * User-supplied passcode to compare on the server against the current passcode.
           */
          passcode: ko.observable(""),
          /**
           * Whether or not to clear out inputs after a run/on_run cycle
           */
          clearInputs: ko.observable(true),
          /**
           * Whether or not images should be rendered (true), or just stay as text code (false).
           */
          renderImages: ko.observable(true),
          editorVersion: EDITOR_VERSION,
          readOnly: ko.observable(this.getSetting("display.read_only", "false").toString() === "true"),
          /**
           * Uploaded files are ones that have been listed by the remote
           */
          uploadedFiles: ko.observable(null),
          /**
           * Backup copy of the latest known full code for the Submission. This is relevant if there was a
           * PartID specified, in which case the submission.code in the model is only showing what we know
           * locally.
           */
          backupSubmissionCode: ko.observable(configuration["submission.code"] || ""),
          /**
           * Controls the rating system
           */
          showRating: ko.observable(this.getSetting("display.showRating", "true").toString() === "true"),
          /**
           * Whether the student has rated this current feedback
           */
          hasRated: ko.observable(false),
          /**
           * The seed that should be used for the pool; if null, then the submission id will be used.
           */
          poolSeed: ko.observable(null)
        },
        status: {
          // @type {ServerStatus}
          loadAssignment: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadAssignmentMessage: ko.observable(""),
          // @type {ServerStatus}
          loadHistory: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadHistoryMessage: ko.observable(""),
          // @type {ServerStatus}
          loadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          loadDataset: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadDatasetMessage: ko.observable(""),
          // @type {ServerStatus}
          logEvent: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          logEventMessage: ko.observable(""),
          // @type {ServerStatus}
          saveImage: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          saveImageMessage: ko.observable(""),
          // @type {ServerStatus}
          saveFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          saveFileMessage: ko.observable(""),
          // @type {ServerStatus}
          saveAssignment: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          saveAssignmentMessage: ko.observable(""),
          // @type {ServerStatus}
          updateSubmission: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          updateSubmissionMessage: ko.observable(""),
          // @type {ServerStatus}
          updateSubmissionStatus: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          updateSubmissionStatusMessage: ko.observable(""),
          // @type {ServerStatus}
          listUploadedFiles: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          listUploadedFilesMessage: ko.observable(""),
          // @type {ServerStatus}
          downloadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          downloadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          uploadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          uploadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          renameFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          renameFileMessage: ko.observable(""),
          // @type {ServerStatus}
          externalAPI: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          externalAPIMessage: ko.observable(""),
          // @type {ServerStatus}
          onExecution: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY)
        },
        execution: {
          // Information about in-progress executions
          reports: {},
          // list of Output objects
          output: ko.observableArray([]),
          // List of inputted strings
          input: ko.observableArray([]),
          inputIndex: ko.observable(0),
          // Information related to a student run
          student: {
            // str: the filename that was last executed and is associated with these results
            filename: ko.observable(null),
            // integer
            currentStep: ko.observable(null),
            // integer
            lastStep: ko.observable(null),
            // integer
            currentLine: ko.observable(null),
            lastLine: ko.observable(0),
            // array of simple objects
            currentTraceData: ko.observableArray([]),
            // integer
            currentTraceStep: ko.observable(0),
            // Actual execution results
            results: null,
            globals: ko.observable(null),
            calls: {}
          },
          instructor: {
            globals: null,
            sysmodules: undefined,
            stdout: ko.observableArray([])
          },
          // Information related to feedback from the instructor run
          feedback: {
            // str (markdown)
            message: ko.observable("Ready"),
            category: ko.observable(null),
            label: ko.observable(null),
            hidden: ko.observable(false),
            linesError: ko.observableArray([]),
            linesUncovered: ko.observableArray([]),
            // The results of the last execution
            results: null
          }
        },
        configuration: {
          /**
           * Functions to fire when certain events occur
           */
          callbacks: {
            /**
             * When the student gets a success
             */
            "success": this.initialConfiguration_["callback.success"]
          },
          /**
           * Whether or not the server is connected.
           * @type {bool}
           */
          serverConnected: ko.observable(this.getSetting("server.connected", true)),
          // string
          blocklyPath: this.initialConfiguration_["blockly.path"],
          // string
          attachmentPoint: this.initialConfiguration_["attachment.point"],
          // JQuery object
          container: null,
          // Maps codes ('log_event', 'save_code') to URLs
          urls: this.initialConfiguration_["urls"] || {},
          /**
           * Unique Part ID that can distinguish this editor instance's region of the assignment.
           * It's possible that other editors may be attached to a different Part of the same assignmnet, on the
           * same page.
           * **/
          partId: ko.observable(configuration["partId"] || ""),
          accessToken: ko.observable(configuration["access_token"] || undefined)
        }
      };
    }
  }, {
    key: "initInterface",
    value:
    /**
     * Creates the interface
     */
    function initInterface() {
      var constants = this.model.configuration;
      var gui = (0,interface_js__WEBPACK_IMPORTED_MODULE_9__.makeInterface)(this);
      constants.container = jquery__WEBPACK_IMPORTED_MODULE_2___default()(constants.attachmentPoint).html(jquery__WEBPACK_IMPORTED_MODULE_2___default()(gui));
    }
  }, {
    key: "loadAssignment",
    value: function loadAssignment(assignment_id) {
      this.components.server.loadAssignment(assignment_id);
    }
  }, {
    key: "loadTags",
    value: function loadTags(tags) {
      // Already a JSON list representing tags
    }
  }, {
    key: "loadSampleSubmissions",
    value: function loadSampleSubmissions(samples) {
      // Already a JSON list representing samples
    }
  }, {
    key: "loadNoSubmission",
    value: function loadNoSubmission(assignment) {
      this.model.submission.code(assignment.starting_code);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(assignment.extra_starting_files, this.model.submission.extraFiles);
    }
  }, {
    key: "loadSubmission",
    value: function loadSubmission(submission, assignment) {
      if (!submission) {
        // TODO: Scarier "You are not logged in message"
        this.loadNoSubmission(assignment);
        return false;
      }
      // TODO: What if submissions' assignment version and the assignments' version conflict?
      this.model.submission.id(submission.id);
      this.model.display.backupSubmissionCode(submission.code);
      this.model.submission.code((0,_utilities__WEBPACK_IMPORTED_MODULE_20__.extractPart)(submission.code, this.model.configuration.partId()) || "");
      this.model.submission.correct(submission.correct);
      this.model.submission.score(submission.score);
      this.model.submission.endpoint(submission.endpoint);
      this.model.submission.url(submission.url);
      this.model.submission.version(submission.version);
      this.model.submission.gradingStatus(submission.grading_status || _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__.SubmissionStatuses.UNKNOWN);
      this.model.submission.submissionStatus(submission.submission_status || _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__.SubmissionStatuses.UNKNOWN);
      this.model.submission.ownerId(submission.user_id);
      this.model.user.courseId(submission.course_id);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(submission.extra_files, this.model.submission.extraFiles);
    }
  }, {
    key: "loadAssignmentData_",
    value: function loadAssignmentData_(data) {
      console.debug(data);
      this.resetInterface();
      this.components.fileSystem.dismountExtraFiles();
      var wasServerConnected = this.model.configuration.serverConnected();
      this.model.configuration.serverConnected(false);
      var assignment = data.assignment;
      this.model.assignment.id(assignment.id);
      this.model.assignment.version(assignment.version);
      this.model.assignment.courseId(assignment.course_id);
      this.model.assignment.forkedId(assignment.forked_id);
      this.model.assignment.forkedVersion(assignment.forked_version);
      this.model.assignment.hidden(assignment.hidden);
      this.model.assignment.reviewed(assignment.reviewed);
      this.model.assignment["public"](assignment["public"]);
      this.model.assignment.type(assignment.type);
      this.model.assignment.url(assignment.url);
      this.model.assignment.points(assignment.points);
      this.model.assignment.ipRanges(assignment.ip_ranges);
      this.model.assignment.instructions(assignment.instructions);
      this.model.assignment.name(assignment.name);
      this.model.assignment.onChange(assignment.on_change || null);
      if (assignment.on_change) {
        this.components.fileSystem.newFile("!on_change.py", assignment.on_change);
      }
      this.model.assignment.onEval(assignment.on_eval || null);
      if (assignment.on_eval) {
        this.components.fileSystem.newFile("!on_eval.py", assignment.on_eval);
      }
      this.model.assignment.onRun(assignment.on_run);
      this.model.assignment.startingCode(assignment.starting_code);
      this.model.assignment.ownerId(assignment.owner_id);
      this.loadTags(assignment.tags);
      this.loadSampleSubmissions(assignment.sample_submissions);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(assignment.extra_instructor_files, this.model.assignment.extraInstructorFiles);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(assignment.extra_starting_files, this.model.assignment.extraStartingFiles);
      (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.loadAssignmentSettings)(this.model, assignment.settings);
      this.loadSubmission(data.submission, assignment);
      this.model.display.dirtySubmission(true);
      this.model.display.changedInstructions(null);
      this.model.configuration.serverConnected(wasServerConnected);
      this.components.corgis.loadDatasets(true);
      this.components.pythonEditor.bm.refresh();
      this.components.fileSystem.loadRemoteFiles();
      this.components.server.setStatus("saveFile", server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY);
    }
  }, {
    key: "initModelMethods",
    value: function initModelMethods() {
      var _this = this;
      var self = this;
      var model = this.model;
      model.ui = {
        smallLayout: ko.pureComputed(function () {
          return !model.display.instructor() && model.assignment.settings.smallLayout();
        }),
        role: {
          isGrader: ko.pureComputed(function () {
            return model.user.role() === "owner" || model.user.role() === "grader";
          })
        },
        instructions: {
          isChanged: ko.pureComputed(function () {
            return model.display.changedInstructions() !== null;
          }),
          current: ko.pureComputed(function () {
            var raw = model.ui.instructions.isChanged() ? model.display.changedInstructions() : model.assignment.instructions();
            if (model.assignment.settings.instructionsPool()) {
              raw = (0,_pools__WEBPACK_IMPORTED_MODULE_22__.formatPoolInstructions)(raw, model);
            }
            return self.utilities.markdown(raw);
          }),
          reset: function reset() {
            return model.display.changedInstructions(null);
          }
        },
        menu: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.onlyInteractive();
          }),
          textFullscreen: ko.pureComputed(function () {
            return model.display.fullscreen() ? "fa-compress-arrows-alt" : "fa-expand-arrows-alt";
          }),
          clickFullscreen: function clickFullscreen() {
            model.display.fullscreen(!model.display.fullscreen());
          },
          editInputs: function editInputs() {
            _this.components.dialog.EDIT_INPUTS();
          },
          toggleImages: function toggleImages() {
            if (model.display.renderImages()) {
              self.components.pythonEditor.bm.textEditor.disableImages();
            } else {
              self.components.pythonEditor.bm.textEditor.enableImages();
            }
            model.display.renderImages(!model.display.renderImages());
          },
          canMarkSubmitted: ko.pureComputed(function () {
            return model.assignment.hidden() || model.assignment.reviewed() || model.assignment.settings.canClose();
          }),
          textMarkSubmitted: ko.pureComputed(function () {
            if (model.ui.menu.isCompleted()) {
              return model.user.groupId() ? "Problem closed" : "Assignment closed";
            } else if (model.ui.menu.isSubmitted()) {
              return "Reopen for editing";
            } else if (model.display.dirtySubmission()) {
              return "Run";
            } else {
              if (!model.assignment.hidden() && model.submission.correct()) {
                return "Submit";
              } else {
                return "Submit early";
              }
            }
          }),
          clickMarkSubmitted: function clickMarkSubmitted() {
            if (model.ui.menu.isCompleted()) {
              alert("You cannot reopen closed assignments. Contact a grader!");
            } else if (model.ui.menu.isSubmitted()) {
              self.components.server.updateSubmissionStatus("inProgress");
            } else if (model.display.dirtySubmission()) {
              self.components.engine.delayedRun();
            } else {
              self.components.server.updateSubmissionStatus("Submitted");
            }
          },
          isSubmitted: ko.pureComputed(function () {
            return (model.assignment.reviewed() || model.assignment.settings.canClose()) && model.submission.submissionStatus().toLowerCase() === "submitted";
          }),
          isCompleted: ko.pureComputed(function () {
            return model.submission.submissionStatus().toLowerCase() === "completed";
          }),
          showQueuedInputs: ko.pureComputed(function () {
            return !model.assignment.settings.hideQueuedInputs();
          }),
          showClock: ko.pureComputed(function () {
            return !model.assignment.settings.hasClock();
          }),
          canShare: ko.pureComputed(function () {
            return model.configuration.urls["shareUrl"] !== undefined;
          }),
          getShareUrl: function getShareUrl(wasPrompted) {
            var parts = ["group", model.user.courseId(), model.user.groupId(), model.assignment.id(), model.user.id()];
            /*const interestingDetails = {
                "when": new Date().toISOString(),
                // "feedback": model.execution.feedback.category() + "|" + model.execution.feedback.label(),
                // "wasPrompted": wasPrompted
            };
            parts.push(btoa(JSON.stringify(interestingDetails)));
            console.log(interestingDetails);*/
            parts.push(new Date().toISOString());

            // Base64 encode the parts
            var encoded = btoa(parts.join("_"));
            // Construct the target URL using model.configuration.urls["shareUrl"]
            var baseUrl = model.configuration.urls["shareUrl"];
            return baseUrl + (baseUrl.endsWith("/") ? "" : "/") + encoded;
          },
          startShare: function startShare(wasPrompted) {
            _this.components.dialog.START_SHARE(model.ui.menu.getShareUrl(wasPrompted), wasPrompted);
          },
          currentSeed: ko.pureComputed(function () {
            return !model.display.poolSeed() && model.display.poolSeed() !== 0 ? model.submission.id() : model.display.poolSeed();
          })
        },
        secondRow: {
          width: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.smallLayout() ? "col-md-12" : "col-md-5";
          }),
          hideTraceButton: ko.pureComputed(function () {
            return !model.display.instructor() && model.assignment.settings.hideTraceButton();
          }),
          isAllVisible: ko.pureComputed(function () {
            return !model.assignment.settings.hideMiddlePanel();
          }),
          isFeedbackVisible: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.FEEDBACK;
          }),
          isTraceVisible: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE;
          }),
          isConsoleShowVisible: ko.pureComputed(function () {
            return model.ui.secondRow.isFeedbackVisible() || model.ui.secondRow.isTraceVisible();
          }),
          switchLabel: ko.pureComputed(function () {
            return model.execution.student.lastStep() !== null ? "View Trace" : "";
          }),
          advanceState: function advanceState() {
            var currentPanel = model.display.secondRowSecondPanel;
            if (currentPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.FEEDBACK);
            } else if (currentPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE);
            } else if (model.execution.student.lastStep() !== null) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE);
            } else {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE);
            }
          },
          makeWide: function makeWide() {
            var currentPanel = model.display.secondRowSecondPanel;
            model.display.previousSecondRowSecondPanel(currentPanel());
            currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE);
          },
          restorePanel: function restorePanel() {
            var oldPanel = model.display.previousSecondRowSecondPanel;
            if (oldPanel() !== null) {
              model.display.secondRowSecondPanel(oldPanel());
              oldPanel(null);
            }
          }
        },
        console: {
          size: ko.pureComputed(function () {
            return !model.display.instructor() && model.assignment.settings.smallLayout() || model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE ? "col-md-12" : "col-md-6";
          }),
          hideEvaluate: ko.pureComputed(function () {
            return model.assignment.settings.hideEvaluate() || !model.execution.student.globals() || model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE;
          })
        },
        feedback: {
          badge: ko.pureComputed(function () {
            if (model.execution.feedback.category() === null) {
              return "label-none";
            }
            switch (model.execution.feedback.category().toLowerCase()) {
              default:
              case "none":
                return "label-none";
              case "runtime":
                return "label-runtime-error";
              case "syntax":
                return "label-syntax-error";
              case "editor":
                return "label-syntax-error";
              case "internal":
                return "label-internal-error";
              case "semantic":
              case "analyzer":
                return "label-semantic-error";
              case "feedback":
              case "instructor":
                return "label-feedback-error";
              case "complete":
                return "label-problem-complete";
              case "instructions":
                return "label-instructions";
              case "no errors":
                return "label-no-errors";
            }
          }),
          category: ko.pureComputed(function () {
            if (model.execution.feedback.category() === null) {
              return "";
            }
            switch (model.execution.feedback.category().toLowerCase()) {
              default:
              case "none":
                return "";
              case "runtime":
                return "Runtime Error";
              case "syntax":
                return "Syntax Error";
              case "editor":
                return "Editor Error";
              case "internal":
                return "Internal Error";
              case "semantic":
              case "analyzer":
                return "Algorithm Error";
              case "feedback":
              case "instructions":
                return "Instructions";
              case "instructor":
                return "Incorrect Answer";
              case "complete":
                return "Complete";
              case "no errors":
                return "No errors";
            }
          }),
          resetScore: function resetScore() {
            model.submission.score(0);
            model.submission.correct(false);
            self.components.server.updateSubmission(model.submission.score(), model.submission.correct(), true, true);
          },
          provideRatings: ko.pureComputed(function () {
            return !model.assignment.hidden();
          }),
          flipRating: function flipRating() {
            var newState = !model.display.showRating();
            model.display.showRating(newState);
            self.localSettings_.set("display.showRating", newState.toString());
          },
          rate: function rate(rating) {
            var suggestShare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
            self.components.server.logEvent("X-Rating", model.execution.feedback.category(), model.execution.feedback.label(), rating);
            model.configuration.container.find(".blockpy-rating").fadeOut(500, function () {
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).fadeIn(500);
              model.display.hasRated(true);
            });
            var thankYou = model.configuration.container.find(".blockpy-feedback-thank-you");
            thankYou.addClass("show");
            setTimeout(function () {
              thankYou.removeClass("show");
              if (model.display.hasRated()) {
                model.ui.menu.startShare(true);
              }
            }, 1000);
          },
          hasRatedClass: ko.pureComputed(function () {
            return model.display.hasRated() ? "far" : "fas";
          }),
          addPositiveFeedback: function addPositiveFeedback(text, icon, color, onclick, toEnd, instructorOnly) {
            if (!instructorOnly || model.display.instructor()) {
              self.components.feedback.addPositiveFeedback(text, icon, color, onclick, toEnd);
            }
          },
          showInstructorStdout: function showInstructorStdout() {
            self.components.dialog.VIEW_INSTRUCTOR_STDOUT();
          }
        },
        trace: {
          has: ko.pureComputed(function () {
            return model.execution.student.currentTraceData() !== null;
          }),
          highlightedLine: ko.pureComputed(function () {
            if (model.display.secondRowSecondPanel() !== interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE) {
              return [];
            }
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData || step === null) {
              return [];
            } else if (step === 0) {
              return [];
            } else {
              return [traceData[step - 1].line];
            }
          }),
          line: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData || step === null) {
              return "No trace";
            }
            if (step === 0) {
              return "Before run";
            } else if (step === lastStep) {
              return "Finished run";
            } else {
              // TODO: why are these numbers wonky?
              return "Line " + traceData[step - 1].line;
            }
          }),
          ast: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData) {
              return "Nothing traced.";
            }
            switch (step) {
              case 0:
                return "Starting execution";
              case lastStep:
                if (!model.execution.reports.student.success) {
                  return "Execution halted (error)";
                }
                return "Finished execution";
              default:
                return "Current step: " + _trace__WEBPACK_IMPORTED_MODULE_13__.AST_DESCRIPTIONS[traceData[step - 1].ast];
            }
          }),
          first: function first() {
            model.execution.student.currentTraceStep(0);
          },
          backward: function backward() {
            var previous = Math.max(0, model.execution.student.currentTraceStep() - 1);
            model.execution.student.currentTraceStep(previous);
          },
          forward: function forward() {
            var next = Math.min(model.execution.student.lastStep(), model.execution.student.currentTraceStep() + 1);
            model.execution.student.currentTraceStep(next);
          },
          last: function last() {
            model.execution.student.currentTraceStep(model.execution.student.lastStep());
          },
          data: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData) {
              return [];
            }
            switch (step) {
              case 0:
                return [];
              case lastStep:
                return traceData[step - 1];
              default:
                return traceData[step];
            }
          })
        },
        files: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.hideFiles() || model.assignment.settings.preloadAllFiles();
          }),
          addIsVisible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.hideFiles();
          }),
          width: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.smallLayout() ? "col-md-12" : "col-md-6";
          }),
          hasContents: function hasContents(path) {
            switch (path) {
              case "answer.py":
                return model.submission.code();
              case "!instructions.md":
                return model.assignment.instructions();
              case "!on_change.py":
                return model.assignment.onChange() !== null;
              case "!on_eval.py":
                return model.assignment.onEval() !== null;
              case "?mock_urls.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "?mock_urls.blockpy";
                });
              case "images.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "images.blockpy";
                });
              case "!answer_prefix.py":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "!answer_prefix.py";
                });
              case "!answer_suffix.py":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "!answer_suffix.py";
                });
              case "?toolbox.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "?toolbox.blockpy";
                });
              case "!tags.blockpy":
                return model.assignment.tags().length;
              case "!sample_submissions.blockpy":
                return model.assignment.sampleSubmissions().length;
              default:
                return false;
            }
          },
          add: function add(path) {
            switch (path) {
              case "?mock_urls.blockpy":
              case "!answer_prefix.py":
              case "!answer_suffix.py":
              case "?tags.blockpy":
              case "?settings.blockpy":
                self.components.fileSystem.newFile(path);
                break;
              case "images.blockpy":
                self.components.fileSystem.newFile(path, "{}");
                break;
              case "?toolbox.blockpy":
                var normalToolbox = self.components.pythonEditor.bm.blockEditor.TOOLBOXES["normal"];
                normalToolbox = JSON.stringify(normalToolbox, null, 2);
                self.components.fileSystem.newFile(path, normalToolbox);
                break;
              case "!sample_submissions.blockpy":
                model.assignment.sampleSubmissions([_editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__.SampleSubmission.Blank()]);
                self.components.fileSystem.newFile(path);
                break;
              case "!on_change.py":
                model.assignment.onChange("");
                self.components.fileSystem.newFile(path);
                break;
              // TODO fix extrafiles for instructor and student
              case "!on_eval.py":
                model.assignment.onEval("");
                self.components.fileSystem.newFile(path);
                break;
              case "instructor":
                self.components.fileSystem.newFileDialog("instructor");
                return;
              case "student":
                self.components.fileSystem.newFileDialog("student");
                return;
              case "starting":
                self.components.fileSystem.newFileDialog("starting");
                return;
              default:
            }
            model.display.filename(path);
          },
          "delete": function _delete() {
            return self.components.fileSystem.deleteFile(model.display.filename());
          },
          rename: function rename(newName) {
            return self.components.fileSystem.renameFile(model.display.filename(), newName);
          },
          getStudentCode: function getStudentCode() {
            var prefixPy = self.components.fileSystem.getFile("!answer_prefix.py");
            var suffixPy = self.components.fileSystem.getFile("!answer_suffix.py");
            var code = self.model.submission.code();
            if (prefixPy && prefixPy.handle && prefixPy.handle()) {
              code = prefixPy.handle() + code;
            }
            if (suffixPy && suffixPy.handle && suffixPy.handle()) {
              code = code + suffixPy.handle();
            }
            return code;
          },
          extraStudentFiles: (0,_files__WEBPACK_IMPORTED_MODULE_10__.observeConcatenatedFile)(model.submission.extraFiles),
          extraInstructorFiles: (0,_files__WEBPACK_IMPORTED_MODULE_10__.observeConcatenatedFile)(model.assignment.extraInstructorFiles),
          extraStartingFiles: (0,_files__WEBPACK_IMPORTED_MODULE_10__.observeConcatenatedFile)(model.assignment.extraStartingFiles),
          displayFilename: function displayFilename(path) {
            if (path === "?mock_urls.blockpy") {
              return "URL Data";
            }
            if (path === "images.blockpy") {
              return "Images";
            }
            if (path === "!answer_prefix.py") {
              return "Answer Prefix";
            }
            if (path === "!answer_suffix.py") {
              return "Answer Suffix";
            }
            if (path === "?toolbox.blockpy") {
              return "Toolbox";
            }
            if (path.startsWith("&")) {
              return path.slice(1);
            }
            return path;
          }
        },
        editors: {
          current: ko.pureComputed(function () {
            return self.components.editors.getEditor(model.display.filename());
          }),
          width: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.smallLayout() ? "col-md-12" : "col-md-7";
          }),
          view: ko.pureComputed(function () {
            return !model.display.instructor() && (model.assignment.settings.hideEditors() || model.assignment.settings.onlyInteractive()) ? "None" : model.display.filename() ? model.ui.editors.current() : "None";
          }),
          reset: function reset() {
            self.components.server.logEvent("X-File.Reset", "", "", "", "answer.py");
            model.submission.code(model.assignment.startingCode());
            model.submission.extraFiles(model.assignment.extraStartingFiles().map(function (file) {
              var filename = file.filename().substr(1);
              return (0,_files__WEBPACK_IMPORTED_MODULE_10__.makeModelFile)(filename, file.contents());
            }));
          },
          canSave: ko.pureComputed(function () {
            return !model.display.autoSave();
          }),
          canDelete: ko.pureComputed(function () {
            return (!model.assignment.settings.hideFiles() || model.display.instructor()) && _files__WEBPACK_IMPORTED_MODULE_10__.UNDELETABLE_FILES.indexOf(model.display.filename()) === -1;
          }),
          canRename: ko.pureComputed(function () {
            return (!model.assignment.settings.hideFiles() || model.display.instructor()) && _files__WEBPACK_IMPORTED_MODULE_10__.UNRENAMABLE_FILES.indexOf(model.display.filename()) === -1;
          }),
          upload: _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_11__.uploadFile.bind(self),
          download: _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_11__.downloadFile.bind(self),
          importDataset: function importDataset() {
            self.components.corgis.openDialog();
          },
          python: {
            fullscreen: function fullscreen() {
              var codeMirror = self.components.pythonEditor.bm.textEditor.codeMirror;
              return codeMirror.setOption("fullScreen", !codeMirror.getOption("fullScreen"));
            },
            updateMode: function updateMode(newMode) {
              self.components.server.logEvent("X-View.Change", "", "", newMode, model.display.filename());
              model.display.pythonMode(newMode);
              if (model.display.filename() === "answer.py") {
                self.components.pythonEditor.oldPythonMode = newMode;
              }
            },
            isHistoryAvailable: ko.pureComputed(function () {
              return model.ui.server.isEndpointConnected("loadHistory");
            }),
            turnOffHistoryMode: function turnOffHistoryMode() {
              self.components.pythonEditor.updateEditor();
              self.components.pythonEditor.setReadOnly(false);
              model.display.historyMode(false);
            },
            turnOnHistoryMode: function turnOnHistoryMode() {
              self.components.server.loadHistory(function (response) {
                if (response.success) {
                  self.components.history.load(response.history);
                  model.display.historyMode(true);
                  self.components.pythonEditor.setReadOnly(true);
                } else {
                  self.components.dialog.ERROR_LOADING_HISTORY();
                }
              });
            },
            toggleHistoryMode: function toggleHistoryMode() {
              if (model.display.historyMode()) {
                model.ui.editors.python.turnOffHistoryMode();
              } else {
                model.ui.editors.python.turnOnHistoryMode();
              }
            },
            history: {
              start: function start() {
                self.components.history.moveToStart();
              },
              previous: function previous() {
                self.components.history.movePrevious();
              },
              next: function next() {
                self.components.history.moveNext();
              },
              mostRecent: function mostRecent() {
                self.components.history.moveToMostRecent();
              },
              use: function use() {
                self.components.history.use();
              }
            }
          },
          images: {
            uploadFile: function uploadFile() {
              return self.components.editors.byName("image").uploadFile();
            },
            deleteFile: function deleteFile(fileInfo) {
              return self.components.editors.byName("image").deleteFile(fileInfo);
            },
            renameFile: function renameFile(fileInfo) {
              return self.components.editors.byName("image").renameFile(fileInfo);
            },
            reloadImages: function reloadImages() {
              return self.components.editors.byName("image").reloadImages();
            },
            canChoosePlacement: ko.pureComputed(function () {
              return model.display.instructor();
            }),
            canModify: function canModify(placement) {
              return model.display.instructor() || placement === "submission" || placement === "user";
            }
          },
          settings: {
            save: function save() {
              return self.components.server.saveAssignment();
            }
          },
          sampleSubmissions: {
            buildEditor: function buildEditor(newDOM, index, newElement) {
              var editor = self.components.editors.byName("Sample Submissions");
              editor.buildEditor(newDOM, index, newElement);
            }
          }
        },
        execute: {
          isRunning: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE;
          }),
          runLabel: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE ? "Stop" : "Run";
          }),
          run: function run() {
            if (model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE) {
              if (typeof PygameLib !== "undefined" && PygameLib.running) {
                PygameLib.StopPygame();
              }
              model.status.onExecution(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY);
            } else {
              self.components.engine.delayedRun();
            }
          },
          runQuietlyLabel: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE ? "Stop" : "Run without feedback";
          }),
          runQuietly: function runQuietly() {
            if (model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE) {
              if (typeof PygameLib !== "undefined" && PygameLib.running) {
                PygameLib.StopPygame();
              }
              model.status.onExecution(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY);
            } else {
              self.components.engine.delayedRun(true);
            }
          },
          evaluate: function evaluate() {
            return self.components.engine.evaluate();
          }
        },
        server: {
          status: function status(endpoint) {
            return "server-status-" + model.status[endpoint]();
          },
          isEndpointConnected: function isEndpointConnected(endpoint) {
            return model.configuration.serverConnected() && model.configuration.urls !== undefined && model.configuration.urls[endpoint] !== undefined;
          },
          messages: ko.pureComputed(function () {
            return (0,_utilities__WEBPACK_IMPORTED_MODULE_20__.capitalize)(model.status.loadAssignmentMessage() || model.status.saveAssignmentMessage() || model.status.loadHistoryMessage() || model.status.loadFileMessage() || model.status.saveFileMessage() || model.status.loadDatasetMessage() || model.status.logEventMessage() || model.status.saveImage() || model.status.updateSubmissionMessage() || model.status.externalAPI() || model.status.updateSubmissionStatusMessage() || "");
          }),
          force: {
            loadAssignment: function loadAssignment(data, event) {
              //let fileHandler = $(".blockpy-force-load-assignment-file");
              var assignmentForceLoadButton = jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target);
              //fileHandler.click();
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).parent().fadeOut(100).fadeIn(100);
              // Allow user to upload a file containing an assignment submission
              var fr = new FileReader();
              var files = assignmentForceLoadButton[0].files;
              fr.onload = function (e) {
                var assignmentSubmission = JSON.parse(e.target.result);
                self.loadAssignmentData_(assignmentSubmission);
              };
              fr.fileName = files[0].name;
              fr.readAsText(files[0]);
              assignmentForceLoadButton.val("");
            },
            updateSubmission: function updateSubmission(data, event) {
              console.log(event);
              self.components.server.updateSubmission(self.model.submission.score(), self.model.submission.correct(), false, true);
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).fadeOut(100).fadeIn(100);
            }
          }
        },
        footer: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.ui.smallLayout();
          })
        }
      };
      (0,interface_js__WEBPACK_IMPORTED_MODULE_9__.makeExtraInterfaceSubscriptions)(self, model);
    }
  }, {
    key: "turnOnHacks",
    value: function turnOnHacks() {
      //console.log("TODO");
      Sk.builtinFiles.files["src/lib/image.js"] = skulpt_modules_image__WEBPACK_IMPORTED_MODULE_3__.$builtinmodule.toString();
      //Sk.builtinFiles.files["src/lib/weakref.js"] = weakrefModule.toString();
      //Sk.builtinFiles.files["src/lib/matplotlib/pyplot/__init__.js"] = matplotlibModule.toString();
    }

    /**
     * Applys the KnockoutJS bindings to the model, instantiating the values into the
     * HTML.
     */
  }, {
    key: "applyModel",
    value: function applyModel() {
      ko.applyBindings(this.model, this.model.configuration.container[0]);
    }
  }, {
    key: "initUtilities",
    value: function initUtilities() {
      var main = this;
      this.utilities = {
        markdown: function markdown(text) {
          return text ? EasyMDE.prototype.markdown(text) : "<p></p>";
        }
      };
    }
  }, {
    key: "initComponents",
    value: function initComponents() {
      var container = this.model.configuration.container;
      var components = this.components = {};
      var main = this;
      // Each of these components will take the BlockPy instance, and possibly a
      // reference to the relevant HTML location where it will be embedded.
      components.dialog = new _dialog__WEBPACK_IMPORTED_MODULE_16__.BlockPyDialog(main, container.find(".blockpy-dialog"));
      components.feedback = new feedback_js__WEBPACK_IMPORTED_MODULE_15__.BlockPyFeedback(main, container.find(".blockpy-feedback"));
      components.trace = new _trace__WEBPACK_IMPORTED_MODULE_13__.BlockPyTrace(main);
      components.console = new _console__WEBPACK_IMPORTED_MODULE_14__.BlockPyConsole(main, container.find(".blockpy-console"));
      components.engine = new engine_js__WEBPACK_IMPORTED_MODULE_12__.BlockPyEngine(main);
      components.fileSystem = new _files__WEBPACK_IMPORTED_MODULE_10__.BlockPyFileSystem(main);
      components.editors = new editors_js__WEBPACK_IMPORTED_MODULE_6__.Editors(main, container.find(".blockpy-editor"));
      // Convenient shortcut directly to PythonEditor
      components.pythonEditor = this.components.editors.byName("python");
      components.server = new server_js__WEBPACK_IMPORTED_MODULE_8__.BlockPyServer(main);
      components.corgis = new _corgis__WEBPACK_IMPORTED_MODULE_18__.BlockPyCorgis(main);
      components.history = new _history__WEBPACK_IMPORTED_MODULE_19__.BlockPyHistory(main, container.find(".blockpy-history-toolbar"));
    }
  }, {
    key: "show",
    value: function show() {
      this.model.configuration.container.show();
      //this.model.configuration.container.find(".blockpy-file-instructor").toggle(this.model.display.instructor());
    }
  }, {
    key: "hide",
    value: function hide() {
      this.model.configuration.container.hide();
    }
  }, {
    key: "makeExtraSubscriptions",
    value: function makeExtraSubscriptions() {
      var _this2 = this;
      this.model.display.changedInstructions.subscribe(function (changed) {
        _this2.components.server.logEvent("X-Instructions.Change", "", "", changed, "instructions.md");
      });
      this.clock = null;
      var container = this.model.configuration.container;
      var updateClock = function updateClock() {
        return container.find(".blockpy-menu-clock").text((0,_utilities__WEBPACK_IMPORTED_MODULE_20__.getCurrentTime)());
      };
      if (this.model.ui.menu.showClock()) {
        this.clock = setInterval(updateClock, 1000);
      }
      this.model.ui.menu.showClock.subscribe(function (changed) {
        if (_this2.model.ui.menu.showClock()) {
          if (_this2.clock) {
            clearInterval(_this2.clock);
            _this2.clock = null;
          }
        } else {
          if (!_this2.clock) {
            _this2.clock = setInterval(updateClock, 1000);
          }
        }
      });
    }
  }, {
    key: "start",
    value: function start() {
      this.model.display.filename("answer.py");
    }
  }, {
    key: "resetInterface",
    value: function resetInterface() {
      this.components.engine.reset();
      // Disable any alternative logEntry functions we have been given
      this.components.server.altLogEntry = null;
    }
  }, {
    key: "requestPasscode",
    value: function requestPasscode() {
      var userSuppliedPasscode = prompt("Please enter the passcode.");
      this.model.display.passcode(userSuppliedPasscode);
    }
  }, {
    key: "destroy",
    value: function destroy() {}
  }, {
    key: "settingsToJson",
    value: function settingsToJson() {
      return (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.saveAssignmentSettings)(this.model);
    }
  }]);
}();
})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0IsR0FBR3JxQyxNQUFNLENBQUMsNEJBQTRCLENBQUM7TUFDL0QsSUFBSSxDQUFDdGIsS0FBSyxDQUFDSSxPQUFPLENBQUMyb0MsUUFBUSxDQUFDNGMsb0JBQW9CLENBQUM7SUFDckQ7RUFBQztJQUFBbmxELEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFtbEQsT0FBT0EsQ0FBQSxFQUFHLENBRVY7RUFBQztJQUFBcGxELEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFvbEQsY0FBY0EsQ0FBQSxFQUFHO01BQ2IsT0FBTy90QyxvRkFBc0IsQ0FBQyxJQUFJLENBQUM5WCxLQUFLLENBQUM7SUFDN0M7RUFBQztBQUFBLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2NvbnNvbGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jb3JnaXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jc3MvYmxvY2tweS5jc3MiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jc3MvYm9vdHN0cmFwX3JldGhlbWUuY3NzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZGlhbG9nLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL2Fic3RyYWN0X2VkaXRvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9hc3NpZ25tZW50X3NldHRpbmdzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL2RlZmF1bHRfaGVhZGVyLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL2ltYWdlcy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9qc29uLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL21hcmtkb3duLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL3B5dGhvbi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9xdWl6LmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL3NhbXBsZV9zdWJtaXNzaW9ucy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci90YWdzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL3RleHQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3IvdG9vbGJveC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvcnMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvY29uZmlndXJhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvZXZhbC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9pbnN0cnVjdG9yLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL29uX2NoYW5nZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9ldmFsLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL29uX3J1bi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9zYW1wbGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvcnVuLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL3NhbXBsZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9zdHVkZW50LmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZmVlZGJhY2suanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9maWxlcy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2Zvb3Rlci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9pbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9wb29scy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NlcnZlci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NrdWxwdF9tb2R1bGVzL2NvdmVyYWdlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc2t1bHB0X21vZHVsZXMvaW1hZ2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9za3VscHRfbW9kdWxlcy9wZWRhbF90cmFjZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9za3VscHRfbW9kdWxlcy9za19tb2RfaW5zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NrdWxwdF9tb2R1bGVzL3dlYWtyZWYuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvdHJhY2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy91dGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS9leHRlcm5hbCB1bWQgXCJGaWxlUG9uZFwiIiwid2VicGFjazovL2Jsb2NrcHkvZXh0ZXJuYWwgdW1kIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vYmxvY2tweS9leHRlcm5hbCB1bWQgXCJrb1wiIiwid2VicGFjazovL2Jsb2NrcHkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmxvY2tweS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmxvY2tweS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvYmxvY2tweS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJGaWxlUG9uZFwiKSwgcmVxdWlyZShcImpRdWVyeVwiKSwgcmVxdWlyZShcImtvXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiYmxvY2tweVwiLCBbXCJGaWxlUG9uZFwiLCBcImpRdWVyeVwiLCBcImtvXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJsb2NrcHlcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJGaWxlUG9uZFwiKSwgcmVxdWlyZShcImpRdWVyeVwiKSwgcmVxdWlyZShcImtvXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJibG9ja3B5XCJdID0gZmFjdG9yeShyb290W1wiRmlsZVBvbmRcIl0sIHJvb3RbXCJqUXVlcnlcIl0sIHJvb3RbXCJrb1wiXSk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZmlsZXBvbmRfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qcXVlcnlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9rbm9ja291dF9fKSA9PiB7XG5yZXR1cm4gIiwiaW1wb3J0IHtlbmNvZGVIVE1MfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuLyoqXG4gKiBFdmFsdWF0ZSBidXR0b24gSFRNTCB0ZW1wbGF0ZVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgU1RBUlRfRVZBTF9IVE1MID0gYFxuPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lIGZsb2F0LXJpZ2h0IGJsb2NrcHktYnRuLWV2YWxcIj5cbiAgICBFdmFsdWF0ZVxuPC9idXR0b24+YDtcblxuLyoqXG4gKiBIVE1MIHRlbXBsYXRlIGZvciBhIG5ldyBsaW5lIGluIHRoZSBjb25zb2xlLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgTkVXX0NPTlNPTEVfTElORV9IVE1MID0gXCI8ZGl2PjwvZGl2PlwiO1xuXG4vKipcbiAqIEhUTUwgdGVtcGxhdGUgZm9yIHRoZSBlbnRpcmUgY29uc29sZSBhcmVhXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ09OU09MRV9IVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9J2Jsb2NrcHktcGFuZWwgYmxvY2tweS1jb25zb2xlJ1xuICAgICAgICAgIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxhYmVsPVwiQ29uc29sZVwiXG4gICAgICAgICAgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLmNvbnNvbGUuc2l6ZVwiPlxuICAgICAgICAgIFxuICAgICAgICA8IS0tIEZlZWRiYWNrL1RyYWNlIFZpc2liaWxpdHkgQ29udHJvbCAtLT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgY2xhc3M9J2J0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGZsb2F0LXJpZ2h0IGJsb2NrcHktc2hvdy1mZWVkYmFjaydcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLnNlY29uZFJvdy5pc0NvbnNvbGVTaG93VmlzaWJsZSwgY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZXllJz48L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICA8c3Ryb25nPkNvbnNvbGU6PC9zdHJvbmc+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LXByaW50ZXIgYmxvY2tweS1wcmludGVyLWRlZmF1bHQnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQWxsIHRoZSBwb3NzaWJsZSB0eXBlcyBmb3IgYSBsaW5lIGluIHRoZSBjb25zb2xlLlxuICogQGVudW1cbiAqL1xuZXhwb3J0IGxldCBDb25zb2xlTGluZVR5cGUgPSB7XG4gICAgVEVYVDogXCJ0ZXh0XCIsXG4gICAgSFRNTDogXCJodG1sXCIsXG4gICAgUExPVDogXCJwbG90XCIsXG4gICAgSU1BR0U6IFwiaW1hZ2VcIixcbiAgICBQWUdBTUU6IFwicHlnYW1lXCIsXG4gICAgRFJBRlRFUjogXCJkcmFmdGVyXCIsXG4gICAgVFVSVExFOiBcInR1cnRsZVwiLFxuICAgIEVWQUw6IFwiZXZhbFwiLFxuICAgIFNUQVJUX0VWQUw6IFwic3RhcnRfZXZhbFwiLFxuICAgIFZBTFVFOiBcInZhbHVlXCIsXG4gICAgSU5QVVQ6IFwiaW5wdXRcIixcbiAgICBURVNUX0NBU0U6IFwidGVzdF9jYXNlXCJcbn07XG5cbi8qKlxuICogQWJzdHJhY3QgdmVyc2lvbiBvZiBhIGxpbmUgaW4gdGhlIGNvbnNvbGUuIEFsbCBvdGhlciBjb25zb2xlIGxpbmVzXG4gKiBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuIENyaXRpY2FsbHksIHRoZXkgbmVlZCB0byBpbXBsZW1lbnQgYSByZW5kZXIgZnVuY3Rpb24uXG4gKi9cbmNsYXNzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0eXBlLCBjb250ZW50KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlLlxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge0Jsb2NrUHl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2F0ZWdvcml6ZXMgd2hhdCBraW5kIG9mIGxpbmUgdGhpcyBpcyAodGV4dC9odG1sL3Bsb3QvZXRjLilcbiAgICAgICAgICogQHR5cGUge0NvbnNvbGVMaW5lVHlwZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWN0dWFsIGRhdGEgc3RvcmVkIG9uIHRoaXMgbGluZS5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZXRhZGF0YSBhYm91dCB3aGVyZSB0aGUgbGluZSBvcmlnaW5hdGVkIGZyb20gaW4gdGhlIGNvZGUuXG4gICAgICAgICAqIEB0eXBlIHt7ZmlsZW5hbWU6IHN0cmluZywgbGluZTogbnVtYmVyLCBzdGVwOiBudW1iZXJ9fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW4gPSB7XG4gICAgICAgICAgICBmaWxlbmFtZTogU2suY3VyckZpbGVuYW1lLFxuICAgICAgICAgICAgc3RlcDogbWFpbi5jb21wb25lbnRzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcCxcbiAgICAgICAgICAgIGxpbmU6IG1haW4uY29tcG9uZW50cy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmVcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBIVE1MIGNvbnRlbnQgc3RvcmVkIG9uIHRoaXMgbGluZSwgbWVhbnQgdG8gYmUgcmVuZGVyZWRcbiAgICAgICAgICogdG8gdGhlIHVzZXIuXG4gICAgICAgICAqIEB0eXBlIHsqfGpRdWVyeS5mbi5pbml0fGpRdWVyeXxIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaHRtbCA9ICQoXCI8ZGl2PjwvZGl2PlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6ICBcImJsb2NrcHktcHJpbnRlci1vdXRwdXRcIixcbiAgICAgICAgICAgIFwiZGF0YS1jb250YWluZXJcIjogbWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmF0dGFjaG1lbnRQb2ludCxcbiAgICAgICAgICAgIFwiZGF0YS10b2dnbGVcIjogXCJ0b29sdGlwXCIsXG4gICAgICAgICAgICBcImRhdGEtcGxhY2VtZW50XCI6IFwiYXV0b1wiLFxuICAgICAgICAgICAgXCJkYXRhLXN0ZXBcIjogdGhpcy5vcmlnaW4uc3RlcCxcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJTdGVwIFwiICsgdGhpcy5vcmlnaW4uc3RlcCArIFwiLCBMaW5lIFwiICsgdGhpcy5vcmlnaW4ubGluZVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgbGluZSBzaG91bGQgYmUgdmlzaWJsZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlzaWJsZSA9ICFtYWluLm1vZGVsLmRpc3BsYXkubXV0ZVByaW50ZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBTa3VscHQgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBjb25zb2xlIGxpbmUncyBjb250ZW50LlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHRvU2t1bHB0KCkge1xuICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeSh0aGlzLmNvbnRlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGlzIGNvbnNvbGUgbGluZSBieSBkZWxldGluZyBpdHMgSFRNTCByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cbiAgICBkZWxldGUoKSB7XG4gICAgICAgIHRoaXMuaHRtbC5yZW1vdmUoKTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lVHVydGxlIGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIC8vIFRPRE86IENhcHR1cmUgdHVydGxlIGNvbW1hbmRzIGZvciB0cmFjaW5nIHB1cnBvc2VzXG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuVFVSVExFKTtcbiAgICAgICAgdGhpcy5odG1sLmFkZENsYXNzKFwiYmxvY2tweS1jb25zb2xlLXR1cnRsZS1vdXRwdXRcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHdoZXJlLnByZXBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIC8vdGhpcy5odG1sWzBdLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gICAgICAgICAgICB2YXIgdG9wID0gdGhpcy5odG1sLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIC8vJCgnaHRtbCcpLnNjcm9sbFRvcCh0b3ApO1xuICAgICAgICAgICAgJChcImh0bWxcIikuc2Nyb2xsVG9wKHRvcCk7XG4gICAgICAgICAgICAvL3RoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lRHJhZnRlciBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBzaXplLCBmdWxsc2NyZWVuKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5EUkFGVEVSKTtcbiAgICAgICAgdGhpcy5odG1sLmFkZENsYXNzKFwiYmxvY2tweS1jb25zb2xlLWRyYWZ0ZXItb3V0cHV0XCIpO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmZ1bGxzY3JlZW4gPSBmdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB3aGVyZS5wcmVwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICB2YXIgdG9wID0gdGhpcy5odG1sLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgICQoXCJodG1sXCIpLnNjcm9sbFRvcCh0b3ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgLy8gU3RhcnRzIG9mZiBhcyBhIG5vLW9wXG4gICAgfVxuXG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLnNlY29uZFJvdy5yZXN0b3JlUGFuZWwoKTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lUHlnYW1lIGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHNpemUsIGZ1bGxzY3JlZW4sIHB5Z2FtZU9iaikge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuUFlHQU1FKTtcbiAgICAgICAgdGhpcy5odG1sLmFkZENsYXNzKFwiYmxvY2tweS1jb25zb2xlLXB5Z2FtZS1vdXRwdXRcIik7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuZnVsbHNjcmVlbiA9IGZ1bGxzY3JlZW47XG4gICAgICAgIHRoaXMucHlnYW1lT2JqID0gcHlnYW1lT2JqO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgLy9Tay5tYWluX2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlDYW52YXNcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQodGhpcy5jYW52YXMpO1xuICAgICAgICAgICAgd2hlcmUucHJlcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgdmFyIHRvcCA9IHRoaXMuaHRtbC5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAkKFwiaHRtbFwiKS5zY3JvbGxUb3AodG9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIC8vIFN0YXJ0cyBvZmYgYXMgYSBuby1vcFxuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCA9ICgpID0+IHt9O1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuc2Vjb25kUm93LnJlc3RvcmVQYW5lbCgpO1xuICAgIH1cblxuICAgIGZpbmFsaXplKGNsZWFudXBGdW5jdGlvbiwgbGlzdGVuZXJzKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNsZWFudXAgPSAoKSA9PiBjbGVhbnVwRnVuY3Rpb24odGhpcy5weWdhbWVPYmosIGxpc3RlbmVycyk7XG4gICAgfVxuXG59XG5cbmNsYXNzIENvbnNvbGVMaW5lSW1hZ2UgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgY29udGVudCkge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuSU1BR0UsIGNvbnRlbnQpO1xuICAgICAgICB0aGlzLmh0bWwuYWRkQ2xhc3MoXCJibG9ja3B5LWNvbnNvbGUtaW1hZ2Utb3V0cHV0XCIpO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5odG1sLmFwcGVuZCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICAvL3RoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lUGxvdCBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBjb250ZW50KSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5QTE9ULCBjb250ZW50KTtcbiAgICAgICAgdGhpcy5odG1sLmFkZENsYXNzKFwiYmxvY2tweS1jb25zb2xlLXBsb3Qtb3V0cHV0XCIpO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIC8vdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVUZXh0IGV4dGVuZHMgQ29uc29sZUxpbmUge1xuXG4gICAgYWRkQ29udGVudChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuY29udGVudCArIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGxldCBlbmNvZGVkVGV4dCA9IGVuY29kZUhUTUwodGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgIGlmICghZW5jb2RlZFRleHQgfHwgZW5jb2RlZFRleHQudHJpbSgpLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgZW5jb2RlZFRleHQgPSBcIlxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxpbmVEYXRhID0gJChcIjxzYW1wPjwvc2FtcD5cIiwgeyBcImh0bWxcIjogZW5jb2RlZFRleHQgfSk7XG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKGxpbmVEYXRhKTtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVWYWx1ZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcblxuICAgIGNvbnN0cnVjdG9yKG1haW4sIGNvbnRlbnQpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLlZBTFVFLCBjb250ZW50KTtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IGVuY29kZWRUZXh0ID0gZW5jb2RlSFRNTCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgbGV0IGxpbmVEYXRhID0gJChcIjxjb2RlPjwvY29kZT5cIiwgeyBcImh0bWxcIjogZW5jb2RlZFRleHQgfSk7XG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKGxpbmVEYXRhKTtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVJbnB1dCBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5JTlBVVCwgcHJvbXB0TWVzc2FnZSk7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBJbnB1dCBib3ggZm9yIHJlY2VpdmluZyBpbnB1dCgpIGZyb20gdGhlIHVzZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgLy8gUGVyZm9ybSBhbnkgbmVjZXNzYXJ5IGNsZWFuaW5nXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIC8vIElucHV0IGZvcm1cbiAgICAgICAgICAgIGxldCBpbnB1dEZvcm0gPSAkKFwiPGlucHV0IHR5cGU9J3RleHQnIC8+XCIpO1xuICAgICAgICAgICAgLy8gRW50ZXIgYnV0dG9uXG4gICAgICAgICAgICBsZXQgaW5wdXRCdG4gPSAkKFwiPGJ1dHRvbj48L2J1dHRvbj5cIiwge1wiaHRtbFwiOiBcIkVudGVyXCJ9KTtcbiAgICAgICAgICAgIC8vIEdyb3VwIGZvcm0gYW5kIGJ1dHRvblxuICAgICAgICAgICAgbGV0IGlucHV0R3JvdXAgPSAkKFwiPGRpdj48L2Rpdj5cIiwge1wiY2xhc3NcIjogXCJibG9ja3B5LWNvbnNvbGUtaW5wdXRcIn0pO1xuICAgICAgICAgICAgaW5wdXRHcm91cC5hcHBlbmQoaW5wdXRGb3JtKTtcbiAgICAgICAgICAgIGlucHV0R3JvdXAuYXBwZW5kKGlucHV0QnRuKTtcbiAgICAgICAgICAgIC8vIFByb21wdCBib3gsIG5ldyBsaW5lLCBpbnB1dCBncm91cFxuICAgICAgICAgICAgbGV0IGlucHV0Qm94ID0gJChcIjxkaXY+PC9kaXY+XCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCAhPT0gXCJcXG5cIikge1xuICAgICAgICAgICAgICAgIGxldCBlbmNvZGVkVGV4dCA9IGVuY29kZUhUTUwodGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRNc2cgPSAkKFwiPHNhbXA+PC9zYW1wPlwiLCAge1wiaHRtbFwiOiBlbmNvZGVkVGV4dH0pO1xuICAgICAgICAgICAgICAgIGlucHV0Qm94LmFwcGVuZChpbnB1dE1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dEJveC5hcHBlbmQoJChcIjxicj5cIikpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChpbnB1dEdyb3VwKTtcbiAgICAgICAgICAgIC8vIFJlbmRlclxuICAgICAgICAgICAgdGhpcy5odG1sLmFwcGVuZChpbnB1dEJveCk7XG4gICAgICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIC8vIE1ha2UgaXQgaW50ZXJhY3RpdmVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VJbnRlcmFjdGl2ZShpbnB1dEZvcm0sIGlucHV0QnRuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuXG4gICAgbWFrZUludGVyYWN0aXZlKGlucHV0LCBidXR0b24pIHtcbiAgICAgICAgbGV0IHJlc29sdmVPbkNsaWNrO1xuICAgICAgICBsZXQgc3VibWl0dGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlT25DbGljayA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaW5wdXRJbmRleCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgpO1xuICAgICAgICBsZXQgc3VibWl0Rm9ybSA9ICgpID0+IHtcbiAgICAgICAgICAgIGxldCB1c2VySW5wdXR0ZWRWYWx1ZSA9IGlucHV0LnZhbCgpO1xuICAgICAgICAgICAgU2sucXVldWVkSW5wdXQucHVzaCh1c2VySW5wdXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoaW5wdXRJbmRleCsxKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5wdXNoKHVzZXJJbnB1dHRlZFZhbHVlKTtcbiAgICAgICAgICAgIHJlc29sdmVPbkNsaWNrKHVzZXJJbnB1dHRlZFZhbHVlKTtcbiAgICAgICAgICAgIGlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIGJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9O1xuICAgICAgICBidXR0b24uY2xpY2soc3VibWl0Rm9ybSk7XG4gICAgICAgIGlucHV0LmtleXVwKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgIHN1Ym1pdEZvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0SW5kZXgsIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5sZW5ndGgpO1xuICAgICAgICBpZiAoaW5wdXRJbmRleCA8IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB1c2VySW5wdXR0ZWRWYWx1ZSA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKVtpbnB1dEluZGV4XTtcbiAgICAgICAgICAgIGlucHV0LnZhbCh1c2VySW5wdXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoaW5wdXRJbmRleCsxKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1c2VySW5wdXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VibWl0dGVkUHJvbWlzZTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lRXZhbHVhdGUgZXh0ZW5kcyBDb25zb2xlTGluZUlucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIFwiRXZhbHVhdGU6XCIpO1xuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVTdGFydEV2YWx1YXRlIGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4pIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLlNUQVJUX0VWQUwpO1xuICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKCQoU1RBUlRfRVZBTF9IVE1MKSk7XG4gICAgICAgIHRoaXMuaHRtbC5jbGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuZXhlY3V0ZS5ldmFsdWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsb2NrUHlDb25zb2xlIHtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCBmb3IgbWFuYWdpbmcgdGhlIGNvbnNvbGUsIHdpdGggZmVhdHVyZXMgZm9yIHRoaW5ncyBsaWtlIHByaW50aW5nLCBwbG90dGluZywgZXZhbGluZywgaW5wdXRpbmcuXG4gICAgICogVGhlIFwicHJpbnRlclwiIGlzIHRoZSByZWdpb24gd2hlcmUgd2UgcHV0IHRoaW5ncywgYXMgb3Bwb3NlZCB0byB0aGUgY29uc29sZSBhcyBhIHdob2xlLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1haW4gLSBUaGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnIC0gVGhlIEhUTUwgb2JqZWN0IHRoaXMgaXMgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgKG1haW4sIHRhZykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcbiAgICAgICAgdGhpcy5wcmludGVyVGFnID0gdGFnLmZpbmQoXCIuYmxvY2tweS1wcmludGVyXCIpO1xuXG4gICAgICAgIHRoaXMuTUlOSU1VTV9XSURUSCA9IDIwMDtcbiAgICAgICAgdGhpcy5NSU5JTVVNX0hFSUdIVCA9IDIwMDtcbiAgICAgICAgdGhpcy5ERUZBVUxUX0hFSUdIVCA9IHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKTsgLy8gTGV0IENTUyBkZWZpbmUgdGhpc1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQodGhpcy5ERUZBVUxUX0hFSUdIVCk7XG5cbiAgICAgICAgdGhpcy5vdXRwdXQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dDtcbiAgICAgICAgLy90aGlzLmlucHV0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHt9O1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgLy8gVE9ETzogSWYgdGhlIHVzZXIgbW9kaWZpZXMgYSBmaWxlLCB0aGVuIG1ha2UgdGhlIGNvbnNvbGUgbG9vayBmYWRlZCBhIGxpdHRsZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3RhdHVzIG9mIHRoZSBwcmludGVyLCBpbmNsdWRpbmcgcmVtb3ZpbmcgYW55IHRleHQgaW4gaXQgYW5kXG4gICAgICogZml4aW5nIGl0cyBzaXplLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLm91dHB1dC5yZW1vdmVBbGwoKTtcblxuICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnBsb3RCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByaW50ZXJUYWcuZW1wdHkoKTtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGNoYW5nZWQgdGhlIGNvbnNvbGUgc2l6ZSwgd2UnbGwgcmVzZXQgaXRcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnByZXZpb3VzQ29uc29sZUhlaWdodCgpID09PSB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgIHRoaXMucHJpbnRlclRhZy5oZWlnaHQodGhpcy5ERUZBVUxUX0hFSUdIVCk7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQodGhpcy5wcmludGVyVGFnLmhlaWdodCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHVydGxlTGluZSA9IG51bGw7XG4gICAgICAgIFNrLlR1cnRsZUdyYXBoaWNzID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmdldFR1cnRsZUxpbmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmdldFdpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KCksXG4gICAgICAgICAgICBhc3NldHM6IHRoaXMubG9hZEFzc2V0LmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnB5Z2FtZUxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWZ0ZXJMaW5lID0gbnVsbDtcbiAgICB9O1xuXG4gICAgbG9hZEFzc2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgZ2V0VHVydGxlTGluZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudHVydGxlTGluZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50dXJ0bGVMaW5lID0gbmV3IENvbnNvbGVMaW5lVHVydGxlKHRoaXMubWFpbik7XG4gICAgICAgICAgICB0aGlzLnR1cnRsZUxpbmUucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBoYXNuJ3QgY2hhbmdlZCB0aGUgY29uc29sZSBzaXplLCB3ZSdsbCBkbyBzb1xuICAgICAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnByZXZpb3VzQ29uc29sZUhlaWdodCgpID09PSB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFByaW50ZXJEaW1lbnNpb24gPSB0aGlzLnByaW50ZXJUYWcud2lkdGgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KGN1cnJlbnRQcmludGVyRGltZW5zaW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQodGhpcy5wcmludGVyVGFnLmhlaWdodCgpKTtcbiAgICAgICAgICAgICAgICBTay5UdXJ0bGVHcmFwaGljcy5oZWlnaHQgPSBjdXJyZW50UHJpbnRlckRpbWVuc2lvbi00MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50dXJ0bGVMaW5lLmh0bWxbMF07XG4gICAgfVxuXG4gICAgaGFuZGxlUHlnYW1lUmVzaXplKG5ld1dpZHRoLCBuZXdIZWlnaHQpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGNoYW5nZWQgdGhlIGNvbnNvbGUgc2l6ZSwgYW5kIHRoZSBuZXdIZWlnaHQgaXMgYmlnZ2VyIHRoYW4gZGVmYXVsdCwgd2UnbGwgY2hhbmdlIGl0XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpICYmXG4gICAgICAgICAgICBuZXdIZWlnaHQgPiB0aGlzLkRFRkFVTFRfSEVJR0hUKSB7XG4gICAgICAgICAgICB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KDMwK25ld0hlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQodGhpcy5wcmludGVyVGFnLmhlaWdodCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgcHlnYW1lIHdpbmRvdyBpcyB3aWRlciB0aGFuIHRoZSBjb25zb2xlLCB3ZSdsbCBleHBhbmQgdGVtcG9yYXJpbHkuXG4gICAgICAgIGlmIChuZXdXaWR0aCA+IHRoaXMucHJpbnRlclRhZy53aWR0aCgpKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuc2Vjb25kUm93Lm1ha2VXaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5pc2hUdXJ0bGVzKCkge1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Muc2F2ZVR1cnRsZU91dHB1dCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50dXJ0bGVMaW5lKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMudHVydGxlTGluZS5odG1sLmZpbmQoXCJjYW52YXNcIikubGFzdCgpWzBdO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuc2F2ZUltYWdlKFwidHVydGxlX291dHB1dFwiLCBkYXRhVXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5weWdhbWVMaW5lKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMucHlnYW1lTGluZS5jYW52YXM7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5zYXZlSW1hZ2UoXCJ0dXJ0bGVfb3V0cHV0XCIsIGRhdGFVcmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBXaGF0IGlmIHRoZXJlIGFyZSBubyB0dXJ0bGVzIHRvIHNhdmU/XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiB0dXJ0bGVzIHNob3VsZCBiZSBiYXNlZCBvbiB0aGUgY3VycmVudCB3aWR0aFxuICAgIG5ld1R1cnRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLk1JTklNVU1fV0lEVEgsIHRoaXMucHJpbnRlclRhZy53aWR0aCgpLTQwKTtcbiAgICB9XG5cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLk1JTklNVU1fSEVJR0hULCB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCkrNDApO1xuICAgIH1cblxuICAgIGlzTXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgZWFjaCBwcmludGVkIGVsZW1lbnQgaW4gdGhlIHByaW50ZXIgYW5kIG1ha2VzIGl0IGhpZGRlblxuICAgICAqIG9yIHZpc2libGUsIGRlcGVuZGluZyBvbiB3aGF0IHN0ZXAgd2UncmUgb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RlcCAtIFRoZSBjdXJyZW50IHN0ZXAgb2YgdGhlIGV4ZWN1dGVkIHByb2dyYW0gdGhhdCB3ZSdyZSBvbjsgZWFjaCBlbGVtZW50IGluIHRoZSBwcmludGVyIG11c3QgYmUgbWFya2VkIHdpdGggYSBcImRhdGEtc3RlcFwiIHByb3BlcnR5IHRvIHJlc29sdmUgdGhpcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZSAtIERlcHJlY2F0ZWQsIG5vdCBzdXJlIHdoYXQgdGhpcyBldmVuIGRvZXMuXG4gICAgICovXG4gICAgc3RlcFByaW50ZXIoc3RlcCwgcGFnZSkge1xuICAgICAgICB0aGlzLnByaW50ZXJUYWcuZmluZChcIi5ibG9ja3B5LXByaW50ZXItb3V0cHV0XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS1zdGVwXCIpIDw9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmludCBhIGxpbmUgdG8gdGhlIG9uLXNjcmVlbiBwcmludGVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lVGV4dCAtIEEgbGluZSBvZiB0ZXh0IHRvIGJlIHByaW50ZWQgb3V0LlxuICAgICAqL1xuICAgIHByaW50KGxpbmVUZXh0KSB7XG4gICAgICAgIC8vIEVtcHR5IHN0cmluZ3MgbWVhbnMgZG8gbm90aGluZy5cbiAgICAgICAgLy8gcHJpbnQoXCJcIiwgZW5kPVwiXCIpXG4gICAgICAgIGlmICghbGluZVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmx1c2ggPSBmYWxzZTtcbiAgICAgICAgaWYgKGxpbmVUZXh0LmNoYXJBdChsaW5lVGV4dC5sZW5ndGgtMSkgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgIGZsdXNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BsaXRMaW5lcyA9IGxpbmVUZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICBpZiAodGhpcy5saW5lQnVmZmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVUZXh0KHRoaXMubWFpbiwgQ29uc29sZUxpbmVUeXBlLlRFWFQsIHNwbGl0TGluZXNbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLmFkZENvbnRlbnQoc3BsaXRMaW5lc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaT0xOyBpIDwgc3BsaXRMaW5lcy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dC5wdXNoKHRoaXMubGluZUJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVUZXh0KHRoaXMubWFpbiwgQ29uc29sZUxpbmVUeXBlLlRFWFQsIHNwbGl0TGluZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXQucHVzaCh0aGlzLmxpbmVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIHBsb3QocGxvdHMpIHtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyID0gbmV3IENvbnNvbGVMaW5lUGxvdCh0aGlzLm1haW4sIHBsb3RzKTtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wbG90QnVmZmVyO1xuICAgIH1cblxuICAgIHB5Z2FtZShzaXplLCBmdWxsc2NyZWVuLCBweWdhbWVPYmopIHtcbiAgICAgICAgaWYgKHRoaXMucHlnYW1lTGluZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5weWdhbWVMaW5lID0gbmV3IENvbnNvbGVMaW5lUHlnYW1lKHRoaXMubWFpbiwgc2l6ZSwgZnVsbHNjcmVlbiwgcHlnYW1lT2JqKTtcbiAgICAgICAgICAgIHRoaXMucHlnYW1lTGluZS5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5weWdhbWVMaW5lO1xuICAgIH1cblxuICAgIGRyYWZ0ZXIoc2l6ZSwgZnVsbHNjcmVlbikge1xuICAgICAgICBpZiAodGhpcy5kcmFmdGVyTGluZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kcmFmdGVyTGluZSA9IG5ldyBDb25zb2xlTGluZURyYWZ0ZXIodGhpcy5tYWluLCBzaXplLCBmdWxsc2NyZWVuKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZnRlckxpbmUucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhZnRlckxpbmU7XG4gICAgfVxuXG4gICAgcHJpbnRQSUxJbWFnZShpbWFnZURhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJURVNUXCIsIGltYWdlRGF0YS5pbWFnZSk7XG4gICAgICAgIHRoaXMuaW1hZ2VCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVJbWFnZSh0aGlzLm1haW4sIGltYWdlRGF0YS5pbWFnZSk7XG4gICAgICAgIHRoaXMuaW1hZ2VCdWZmZXIucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlQnVmZmVyO1xuICAgIH1cblxuICAgIHByaW50VmFsdWUodmFsdWUpIHtcbiAgICAgICAgbGV0IHByaW50ZWRWYWx1ZSA9IG5ldyBDb25zb2xlTGluZVZhbHVlKHRoaXMubWFpbiwgdmFsdWUpO1xuICAgICAgICBwcmludGVkVmFsdWUucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgIHJldHVybiBwcmludGVkVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgcmVnaXN0ZXJzIGEgUHJvbWlzZSBmcm9tIHRoZSBJbnB1dCBib3hcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvbXB0TWVzc2FnZSAtIE1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqL1xuICAgIGlucHV0KHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5pbnB1dEJ1ZmZlciA9IG5ldyBDb25zb2xlTGluZUlucHV0KHRoaXMubWFpbiwgcHJvbXB0TWVzc2FnZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgIH07XG5cblxuICAgIGV2YWx1YXRlKCkge1xuICAgICAgICB0aGlzLmlucHV0QnVmZmVyID0gbmV3IENvbnNvbGVMaW5lRXZhbHVhdGUodGhpcy5tYWluKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRCdWZmZXIucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgfVxuXG4gICAgYmVnaW5FdmFsKCkge1xuICAgICAgICBsZXQgc3RhcnRFdmFsdWF0aW9uID0gbmV3IENvbnNvbGVMaW5lU3RhcnRFdmFsdWF0ZSh0aGlzLm1haW4pO1xuICAgICAgICByZXR1cm4gc3RhcnRFdmFsdWF0aW9uLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuY29uZGl0aW9uYWxseSBzY3JvbGwgdG8gdGhlIGJvdHRvbSBvZiB0aGUgd2luZG93LlxuICAgICAqXG4gICAgICovXG4gICAgc2Nyb2xsVG9Cb3R0b20oKSB7XG4gICAgICAgIHRoaXMudGFnLmFuaW1hdGUoe1xuICAgICAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLnRhZy5wcm9wKFwic2Nyb2xsSGVpZ2h0XCIpIC0gdGhpcy50YWcucHJvcChcImNsaWVudEhlaWdodFwiKVxuICAgICAgICB9LCA1MDApO1xuICAgIH07XG5cbn0iLCJpbXBvcnQge3NsdWd9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG4vLyBUT0RPOiBlZGl0b3IuYm0uYmxvY2tFZGl0b3IuZXh0cmFUb29sc1tdXG5cbmV4cG9ydCBsZXQgX0lNUE9SVEVEX0RBVEFTRVRTID0ge307XG5leHBvcnQgbGV0IF9JTVBPUlRFRF9DT01QTEVURV9EQVRBU0VUUyA9IHt9O1xuXG4vKipcbiAqIFRoaXMgaXMgYSB2ZXJ5IHNpbXBsaXN0aWMgaGVscGVyIGZ1bmN0aW9uIHRoYXQgd2lsbCB0cmFuc2Zvcm1cbiAqIGEgZ2l2ZW4gYnV0dG9uIGludG8gYSBcIkxvYWRlZFwiIHN0YXRlIChkaXNhYmxlZCwgcHJlc3NlZCBzdGF0ZSwgZXRjLikuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gYnRuIC0gQW4gSFRNTCBlbGVtZW50IHRvIGNoYW5nZSB0aGUgdGV4dCBvZi5cbiAqL1xubGV0IHNldEJ1dHRvbkxvYWRlZCA9IGZ1bmN0aW9uIChidG4pIHtcbiAgICBidG4uYWRkQ2xhc3MoXCJhY3RpdmVcIilcbiAgICAgICAgLmFkZENsYXNzKFwiYnRuLXN1Y2Nlc3NcIilcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiYnRuLXByaW1hcnlcIilcbiAgICAgICAgLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKVxuICAgICAgICAudGV4dChcIkxvYWRlZFwiKVxuICAgICAgICAuYXR0cihcImFyaWEtcHJlc3NlZFwiLCBcInRydWVcIik7XG59O1xuXG5cbi8qKlxuICogTW9kdWxlIHRoYXQgY29ubmVjdHMgdG8gdGhlIENPUkdJUyBkYXRhc2V0cyBhbmQgbWFuYWdlcyBpbnRlcmFjdGlvbnNcbiAqIHdpdGggdGhlbS4gVGhpcyBpbmNsdWRlcyBsb2FkaW5nIGluIGRhdGFzZXRzIGF0IGxhdW5jaCBhbmQgb24tdGhlLWZseS5cbiAqIE5vdGUgdGhhdCB0aGlzIGhhcyBubyBwcmVzZW5jZSBvbiBzY3JlZW4sIHNvIGl0IGRvZXMgbm90IGhhdmUgYSB0YWcuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeUNvcmdpc31cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQmxvY2tQeUNvcmdpcyhtYWluKSB7XG4gICAgdGhpcy5tYWluID0gbWFpbjtcblxuICAgIHRoaXMubG9hZGVkRGF0YXNldHMgPSBbXTtcbiAgICB0aGlzLmxvYWREYXRhc2V0cygpO1xufVxuXG5CbG9ja1B5Q29yZ2lzLnByb3RvdHlwZS5sb2FkRGF0YXNldHMgPSBmdW5jdGlvbiAoc2lsZW50bHkpIHtcbiAgICAvLyBMb2FkIGluIGVhY2ggdGhlIGRhdGFzZXRzXG4gICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsLFxuICAgICAgICBlZGl0b3IgPSB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IsXG4gICAgICAgIHNlcnZlciA9IHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlcjtcbiAgICBsZXQgaW1wb3J0cyA9IFtdO1xuICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGF0YXNldHMoKS5zcGxpdChcIixcIikuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBpZiAobmFtZSAmJiAhKG5hbWUgaW4gQmxvY2tNaXJyb3JCbG9ja0VkaXRvci5FWFRSQV9UT09MUykpIHtcbiAgICAgICAgICAgIGltcG9ydHMucHVzaC5hcHBseShpbXBvcnRzLCB0aGlzLmltcG9ydERhdGFzZXQoc2x1ZyhuYW1lKSwgbmFtZSwgc2lsZW50bHkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gV2hlbiBkYXRhc2V0cyBhcmUgbG9hZGVkLCB1cGRhdGUgdGhlIHRvb2xib3guXG4gICAgJC53aGVuLmFwcGx5KCQsIGltcG9ydHMpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiVFJJR0dFUkVEXCIpO1xuICAgICAgICBlZGl0b3IuYm0uZm9yY2VCbG9ja1JlZnJlc2goKTtcbiAgICAgICAgZWRpdG9yLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICB9KS5mYWlsKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VydmVyLmZpbmFsaXplU3Vic2NyaXB0aW9ucygpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBMb2FkcyB0aGUgZGVmaW5pdGlvbnMgZm9yIGEgZGF0YXNldCBpbnRvIHRoZSBlbnZpcm9ubWVudCwgaW5jbHVkaW5nXG4gKiB0aGUgZGF0YXNldCAoYXMgYSBKUyBmaWxlKSwgdGhlIHNrdWxwdCBiaW5kaW5ncywgYW5kIHRoZSBibG9ja2x5XG4gKiBiaW5kaW5ncy4gVGhpcyByZXF1aXJlcyBhY2Nlc3MgdG8gYSBDT1JHSVMgc2VydmVyLCBhbmQgb2NjdXJzXG4gKiBhc3luY2hyb25vdXNseS4gVGhlIHJlcXVlc3RzIGFyZSBmaXJlZCBhbmQgdGhlaXIgZGVmZXJyZWQgb2JqZWN0c1xuICogYXJlIHJldHVybmVkIC0gY2FsbGVycyBjYW4gdXNlIHRoaXMgaW5mb3JtYXRpb24gdG8gcGVyZm9ybSBhbiBhY3Rpb25cbiAqIG9uIGNvbXBsZXRpb24gb2YgdGhlIGltcG9ydC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2x1ZyAtIFRoZSBVUkwgc2FmZSB2ZXJzaW9uIG9mIHRoZSBkYXRhc2V0IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gVGhlIHVzZXItZnJpZW5kbHkgdmVyc2lvbiBvZiB0aGUgZGF0YXNldCBuYW1lLlxuICogQHJldHVybnMge0FycmF5LjxEZWZlcnJlZD59IC0gUmV0dXJucyB0aGUgYXN5bmMgcmVxdWVzdHMgYXMgZGVmZXJyZWQgb2JqZWN0cy5cbiAqL1xuQmxvY2tQeUNvcmdpcy5wcm90b3R5cGUuaW1wb3J0RGF0YXNldCA9IGZ1bmN0aW9uIChzbHVnLCBuYW1lKSB7XG4gICAgbGV0IHVybF9yZXRyaWV2YWxzID0gW107XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImltcG9ydERhdGFzZXRzXCIpKSB7XG4gICAgICAgIGxldCByb290ID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJscy5pbXBvcnREYXRhc2V0cyArIFwiYmxvY2tweS9cIiArIHNsdWcgKyBcIi9cIiArIHNsdWc7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmxvYWRpbmdEYXRhc2V0cy5wdXNoKG5hbWUpO1xuICAgICAgICAvLyBBY3R1YWxseSBnZXQgZGF0YVxuICAgICAgICBsZXQgZ2V0RGF0YXNldCA9ICQuZ2V0U2NyaXB0KHJvb3QgKyBcIl9kYXRhc2V0LmpzXCIpO1xuICAgICAgICAvLyBMb2FkIGdldENvbXBsZXRlIHNpbGVudGx5IGluIHRoZSBiYWNrZ3JvdW5kIGJlY2F1c2UgaXRzIGJpZyA6KFxuICAgICAgICBsZXQgZ2V0Q29tcGxldGUgPSAkLmdldFNjcmlwdChyb290ICsgXCJfY29tcGxldGUuanNcIik7XG4gICAgICAgIGxldCBnZXRTa3VscHQgPSAkLmdldChyb290ICsgXCJfc2t1bHB0LmpzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtcInNyYy9saWIvXCIgKyBzbHVnICsgXCIvX19pbml0X18uanNcIl0gPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGdldEJsb2NrbHkgPSAkLmdldFNjcmlwdChyb290ICsgXCJfYmxvY2tseS5qc1wiKTtcbiAgICAgICAgLy8gT24gY29tcGxldGlvbiwgdXBkYXRlIG1lbnVzLlxuICAgICAgICAkLndoZW4oZ2V0RGF0YXNldCwgZ2V0U2t1bHB0LCBnZXRCbG9ja2x5KS5kb25lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkRGF0YXNldHMucHVzaChzbHVnKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS50ZXh0VG9CbG9ja3MuaGlkZGVuSW1wb3J0cy5wdXNoKHNsdWcpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLmZvcmNlQmxvY2tSZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uYmxvY2tFZGl0b3IucmVtYWtlVG9vbGJveCgpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkubG9hZGluZ0RhdGFzZXRzLnJlbW92ZShuYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHVybF9yZXRyaWV2YWxzLnB1c2goZ2V0RGF0YXNldCwgZ2V0U2t1bHB0LCBnZXRCbG9ja2x5KTtcbiAgICB9XG4gICAgcmV0dXJuIHVybF9yZXRyaWV2YWxzO1xufTtcblxuLyoqXG4gKiBPcGVucyBhIGRpYWxvZyBib3ggdG8gcHJlc2VudCB0aGUgdXNlciB3aXRoIHRoZSBkYXRhc2V0cyBhdmFpbGFibGVcbiAqIHRocm91Z2ggdGhlIENPUkdJUyBzZXJ2ZXIuIFRoaXMgcmVxdWlyZXMgYSBjYWxsLCBzbyB0aGlzIG1ldGhvZFxuICogY29tcGxldGVzIGFzeW5jaHJvbm91c2x5LiBUaGUgZGlhbG9nIGlzIGNvbXBvc2VkIG9mIGEgdGFibGUgd2l0aFxuICogYnV0dG9ucyB0byBsb2FkIHRoZSBkYXRhc2V0cyAoTW9yZSB0aGFuIG9uZSBkYXRhc2V0IGNhbiBiZSBsb2FkZWRcbiAqIGZyb20gd2l0aGluIHRoZSBkaWFsb2cgYXQgYSB0aW1lKS5cbiAqL1xuQmxvY2tQeUNvcmdpcy5wcm90b3R5cGUub3BlbkRpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwiaW1wb3J0RGF0YXNldHNcIikpIHtcbiAgICAgICAgbGV0IHJvb3QgPSB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi51cmxzLmltcG9ydERhdGFzZXRzO1xuICAgICAgICAkLmdldEpTT04ocm9vdCArIFwiaW5kZXguanNvblwiLCAgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIC8vIE1ha2UgdXAgdGhlIEJvZHlcbiAgICAgICAgICAgIGxldCBkYXRhc2V0cyA9IGRhdGEuYmxvY2tweTtcbiAgICAgICAgICAgIGxldCBkb2N1bWVudGF0aW9uID0gcm9vdCtcImJsb2NrcHkvaW5kZXguaHRtbFwiO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gJChgPHA+RG9jdW1lbnRhdGlvbiBpcyBhdmFpbGFibGUgYXQgPGEgaHJlZj0nJHtkb2N1bWVudGF0aW9ufScgdGFyZ2V0PV9ibGFuaz51cmw8L2E+PC9wPmApO1xuICAgICAgICAgICAgbGV0IGJvZHkgPSAkKFwiPHRhYmxlPjwvdGFibGU+XCIsIHtcImNsYXNzXCI6IFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc20gdGFibGUtc3RyaXBlZFwifSk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhc2V0cykuc29ydCgpLm1hcCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzbHVnZ2VkTmFtZSA9IHNsdWcoZGF0YXNldHNbbmFtZV0ubmFtZSk7XG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgbGV0IGJ0biA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgZGF0YS10b2dnbGU9XCJidXR0b25cIiBhcmlhLXByZXNzZWQ9XCJmYWxzZVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiPkxvYWQ8L2J1dHRvbj4nKTtcbiAgICAgICAgICAgICAgICBsZXQgaW1nU3JjID0gcm9vdCtcIi4uL2ltYWdlcy9kYXRhc2V0cy9cIituYW1lK1wiLWljb24ucG5nXCI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubG9hZGVkRGF0YXNldHMuaW5kZXhPZihzbHVnZ2VkTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRCdXR0b25Mb2FkZWQoYnRuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidG4uY2xpY2soICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0RGF0YXNldChzbHVnZ2VkTmFtZSwgXCJEYXRhIC0gXCIgKyBkYXRhc2V0c1tuYW1lXS50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCdXR0b25Mb2FkZWQoYnRuKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vbGV0IGltZyA9IGA8aW1nIHNyYz0nJHtpbWdTcmN9JyBjbGFzcz1cImNvcmdpcy1pY29uXCI+YDtcbiAgICAgICAgICAgICAgICAkKFwiPHRyPjwvdHI+XCIpXG4gICAgICAgICAgICAgICAgICAgIC8vLmFwcGVuZCgkKFwiPHRkPlwiICsgaW1nICsgXCI8L3RkPlwiKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKFwiPHRkPlwiICsgZGF0YXNldHNbbmFtZV0udGl0bGUgKyBcIjwvdGQ+XCIpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoXCI8dGQ+XCIgKyBkYXRhc2V0c1tuYW1lXS5vdmVydmlldyArIFwiPC90ZD5cIikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJChcIjx0ZD48L3RkPlwiKS5hcHBlbmQoYnRuKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKGJvZHkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBib2R5LmFwcGVuZFRvKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIGFjdHVhbCBkaWFsb2dcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5zaG93KFwiSW1wb3J0IERhdGFzZXRzXCIsIHN0YXJ0LCBudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gVE9ETzogRHlhbm1pY2FsbHkgcG9wdWxhdGUgYXJpYS1sYWJlbGxlZGJ5IGluIHRoaXMgYW5kIG90aGVyIHBsYWNlc1xuXG5leHBvcnQgbGV0IERJQUxPR19IVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9J2Jsb2NrcHktZGlhbG9nIG1vZGFsIGhpZGRlbidcbiAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgYXJpYS1sYWJlbD0nRGlhbG9nJ1xuICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9J21vZGFsLWRpYWxvZyBtb2RhbC1sZycgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1jb250ZW50JyByb2xlPSdyZWdpb24nIGFyaWEtbGFiZWw9J0RpYWxvZyBjb250ZW50Jz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9J21vZGFsLXRpdGxlJz5EeW5hbWljIENvbnRlbnQ8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J21vZGFsJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1ib2R5JyBzdHlsZT0nbWF4LXdpZHRoOjEwMCU7IG1heC1oZWlnaHQ6NDAwcHgnPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J21vZGFsLWZvb3Rlcic+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi13aGl0ZSBtb2RhbC1jbG9zZScgZGF0YS1kaXNtaXNzPSdtb2RhbCc+Q2xvc2U8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLXN1Y2Nlc3MgbW9kYWwtb2theScgZGF0YS1kaXNtaXNzPSdtb2RhbCc+T2theTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgICBcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbmA7XG5cbi8qKlxuICogQSB1dGlsaXR5IG9iamVjdCBmb3IgcXVpY2tseSBhbmQgY29udmVuaWVudGx5IGdlbmVyYXRpbmcgZGlhbG9nIGJveGVzLlxuICogVW5mb3J0dW5hdGVseSwgdGhpcyBkb2Vzbid0IGR5bmFtaWNhbGx5IGNyZWF0ZSBuZXcgYm94ZXM7IGl0IHJldXNlcyB0aGUgc2FtZSBvbmVcbiAqIG92ZXIgYW5kIG92ZXIgYWdhaW4uIEl0IHR1cm5zIG91dCBkeW5hbWljYWxseSBnZW5lcmF0aW5nIG5ldyBkaWFsb2cgYm94ZXNcbiAqIGlzIGEgcGFpbiEgU28gd2UgY2FuJ3Qgc3RhY2sgdGhlbS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtCbG9ja1B5RGlhbG9nfVxuICogQHBhcmFtIHtPYmplY3R9IG1haW4gLSBUaGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBUaGUgSFRNTCBvYmplY3QgdGhpcyBpcyBhdHRhY2hlZCB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJsb2NrUHlEaWFsb2cobWFpbiwgdGFnKSB7XG4gICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICB0aGlzLnRhZyA9IHRhZztcblxuICAgIHRoaXMudGl0bGVUYWcgPSB0YWcuZmluZChcIi5tb2RhbC10aXRsZVwiKTtcbiAgICB0aGlzLmJvZHlUYWcgPSB0YWcuZmluZChcIi5tb2RhbC1ib2R5XCIpO1xuICAgIHRoaXMuZm9vdGVyVGFnID0gdGFnLmZpbmQoXCIubW9kYWwtZm9vdGVyXCIpO1xuICAgIHRoaXMub2theUJ1dHRvbiA9IHRhZy5maW5kKFwiLm1vZGFsLW9rYXlcIik7XG4gICAgdGhpcy5jbG9zZUJ1dHRvbiA9IHRhZy5maW5kKFwiLm1vZGFsLWNsb3NlXCIpO1xuXG4gICAgdGhpcy55ZXMgPSAoKSA9PiB7fTtcbiAgICB0aGlzLm5vID0gKCkgPT4ge307XG4gICAgdGhpcy5va2F5QnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy55ZXMoKTtcbiAgICAgICAgdGhpcy50YWcubW9kYWwoXCJoaWRlXCIpO1xuICAgIH0pO1xuICAgIHRoaXMuY2xvc2VCdXR0b24uY2xpY2soKCkgPT4ge1xuICAgICAgICB0aGlzLm5vKCk7XG4gICAgICAgIC8vdGhpcy50YWcubW9kYWwoXCJoaWRlXCIpO1xuICAgIH0pO1xufVxuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRhZy5tb2RhbChcImhpZGVcIik7XG59O1xuXG4vKipcbiAqIEEgc2ltcGxlIGV4dGVybmFsbHkgYXZhaWxhYmxlIGZ1bmN0aW9uIGZvciBwb3BwaW5nIHVwIGEgZGlhbG9nXG4gKiBtZXNzYWdlLiBUaGlzIG1lbnUgd2lsbCBiZSBkcmFnZ2FibGUgYnkgaXRzIHRpdGxlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0aXRsZSAtIFRoZSB0aXRsZSBvZiB0aGUgbWVzc2FnZSBkaWFsb2cuIENhbiBoYXZlIEhUTUwuXG4gKiBAcGFyYW0ge1N0cmluZ30gYm9keSAtIFRoZSBib2R5IG9mIHRoZSBtZXNzYWdlIGRpYWxvZy4gQ2FuIGhhdmUgSFRNTC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uY2xvc2UgLSBBIGZ1bmN0aW9uIHRvIGJlIHJ1biB3aGVuIHRoZSB1c2VyIGNsb3NlcyB0aGUgZGlhbG9nLlxuICovXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKHRpdGxlLCBib2R5LCBvbmNsb3NlKSB7XG4gICAgdGhpcy50aXRsZVRhZy5odG1sKHRpdGxlKTtcbiAgICB0aGlzLmJvZHlUYWcuaHRtbChib2R5KTtcbiAgICB0aGlzLnRhZy5tb2RhbChcInNob3dcIik7XG4gICAgdGhpcy5va2F5QnV0dG9uLmhpZGUoKTtcbiAgICB0aGlzLnRhZy5kcmFnZ2FibGUoe1xuICAgICAgICBcImhhbmRsZVwiOiBcIi5tb2RhbC10aXRsZVwiXG4gICAgfSk7XG5cbiAgICB0aGlzLnRhZy5vbihcImhpZGRlbi5icy5tb2RhbFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAob25jbG9zZSAhPT0gdW5kZWZpbmVkICYmIG9uY2xvc2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG9uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uICh0aXRsZSwgYm9keSwgeWVzLCBubywgeWVzVGV4dCkge1xuICAgIGlmICh5ZXNUZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgeWVzVGV4dCA9IFwiT2theVwiO1xuICAgIH1cbiAgICB0aGlzLnNob3codGl0bGUsIGJvZHksIG5vKTtcbiAgICB0aGlzLnllcyA9IHllcztcbiAgICB0aGlzLm5vID0gbm87XG4gICAgdGhpcy5va2F5QnV0dG9uLnNob3coKS5odG1sKHllc1RleHQpO1xuICAgIC8vIFRPRE86IGFkZCBva2F5IGJ1dHRvbiBhbmQgY2FuY2VsIGJ1dHRvblxufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuQVNTSUdOTUVOVF9WRVJTSU9OX0NIQU5HRUQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jb25maXJtKFwiQXNzaWdubWVudCBDaGFuZ2VkXCIsIFwiWW91ciBpbnN0cnVjdG9yIGhhcyBtYWRlIGNoYW5nZXMgdG8gdGhpcyBhc3NpZ25tZW50LiBXb3VsZCB5b3UgbGlrZSB0byByZWxvYWQ/IEFsbCB5b3VyIHdvcmsgaGFzIGJlZW4gc2F2ZWQuXCIsKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgTG9hZGluZyBBc3NpZ25tZW50XCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGxvYWRpbmcgdGhlIGFzc2lnbm1lbnQuPGJyPlxuUGxlYXNlIHJlbG9hZCB0aGUgcGFnZSBhbmQgdHJ5IGFnYWluLjxicj5SZXNwb25zZSBmcm9tIHNlcnZlciB3YXM6PGJyPjxwcmU+JHtyZWFzb259PC9wcmU+YCwpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfTElTVElOR19VUExPQURFRF9GSUxFUyA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aGlzLnNob3coXCJFcnJvciBMaXN0aW5nIFVwbG9hZGVkIEZpbGVzXCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGxpc3RpbmcgdGhlIHVwbG9hZGVkIGZpbGVzLjxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi48YnI+UmVzcG9uc2UgZnJvbSBzZXJ2ZXIgd2FzOjxicj48cHJlPiR7cmVhc29ufTwvcHJlPmAsKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX1VQTE9BRElOR19GSUxFID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIFVwbG9hZGVkIEZpbGVcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgdXBsb2FkaW5nIHRoZSBmaWxlLjxicj5cblBsZWFzZSB0cnkgYWdhaW4uPGJyPlJlc3BvbnNlIGZyb20gc2VydmVyIHdhczo8YnI+PHByZT4ke3JlYXNvbn08L3ByZT5gLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9ET1dOTE9BRElOR19GSUxFID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIERvd25sb2FkaW5nIEZpbGVcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcgYSBmaWxlLjxicj5cblBsZWFzZSB0cnkgYWdhaW4uPGJyPlJlc3BvbnNlIGZyb20gc2VydmVyIHdhczo8YnI+PHByZT4ke3JlYXNvbn08L3ByZT5gLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9SRU5BTUlOR19GSUxFID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIFJlbmFtaW5nIEZpbGVcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgcmVuYW1pbmcgYSBmaWxlLjxicj5cblBsZWFzZSB0cnkgYWdhaW4uPGJyPlJlc3BvbnNlIGZyb20gc2VydmVyIHdhczo8YnI+PHByZT4ke3JlYXNvbn08L3ByZT5gLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9ERUxFVElOR19GSUxFID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIERlbGV0aW5nIEZpbGVcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgZGVsZXRpbmcgYSBmaWxlLjxicj5cblBsZWFzZSB0cnkgYWdhaW4uPGJyPlJlc3BvbnNlIGZyb20gc2VydmVyIHdhczo8YnI+PHByZT4ke3JlYXNvbn08L3ByZT5gLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9TQVZJTkdfQVNTSUdOTU5FTlQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgU2F2aW5nIEFzc2lnbm1lbnRcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgc2F2aW5nIHRoZSBhc3NpZ25tZW50Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi48YnI+UmVzcG9uc2UgZnJvbSBzZXJ2ZXIgd2FzOjxicj48cHJlPiR7cmVhc29ufTwvcHJlPmAsKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHRoaXMuc2hvdyhcIk9yaWdpbmFsIEVycm9yXCIsIGBXaGVuIEkgcmFuIHlvdXIgY29kZSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvcjpcXG5cXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1kaWFsb2ctc3R1ZGVudC1lcnJvci1tZXNzYWdlXCI+JHtlcnJvcn08L2Rpdj5gKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLlBPU0lUSVZFX0ZFRURCQUNLX0ZVTEwgPSBmdW5jdGlvbiAodGl0bGUsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLnNob3codGl0bGUsIG1lc3NhZ2UpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuU0NSRUVOU0hPVF9CTE9DS1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ET1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfVVBEQVRJTkdfU1VCTUlTU0lPTl9TVEFUVVMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgVXBkYXRpbmcgU3VibWlzc2lvbiBTdGF0dXNcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgdXBkYXRpbmcgeW91ciBzdWJtaXNzaW9uIHN0YXR1cy48YnI+XG5QbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uYCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9MT0FESU5HX0hJU1RPUlkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgTG9hZGluZyBIaXN0b3J5XCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGxvYWRpbmcgeW91ciBoaXN0b3J5Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5gKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLk9GRkVSX0ZPUksgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNldHVwVXJsID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJscy5pbnN0cnVjdGlvbnNBc3NpZ25tZW50U2V0dXA7XG4gICAgc2V0dXBVcmwgPSBzZXR1cFVybCA/IGAgKDxhIGhyZWY9XCIke3NldHVwVXJsfVwiIHRhcmdldD1cIl9ibGFua1wiPkhvdyBkbyBJIGRvIHRoYXQ/PC9hPilgIDogXCJcIjtcbiAgICB0aGlzLnNob3coXCJBc3NpZ25tZW50IE5vdCBPd25lZDsgRm9yaz9cIiwgYFxuICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgIEl0IGxvb2tzIGxpa2UgeW91IHdhbnQgdG8gZWRpdCB0aGlzIGFzc2lnbm1lbnQsIGJ1dCB5b3UgYXJlIG5vdCBhbiBpbnN0cnVjdG9yXG4gICAgb3IgZGVzaWduZXIgaW4gdGhlIGNvdXJzZSB0aGF0IG93bnMgaXQgKFwiQ291cnNlIE5hbWVcIikuIFdvdWxkIHlvdSBsaWtlIHRvIGZvcmtcbiAgICB0aGlzIGFzc2lnbm1lbnQgKG9yIGl0cyBlbnRpcmUgZ3JvdXApIHNvIHRoYXQgeW91IGNhbiBzYXZlIHlvdXIgbW9kaWZpY2F0aW9ucz9cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICBSZW1lbWJlciB0byB1cGRhdGUgdGhlIExhdW5jaCBVUkwgaW4gdGhlIGFzc2lnbm1lbnRzJyBzZXR0aW5ncyBvbiBDYW52YXMhJHtzZXR1cFVybH1cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2PjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi13aGl0ZSc+Rm9yayBlbnRpcmUgYXNzaWdubWVudCBncm91cDwvYnV0dG9uPjwvZGl2PlxuICAgIDxkaXY+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLXdoaXRlJz5Gb3JrIGp1c3QgdGhpcyBhc3NpZ25tZW50PC9idXR0b24+PC9kaXY+XG4gICAgPGRpdj48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tZGFuZ2VyJz5SZXNldCBteSBsb2NhbCBjaGFuZ2VzPC9idXR0b24+PC9kaXY+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImJsb2NrcHktdHJhbnNmZXItc3VibWlzc2lvbnNcIj5cbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktdHJhbnNmZXItc3VibWlzc2lvbnNcIj5UcmFuc2ZlciBTdHVkZW50IFN1Ym1pc3Npb25zIGZvciB0aGlzIGNvdXJzZTwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLXRleHRcIiBmb3I9XCJibG9ja3B5LWNvdXJzZS1pZFwiPk5ldyBvd25pbmcgY291cnNlIGlkOiA8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYmxvY2tweS1jb3Vyc2UtaWRcIiB2YWx1ZT1cIiR7dGhpcy5tYWluLm1vZGVsLnVzZXIuY291cnNlSWQoKX1cIj5cbiAgICA8L2Rpdj5cbiAgICBgKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVESVRfSU5QVVRTID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBpbnB1dFRleHQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkuam9pbihcIlxcblwiKTtcbiAgICBsZXQgY2xlYXJJbnB1dHMgPSB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5jbGVhcklucHV0cygpID8gXCJcIiA6IFwiY2hlY2tlZFwiO1xuICAgIGxldCB5ZXMgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjaGVja2VkID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiKS5wcm9wKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgbGV0IGlucHV0cyA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1pbnB1dC1saXN0XCIpLnZhbCgpLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5jbGVhcklucHV0cyghY2hlY2tlZCk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoaW5wdXRzKTtcbiAgICB9O1xuICAgIHRoaXMuY29uZmlybShcIkVkaXQgUmVtZW1iZXJlZCBJbnB1dHNcIiwgYFxuXG48ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiYmxvY2tweS1yZW1lbWJlci1pbnB1dHMgZm9ybS1jaGVjay1pbnB1dFwiXG4gICAgICAgIG5hbWU9XCJibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiICR7Y2xlYXJJbnB1dHN9PlxuPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktcmVtZW1iZXItaW5wdXRzXCI+UmV1c2UgaW5wdXRzIGZvciBuZXh0IGV4ZWN1dGlvbjwvbGFiZWw+XG48L2Rpdj5cblxuPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1pbnB1dC1saXN0IGZvcm0tY29udHJvbFwiIHJvd3M9XCI0XCI+JHtpbnB1dFRleHR9PC90ZXh0YXJlYT48YnI+XG5FZGl0IHRoZSBpbnB1dHMgYWJvdmUgdG8gc3RvcmUgYW5kIHJldXNlIHRoZW0gYWNyb3NzIG11bHRpcGxlIGV4ZWN1dGlvbnMuXG5FYWNoIGlucHV0IHNob3VsZCBiZSBwdXQgb24gaXRzIG93biBsaW5lLlxuWW91IGRvIG5vdCBuZWVkIHF1b3RlczsgdGhlIHRleHQgd2lsbCBiZSBlbnRlcmVkIGxpdGVyYWxseS5cbiBcbmAsIHllcywgdGhpcy5ubywgXCJTYXZlXCIpO1xuICAgIC8vIFRPRE86IEFsbG93IHVzZXIgdG8gc3BlY2lmeSB0aGUgaW5maW5pdGUgc3RyaW5nIHRvIGtlZXAgZ2l2aW5nIHdoZW4gdGhlIG90aGVycyBydW4gb3V0XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5TVEFSVF9TSEFSRSA9IGZ1bmN0aW9uICh1cmwsIHdhc1Byb21wdGVkKSB7XG5cbiAgICBjb25zdCBpbml0aWFsTWVzc2FnZSA9IHdhc1Byb21wdGVkID8gYFxuICAgIEl0IGxvb2tzIGxpa2UgeW91IGFyZSBoYXZpbmcgc29tZSB0cm91YmxlIHdpdGggdGhpcyBwcm9ibGVtLCB5b3VyIGNvZGUsIG9yIHRoaXMgZmVlZGJhY2suXG4gICAgSWYgeW91IHBsYW4gdG8gcmVhY2ggb3V0IGZvciBoZWxwIGZyb20gdGhlIGNvdXJzZSBzdGFmZiwgdGhlbiB3ZSByZWNvbW1lbmQgeW91IGluY2x1ZGUgdGhpcyBsaW5rXG4gICAgaW4geW91ciBtZXNzYWdlLiBJdCB3aWxsIG1ha2UgaXQgbXVjaCBlYXNpZXIgZm9yIHRoZW0gdG8gaGVscCB5b3UgcXVpY2tseS4gXG4gICAgYCA6IFwiWW91IGNhbiBxdWlja2x5IHNoYXJlIHlvdXIgY29kZSB3aXRoIGluc3RydWN0b3JzIGFuZCBUQXMgYnkgcHJvdmlkaW5nIHRoZW0gd2l0aCB0aGlzIGxpbms6XCI7XG4gICAgdGhpcy5zaG93KFwiU2hhcmUgWW91ciBDb2RlXCIsIGBcbiAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICAke2luaXRpYWxNZXNzYWdlfVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgIDxwcmUgY2xhc3M9XCJibG9ja3B5LWNvcHktc2hhcmUtbGluay1hcmVhXCI+JHt1cmx9PC9wcmU+XG4gICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBibG9ja3B5LWNvcHktc2hhcmUtbGluayc+Q29weSBMaW5rPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cbiAgICAgICAgTm90ZSB0aGF0IHlvdSBDQU5OT1Qgc2hhcmUgdGhpcyBsaW5rIHdpdGggb3RoZXIgc3R1ZGVudHMsIG9yIGFjY2VzcyBpdCB5b3Vyc2VsZi5cbiAgICAgICAgVGhpcyBpcyBzdHJpY3RseSBmb3Igc2hhcmluZyB3aXRoIHRoZSBjb3Vyc2Ugc3RhZmYgd2hlbiBzb21ldGhpbmcgZ29lcyB3cm9uZyBvciB5b3UgbmVlZCBoZWxwIHdpdGggeW91ciBjb2RlLlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgIFRoZSBsaW5rIGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhpcyBRUiBjb2RlLiBEbyBub3Qgc2hhcmUgdGhpcyBRUiBjb2RlIHVubGVzcyB5b3VyIGluc3RydWN0b3Igb3IgVEEgYXNrcyB5b3UgdG8uXG4gICAgICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LWNvcHktc2hhcmUtcXJjb2RlXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYCk7XG5cbiAgICB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktY29weS1zaGFyZS1saW5rXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAvLyBDb3B5IHRoZSBVUkwgdG8gdGhlIGNsaXBib2FyZFxuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh1cmwpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWNvcHktc2hhcmUtbGlua1wiKS5odG1sKFwiQ29waWVkIVwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcXJjb2RlID0gbmV3IFFSQ29kZSh0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktY29weS1zaGFyZS1xcmNvZGVcIilbMF0sIHtcbiAgICAgICAgICAgIHRleHQ6IHVybCxcbiAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICBoZWlnaHQ6IDEyOCxcbiAgICAgICAgICAgIGNvbG9yRGFyazogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICBjb2xvckxpZ2h0OiBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5IXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgY3JlYXRpbmcgUVIgY29kZVwiLCBlKTtcbiAgICAgICAgdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWNvcHktc2hhcmUtcXJjb2RlXCIpLmh0bWwoXCJRUiBjb2RlIGdlbmVyYXRpb24gZmFpbGVkLlwiKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5WSUVXX0lOU1RSVUNUT1JfU1RET1VUID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc3Rkb3V0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLnN0ZG91dCgpO1xuICAgIGNvbnN0IGZvcm1hdHRlZCA9IHN0ZG91dC5qb2luKFwiXCIpO1xuICAgIGNvbnN0IGJvZHkgPSBzdGRvdXQubGVuZ3RoID4gMCA/XG4gICAgICAgIGA8cHJlIGNsYXNzPVwiYmxvY2tweS1pbnN0cnVjdG9yLXN0ZG91dFwiPiR7Zm9ybWF0dGVkfTwvcHJlPmAgOlxuICAgICAgICBcIlRoZSBpbnN0cnVjdG9yIHNjcmlwdCBkaWQgbm90IHByaW50IGFueXRoaW5nIHRvIHRoZSBjb25zb2xlLlwiO1xuICAgIHRoaXMuc2hvdyhcIkluc3RydWN0b3IgU3Rkb3V0XCIsIGBcbiAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICBUaGUgaW5zdHJ1Y3RvciA8Y29kZT5vbl9ydW4ucHk8L2NvZGU+IHNjcmlwdCBoYXMgcHJpbnRlZCB0aGUgZm9sbG93aW5nIG91dHB1dDpcbiAgICA8L2Rpdj5cbiAgICAke2JvZHl9XG4gICAgYCk7XG59IiwiaW1wb3J0IHtFZGl0b3JzfSBmcm9tIFwiLi4vZWRpdG9yc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkRmlsZShtb2RlbCwgZXZlbnQpIHtcbiAgICBsZXQgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgbGV0IGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gKGUgPT5cbiAgICAgICAgbW9kZWwudWkuZWRpdG9ycy5jdXJyZW50KCkudXBsb2FkRmlsZShlKVxuICAgICk7XG4gICAgZmlsZVJlYWRlci5maWxlTmFtZSA9IGZpbGVzWzBdLm5hbWU7XG4gICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGZpbGVzWzBdKTtcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2x1Z2dpZnkodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1teYS16MC05XS9naSwgXCJfXCIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGUobW9kZWwsIGV2ZW50KSB7XG4gICAgbGV0IHtuYW1lLCBleHRlbnNpb24sIGNvbnRlbnRzLCBtaW1ldHlwZX0gPSBtb2RlbC51aS5lZGl0b3JzLmN1cnJlbnQoKS5kb3dubG9hZEZpbGUoKTtcbiAgICAvLyBNYWtlIHNhZmVcbiAgICBuYW1lID0gc2x1Z2dpZnkobmFtZSk7XG4gICAgbmFtZSA9IG5hbWUgKyBleHRlbnNpb247XG4gICAgLy8gTWFrZSB0aGUgZGF0YSBkb3dubG9hZCBhcyBhIGZpbGVcbiAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtjb250ZW50c10sIHt0eXBlOiBtaW1ldHlwZX0pO1xuICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIG5hbWUpO1xuICAgIH0gZWxzZXtcbiAgICAgICAgbGV0IHRlbXBvcmFyeURvd25sb2FkTGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgdGVtcG9yYXJ5RG93bmxvYWRMaW5rLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgdGVtcG9yYXJ5RG93bmxvYWRMaW5rLmRvd25sb2FkID0gbmFtZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wb3JhcnlEb3dubG9hZExpbmspO1xuICAgICAgICB0ZW1wb3JhcnlEb3dubG9hZExpbmsuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZW1wb3JhcnlEb3dubG9hZExpbmspO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICAgICAgdGhpcy5maWxlU3lzdGVtID0gbWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW07XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgIH1cblxuICAgIGRlbGV0ZUZpbGUoKSB7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbS5kZWxldGVGaWxlKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZShcImFuc3dlci5weVwiKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZWRpdG9ycy5jaGFuZ2VFZGl0b3IoXCJhbnN3ZXIucHlcIik7XG4gICAgfVxuXG4gICAgb25GaWxlRGVsZXRlZCgpIHtcbiAgICAgICAgLy8gVE9ETzogU3dpdGNoIHRvIHRoZSBwcmV2aW91cyBmaWxlIGluc3RlYWQgb2YgYSBkZWZhdWx0IGZpbGVcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuY2hhbmdlRWRpdG9yKFwiYW5zd2VyLnB5XCIpO1xuICAgIH1cblxuICAgIG9uRmlsZVVwZGF0ZWQoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSA9PT0gdGhpcy5maWxlbmFtZSkge1xuICAgICAgICAgICAgLy90aGlzLmZpbGUgPSBmaWxlO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZWRpdG9ycy5jaGFuZ2VFZGl0b3IodGhpcy5maWxlbmFtZSk7XG4gICAgICAgICAgICAvL3RoaXMuZmlsZVN5c3RlbS5zdG9wV2F0Y2hpbmdGaWxlKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy90aGlzLnRyYWNrQ3VycmVudEZpbGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyYWNrQ3VycmVudEZpbGUoKSB7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbS53YXRjaEZpbGUodGhpcy5maWxlbmFtZSwge1xuICAgICAgICAgICAgdXBkYXRlZDogdGhpcy5vbkZpbGVVcGRhdGVkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBkZWxldGVkOiB0aGlzLm9uRmlsZURlbGV0ZWQuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBuZXdGaWxlbmFtZTtcbiAgICAgICAgdGhpcy5maWxlID0gdGhpcy5maWxlU3lzdGVtLmdldEZpbGUobmV3RmlsZW5hbWUpO1xuICAgICAgICB0aGlzLnRyYWNrQ3VycmVudEZpbGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdGaWxlbmFtZSAtIHRoZSBmaWxlbmFtZSB0aGF0IHRoZSBvdGhlciBlZGl0b3Igd2lsbCBiZSBzd2l0Y2hpbmcgdG9cbiAgICAgKiBAcGFyYW0gb2xkRWRpdG9yXG4gICAgICogQHBhcmFtIG5ld0VkaXRvclxuICAgICAqL1xuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbS5zdG9wV2F0Y2hpbmdGaWxlKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICB1cGxvYWRGaWxlKGV2ZW50KSB7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IGV2ZW50LnRhcmdldC5maWxlTmFtZTtcbiAgICAgICAgbGV0IGNvbnRlbnRzID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgdGhpcy5maWxlLmhhbmRsZShjb250ZW50cyk7XG4gICAgfVxuXG4gICAgZG93bmxvYWRGaWxlKCkge1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBFZGl0b3JzLnBhcnNlRmlsZW5hbWUodGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBmaWxlbmFtZS5uYW1lLFxuICAgICAgICAgICAgZXh0ZW5zaW9uOiBmaWxlbmFtZS50eXBlLFxuICAgICAgICAgICAgY29udGVudHM6IHRoaXMuZmlsZS5oYW5kbGUoKSxcbiAgICAgICAgICAgIG1pbWV0eXBlOiBcInRleHQvcGxhaW5cIlxuICAgICAgICB9O1xuICAgIH1cbn0iLCJpbXBvcnQge0Fic3RyYWN0RWRpdG9yfSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcbmltcG9ydCB7RGlzcGxheU1vZGVzfSBmcm9tIFwiLi9weXRob25cIjtcblxuY29uc3QgQVNTSUdOTUVOVF9TRVRUSU5HUyA9IFtcbiAgICBbXCJ0b29sYm94XCIsIFwidG9vbGJveFwiLCBcIm5vcm1hbFwiLCBcInRvb2xib3hcIiwgXCJXaGljaCB2ZXJzaW9uIG9mIHRoZSB0b29sYm94IHRvIHByZXNlbnQgdG8gdGhlIHVzZXIuXCJdLFxuICAgIFtcInR5cGVcIiwgXCJ0eXBlXCIsIFwiYmxvY2tweVwiLCBcInR5cGVcIiwgXCJUaGUgdHlwZSBvZiBxdWVzdGlvbjsgQmxvY2tQeSBwcm9ncmFtbWluZyBwcm9ibGVtcyBhcmUgdGhlIGRlZmF1bHQsIGJ1dCB3ZSBhbHNvIHN1cHBvcnQgc3RhdGljIHJlYWRpbmdzLCBxdWl6IHF1ZXN0aW9ucywgYW5kIGEgTWF6ZSBnYW1lLlwiXSxcbiAgICBbXCJwYXNzY29kZVwiLCBcInBhc3Njb2RlXCIsIFwiXCIsIFwic3RyaW5nXCIsIFwiQSBzdHJpbmcgdGhhdCB0aGUgdXNlciBtdXN0IGVudGVyIHRvIGFjY2VzcyB0aGUgcHJvYmxlbS4gSWYgYmxhbmssIHRoZW4gbm8gcGFzc2NvZGUgaXMgcHJvbXB0ZWQuXCJdLFxuICAgIC8vW1widG9vbGJveExldmVsXCIsIFwidG9vbGJveF9sZXZlbFwiLCBcIm5vcm1hbFwiLCBcInRvb2xib3hcIiwgXCJJTkNPTVBMRVRFOiBXaGF0IGxldmVsIG9mIHRvb2xib3ggdG8gcHJlc2VudCB0byB0aGUgdXNlciAoaGlkaW5nIGFuZCBzaG93aW5nIGNhdGVnb3JpZXMpLlwiXSxcbiAgICBbXCJzdGFydFZpZXdcIiwgXCJzdGFydF92aWV3XCIsIERpc3BsYXlNb2Rlcy5URVhULCBEaXNwbGF5TW9kZXMsIFwiVGhlIFB5dGhvbiBlZGl0b3IgbW9kZSB0byBzdGFydCBpbiB3aGVuIHRoZSBzdHVkZW50IHN0YXJ0cyB0aGUgcHJvYmxlbS5cIl0sXG4gICAgW1wiZGF0YXNldHNcIiwgXCJkYXRhc2V0c1wiLCBcIlwiLCBcInN0cmluZ1wiLCBcIlRoZSBjdXJyZW50IGxpc3Qgb2YgZGF0YXNldHMgYXZhaWxhYmxlIG9uIGxvYWQgYXMgYSBjb21tYS1zZXBhcmF0ZWQgc3RyaW5nLlwiXSxcbiAgICBbXCJkaXNhYmxlVGltZW91dFwiLCBcImRpc2FibGVfdGltZW91dFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBzdHVkZW50cyBjb2RlIGlzIGFsbG93ZWQgdG8gcnVuIHdpdGhvdXQgdGltZW91dHMgKHBvdGVudGlhbGx5IGFsbG93aW5nIGluZmluaXRlIGxvb3BzKS5cIl0sXG4gICAgW1wicGFydElkXCIsIFwicGFydF9pZFwiLCBcIlwiLCBcInN0cmluZ1wiLCBcIlRoZSBQYXJ0IElEIG9mIGFuIEFzc2lnbm1lbnQgdGhhdCB0aGlzIGVkaXRvciBpcyByZXNwb25zaWJsZSBmb3IuIEFzc2lnbm1lbnRzIGNhbiBoYXZlIHJlZ2lvbnMgKFxcXCJQYXJ0c1xcXCIpIHRoYXQgYmVoYXZlIGluZGVwZW5kZW50bHkgdG8gdGhlIHVzZXIgYnV0IGFsbCBjb3JyZXNwb25kIHRvIHRoZSBzYW1lIGFzc2lnbm1lbnQgb24gdGhlIGJhY2tlbmQuIEJsYW5rIGNvcnJlc3BvbmRzIHRvIHRoZSBmdWxsIGRvY3VtZW50LiBOb3RlIHRoYXQgbW9zdCBhc3NpZ25tZW50IHNldHRpbmdzIHdpbGwgYXBwbHkgVU5JVkVSU0FMTFkgYWNyb3NzIGFsbCBwYXJ0cywgaW5jbHVkaW5nIHRoZSBvbl9ydW4ucHkgYW5kIHRoZSBvdGhlciBzZXR0aW5ncyBvbiB0aGlzIHBhZ2UuXCJdLFxuICAgIFtcImlzUGFyc29uc1wiLCBcImlzX3BhcnNvbnNcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhpcyBpcyBhIHBhcnNvbidzIHN0eWxlIHF1ZXN0aW9uIChqdW1ibGVkKS5cIl0sXG4gICAgW1wic2F2ZVR1cnRsZU91dHB1dFwiLCBcInNhdmVfdHVydGxlX291dHB1dFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0dXJ0bGUgKGFuZCBweWdhbWUpIG91dHB1dCBpcyBzYXZlZCB3aGVuZXZlciB0aGUgcHJvZ3JhbSB1c2VzIGl0LlwiXSxcbiAgICBbXCJkaXNhYmxlRmVlZGJhY2tcIiwgXCJkaXNhYmxlX2ZlZWRiYWNrXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIG5vIGluc3RydWN0b3Igc2NyaXB0cyBhcmUgcnVuIChlLmcuLCBvbl9ydW4gYW5kIG9uX2V2YWwpLlwiXSxcbiAgICBbXCJkaXNhYmxlSW5zdHJ1Y3RvclJ1blwiLCBcImRpc2FibGVfaW5zdHJ1Y3Rvcl9ydW5cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIGluc3RydWN0b3Igb25fcnVuIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgcnVuIHRoZSBzdHVkZW50cycgY29kZS4gVGhpcyBzdGlsbCBydW5zIHRoZSBzdHVkZW50cycgY29kZSBvbmNlIGJlZm9yZWhhbmQsIGJ1dCB0aGUgb3V0cHV0L2RhdGEgd2lsbCBub3QgYmUgYXZhaWxhYmxlIHRvIHRoZSBpbnN0cnVjdG9yJ3Mgb25fcnVuLnB5IHNjcmlwdC5cIl0sXG4gICAgW1wiZGlzYWJsZVN0dWRlbnRSdW5cIiwgXCJkaXNhYmxlX3N0dWRlbnRfcnVuXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBydW4gYnV0dG9uIG5vIGxvbmdlciBydW4gdGhlIHN0dWRlbnRzJyBjb2RlLiBUaGlzIHN0aWxsIHJ1bnMgdGhlIGluc3RydWN0b3IncyBmZWVkYmFjayBvbl9ydW4gc2NyaXB0LlwiXSxcbiAgICBbXCJkaXNhYmxlVGlmYVwiLCBcImRpc2FibGVfdGlmYVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBkbyBub3QgYXV0b21hdGljYWxseSBydW4gVGlmYSAod2hpY2ggY2FuIGJlIHNsb3cpLlwiXSxcbiAgICBbXCJkaXNhYmxlVHJhY2VcIiwgXCJkaXNhYmxlX3RyYWNlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50cyBjb2RlIHdpbGwgbm90IGhhdmUgaXRzIGV4ZWN1dGlvbiB0cmFjZWQgKG5vIHZhcmlhYmxlcyByZWNvcmRlZCwgbm8gY292ZXJhZ2UgdHJhY2tlZCkuXCJdLFxuICAgIFtcImRpc2FibGVFZGl0XCIsIFwiZGlzYWJsZV9lZGl0XCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50cycgZmlsZSB3aWxsIG5vdCBiZSBlZGl0YWJsZS5cIl0sXG4gICAgW1wicHJlbG9hZEFsbEZpbGVzXCIsIFwicHJlbG9hZF9hbGxfZmlsZXNcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnRzIGNhbiB1cGxvYWQgYW5kIHVzZSBpbWFnZXMgYW5kIG90aGVyIGZpbGVzLiBUaGlzIHByZWxvYWRzIGFsbCBhdmFpbGFibGUgZmlsZXMgYW5kIGltYWdlcy4gWW91IGNhbiBmaWx0ZXIgdGhlbSB1c2luZyB0aGUgUHJlbG9hZGVkIEZpbGVzIHNldHRpbmcuXCJdLFxuICAgIFtcImVuYWJsZUltYWdlc1wiLCBcImNhbl9pbWFnZVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB1c2VycyBjYW4gY29weS9wYXN0ZSBpbWFnZXMgZGlyZWN0bHkgaW50byB0aGUgdGV4dCBlZGl0b3IuXCJdLFxuICAgIFtcImVuYWJsZUJsb2Nrc1wiLCBcImNhbl9ibG9ja3NcIiwgdHJ1ZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudCBjYW4gZWRpdCB0aGUgYmxvY2sgaW50ZXJmYWNlIChpZiBub3QsIHRoZW4gaXQgaXMgdmlzaWJsZSBidXQgbm90IGVkaXRhYmxlKS5cIl0sXG4gICAgW1wiY2FuQ2xvc2VcIiwgXCJjYW5fY2xvc2VcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnQgc2hvdWxkIG1hcmsgdGhlaXIgc3VibWlzc2lvbiBjbG9zZWQgd2hlbiB0aGV5IGFyZSBkb25lLiBUaGVyZSBpcyBubyB3YXkgdG8gZm9yY2UgYSBzdHVkZW50IHRvIGRvIHNvLiBVbmxpa2UgUmV2aWV3ZWQsIHRoaXMgc3RpbGwgc3VibWl0cyB0aGUgY29ycmVjdG5lc3MuXCJdLFxuICAgIFtcIm9ubHlJbnRlcmFjdGl2ZVwiLCBcIm9ubHlfaW50ZXJhY3RpdmVcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZSBlZGl0b3JzIGFyZSBoaWRkZW4sIHRoZSBwcm9ncmFtIGlzIGF1dG9tYXRpY2FsbHkgcnVuLCBhbmQgdGhlbiB0aGUgY29uc29sZSBlbnRlcnMgRXZhbCBtb2RlIChpbnRlcmFjdGl2ZSkuXCJdLFxuICAgIFtcIm9ubHlVcGxvYWRzXCIsIFwib25seV91cGxvYWRzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50cycgZmlsZSB3aWxsIG5vdCBiZSBkaXJlY3RseSBlZGl0YWJsZSAodGhleSB3aWxsIGhhdmUgdG8gdXBsb2FkIHN1Ym1pc3Npb25zKS5cIl0sXG4gICAgLy8gV2hhdCBtZW51cy9mZWVkYmFjayB0byBzaG93IGFuZCBoaWRlXG4gICAgW1wiaGlkZVN1Ym1pc3Npb25cIiwgXCJoaWRlX3N1Ym1pc3Npb25cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgdGhlaXIgc3VibWlzc2lvbidzIGNvZGUgb3IgaGlzdG9yeSBvbiBDYW52YXMuXCJdLFxuICAgIFtcImhpZGVGaWxlc1wiLCBcImhpZGVfZmlsZXNcIiwgdHJ1ZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBzdHVkZW50cyB3aWxsIG5vdCBzZWUgdGhlIFZpZXcgRmlsZXMgdG9vbGJhci5cIl0sXG4gICAgW1wiaGlkZVF1ZXVlZElucHV0c1wiLCBcImhpZGVfcXVldWVkX2lucHV0c1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMgY2Fubm90IGFjY2VzcyB0aGUgcXVldWVkIGlucHV0cyBib3ggKG1ha2VzIHJlcGVhdGVkIGRlYnVnZ2luZyBlYXNpZXIgZm9yIHRoZSBpbnB1dCBmdW5jdGlvbikuXCJdLFxuICAgIFtcImhpZGVFZGl0b3JzXCIsIFwiaGlkZV9lZGl0b3JzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIGFsbCBvZiB0aGUgZWRpdG9ycyBhcmUgaGlkZGVuLlwiXSxcbiAgICBbXCJoaWRlTWlkZGxlUGFuZWxcIiwgXCJoaWRlX21pZGRsZV9wYW5lbFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgY29uc29sZSBhbmQgZmVlZGJhY2sgYXJlYXMgaXMgaGlkZGVuLlwiXSxcbiAgICBbXCJoaWRlQWxsXCIsIFwiaGlkZV9hbGxcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklOQ09NUExFVEU6IElmIGNoZWNrZWQsIHRoZW4gdGhlIGVudGlyZSBpbnRlcmZhY2UgaXMgaGlkZGVuLlwiXSxcbiAgICBbXCJoaWRlRXZhbHVhdGVcIiwgXCJoaWRlX2V2YWx1YXRlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBFdmFsdWF0ZSBidXR0b24gaXMgbm90IHNob3duIG9uIHRoZSBjb25zb2xlLlwiXSxcbiAgICBbXCJoaWRlSW1wb3J0RGF0YXNldHNCdXR0b25cIiwgXCJoaWRlX2ltcG9ydF9kYXRhc2V0c19idXR0b25cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgY2Fubm90IHNlZSB0aGUgaW1wb3J0IGRhdGFzZXRzIGJ1dHRvbi5cIl0sXG4gICAgLy8gVE9ETzogRml4IHRoaXMgb25lIHRvIGJlIHNldHRhYmxlXG4gICAgW1wiaGlkZUltcG9ydFN0YXRlbWVudHNcIiwgXCJoaWRlX2ltcG9ydF9zdGF0ZW1lbnRzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJTkNPTVBMRVRFOiBJZiBjaGVja2VkLCBjZXJ0YWluIGtpbmRzIG9mIGltcG9ydCBzdGF0ZW1lbnRzIChtYXRwbG90bGliLCB0dXJ0bGUsIGRhdGFzZXRzKSBhcmUgbm90IHNob3duIGluIHRoZSBibG9jayBpbnRlcmZhY2UuXCJdLFxuICAgIFtcImhpZGVDb3ZlcmFnZUJ1dHRvblwiLCBcImhpZGVfY292ZXJhZ2VfYnV0dG9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJTkNPTVBMRVRFOiBJZiBjaGVja2VkLCB0aGUgY292ZXJhZ2UgYnV0dG9uIGlzIG5vdCBzaG93bi5cIl0sXG4gICAgW1wiaGlkZVRyYWNlQnV0dG9uXCIsIFwiaGlkZV90cmFjZV9idXR0b25cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIFRyYWNlIGJ1dHRvbiBpcyBub3Qgc2hvd24uXCJdLFxuICAgIFtcInNtYWxsTGF5b3V0XCIsIFwic21hbGxfbGF5b3V0XCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBpbnRlcmZhY2UgZml0cyBpbnRvIGEgc21hbGxlciByZWdpb24uXCJdLFxuICAgIFtcImhhc0Nsb2NrXCIsIFwiaGFzX2Nsb2NrXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIGEgY2xvY2sgaXMgc2hvd24gaW4gdGhlIHRvcCByaWdodCBjb3JuZXIuXCJdLFxuICAgIFtcInByZWxvYWRGaWxlc1wiLCBcInByZWxvYWRfZmlsZXNcIiwgXCJcIiwgXCJzdHJpbmdcIiwgXCJBIEpTT04gc3RydWN0dXJlIHJlcHJlc2VudGluZyB0aGUgZmlsZXMgdGhhdCBzaG91bGQgYmUgbG9hZGVkIG9uIHN0YXJ0IGZyb20gdGhlIHJlbW90ZSwgYXMgaWYgdGhleSB3ZXJlIGxvY2FsLlwiXSxcbiAgICBbXCJpbnN0cnVjdGlvbnNQb29sXCIsIFwiaW5zdHJ1Y3Rpb25zX3Bvb2xcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIGluc3RydWN0aW9ucyB3aWxsIGJlIGludGVycHJldGVkIGFzIGJlaW5nIGZyb20gYSBwb29sLiBPbmUgb2YgdGhlIHByb21wdHMgd2lsbCBiZSBjaG9zZW4gZnJvbSB0aGUgcG9vbCBiYXNlZCBvbiB0aGUgcmFuZG9tIHNlZWQuXCJdLFxuXTtcblxuZXhwb3J0IGxldCBBc3NpZ21lbnRUeXBlID0ge1xuICAgIEJMT0NLUFk6IFwiYmxvY2tweVwiLFxuICAgIE1BWkU6IFwibWF6ZVwiLFxuICAgIFFVSVo6IFwicXVpelwiLFxuICAgIFJFQURJTkc6IFwicmVhZGluZ1wiXG59O1xuXG5mdW5jdGlvbiBnZXREb2N1bWVudGF0aW9uKG5hbWUpIHtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBBU1NJR05NRU5UX1NFVFRJTkdTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChBU1NJR05NRU5UX1NFVFRJTkdTW2ldWzBdID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gQVNTSUdOTUVOVF9TRVRUSU5HU1tpXVs0XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJEb2N1bWVudGF0aW9uIG5vdCBmb3VuZCBmb3IgZmllbGRcIjtcbn1cblxuZnVuY3Rpb24gbWFrZVN0YXJ0Vmlld1RhYihuYW1lLCBpY29uLCBtb2RlKSB7XG4gICAgcmV0dXJuIGA8bGFiZWwgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJsb2NrcHktbW9kZS1zZXQtYmxvY2tzXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHthY3RpdmU6IGFzc2lnbm1lbnQuc2V0dGluZ3Muc3RhcnRWaWV3KCkgPT09ICcke21vZGV9J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogYXNzaWdubWVudC5zZXR0aW5ncy5zdGFydFZpZXcuYmluZCgkZGF0YSwgJyR7bW9kZX0nKVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtJHtpY29ufSc+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiYmxvY2tweS1zdGFydC12aWV3LXNldFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNoZWNrZWQ+ICR7bmFtZX1cbiAgICAgICAgICAgIDwvbGFiZWw+YDtcbn1cblxuY29uc3QgQVNTSUdOTUVOVF9TRVRUSU5HU19CT09MRUFOX0NPTVBPTkVOVFNfSFRNTCA9IEFTU0lHTk1FTlRfU0VUVElOR1NcbiAgICAvLyBPbmx5IGhhbmRsZSB0aGUgc2ltcGxlIGJvb2xlYW5zIHRoaXMgd2F5XG4gICAgLmZpbHRlcigoc2V0dGluZykgPT4gc2V0dGluZ1szXSA9PT0gXCJib29sXCIpXG4gICAgLm1hcCgoc2V0dGluZykgPT4ge1xuICAgICAgICBsZXQgcHJldHR5TmFtZSA9IHNldHRpbmdbMV0uc3BsaXQoXCJfXCIpLm1hcCh3b3JkPT4od29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt3b3JkLnNsaWNlKDEpKSkuam9pbihcIiBcIik7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy0ke3NldHRpbmdbMF19XCI+JHtwcmV0dHlOYW1lfTwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtJHtzZXR0aW5nWzBdfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGFzc2lnbm1lbnQuc2V0dGluZ3MuJHtzZXR0aW5nWzBdfVwiPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7c2V0dGluZ1s0XX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIH0pLmpvaW4oXCJcXG5cXG5cIik7XG5cbmV4cG9ydCBjb25zdCBBU1NJR05NRU5UX1NFVFRJTkdTX0VESVRPUl9IVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LXZpZXctc2V0dGluZ3NcIj5cbiAgICBcbiAgICA8Zm9ybT5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTIgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuc2V0dGluZ3Muc2F2ZVwiPlNhdmUgY2hhbmdlczwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLW5hbWVcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5OYW1lOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtbmFtZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQubmFtZVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIFRoZSBzdHVkZW50LWZhY2luZyBuYW1lIG9mIHRoZSBhc3NpZ25tZW50LiBBc3NpZ25tZW50cyB3aXRoaW4gYSBncm91cCBhcmUgb3JkZXJlZCBhbHBoYWJldGljYWxseVxuICAgICAgICAgICAgICAgICAgICBieSB0aGVpciBuYW1lLCBzbyB5b3UgbWF5IHdhbnQgdG8gdXNlIGEgbmFtaW5nIHNjaGVtZSBsaWtlIFwiIzQzLjUpIFdoYXRldmVyXCIuXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtdXJsXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+VVJMOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtdXJsXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC51cmxcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBUaGUgY291cnNlLXVuaXF1ZSBVUkwgdGhhdCBjYW4gYmUgdXNlZCB0byBjb25zaXN0ZW50bHkgcmVmZXIgdG8gdGhpcyBhc3NpZ25tZW50LiBcbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXB1YmxpY1wiPlB1YmxpYzo8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXB1YmxpY1wiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGFzc2lnbm1lbnQucHVibGljXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgSWYgbm90IHB1YmxpYywgdXNlcnMgb3V0c2lkZSBvZiB0aGUgY291cnNlIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIHRoZSBhc3NpZ25tZW50IGluIGNvdXJzZSBsaXN0aW5ncy5cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXNldHRpbmdzLWhpZGRlblwiPkhpZGRlbjo8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLWhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGFzc2lnbm1lbnQuaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgSWYgaGlkZGVuLCBzdHVkZW50cyB3aWxsIG5vdCBiZSBhYmxlIHRvIHNlZSB0aGVpciBncmFkZSB3aGlsZSB3b3JraW5nIG9uIHRoZSBhc3NpZ25tZW50LlxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcmV2aWV3ZWRcIj5SZXZpZXdlZDo8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXJldmlld2VkXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2hlY2tlZDogYXNzaWdubWVudC5yZXZpZXdlZFwiPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIElmIHJldmlld2VkLCB0aGUgYXNzaWdubWVudCBuZWVkIHRvIGJlIGNvbW1lbnRlZCB1cG9uIGFuZCByZWdyYWRlZCBieSB0aGUgc3RhZmYgYWZ0ZXIgc3VibWlzc2lvbi5cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1wb2ludHNcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5Qb2ludHM6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXBvaW50c1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQucG9pbnRzXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgVGhlIG51bWJlciBvZiBwb2ludHMgdGhpcyBhc3NpZ25tZW50IGlzIHdvcnRoOyBkZWZhdWx0cyB0byAxIHBvaW50LiBcbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXJldmlld2VkXCI+U3RhcnRpbmcgVmlldzo8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC10b2dnbGUgbXItMlwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAke21ha2VTdGFydFZpZXdUYWIoXCJCbG9ja3NcIiwgXCJ0aC1sYXJnZVwiLCBEaXNwbGF5TW9kZXMuQkxPQ0spfVxuICAgICAgICAgICAgICAgICAgICAke21ha2VTdGFydFZpZXdUYWIoXCJTcGxpdFwiLCBcImNvbHVtbnNcIiwgRGlzcGxheU1vZGVzLlNQTElUKX1cbiAgICAgICAgICAgICAgICAgICAgJHttYWtlU3RhcnRWaWV3VGFiKFwiVGV4dFwiLCBcImFsaWduLWxlZnRcIiwgRGlzcGxheU1vZGVzLlRFWFQpfVxuICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS03XCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwic3RhcnRWaWV3XCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLWlwLXJhbmdlc1wiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPklQIFJhbmdlczo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLWlwLXJhbmdlc1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQuaXBSYW5nZXNcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBQcm92aWRlIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgSVAgQWRkcmVzc2VzIHRoYXQgd2lsbCBiZSBleHBsaWNpdGx5IGFsbG93ZWQuIElmIGJsYW5rLFxuICAgICAgICAgICAgICAgICAgICB0aGVuIGFsbCBhZGRyZXNzZXMgYXJlIGFsbG93ZWQuIElmIGFuIGFkZHJlc3Mgc3RhcnRzIHdpdGggPGNvZGU+XjwvY29kZT4gdGhlbiBpdCBpdCBpcyBleHBsaWNpdGx5XG4gICAgICAgICAgICAgICAgICAgIGJsYWNrbGlzdGVkLCBidXQgdGhhdCBjYW4gYmUgb3ZlcnJpZGRlbiBpbiB0dXJuIHdpdGggYSA8Y29kZT4hPC9jb2RlPi4gQWRkcmVzc2VzIGNhbiBhbHNvXG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgYSBiaXQgbWFzayB0byBhbGxvdyBhIHJhbmdlIG9mIGFkZHJlc3Nlcy5cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1wYXNzY29kZVwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlBhc3Njb2RlOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtcGFzc2NvZGVcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnNldHRpbmdzLnBhc3Njb2RlXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwicGFzc2NvZGVcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtZGF0YXNldHNcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5QcmVsb2FkZWQgRGF0YXNldHM6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1kYXRhc2V0c1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQuc2V0dGluZ3MuZGF0YXNldHNcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke2dldERvY3VtZW50YXRpb24oXCJkYXRhc2V0c1wiKX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1wcmVsb2FkLWZpbGVzXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+UHJlbG9hZGVkIEZpbGVzOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtcHJlbG9hZC1maWxlc1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQuc2V0dGluZ3MucHJlbG9hZEZpbGVzXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwicHJlbG9hZEZpbGVzXCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXRvb2xib3hcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5CbG9jayBUb29sYm94OjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy10b29sYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveFwiPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub3JtYWxcIj5Ob3JtYWwgVG9vbGJveDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjdFwiPkNUQFZUIFRvb2xib3g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY3QyXCI+Q1RAVlQgVG9vbGJveCBWMjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtaW5pbWFsXCI+TWluaW1hbCBTZXQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZnVsbFwiPkFsbCBCbG9ja3M8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY3VzdG9tXCI+Q3VzdG9tPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwidG9vbGJveFwiKX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy10eXBlXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+UHJvYmxlbSBUeXBlOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy10eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQudHlwZVwiPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJibG9ja3B5XCI+QmxvY2tQeTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtYXplXCI+TWF6ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJxdWl6XCI+UXVpeiBRdWVzdGlvbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZWFkaW5nXCI+UmVhZGluZzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInR5cGVcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcGFydC1pZFwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlBhcnQgSUQ6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1wYXJ0LWlkXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogY29uZmlndXJhdGlvbi5wYXJ0SWRcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke2dldERvY3VtZW50YXRpb24oXCJwYXJ0SWRcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgICR7QVNTSUdOTUVOVF9TRVRUSU5HU19CT09MRUFOX0NPTVBPTkVOVFNfSFRNTH1cbiAgICA8L2Zvcm0+XG4gICAgXG4gICAgPC9kaXY+XG5gO1xuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUFzc2lnbm1lbnRTZXR0aW5ncyhtb2RlbCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHt9O1xuICAgIEFTU0lHTk1FTlRfU0VUVElOR1MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgbGV0IGNsaWVudE5hbWUgPSBzZXR0aW5nWzBdLCBzZXJ2ZXJOYW1lID0gc2V0dGluZ1sxXSwgZGVmYXVsdFZhbHVlID0gc2V0dGluZ1syXTtcbiAgICAgICAgbGV0IHZhbHVlID0gbW9kZWwuYXNzaWdubWVudC5zZXR0aW5nc1tjbGllbnROYW1lXSgpO1xuICAgICAgICAvLyBPbmx5IHN0b3JlIHRoaXMgc2V0dGluZyBpZiBpdHMgZGlmZmVyZW50IGZyb20gdGhlIGRlZmF1bHRcbiAgICAgICAgaWYgKHZhbHVlICE9PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHNldHRpbmdzW3NlcnZlck5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEFzc2lnbm1lbnRTZXR0aW5ncyhtb2RlbCwgc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgc2V0dGluZ3MgPSBKU09OLnBhcnNlKHNldHRpbmdzKTtcbiAgICAgICAgQVNTSUdOTUVOVF9TRVRUSU5HUy5mb3JFYWNoKHNldHRpbmcgPT4ge1xuICAgICAgICAgICAgbGV0IGNsaWVudE5hbWUgPSBzZXR0aW5nWzBdLCBzZXJ2ZXJOYW1lID0gc2V0dGluZ1sxXTtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJOYW1lIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5nc1tjbGllbnROYW1lXShzZXR0aW5nc1tzZXJ2ZXJOYW1lXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3NbY2xpZW50TmFtZV0oc2V0dGluZ1syXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5zdGFydF92aWV3KSB7XG4gICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoc2V0dGluZ3Muc3RhcnRfdmlldyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnNvbGUubG9nKGNvbmZpZ3VyYXRpb24pO1xuICAgIGxldCBzZXR0aW5ncyA9IHt9O1xuICAgIEFTU0lHTk1FTlRfU0VUVElOR1MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgbGV0IGNsaWVudE5hbWUgPSBzZXR0aW5nWzBdLCBzZXJ2ZXJOYW1lID0gc2V0dGluZ1sxXSwgZGVmYXVsdFZhbHVlID0gc2V0dGluZ1syXSxcbiAgICAgICAgICAgIGZpZWxkVHlwZSA9IHNldHRpbmdbM107XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5zZXR0aW5ncy5cIitzZXJ2ZXJOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXR0aW5nc1tjbGllbnROYW1lXSA9IGtvLm9ic2VydmFibGUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb25maWdWYWx1ZSA9IGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnNldHRpbmdzLlwiK3NlcnZlck5hbWVdO1xuICAgICAgICAgICAgaWYgKGZpZWxkVHlwZSA9PT0gXCJib29sXCIpIHtcbiAgICAgICAgICAgICAgICBjb25maWdWYWx1ZSA9IGNvbmZpZ1ZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR0aW5nc1tjbGllbnROYW1lXSA9IGtvLm9ic2VydmFibGUoY29uZmlnVmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2V0dGluZ3M7XG59XG5cbmNsYXNzIEFzc2lnbm1lbnRTZXR0aW5nc1ZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XG4gICAgICAgIHN1cGVyLmVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIC8vVE9ETzogdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXG4gICAgICAgIC8vIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuZmlsZS5oYW5kbGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlRWRpdG9yLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvL1RPRE86IHRoaXMuY29kZU1pcnJvci5vbihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gVE9ETzogRG8gdXBkYXRlXG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vdGhpcy5maWxlLmhhbmRsZSh0aGlzLmNvZGVNaXJyb3IudmFsdWUoKSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBVcGRhdGVcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXG4gICAgICAgIC8vdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgLy8gVE9ETzogdXBkYXRlXG4gICAgICAgIC8vdGhpcy5jb2RlTWlycm9yLm9mZihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgQXNzaWdubWVudFNldHRpbmdzID0ge1xuICAgIG5hbWU6IFwiQXNzaWdubWVudCBTZXR0aW5nc1wiLFxuICAgIGV4dGVuc2lvbnM6IFtcIiFhc3NpZ25tZW50X3NldHRpbmdzLmJsb2NrcHlcIl0sXG4gICAgY29uc3RydWN0b3I6IEFzc2lnbm1lbnRTZXR0aW5nc1ZpZXcsXG4gICAgdGVtcGxhdGU6IEFTU0lHTk1FTlRfU0VUVElOR1NfRURJVE9SX0hUTUxcbn07IiwiXHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdF9oZWFkZXIgPSBgXHJcbjxkaXYgY2xhc3M9XCJibG9ja3B5LXB5dGhvbi10b29sYmFyIGNvbC1tZC0xMiBidG4tdG9vbGJhclwiXHJcbiAgICAgcm9sZT1cInRvb2xiYXJcIiBhcmlhLWxhYmVsPVwiUHl0aG9uIFRvb2xiYXJcIj5cclxuICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIj5cclxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWZpbGUtdXBsb2FkXCI+PC9zcGFuPiBVcGxvYWRcclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYmxvY2tweS10b29sYmFyLXVwbG9hZFwiIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICAgIGhpZGRlblxyXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiZXZlbnQ6IHtjaGFuZ2U6IHVpLmVkaXRvcnMudXBsb2FkfVwiPlxyXG4gICAgICAgICA8L2xhYmVsPlxyXG5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgZHJvcGRvd24tdG9nZ2xlIGRyb3Bkb3duLXRvZ2dsZS1zcGxpdFwiXHJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiPlxyXG4gICAgICAgICAgICA8YSBjbGFzcz0nZHJvcGRvd24taXRlbSBibG9ja3B5LXRvb2xiYXItZG93bmxvYWQnXHJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5kb3dubG9hZFwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWRvd25sb2FkJz48L3NwYW4+IERvd25sb2FkXHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgXHJcbiAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiRGVsZXRlIEdyb3VwXCJcclxuICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLmNhbkRlbGV0ZVwiPlxyXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiLFxyXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmlsZXMuZGVsZXRlXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXRyYXNoXCI+PC9zcGFuPiBEZWxldGVcclxuICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgPC9kaXY+XHJcbiA8L2Rpdj5cclxuYDtcclxuIiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XHJcbmltcG9ydCAqIGFzIEZpbGVQb25kIGZyb20gXCJmaWxlcG9uZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IElNQUdFX0VESVRPUl9IVE1MID0gYFxyXG4gICAgIDxkaXY+XHJcbiAgICAgICAgPHN0cm9uZz5BdmFpbGFibGUgRmlsZXM8L3N0cm9uZz48YnI+XHJcbiAgICAgICAgICAgIEFsbCB0aGUgZmlsZXMgYXZhaWxhYmxlIHRvIG9wZW4gd2l0aCA8Y29kZT5QSUw8L2NvZGU+IGZvciB0aGlzIGFzc2lnbm1lbnQ6XHJcbiAgICAgICAgICAgIDxidXR0b24gZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuaW1hZ2VzLnJlbG9hZEltYWdlc1wiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgZmxvYXQtcmlnaHRcIlxyXG4gICAgICAgICAgICA+UmVsb2FkIEF2YWlsYWJsZSBJbWFnZXM8L2J1dHRvbj5cclxuICAgICAgICA8IS0tIGtvIGlmOiBkaXNwbGF5LnVwbG9hZGVkRmlsZXMoKSAhPT0gbnVsbCAtLT5cclxuICAgICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICAgICAgPCEtLSBrbyBmb3JlYWNoOiB7IGRhdGE6IE9iamVjdC5rZXlzKGRpc3BsYXkudXBsb2FkZWRGaWxlcygpKSwgYXM6ICdwbGFjZW1lbnQnIH0gLS0+XHJcbiAgICAgICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBkYXRhLWJpbmQ9XCJ0ZXh0OiAkZGF0YVswXS50b1VwcGVyQ2FzZSgpICsgJGRhdGEuc2xpY2UoMSlcIj48L3N0cm9uZz46XHJcbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtc3RyaXBlZCB0YWJsZS1ib3JkZXJlZCB0YWJsZS1ob3ZlciB0YWJsZS1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkZpbGVuYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+UHJldmlldzwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkFjdGlvbnM8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0ga28gZm9yZWFjaDogeyBkYXRhOiAkcm9vdC5kaXNwbGF5LnVwbG9hZGVkRmlsZXMoKVtwbGFjZW1lbnRdLCBhczogJ2ZpbGVuYW1lJyB9IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGUgZGF0YS1iaW5kPVwidGV4dDogZmlsZW5hbWVbMF1cIj48L2NvZGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZXRhaWxzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3VtbWFyeT48aW1nIGRhdGEtYmluZD1cImF0dHI6IHsgc3JjOiBmaWxlbmFtZVsxXSwgYWx0OiBmaWxlbmFtZVsxXSB9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMzBweFwiIGhlaWdodD1cIjMwcHhcIiBvbmVycm9yPVwidGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJ1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGRhdGEtYmluZD1cImF0dHI6IHsgc3JjOiBmaWxlbmFtZVsxXSwgYWx0OiBmaWxlbmFtZVsxXSB9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I9XCJ0aGlzLnN0eWxlLmRpc3BsYXk9J25vbmUnXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGV0YWlscz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiAkcm9vdC51aS5lZGl0b3JzLmltYWdlcy5kZWxldGVGaWxlLmJpbmQoZmlsZW5hbWVbMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6ICRyb290LnVpLmVkaXRvcnMuaW1hZ2VzLmNhbk1vZGlmeShwbGFjZW1lbnQpXCI+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiAkcm9vdC51aS5lZGl0b3JzLmltYWdlcy5yZW5hbWVGaWxlLmJpbmQoZmlsZW5hbWVbMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6ICRyb290LnVpLmVkaXRvcnMuaW1hZ2VzLmNhbk1vZGlmeShwbGFjZW1lbnQpXCI+UmVuYW1lPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPCEtLSAva28gLS0+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPCEtLSAva28gLS0+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPHN0cm9uZz5BZGQgbW9yZSBmaWxlczwvc3Ryb25nPjxicj5cclxuICAgICAgICBVcGxvYWQgbW9yZSBmaWxlcyB1c2luZyB0aGUgZm9ybXMgYmVsb3c6XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVcIj5GaWxlOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBjbGFzcz1cImZvcm0tY29udHJvbCBibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVcIiBpZD1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtZmlsZVwiXHJcbiAgICAgICAgICAgIG5hbWU9XCJibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVcIj5cclxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgVGhlIGZpbGUgdG8gbWFrZSBhdmFpbGFibGUgaW4geW91ciBjb2RlXHJcbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIiBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLmltYWdlcy5jYW5DaG9vc2VQbGFjZW1lbnQoKVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiIGZvcj1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtcGxhY2VtZW50XCI+UGxhY2VtZW50OjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPVwiYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1wbGFjZW1lbnRcIiBuYW1lPVwiYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1wbGFjZW1lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1jb250cm9sIGJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtcGxhY2VtZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInN1Ym1pc3Npb25cIiBzZWxlY3RlZD5Pbmx5IHlvdXIgc3VibWlzc2lvbjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhc3NpZ25tZW50XCI+Rm9yIGFsbCBzdWJtaXNzaW9ucyBvZiB0aGlzIGFzc2lnbm1lbnQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY291cnNlXCI+QWNyb3NzIHRoZSBlbnRpcmUgY291cnNlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInVzZXJcIj5Gb3IganVzdCB5b3VyIHVzZXIgYWNjb3VudDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFRoZSBwbGFjZW1lbnQgb2YgdGhlIGZpbGUgaW4gdGhlIHN5c3RlbS4gVGhpcyBjb250cm9scyB3aGV0aGVyIG90aGVyIHVzZXJzIGNhbiBzZWUgdGhlIGZpbGUuXHJcbiAgICAgICAgICAgICAgICAgICAgSWYgeW91IHdhbnQgdG8gcHJvdmlkZSBhIGZpbGUgdG8gYWxsIHN0dWRlbnRzIGZvciBqdXN0IHRoaXMgc3BlY2lmaWMgcHJvYmxlbSwgdGhlbiB5b3Ugc2hvdWxkXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlIDxjb2RlPkZvciBhbGwgc3VibWlzc2lvbnMgb2YgdGhpcyBhc3NpZ25tZW50PC9jb2RlPi4gSWYgeW91IHdhbnQgdG8gdXNlIHRoaXMgc2FtZSBpbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgIGFjcm9zcyBvdGhlciBhc3NpZ25tZW50cyAoaW5jbHVkaW5nIGFzc2lnbm1lbnRzIHdpdGhpbiB0aGlzIGFzc2lnbm1lbnQgZ3JvdXApLCB0aGVuIHlvdSBzaG91bGRcclxuICAgICAgICAgICAgICAgICAgICB1c2UgPGNvZGU+QWNyb3NzIHRoZSBlbnRpcmUgY291cnNlPC9jb2RlPi5cclxuICAgICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiIGZvcj1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtZmlsZW5hbWVcIj5GaWxlbmFtZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlbmFtZVwiIGlkPVwiYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtZmlsZW5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgVGhlIGZpbGVuYW1lIHRoYXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSBpbiB0aGUgY29kZS4gVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBmaWxlbmFtZSBmb3IgdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgc3lzdGVtLCBhbmQgc2hvdWxkIG5vdCBjb250YWluIHNwYWNlcyBvciBzcGVjaWFsIGNoYXJhY3RlcnMuIEl0IHNob3VsZCBhbHNvIGhhdmUgYSB2YWxpZCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uIChlLmcuLCA8Y29kZT4ucG5nPC9jb2RlPiwgPGNvZGU+LmpwZzwvY29kZT4sIDxjb2RlPi50eHQ8L2NvZGU+KS5cclxuICAgICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLmltYWdlcy51cGxvYWRGaWxlXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIj5VcGxvYWQ8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5gO1xyXG5cclxuY2xhc3MgSW1hZ2VFZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xyXG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XHJcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnKTtcclxuXHJcbiAgICAgICAgdGhpcy50YWdVcGxvYWRGaWxlQnV0dG9uID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVcIik7XHJcbiAgICAgICAgdGhpcy50YWdVcGxvYWRGaWxlUGxhY2VtZW50ID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLXBsYWNlbWVudFwiKTtcclxuICAgICAgICB0aGlzLnRhZ1VwbG9hZEZpbGVOYW1lID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVuYW1lXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnRhZ1VwbG9hZEZpbGVCdXR0b24ub24oXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGFnVXBsb2FkRmlsZU5hbWUudmFsKGV2ZW50LnRhcmdldC5maWxlc1swXS5uYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XHJcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XHJcblxyXG4gICAgICAgIGxldCB1cGxvYWRlZEZpbGVzID0gdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkudXBsb2FkZWRGaWxlcygpO1xyXG4gICAgICAgIGlmICh1cGxvYWRlZEZpbGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVsb2FkSW1hZ2VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgLy8gY29uc3QgdGFyZ2V0ID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci1pbWFnZXMtZmlsZXBvbmRcIilbMF07XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0YXJnZXQpO1xyXG4gICAgICAgIC8qY29uc3QgdXBsb2FkVXJsID0gbmV3IFVSTCh0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi51cmxzW1widXBsb2FkRmlsZVwiXSk7XHJcbiAgICAgICAgdXBsb2FkVXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJkaXJlY3RvcnlcIiwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaWQoKSk7XHJcbiAgICAgICAgdXBsb2FkVXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJwbGFjZW1lbnRcIiwgXCJzdWJtaXNzaW9uXCIpOyovXHJcbiAgICAgICAgLy8gdGhpcy5maWxlcG9uZCA9IEZpbGVQb25kLmNyZWF0ZSh0YXJnZXQsIHtcclxuICAgICAgICAvLyAgICAgLy9maWxlczogW10sXHJcbiAgICAgICAgLy8gICAgIGFsbG93TXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgLy8gICAgIHNlcnZlcjoge1xyXG4gICAgICAgIC8vICAgICAgICAgdXJsOiB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi51cmxzW1wiZG93bmxvYWRGaWxlXCJdLFxyXG4gICAgICAgIC8vICAgICAgICAgbG9hZDogKHNvdXJjZSwgbG9hZCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkwoc291cmNlLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5zZWFyY2hQYXJhbXM7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmRvd25sb2FkRmlsZShcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcGFyYW1zLmdldChcInBsYWNlbWVudFwiKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcGFyYW1zLmdldChcImRpcmVjdG9yeVwiKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcGFyYW1zLmdldChcImZpbGVuYW1lXCIpLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxvYWQobmV3IEZpbGUoW3Jlc3BvbnNlXSwgcGFyYW1zLmdldChcImZpbGVuYW1lXCIpKSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICApO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNvdXJjZSwgbG9hZCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9LFxyXG4gICAgICAgIC8vICAgICAgICAgcHJvY2Vzczoge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHVybDogdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tcInVwbG9hZEZpbGVcIl0sXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgLy8gdXJsOiBcImJsb2NrcHkvdXBsb2FkX2ZpbGU/cGxhY2VtZW50PWFzc2lnbm1lbnQmZGlyZWN0b3J5PVwiK3RoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmlkKCksXHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbGVwb25kKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XHJcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cclxuICAgICAgICB0aGlzLmN1cnJlbnRMaXN0ZW5lciA9IHRoaXMudXBkYXRlSGFuZGxlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTsqL1xyXG4gICAgfVxyXG5cclxuICAgIHJlbG9hZEltYWdlcygpIHtcclxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubGlzdFVwbG9hZGVkRmlsZXMoKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS51cGxvYWRlZEZpbGVzKHJlc3BvbnNlLmZpbGVzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubG9hZFJlbW90ZUZpbGVzKHJlc3BvbnNlLmZpbGVzKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGFsbEZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAvLyBPYmplY3QuZW50cmllcyhyZXNwb25zZS5maWxlcykuZm9yRWFjaCgoW2dyb3VwLCBmaWxlc10pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBmaWxlcy5mb3JFYWNoKChbZmlsZW5hbWUsIHVybF0pID0+IGFsbEZpbGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzb3VyY2U6IHVybCxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHlwZTogXCJsb2NhbFwiXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZmlsZXBvbmQuYWRkRmlsZXMoYWxsRmlsZXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xJU1RJTkdfVVBMT0FERURfRklMRVMocmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XHJcbiAgICAgICAgLyp0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZS5oYW5kbGUodGhpcy5jb2RlTWlycm9yLmdldFZhbHVlKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfSovXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGxhY2VtZW50RGlyZWN0b3J5KHBsYWNlbWVudCkge1xyXG4gICAgICAgIHN3aXRjaCAocGxhY2VtZW50KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzdWJtaXNzaW9uXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uaWQoKTtcclxuICAgICAgICAgICAgY2FzZSBcImFzc2lnbm1lbnRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pZCgpO1xyXG4gICAgICAgICAgICBjYXNlIFwiY291cnNlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLmNvdXJzZS5pZCgpO1xyXG4gICAgICAgICAgICBjYXNlIFwidXNlclwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC51c2VyLmlkKCk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBsb2FkRmlsZShldmVudCkge1xyXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci51cGxvYWRGaWxlKFxyXG4gICAgICAgICAgICB0aGlzLnRhZ1VwbG9hZEZpbGVQbGFjZW1lbnQudmFsKCksXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0UGxhY2VtZW50RGlyZWN0b3J5KHRoaXMudGFnVXBsb2FkRmlsZVBsYWNlbWVudC52YWwoKSksXHJcbiAgICAgICAgICAgIHRoaXMudGFnVXBsb2FkRmlsZU5hbWUudmFsKCksXHJcbiAgICAgICAgICAgIHRoaXMudGFnVXBsb2FkRmlsZUJ1dHRvblswXS5maWxlc1swXSxcclxuICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkSW1hZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9VUExPQURJTkdfRklMRShyZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlRmlsZShmaWxlSW5mbykge1xyXG4gICAgICAgIGNvbnN0IFtmaWxlbmFtZSwgdXJsXSA9IGZpbGVJbmZvO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTCh1cmwsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pLnNlYXJjaFBhcmFtcztcclxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIudXBsb2FkRmlsZShcclxuICAgICAgICAgICAgcXVlcnlQYXJhbXMuZ2V0KFwicGxhY2VtZW50XCIpLFxyXG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5nZXQoXCJkaXJlY3RvcnlcIiksXHJcbiAgICAgICAgICAgIGZpbGVuYW1lLFxyXG4gICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRJbWFnZXMoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0RFTEVUSU5HX0ZJTEUocmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuYW1lRmlsZShmaWxlSW5mbykge1xyXG4gICAgICAgIGNvbnN0IFtmaWxlbmFtZSwgdXJsXSA9IGZpbGVJbmZvO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTCh1cmwsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pLnNlYXJjaFBhcmFtcztcclxuICAgICAgICBjb25zdCBuZXdGaWxlbmFtZSA9IHByb21wdChcIkVudGVyIHRoZSBuZXcgZmlsZW5hbWUgZm9yIHRoaXMgZmlsZTpcIiwgZmlsZW5hbWUpO1xyXG4gICAgICAgIGlmIChuZXdGaWxlbmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIucmVuYW1lRmlsZShcclxuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmdldChcInBsYWNlbWVudFwiKSxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmdldChcImRpcmVjdG9yeVwiKSxcclxuICAgICAgICAgICAgICAgIGZpbGVuYW1lLFxyXG4gICAgICAgICAgICAgICAgbmV3RmlsZW5hbWUsXHJcbiAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZEltYWdlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9SRU5BTUlOR19GSUxFKHJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcclxuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcclxuICAgICAgICAvLyBpZiAodGhpcy5maWxlcG9uZCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmZpbGVwb25kLmRlc3Ryb3koKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBJbWFnZUVkaXRvciA9IHtcclxuICAgIG5hbWU6IFwiSW1hZ2VcIixcclxuICAgIGV4dGVuc2lvbnM6IFtcImltYWdlcy5ibG9ja3B5XCJdLFxyXG4gICAgY29uc3RydWN0b3I6IEltYWdlRWRpdG9yVmlldyxcclxuICAgIHRlbXBsYXRlOiBJTUFHRV9FRElUT1JfSFRNTFxyXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xyXG5pbXBvcnQge2RlZmF1bHRfaGVhZGVyfSBmcm9tIFwiLi9kZWZhdWx0X2hlYWRlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEpTT05fRURJVE9SX0hUTUwgPSBgXHJcbiAgICAke2RlZmF1bHRfaGVhZGVyfVxyXG4gICAgIDxkaXY+XHJcbiAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1lZGl0b3ItanNvblwiPjwvdGV4dGFyZWE+XHJcbiAgICA8L2Rpdj5cclxuYDtcclxuXHJcbmNsYXNzIEpzb25FZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xyXG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XHJcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSh0YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci1qc29uXCIpWzBdLCB7XHJcbiAgICAgICAgICAgIHNob3dDdXJzb3JXaGVuU2VsZWN0aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcclxuICAgICAgICAgICAgZmlyc3RMaW5lTnVtYmVyOiAxLFxyXG4gICAgICAgICAgICBpbmRlbnRVbml0OiA0LFxyXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxyXG4gICAgICAgICAgICBpbmRlbnRXaXRoVGFiczogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBleHRyYUtleXM6IHtcclxuICAgICAgICAgICAgICAgIFwiVGFiXCI6IFwiaW5kZW50TW9yZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJTaGlmdC1UYWJcIjogXCJpbmRlbnRMZXNzXCIsXHJcbiAgICAgICAgICAgICAgICBcIkVzY1wiOiBmdW5jdGlvbiAoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LmJsdXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJGMTFcIjogZnVuY3Rpb24gKGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCAhY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xyXG4gICAgICAgIHN1cGVyLmVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xyXG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuZmlsZS5oYW5kbGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlRWRpdG9yLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cclxuICAgICAgICB0aGlzLmN1cnJlbnRMaXN0ZW5lciA9IHRoaXMudXBkYXRlSGFuZGxlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcclxuICAgICAgICBpZiAob2xkRWRpdG9yICE9PSB0aGlzKSB7XHJcbiAgICAgICAgICAgIC8vIERlbGF5IHNvIHRoYXQgZXZlcnl0aGluZyBpcyByZW5kZXJlZFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY29kZU1pcnJvci5yZWZyZXNoLmJpbmQodGhpcy5jb2RlTWlycm9yKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IHVwZGF0ZSBkeW5hbWljYWxseSB3aGVuIGNoYW5naW5nIGluc3RydWN0b3Igc3RhdHVzXHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIG5ld0ZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpICYmICF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRWYWx1ZShuZXdDb250ZW50cyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKHRoaXMuY29kZU1pcnJvci5nZXRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xyXG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgZmFsc2UpO1xyXG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBKc29uRWRpdG9yID0ge1xyXG4gICAgbmFtZTogXCJKU09OXCIsXHJcbiAgICBleHRlbnNpb25zOiBbXCIuanNvblwiXSxcclxuICAgIGNvbnN0cnVjdG9yOiBKc29uRWRpdG9yVmlldyxcclxuICAgIHRlbXBsYXRlOiBKU09OX0VESVRPUl9IVE1MXHJcbn07IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5pbXBvcnQge2RlZmF1bHRfaGVhZGVyfSBmcm9tIFwiLi9kZWZhdWx0X2hlYWRlclwiO1xuXG5leHBvcnQgY29uc3QgTUFSS0RPV05fRURJVE9SX0hUTUwgPSBgXG4gICAgJHtkZWZhdWx0X2hlYWRlcn1cbiAgICA8dGV4dGFyZWEgY2xhc3M9XCJibG9ja3B5LWVkaXRvci1tYXJrZG93blwiPjwvdGV4dGFyZWE+ICAgIFxuYDtcblxuXG5jbGFzcyBNYXJrZG93bkVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XG4gICAgICAgIHRoaXMubWRlID0gbmV3IEVhc3lNREUoe1xuICAgICAgICAgICAgZWxlbWVudDogdGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItbWFya2Rvd25cIilbMF0sXG4gICAgICAgICAgICBhdXRvRG93bmxvYWRGb250QXdlc29tZTogZmFsc2UsXG4gICAgICAgICAgICBmb3JjZVN5bmM6IHRydWUsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiMzAwcHhcIixcbiAgICAgICAgICAgIC8vc2Nyb2xsYmFyU3R5bGU6IFwibmF0aXZlXCIsXG4gICAgICAgICAgICAvLyBUT0RPOiBpbWFnZVVwbG9hZEZ1bmN0aW9uXG4gICAgICAgICAgICByZW5kZXJpbmdDb25maWc6IHtcbiAgICAgICAgICAgICAgICBjb2RlU3ludGF4SGlnaGxpZ2h0aW5nOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhYlNpemU6IDQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1kZS5jb2RlbWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubWRlLmNvZGVtaXJyb3IucmVmcmVzaC5iaW5kKHRoaXMubWRlLmNvZGVtaXJyb3IpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWRlLnZhbHVlKG5ld0NvbnRlbnRzKTtcbiAgICAgICAgICAgIHRoaXMubWRlLmNvZGVtaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLm1kZS52YWx1ZSgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMubWRlLmNvZGVtaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBNYXJrZG93bkVkaXRvciA9IHtcbiAgICBuYW1lOiBcIk1hcmtkb3duXCIsXG4gICAgZXh0ZW5zaW9uczogW1wiLm1kXCJdLFxuICAgIGNvbnN0cnVjdG9yOiBNYXJrZG93bkVkaXRvclZpZXcsXG4gICAgdGVtcGxhdGU6IE1BUktET1dOX0VESVRPUl9IVE1MXG59OyIsIi8qKlxuICogVE9ETzogcmVuYW1lIGZpbGVzLCBtYW51YWwgc2F2ZSwgdGFncywgc2FtcGxlX3N1Ym1pc3Npb25zLCBvbl9ldmFsLCBub24tYnVpbHRpbiBmaWxlc1xuICogVE9ETzogaW1wb3J0IGRhdGEsIGhpc3RvcnksIHJ1biwgdXJsX2RhdGEsIGFzc2lnbm1lbnRfc2V0dGluZ3MsIHBhcnNvbnNfbW9kZVxuICogVE9ETzogZGVsZXRlIGJlY29tZXMgXCJjbGVhclwiIGZvciBpbnN0cnVjdG9yIGZpbGVzXG4gKi9cblxuLyoqXG4gKlxuICogQGVudW0ge3N0cn1cbiAqL1xuaW1wb3J0IHtBYnN0cmFjdEVkaXRvciwgc2x1Z2dpZnl9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuaW1wb3J0IHtISVNUT1JZX1RPT0xCQVJfSFRNTH0gZnJvbSBcIi4uL2hpc3RvcnlcIjtcbmltcG9ydCB7U2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zfSBmcm9tIFwiLi4vaW50ZXJmYWNlXCI7XG5cbmV4cG9ydCBsZXQgRGlzcGxheU1vZGVzID0ge1xuICAgIEJMT0NLOiBcImJsb2NrXCIsXG4gICAgU1BMSVQ6IFwic3BsaXRcIixcbiAgICBURVhUOiBcInRleHRcIlxufTtcblxuZnVuY3Rpb24gbWFrZVRhYihuYW1lLCBpY29uLCBtb2RlKSB7XG4gICAgcmV0dXJuIGA8bGFiZWwgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJsb2NrcHktbW9kZS1zZXQtYmxvY2tzXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHthY3RpdmU6IGRpc3BsYXkucHl0aG9uTW9kZSgpID09PSAnJHttb2RlfSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLnVwZGF0ZU1vZGUuYmluZCgkZGF0YSwgJyR7bW9kZX0nKVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtJHtpY29ufSc+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiYmxvY2tweS1tb2RlLXNldFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNoZWNrZWQ+ICR7bmFtZX1cbiAgICAgICAgICAgIDwvbGFiZWw+YDtcbn1cblxuZXhwb3J0IGNvbnN0IFBZVEhPTl9FRElUT1JfSFRNTCA9IGBcblxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LXB5dGhvbi10b29sYmFyIGNvbC1tZC0xMiBidG4tdG9vbGJhclwiXG4gICAgICAgICByb2xlPVwidG9vbGJhclwiIGFyaWEtbGFiZWw9XCJQeXRob24gVG9vbGJhclwiPlxuXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUnVuIEdyb3VwXCI+ICAgICAgICAgXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBibG9ja3B5LXJ1biBub3RyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5leGVjdXRlLnJ1bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHsnYmxvY2tweS1ydW4tcnVubmluZyc6IHVpLmV4ZWN1dGUuaXNSdW5uaW5nfVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L3NwYW4+IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVpLmV4ZWN1dGUucnVuTGFiZWxcIj48L3NwYW4+XG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBidG4tZ3JvdXAtdG9nZ2xlIG1yLTJcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgIDwhLS0ga28gaWY6ICRyb290LmFzc2lnbm1lbnQuc2V0dGluZ3MuZW5hYmxlQmxvY2tzKCkgLS0+XG4gICAgICAgICAgICAke21ha2VUYWIoXCJCbG9ja3NcIiwgXCJ0aC1sYXJnZVwiLCBEaXNwbGF5TW9kZXMuQkxPQ0spfVxuICAgICAgICAgICAgJHttYWtlVGFiKFwiU3BsaXRcIiwgXCJjb2x1bW5zXCIsIERpc3BsYXlNb2Rlcy5TUExJVCl9XG4gICAgICAgICAgICAke21ha2VUYWIoXCJUZXh0XCIsIFwiYWxpZ24tbGVmdFwiLCBEaXNwbGF5TW9kZXMuVEVYVCl9XG4gICAgICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUmVzZXQgR3JvdXBcIj5cbiAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5yZXNldFwiPlxuICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1zeW5jXCI+PC9zcGFuPiBSZXNldFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8IS0tIGtvIGlmOiAhYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlSW1wb3J0RGF0YXNldHNCdXR0b24oKSAmJiAhdWkuc21hbGxMYXlvdXQoKS0tPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkltcG9ydCBHcm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5pbXBvcnREYXRhc2V0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtY2xvdWQtZG93bmxvYWQtYWx0XCI+PC9zcGFuPiBJbXBvcnQgZGF0YXNldHNcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIGRhdGEtYmluZD1cImhpZGRlbjogdWkuc21hbGxMYXlvdXRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWZpbGUtdXBsb2FkXCI+PC9zcGFuPiBVcGxvYWRcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYmxvY2tweS10b29sYmFyLXVwbG9hZFwiIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiZXZlbnQ6IHtjaGFuZ2U6IHVpLmVkaXRvcnMudXBsb2FkfVwiPlxuICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZSBkcm9wZG93bi10b2dnbGUtc3BsaXRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+VG9nZ2xlIERyb3Bkb3duPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9J2Ryb3Bkb3duLWl0ZW0gYmxvY2tweS10b29sYmFyLWRvd25sb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuZG93bmxvYWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1kb3dubG9hZCc+PC9zcGFuPiBEb3dubG9hZFxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkhpc3RvcnkgR3JvdXBcIiBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLnNtYWxsTGF5b3V0XCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIGFyaWEtcHJlc3NlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24udG9nZ2xlSGlzdG9yeU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6IHVpLmVkaXRvcnMucHl0aG9uLmlzSGlzdG9yeUF2YWlsYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogeyBhY3RpdmU6IGRpc3BsYXkuaGlzdG9yeU1vZGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHI6IHsgJ2FyaWEtcHJlc3NlZCc6IGRpc3BsYXkuaGlzdG9yeU1vZGUgfVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWhpc3RvcnlcIj48L3NwYW4+IEhpc3RvcnlcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8IS0tIEZ1bGx5IGZ1bmN0aW9uYWwsIGJ1dCBhIGxpdHRsZSB0b28uLiBJbnZhc2l2ZSBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJGdWxsc2NyZWVuIEdyb3VwXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IGRpc3BsYXkucHl0aG9uTW9kZSgpID09PSAndGV4dCdcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmZ1bGxzY3JlZW5cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1leHBhbmQtYXJyb3dzLWFsdFwiPjwvc3Bhbj4gRnVsbHNjcmVlblxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICAtLT5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlNhdmUgR3JvdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZWRpdG9ycy5jYW5TYXZlXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1zYXZlXCI+PC9zcGFuPiBTYXZlXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkRlbGV0ZSBHcm91cFwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLmNhbkRlbGV0ZVwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCIsXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZpbGVzLmRlbGV0ZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXRyYXNoXCI+PC9zcGFuPiBEZWxldGVcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgZHJvcGRvd24tdG9nZ2xlIGRyb3Bkb3duLXRvZ2dsZS1zcGxpdFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1lbGxpcHNpcy12XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Ub2dnbGUgRXh0cmEgRmVhdHVyZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0nZHJvcGRvd24taXRlbSBibG9ja3B5LXRvb2xiYXItcnVuLXF1aWV0bHkgbm90cmFuc2l0aW9uJyByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9XCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmV4ZWN1dGUucnVuUXVpZXRseSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzczogeydibG9ja3B5LXJ1bi1ydW5uaW5nJzogdWkuZXhlY3V0ZS5pc1J1bm5pbmd9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1jb21tZW50LXNsYXNoXCI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1aS5leGVjdXRlLnJ1blF1aWV0bHlMYWJlbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDwhLS08ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUmVuYW1lIEdyb3VwXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmVkaXRvcnMuY2FuUmVuYW1lXCI+XG4gICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtZmlsZS1zaWduYXR1cmVcIj48L3NwYW4+IFJlbmFtZVxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+LS0+XG4gICAgICAgICBcbiAgICA8L2Rpdj5cbiAgICBcbiAgICAke0hJU1RPUllfVE9PTEJBUl9IVE1MfVxuXG5cbiAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1weXRob24tYmxvY2ttaXJyb3JcIlxuICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLm1lbnUuaXNTdWJtaXR0ZWRcIj5cbiAgICA8L2Rpdj5cbmA7XG5cblxuXG5mdW5jdGlvbiBjb252ZXJ0SXB5bmJUb1B5dGhvbihjb2RlKSB7XG4gICAgbGV0IGlweW5iID0gSlNPTi5wYXJzZShjb2RlKTtcbiAgICBsZXQgaXNVc2FibGUgPSBmdW5jdGlvbihjZWxsKSB7XG4gICAgICAgIGlmIChjZWxsLmNlbGxfdHlwZSA9PT0gXCJjb2RlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLnNvdXJjZS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgIWNlbGwuc291cmNlWzBdLnN0YXJ0c1dpdGgoXCIlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuY2VsbF90eXBlID09PSBcIm1hcmtkb3duXCIgfHxcbiAgICAgICAgICAgICAgICBjZWxsLmNlbGxfdHlwZSA9PT0gXCJyYXdcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IG1ha2VQeXRob24gPSBmdW5jdGlvbihjZWxsKSB7XG4gICAgICAgIGlmIChjZWxsLmNlbGxfdHlwZSA9PT0gXCJjb2RlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLnNvdXJjZS5qb2luKFwiXFxuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGwuY2VsbF90eXBlID09PSBcIm1hcmtkb3duXCIgfHxcbiAgICAgICAgICAgIGNlbGwuY2VsbF90eXBlID09PSBcInJhd1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCInJydcIitjZWxsLnNvdXJjZS5qb2luKFwiXFxuXCIpK1wiJycnXCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBpcHluYi5jZWxscy5maWx0ZXIoaXNVc2FibGUpLm1hcChtYWtlUHl0aG9uKS5qb2luKFwiXFxuXCIpO1xufVxuXG5jbGFzcyBQeXRob25FZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcuZmluZChcIi5ibG9ja3B5LXB5dGhvbi1ibG9ja21pcnJvclwiKSk7XG4gICAgICAgIEJsb2NrbHkuc2V0UGFyZW50Q29udGFpbmVyKG1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXJbMF0pO1xuICAgICAgICB0aGlzLmJtID0gbmV3IEJsb2NrTWlycm9yKHtcbiAgICAgICAgICAgIFwiY29udGFpbmVyXCI6IHRoaXMudGFnWzBdLFxuICAgICAgICAgICAgXCJydW5cIjogbWFpbi5jb21wb25lbnRzLmVuZ2luZS5ydW4uYmluZChtYWluLmNvbXBvbmVudHMuZW5naW5lKSxcbiAgICAgICAgICAgIFwic2tpcFNrdWxwdFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJibG9ja2x5TWVkaWFQYXRoXCI6IG1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5ibG9ja2x5UGF0aCxcbiAgICAgICAgICAgIFwidG9vbGJveFwiOiBtYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveCgpLFxuICAgICAgICAgICAgXCJpbWFnZU1vZGVcIjogdHJ1ZSxcbiAgICAgICAgICAgIGltYWdlRG93bmxvYWRIb29rOiAob2xkVXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZFVybDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWFnZVVwbG9hZEhvb2s6IChibG9iKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jb25zdCB1dWlkID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW10pKS5zdWJzdHJpbmcoMzEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Ym1pc3Npb25JZCA9IG1haW4ubW9kZWwuc3VibWlzc2lvbi5pZCgpO1xuICAgICAgICAgICAgICAgICAgICBtYWluLmNvbXBvbmVudHMuc2VydmVyLnVwbG9hZEZpbGUoXCJzdWJtaXNzaW9uXCIsIHN1Ym1pc3Npb25JZCwgYmxvYi5uYW1lLCBibG9iLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZW5kcG9pbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzb2x2ZShKU09OLnN0cmluZ2lmeShtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tcImRvd25sb2FkRmlsZVwiXSArIGA/cGxhY2VtZW50PXN1Ym1pc3Npb24mZGlyZWN0b3J5PSR7c3VibWlzc2lvbklkfSZmaWxlbmFtZT0ke2Jsb2IubmFtZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBQcm9taXNlLnJlc29sdmUoXCJJbWFnZShcIitKU09OLnN0cmluZ2lmeShVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKStcIilcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIFByb21pc2UucmVzb2x2ZShKU09OLnN0cmluZ2lmeShVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2VMaXRlcmFsSG9vazogKG9sZFVybCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIGBJbWFnZShcIiR7b2xkVXJsfVwiKWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcIiR7b2xkVXJsfVwiYDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLydoZWlnaHQnOiAnMjAwMHB4J1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogUHJldmVudCBJTlMgYW5kIE9WUiBtb2RlICguLi4gdGhpcy5ibS50ZXh0RWRpdG9yLmNvZGVNaXJyb3IuXG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlYWRPbmx5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWFrZVN1YnNjcmlwdGlvbnMoKTtcbiAgICAgICAgdGhpcy5saW5lRXJyb3JTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmxpbmVVbmNvdmVyZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmxpbmVUcmFjZVN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkUHl0aG9uTW9kZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKTtcblxuICAgICAgICB0aGlzLm1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucygpO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZUV4dHJhQmxvY2tseSgpIHtcbiAgICAgICAgdGhpcy5ibS5ibG9ja0VkaXRvci53b3Jrc3BhY2UuY29uZmlndXJlQ29udGV4dE1lbnUgPSAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiU2NyZWVuc2hvdFwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuU0NSRUVOU0hPVF9CTE9DS1NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgbGV0IG9sZEZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICBpZiAobmV3RmlsZW5hbWUgIT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIGlmIChvbGRGaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub2xkUHl0aG9uTW9kZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoRGlzcGxheU1vZGVzLlRFWFQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZSh0aGlzLm9sZFB5dGhvbk1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRCTUxpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRCTUxpc3RlbmVyKTtcblxuICAgICAgICBpZiAobmV3RmlsZW5hbWUgIT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIHRoaXMuYm0uaXNQYXJzb25zID0gKCkgPT4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJtLmlzUGFyc29ucyA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmlzUGFyc29ucztcblxuICAgICAgICAgICAgdGhpcy5saW5lRXJyb3JTdWJzY3JpcHRpb24gPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxpbmVzRXJyb3Iuc3Vic2NyaWJlKChsaW5lcykgPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm0uc2V0SGlnaGxpZ2h0ZWRMaW5lcyhsaW5lcywgXCJlZGl0b3ItZXJyb3ItbGluZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5saW5lc1VuY292ZXJlZC5zdWJzY3JpYmUoKGxpbmVzKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0SGlnaGxpZ2h0ZWRMaW5lcyhsaW5lcywgXCJlZGl0b3ItdW5jb3ZlcmVkLWxpbmVcIilcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMubGluZVRyYWNlU3Vic2NyaXB0aW9uID0gdGhpcy5tYWluLm1vZGVsLnVpLnRyYWNlLmhpZ2hsaWdodGVkTGluZS5zdWJzY3JpYmUoKGxpbmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ibS5jbGVhckhpZ2hsaWdodGVkTGluZXMoXCJlZGl0b3ItdHJhY2VkLWxpbmVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5ibS5zZXRIaWdobGlnaHRlZExpbmVzKGxpbmVzLCBcImVkaXRvci10cmFjZWQtbGluZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgICAgICAvL3RoaXMuYm0uYmxvY2tFZGl0b3Iud29ya3NwYWNlLnJlbmRlcigpO1xuICAgICAgICAvL3RoaXMuYm0ucmVmcmVzaCgpO1xuICAgICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoeSB0aGlzIGRvZXNuJ3QgZW5kIHVwIGxvb2tpbmcgcmlnaHQgKGdvIHRvIGEgZGlmZmVyZW50IGVkaXRvciwgY29tZSBiYWNrLCBhbmQgaXQnbGwgYmUgc3F1aXNoZWQpXG4gICAgICAgIC8vdGhpcy5ibS5yZWZyZXNoKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5ibS5yZWZyZXNoKCksIDApO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICBpZiAobmV3Q29udGVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRzID0gdGhpcy5maWxlLmhhbmRsZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEb2Vzbid0IG1hdHRlciwgZmlsZSB3YXMgYWxyZWFkeSBzaHV0IGRvd24uXG4gICAgICAgICAgICAgICAgbmV3Q29udGVudHMgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5ld0NvbnRlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBjbG9zaW5nIHRoaXMgZmlsZVxuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5kZWxldGVGaWxlTG9jYWxseV8odGhpcy5maWxlbmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJtLnNldENvZGUobmV3Q29udGVudHMpO1xuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5ibS5jbGVhckhpZ2hsaWdodGVkTGluZXMoKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsZS5oYW5kbGUodGhpcy5ibS5nZXRDb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmJtLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuY3VycmVudEJNTGlzdGVuZXIpO1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUoKSkge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLmVkaXRvcnMucHl0aG9uLnR1cm5PZmZIaXN0b3J5TW9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJMaW5lU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cblxuICAgIGNsZWFyTGluZVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYm0uY2xlYXJIaWdobGlnaHRlZExpbmVzKCk7XG4gICAgICAgIGlmICh0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5saW5lRXJyb3JTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5saW5lRXJyb3JTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpbmVVbmNvdmVyZWRTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVVbmNvdmVyZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpbmVUcmFjZVN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5saW5lVHJhY2VTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5saW5lVHJhY2VTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFrZVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYm0uc2V0TW9kZSh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlKCkpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlLnN1YnNjcmliZShtb2RlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZShtb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmVuYWJsZUJsb2Nrcy5zdWJzY3JpYmUoZW5hYmxlZCA9PiB7XG4gICAgICAgICAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJtLnNldE1vZGUoRGlzcGxheU1vZGVzLlRFWFQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJtLnNldE1vZGUodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnRvb2xib3guc3Vic2NyaWJlKHRoaXMucmVsb2FkVG9vbGJveC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZW5hYmxlSW1hZ2VzLnN1YnNjcmliZShpbWFnZU1vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibS5zZXRJbWFnZU1vZGUoaW1hZ2VNb2RlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU21hbGwgTGF5b3V0IFN0dWZmXG4gICAgICAgIHRoaXMub2xkSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zbWFsbExheW91dCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVzZVNtYWxsTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLnNtYWxsTGF5b3V0LnN1YnNjcmliZSh1c2VTbWFsbExheW91dCA9PiB7XG4gICAgICAgICAgICBpZiAodXNlU21hbGxMYXlvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZVNtYWxsTGF5b3V0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub2xkSGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ibS5jb25maWd1cmF0aW9uLmhlaWdodCA9IHRoaXMub2xkSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuYm0udGV4dEVkaXRvci5yZXNpemVSZXNwb25zaXZlbHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9sZEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVzZVNtYWxsTGF5b3V0KCkge1xuICAgICAgICB0aGlzLmJtLnRleHRFZGl0b3IudXBkYXRlR3V0dGVyKHtpbmRlbnRTaWRlYmFyOiBmYWxzZX0pO1xuICAgICAgICB0aGlzLm9sZEhlaWdodCA9IHRoaXMuYm0uY29uZmlndXJhdGlvbi5oZWlnaHQ7XG4gICAgICAgIHRoaXMuYm0uY29uZmlndXJhdGlvbi5oZWlnaHQgPSAzMDA7IC8vIFRPRE86IFBhcmFtZXRlcml6ZSB0aGlzXG4gICAgICAgIHRoaXMuYm0udGV4dEVkaXRvci5yZXNpemVSZXNwb25zaXZlbHkoKTtcbiAgICB9XG5cbiAgICByZWxvYWRUb29sYm94KHRvb2xib3gpIHtcbiAgICAgICAgaWYgKHRvb2xib3ggPT09IFwiY3VzdG9tXCIpIHtcbiAgICAgICAgICAgIGxldCBjdXN0b21Ub29sYm94ID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5nZXRGaWxlKFwiP3Rvb2xib3guYmxvY2tweVwiKTtcbiAgICAgICAgICAgIGlmIChjdXN0b21Ub29sYm94ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0b29sYm94ID0gXCJlbXB0eVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0b29sYm94ID0gSlNPTi5wYXJzZShjdXN0b21Ub29sYm94LmhhbmRsZSgpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7IC8vIFRPRE86IEltcHJvdmUgZXJyb3IgbWVzc2FnZSBmb3IgaW5zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICB0b29sYm94ID0gXCJtaW5pbWFsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm0uY29uZmlndXJhdGlvbi50b29sYm94ID0gdG9vbGJveDtcbiAgICAgICAgLy8gVE9ETzogSGFuZGxlIGludmFsaWQgdG9vbGJveCBiZXR0ZXJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYm0uYmxvY2tFZGl0b3IucmVtYWtlVG9vbGJveCgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgdGhpcy5ibS5jb25maWd1cmF0aW9uLnRvb2xib3ggPSBcImVtcHR5XCI7XG4gICAgICAgICAgICB0aGlzLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3Rvci5zdWJzY3JpYmUoKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVhZE9ubHkodGhpcy5kZWNpZGVJZk5vdEVkaXRhYmxlKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seVVwbG9hZHMuc3Vic2NyaWJlKChjaGFuZ2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFJlYWRPbmx5KHRoaXMuZGVjaWRlSWZOb3RFZGl0YWJsZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnBhcnRJZC5zdWJzY3JpYmUoKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IEhhbmRsZSBwYXJ0IGlkIGNoYW5naW5nIGFmdGVyIGV2ZXJ5dGhpbmcgaXMgbG9hZGVkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRlY2lkZUlmTm90RWRpdGFibGUoKSB7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICAgICAgcmV0dXJuIG1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUoKSB8fCAoXG4gICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLm9ubHlVcGxvYWRzKCkgJiYgIW1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2V0UmVhZE9ubHkoaXNSZWFkT25seSkge1xuICAgICAgICB0aGlzLnJlYWRPbmx5ID0gaXNSZWFkT25seTtcbiAgICAgICAgdGhpcy5ibS5zZXRSZWFkT25seShpc1JlYWRPbmx5KTtcbiAgICB9XG5cbiAgICB1cGxvYWRGaWxlKGV2ZW50KSB7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IGV2ZW50LnRhcmdldC5maWxlTmFtZTtcbiAgICAgICAgbGV0IGNvZGUgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoZmlsZW5hbWUuZW5kc1dpdGgoXCIuaXB5bmJcIikpIHtcbiAgICAgICAgICAgIGNvZGUgPSBjb252ZXJ0SXB5bmJUb1B5dGhvbihjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLUZpbGUuVXBsb2FkXCIsIFwiXCIsIFwiXCIsIGNvZGUsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKGNvZGUpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5lbmdpbmUucnVuKCk7XG4gICAgICAgIC8vIFRPRE86IFJ1biBjb2RlXG4gICAgfVxuXG4gICAgZG93bmxvYWRGaWxlKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gc3VwZXIuZG93bmxvYWRGaWxlKCk7XG4gICAgICAgIGlmIChyZXN1bHQubmFtZSA9PT0gXCJhbnN3ZXJcIiAmJiByZXN1bHQuZXh0ZW5zaW9uID09PSBcIi5weVwiKSB7XG4gICAgICAgICAgICByZXN1bHQubmFtZSA9IHNsdWdnaWZ5KHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm5hbWUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Lm1pbWV0eXBlID0gXCJ0ZXh0L3gtcHl0aG9uXCI7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5Eb3dubG9hZFwiLCBcIlwiLCBcIlwiLCBcIlwiLCByZXN1bHQubmFtZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBQeXRob25FZGl0b3IgPSB7XG4gICAgbmFtZTogXCJQeXRob25cIixcbiAgICBleHRlbnNpb25zOiBbXCIucHlcIiwgXCIucmVhZGluZ1wiXSxcbiAgICBjb25zdHJ1Y3RvcjogUHl0aG9uRWRpdG9yVmlldyxcbiAgICB0ZW1wbGF0ZTogUFlUSE9OX0VESVRPUl9IVE1MXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFFVSVpfRURJVE9SX0hUTUwgPSBgXHJcbiAgICA8ZGl2PlxyXG4gICAgPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1lZGl0b3ItcXVpelwiPjwvdGV4dGFyZWE+XHJcbiAgICA8L2Rpdj5cclxuYDtcclxuXHJcbmNsYXNzIFF1aXpFZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xyXG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XHJcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSh0YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci1xdWl6XCIpWzBdLCB7XHJcbiAgICAgICAgICAgIHNob3dDdXJzb3JXaGVuU2VsZWN0aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcclxuICAgICAgICAgICAgZmlyc3RMaW5lTnVtYmVyOiAxLFxyXG4gICAgICAgICAgICBpbmRlbnRVbml0OiA0LFxyXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxyXG4gICAgICAgICAgICBpbmRlbnRXaXRoVGFiczogZmFsc2UsXHJcbiAgICAgICAgICAgIGV4dHJhS2V5czoge1xyXG4gICAgICAgICAgICAgICAgXCJUYWJcIjogXCJpbmRlbnRNb3JlXCIsXHJcbiAgICAgICAgICAgICAgICBcIlNoaWZ0LVRhYlwiOiBcImluZGVudExlc3NcIixcclxuICAgICAgICAgICAgICAgIFwiRXNjXCI6IGZ1bmN0aW9uIChjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIkYxMVwiOiBmdW5jdGlvbiAoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsICFjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XHJcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XHJcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxyXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xyXG4gICAgICAgIGlmIChvbGRFZGl0b3IgIT09IHRoaXMpIHtcclxuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jb2RlTWlycm9yLnJlZnJlc2guYmluZCh0aGlzLmNvZGVNaXJyb3IpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogdXBkYXRlIGR5bmFtaWNhbGx5IHdoZW4gY2hhbmdpbmcgaW5zdHJ1Y3RvciBzdGF0dXNcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgbmV3RmlsZW5hbWUuc3RhcnRzV2l0aChcIiZcIikgJiYgIXRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0VmFsdWUobmV3Q29udGVudHMpO1xyXG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3IucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcclxuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmNvZGVNaXJyb3IuZ2V0VmFsdWUoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcclxuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9mZihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlKTtcclxuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUXVpekVkaXRvciA9IHtcclxuICAgIG5hbWU6IFwiUXVpelwiLFxyXG4gICAgZXh0ZW5zaW9uczogW1wiLnF1aXpcIl0sXHJcbiAgICBjb25zdHJ1Y3RvcjogUXVpekVkaXRvclZpZXcsXHJcbiAgICB0ZW1wbGF0ZTogUVVJWl9FRElUT1JfSFRNTFxyXG59OyIsIi8qKlxuICogUGFuZWwgZm9yIGVkaXRpbmcgdGhlIHNldCBvZiBTYW1wbGUgU3VibWlzc2lvbnMuXG4gKiBUaGVzZSBhcmUgbm90IHByb3ZpZGVkIGF0IGFsbCB0byBzdHVkZW50cyB3aXRob3V0IHRoZSBHcmFkZXIgcm9sZS5cbiAqL1xuXG5pbXBvcnQge0Fic3RyYWN0RWRpdG9yfSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFN1Ym1pc3Npb25TdGF0dXNlcyA9IHtcbiAgICBVTktOT1dOOiBcInVua25vd25cIixcbiAgICBQQVNTRUQ6IFwicGFzc2VkXCIsXG4gICAgRkFJTEVEOiBcImZhaWxlZFwiLFxuICAgIEVSUk9SOiBcImVycm9yXCIsXG4gICAgU0tJUFBFRDogXCJza2lwcGVkXCJcbn07XG5cbmV4cG9ydCBjbGFzcyBTYW1wbGVTdWJtaXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBzdGF0dXMsIGNvZGUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxuXG4gICAgc3RhdGljIEJsYW5rKGNvdW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FtcGxlU3VibWlzc2lvbihcIlVudGl0bGVkXCIrKGNvdW50IHx8IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibWlzc2lvblN0YXR1c2VzLlVOS05PV04sIFwiYT0wXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FtcGxlU3VibWlzc2lvbihkYXRhLm5hbWUsIGRhdGEuc3RhdHVzLCBkYXRhLmNvZGUpO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBTQU1QTEVfU1VCTUlTU0lPTlNfSFRNTCA9IGBcbjxkaXY+XG4gICAgPGRpdiBkYXRhLWJpbmQ9XCJmb3JlYWNoOiB7ZGF0YTogYXNzaWdubWVudC5zYW1wbGVTdWJtaXNzaW9uc31cIlxuICAgICAgICBjbGFzcz1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTZcIj5cbiAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IG5hbWVcIj48L3NwYW4+XG4gICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJibG9ja3B5LWVkaXRvci1zYW1wbGUtc3VibWlzc2lvbnMtY29kZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY29kZU1pcnJvckluc3RhbmNlOiBjb2RlXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3RhdHVzXCI+PC9zcGFuPiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+XG5gO1xuXG5rby5iaW5kaW5nSGFuZGxlcnMuY29kZU1pcnJvckluc3RhbmNlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYmluZGluZyBpcyBmaXJzdCBhcHBsaWVkIHRvIGFuIGVsZW1lbnRcbiAgICAgICAgLy8gU2V0IHVwIGFueSBpbml0aWFsIHN0YXRlLCBldmVudCBoYW5kbGVycywgZXRjLiBoZXJlXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSU5JVFwiKTtcbiAgICAgICAgbGV0IGNtID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZWxlbWVudCwge1xuICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsXG4gICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgIGluZGVudFVuaXQ6IDQsXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxuICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFLZXlzOiB7XG4gICAgICAgICAgICAgICAgXCJUYWJcIjogXCJpbmRlbnRNb3JlXCIsXG4gICAgICAgICAgICAgICAgXCJTaGlmdC1UYWJcIjogXCJpbmRlbnRMZXNzXCIsXG4gICAgICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24gKGNtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkYxMVwiOiBmdW5jdGlvbiAoY20pIHtcbiAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCAhY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY20uc2V0U2l6ZShcIjEwMCVcIiwgXCIxMDBweFwiKTtcbiAgICAgICAgcmV0dXJuIGNtO1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIG9uY2Ugd2hlbiB0aGUgYmluZGluZyBpcyBmaXJzdCBhcHBsaWVkIHRvIGFuIGVsZW1lbnQsXG4gICAgICAgIC8vIGFuZCBhZ2FpbiB3aGVuZXZlciBhbnkgb2JzZXJ2YWJsZXMvY29tcHV0ZWRzIHRoYXQgYXJlIGFjY2Vzc2VkIGNoYW5nZVxuICAgICAgICAvLyBVcGRhdGUgdGhlIERPTSBlbGVtZW50IGJhc2VkIG9uIHRoZSBzdXBwbGllZCB2YWx1ZXMgaGVyZS5cbiAgICAgICAgY29uc29sZS5sb2coXCJVUERBVEVcIik7XG4gICAgfVxufTtcblxuY2xhc3MgU2FtcGxlU3VibWlzc2lvbnNWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcbiAgICAgICAgdGhpcy5jb2RlTWlycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYnVpbGRFZGl0b3IobmV3RE9NLCBpbmRleCwgbmV3RWxlbWVudCkge1xuXG4gICAgfVxuXG4gICAgcmVidWlsZEVkaXRvcnMoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVidWlsZGluZyBlZGl0b3JzXCIpO1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuZmlsZS5oYW5kbGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlRWRpdG9yLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgLy90aGlzLnJlYnVpbGRFZGl0b3JzKCk7XG4gICAgICAgIC8vdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50YWcpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50YWcuZmluZChcIi5Db2RlTWlycm9yXCIpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFnLmZpbmQoXCIuQ29kZU1pcnJvclwiKS5tYXAoKGksY20pID0+IGNvbnNvbGUubG9nKFwiKysrXCIsIGNtLkNvZGVNaXJyb3IpKSk7XG4gICAgICAgICAgICB0aGlzLnRhZy5maW5kKFwiLkNvZGVNaXJyb3JcIikubWFwKChpLCBjbSkgPT4gY20uQ29kZU1pcnJvci5yZWZyZXNoKCkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSRUZSRVNIXCIpO1xuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudGFnLmZpbmQoXCIuQ29kZU1pcnJvclwiKS5tYXAoKGksIGNtKSA9PiBjbS5Db2RlTWlycm9yLnJlZnJlc2goKSksIDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHVwZGF0ZSBkeW5hbWljYWxseSB3aGVuIGNoYW5naW5nIGluc3RydWN0b3Igc3RhdHVzXG4gICAgICAgIC8vdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIG5ld0ZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpICYmICF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29kZU1pcnJvcnMpO1xuICAgICAgICAgICAgLy90aGlzLmNvZGVNaXJyb3JzLmVhY2goIChpLCBjbSkgPT4gY20uc2V0VmFsdWUobmV3Q29udGVudHMuam9pbihcIlxcblwiKSkpO1xuICAgICAgICAgICAgLy90aGlzLmNvZGVNaXJyb3JzLmVhY2goIChpLCBjbSkgPT4gY20ucmVmcmVzaCgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmlsZS5oYW5kbGUodGhpcy5jb2RlTWlycm9ycy5tYXAoY20gPT4gY20uZ2V0VmFsdWUoKSkpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9ycyA9IFtdO1xuICAgICAgICAvL3RoaXMuY29kZU1pcnJvcnMub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgLy90aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgZmFsc2UpO1xuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNhbXBsZVN1Ym1pc3Npb25zID0ge1xuICAgIG5hbWU6IFwiU2FtcGxlIFN1Ym1pc3Npb25zXCIsXG4gICAgZXh0ZW5zaW9uczogW1wiIXNhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5XCJdLFxuICAgIGNvbnN0cnVjdG9yOiBTYW1wbGVTdWJtaXNzaW9uc1ZpZXcsXG4gICAgdGVtcGxhdGU6IFNBTVBMRV9TVUJNSVNTSU9OU19IVE1MXG59O1xuIiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBUQUdTX0VESVRPUl9IVE1MID0gYFxuQ3JlYXRlIG5ld1xuSW1wb3J0IGJ5IG5hbWVcbkZpbmQgYnkgb3duZXIvY291cnNlL2tpbmRcblxuVGFnczpcbiAgICBEYXRhOlxuICAgICAgICBOYW1lXG4gICAgICAgIEtpbmRcbiAgICAgICAgTGV2ZWxcbiAgICAgICAgVmVyc2lvblxuICAgICAgICBEZXNjcmlwdGlvblxuICAgIENvbnRyb2xzOlxuICAgICAgICBFZGl0XG4gICAgICAgIFJlbW92ZVxuICAgICAgICBEZWxldGUgXG5gO1xuXG5jbGFzcyBUYWdzRWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItdGFnc1wiKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgVGFnc0VkaXRvciA9IHtcbiAgICBuYW1lOiBcIlRhZ3NcIixcbiAgICBleHRlbnNpb25zOiBbXCIhdGFncy5ibG9ja3B5XCJdLFxuICAgIGNvbnN0cnVjdG9yOiBUYWdzRWRpdG9yVmlldyxcbiAgICB0ZW1wbGF0ZTogVEFHU19FRElUT1JfSFRNTFxufTsiLCJpbXBvcnQge0Fic3RyYWN0RWRpdG9yfSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcbmltcG9ydCB7ZGVmYXVsdF9oZWFkZXJ9IGZyb20gXCIuL2RlZmF1bHRfaGVhZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBURVhUX0VESVRPUl9IVE1MID0gYFxuICAgICR7ZGVmYXVsdF9oZWFkZXJ9XG4gICAgPGRpdj5cbiAgICA8dGV4dGFyZWEgY2xhc3M9XCJibG9ja3B5LWVkaXRvci10ZXh0XCI+PC90ZXh0YXJlYT5cbiAgICA8L2Rpdj5cbmA7XG5cbmNsYXNzIFRleHRFZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSh0YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci10ZXh0XCIpWzBdLCB7XG4gICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgICAgICAgICAgZmlyc3RMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgaW5kZW50VW5pdDogNCxcbiAgICAgICAgICAgIHRhYlNpemU6IDQsXG4gICAgICAgICAgICBpbmRlbnRXaXRoVGFiczogZmFsc2UsXG4gICAgICAgICAgICBleHRyYUtleXM6IHtcbiAgICAgICAgICAgICAgICBcIlRhYlwiOiBcImluZGVudE1vcmVcIixcbiAgICAgICAgICAgICAgICBcIlNoaWZ0LVRhYlwiOiBcImluZGVudExlc3NcIixcbiAgICAgICAgICAgICAgICBcIkVzY1wiOiBmdW5jdGlvbiAoY20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiRjExXCI6IGZ1bmN0aW9uIChjbSkge1xuICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsICFjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICBpZiAob2xkRWRpdG9yICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jb2RlTWlycm9yLnJlZnJlc2guYmluZCh0aGlzLmNvZGVNaXJyb3IpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgZHluYW1pY2FsbHkgd2hlbiBjaGFuZ2luZyBpbnN0cnVjdG9yIHN0YXR1c1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgbmV3RmlsZW5hbWUuc3RhcnRzV2l0aChcIiZcIikgJiYgIXRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldFZhbHVlKG5ld0NvbnRlbnRzKTtcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5yZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKHRoaXMuY29kZU1pcnJvci5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5vZmYoXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgZmFsc2UpO1xuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRleHRFZGl0b3IgPSB7XG4gICAgbmFtZTogXCJUZXh0XCIsXG4gICAgZXh0ZW5zaW9uczogW1wiLnR4dFwiXSxcbiAgICBjb25zdHJ1Y3RvcjogVGV4dEVkaXRvclZpZXcsXG4gICAgdGVtcGxhdGU6IFRFWFRfRURJVE9SX0hUTUxcbn07IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XHJcblxyXG5leHBvcnQgY29uc3QgVE9PTEJPWF9FRElUT1JfSFRNTCA9IGBcclxuICAgIDxkaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiXHJcbiAgICAgICAgIHJvbGU9XCJ0b29sYmFyXCIgYXJpYS1sYWJlbD1cIlRvb2xib3ggVG9vbGJhclwiPlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlNhdmUgR3JvdXBcIj4gICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tZWRpdG9yLWpzb24tc2F2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXNhdmVcIj48L3NwYW4+IFNhdmVcclxuICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJibG9ja3B5LWVkaXRvci10b29sYm94XCI+PC90ZXh0YXJlYT5cclxuICAgIDwvZGl2PlxyXG5gO1xyXG5cclxuY2xhc3MgVG9vbGJveEVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcclxuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLXRvb2xib3hcIilbMF0sIHtcclxuICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXJzdExpbmVOdW1iZXI6IDEsXHJcbiAgICAgICAgICAgIGluZGVudFVuaXQ6IDQsXHJcbiAgICAgICAgICAgIHRhYlNpemU6IDQsXHJcbiAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcclxuICAgICAgICAgICAgbW9kZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGV4dHJhS2V5czoge1xyXG4gICAgICAgICAgICAgICAgXCJUYWJcIjogXCJpbmRlbnRNb3JlXCIsXHJcbiAgICAgICAgICAgICAgICBcIlNoaWZ0LVRhYlwiOiBcImluZGVudExlc3NcIixcclxuICAgICAgICAgICAgICAgIFwiRXNjXCI6IGZ1bmN0aW9uIChjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIkYxMVwiOiBmdW5jdGlvbiAoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsICFjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XHJcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XHJcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxyXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnRhZy5maW5kKFwiLmJ0bi1lZGl0b3ItanNvbi1zYXZlXCIpLm9uKFwiY2xpY2tcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xyXG4gICAgICAgIC8vdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcclxuICAgICAgICBpZiAob2xkRWRpdG9yICE9PSB0aGlzKSB7XHJcbiAgICAgICAgICAgIC8vIERlbGF5IHNvIHRoYXQgZXZlcnl0aGluZyBpcyByZW5kZXJlZFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY29kZU1pcnJvci5yZWZyZXNoLmJpbmQodGhpcy5jb2RlTWlycm9yKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IHVwZGF0ZSBkeW5hbWljYWxseSB3aGVuIGNoYW5naW5nIGluc3RydWN0b3Igc3RhdHVzXHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIG5ld0ZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpICYmICF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRWYWx1ZShuZXdDb250ZW50cyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKHRoaXMuY29kZU1pcnJvci5nZXRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnRvb2xib3goKSA9PT0gXCJjdXN0b21cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLnJlbG9hZFRvb2xib3goXCJjdXN0b21cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xyXG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLnRhZy5maW5kKFwiLmJ0bi1lZGl0b3ItdG9vbGJveC1zYXZlXCIpLm9mZihcImNsaWNrXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcclxuICAgICAgICAvL3RoaXMuY29kZU1pcnJvci5vZmYoXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRPcHRpb24oXCJyZWFkT25seVwiLCBmYWxzZSk7XHJcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFRvb2xib3hFZGl0b3IgPSB7XHJcbiAgICBuYW1lOiBcIlRvb2xib3hcIixcclxuICAgIGV4dGVuc2lvbnM6IFtcIj90b29sYm94LmJsb2NrcHlcIl0sXHJcbiAgICBjb25zdHJ1Y3RvcjogVG9vbGJveEVkaXRvclZpZXcsXHJcbiAgICB0ZW1wbGF0ZTogVE9PTEJPWF9FRElUT1JfSFRNTFxyXG59OyIsIi8qKlxuICogRWRpdG9ycyBhcmUgaW5mZXJyZWQgZnJvbSBGaWxlbmFtZXMuXG4gKlxuICogVGhlIGVkaXRvciBpcyBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uOlxuICogIC5ibG9ja3B5OiBTcGVjaWFsIGVkaXRvciAod2lsbCBiZSBjaG9zZW4gYnkgZmlsZW5hbWUpXG4gKiAgLnB5OiBQeXRob24gRWRpdG9yXG4gKiAgLm1kOiBNYXJrZG93biBFZGl0b3JcbiAqICAudHh0OiBUZXh0IEVkaXRvciAoYWxzbyB1c2VkIGZvciBvdGhlciB0eXBlcylcbiAqICAucGVtbDogUEVNTCBFZGl0b3JcbiAqICAucG5nLCAuZ2lmLCAuanBlZywgLmpwZywgLmJtcDogSW1hZ2UgRWRpdG9yXG4gKiAgLmpzb246IEpTT04gRWRpdG9yXG4gKiAgLnlhbWw6IFlBTUwgRWRpdG9yXG4gKi9cblxuaW1wb3J0IHtQeXRob25FZGl0b3J9IGZyb20gXCIuL2VkaXRvci9weXRob25cIjtcbmltcG9ydCB7VGV4dEVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL3RleHRcIjtcbmltcG9ydCB7QXNzaWdtZW50VHlwZSBhcyBBc3NpZ25tZW50VHlwZSwgQXNzaWdubWVudFNldHRpbmdzfSBmcm9tIFwiLi9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5nc1wiO1xuaW1wb3J0IHtUYWdzRWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvdGFnc1wiO1xuaW1wb3J0IHtNYXJrZG93bkVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL21hcmtkb3duXCI7XG5pbXBvcnQge1NhbXBsZVN1Ym1pc3Npb25zfSBmcm9tIFwiLi9lZGl0b3Ivc2FtcGxlX3N1Ym1pc3Npb25zXCI7XG5pbXBvcnQge0pzb25FZGl0b3J9IGZyb20gXCIuL2VkaXRvci9qc29uXCI7XG5pbXBvcnQge1Rvb2xib3hFZGl0b3J9IGZyb20gXCIuL2VkaXRvci90b29sYm94XCI7XG5pbXBvcnQge1F1aXpFZGl0b3J9IGZyb20gXCIuL2VkaXRvci9xdWl6XCI7XG5pbXBvcnQge0ltYWdlRWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvaW1hZ2VzXCI7XG5cbi8qKlxuICogVGhlIGRpZmZlcmVudCBwb3NzaWJsZSBlZGl0b3JzIGF2YWlsYWJsZVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGxldCBFZGl0b3JzRW51bSA9IHtcbiAgICBTVUJNSVNTSU9OOiBcInN1Ym1pc3Npb25cIixcbiAgICBBU1NJR05NRU5UOiBcImFzc2lnbm1lbnRcIixcbiAgICBJTlNUUlVDVElPTlM6IFwiaW5zdHJ1Y3Rpb25zXCIsXG4gICAgT05fUlVOOiBcIm9uX3J1blwiLFxuICAgIE9OX0NIQU5HRTogXCJvbl9jaGFuZ2VcIixcbiAgICBPTl9FVkFMOiBcIm9uX2V2YWxcIixcbiAgICBTVEFSVElOR19DT0RFOiBcInN0YXJ0aW5nX2NvZGVcIixcbiAgICBTQU1QTEVfU1VCTUlTU0lPTlM6IFwic2FtcGxlX3N1Ym1pc3Npb25zXCIsXG4gICAgSU5TVFJVQ1RPUl9GSUxFOiBcImluc3RydWN0b3JfZmlsZVwiXG59O1xuXG5jb25zdCBTUEVDSUFMX05BTUVTUEFDRVMgPSBbXCIhXCIsIFwiXlwiLCBcIj9cIiwgXCIkXCJdO1xuXG5jb25zdCBBVkFJTEFCTEVfRURJVE9SUyA9IFtcbiAgICBUZXh0RWRpdG9yLCBQeXRob25FZGl0b3IsIEFzc2lnbm1lbnRTZXR0aW5ncywgVGFnc0VkaXRvciwgTWFya2Rvd25FZGl0b3IsXG4gICAgU2FtcGxlU3VibWlzc2lvbnMsIEpzb25FZGl0b3IsIFRvb2xib3hFZGl0b3IsIFF1aXpFZGl0b3IsIEltYWdlRWRpdG9yXG5dO1xuXG5leHBvcnQgY29uc3QgRURJVE9SU19IVE1MID0gQVZBSUxBQkxFX0VESVRPUlMubWFwKGVkaXRvciA9PiBgXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1wYW5lbCBibG9ja3B5LWVkaXRvclwiIFxuICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLnZpZXcoKS5uYW1lID09PSAnJHtlZGl0b3IubmFtZX0nLCBjbGFzczogdWkuZWRpdG9ycy53aWR0aFwiPlxuICAgIDxkaXY+XG4gICAgJHtlZGl0b3IudGVtcGxhdGV9XG4gICAgPC9kaXY+XG48L2Rpdj5cbmBcbiAgICAvKlxuICAgIGBcbjwhLS0ga28gaWY6IHVpLmVkaXRvcnMudmlldygpLm5hbWUgPT09ICcke2VkaXRvci5uYW1lfScgLS0+XG4ke2VkaXRvci50ZW1wbGF0ZX1cbjwhLS0gL2tvIC0tPmAqL1xuKS5qb2luKFwiXFxuXCIpO1xuXG5leHBvcnQgY2xhc3MgRWRpdG9ycyB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRfID0gW107XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uc18gPSB7fTtcbiAgICAgICAgdGhpcy5ieU5hbWVfID0ge307XG4gICAgICAgIEFWQUlMQUJMRV9FRElUT1JTLmZvckVhY2goZWRpdG9yID0+IHRoaXMucmVnaXN0ZXJFZGl0b3IoZWRpdG9yKSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lLnN1YnNjcmliZSh0aGlzLmNoYW5nZUVkaXRvciwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFZGl0b3IoZGF0YSkge1xuICAgICAgICBsZXQgZXh0ZW5zaW9ucyA9IGRhdGEuZXh0ZW5zaW9ucztcbiAgICAgICAgbGV0IGluc3RhbmNlID0gbmV3IGRhdGEuY29uc3RydWN0b3IodGhpcy5tYWluLCB0aGlzLnRhZyk7XG4gICAgICAgIGluc3RhbmNlLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZF8ucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIHRoaXMuYnlOYW1lX1tkYXRhLm5hbWUudG9Mb3dlckNhc2UoKV0gPSBpbnN0YW5jZTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zX1tleHRlbnNpb25zW2ldXSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnlOYW1lX1tuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgIH1cblxuICAgIGNoYW5nZUVkaXRvcihuZXdGaWxlbmFtZSkge1xuICAgICAgICBsZXQgb2xkRWRpdG9yID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBsZXQgbmV3RWRpdG9yID0gdGhpcy5nZXRFZGl0b3IobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIGlmIChvbGRFZGl0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG9sZEVkaXRvci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3RWRpdG9yO1xuICAgICAgICB0aGlzLmN1cnJlbnQuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlRmlsZW5hbWUocGF0aCkge1xuICAgICAgICBsZXQgc3BhY2UgPSBwYXRoLmNoYXJBdCgwKTtcbiAgICAgICAgaWYgKFNQRUNJQUxfTkFNRVNQQUNFUy5pbmRleE9mKHNwYWNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNwYWNlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmFtZSA9IHBhdGguc3Vic3RyKDAsIHBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgbGV0IHR5cGUgPSBwYXRoLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKFwiLlwiKSk7XG4gICAgICAgIHJldHVybiB7XCJzcGFjZVwiOiBzcGFjZSwgXCJuYW1lXCI6IG5hbWUsIFwidHlwZVwiOiB0eXBlfTtcbiAgICB9XG5cbiAgICBnZXRFZGl0b3IocGF0aCkge1xuICAgICAgICBsZXQge3NwYWNlLCBuYW1lLCB0eXBlfSA9IEVkaXRvcnMucGFyc2VGaWxlbmFtZShwYXRoKTtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiLmJsb2NrcHlcIiAmJiBwYXRoIGluIHRoaXMuZXh0ZW5zaW9uc18pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbnNfW3BhdGhdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhc3NpZ25tZW50VHlwZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnR5cGUoKTtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnRUeXBlICE9PSBBc3NpZ25tZW50VHlwZS5CTE9DS1BZKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJhbnN3ZXJcIiAmJiB0eXBlID09PSBcIi5weVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiLlwiK2Fzc2lnbm1lbnRUeXBlIGluIHRoaXMuZXh0ZW5zaW9uc18pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uc19bXCIuXCIrYXNzaWdubWVudFR5cGVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBlZGl0b3IgcmVnaXN0ZXJlZCBmb3IgYXNzaWdubWVudCB0eXBlOlwiLCBhc3NpZ25tZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyZWRfWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSBpbiB0aGlzLmV4dGVuc2lvbnNfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb25zX1t0eXBlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyZWRfWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQudHlwZSgpLCBzcGFjZSwgbmFtZSwgdHlwZSk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHtTdGF0dXNTdGF0ZX0gZnJvbSBcIi4vc2VydmVyXCI7XG5pbXBvcnQge09uUnVuQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vZW5naW5lL29uX3J1blwiO1xuaW1wb3J0IHtSdW5Db25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvcnVuXCI7XG5pbXBvcnQge0V2YWxDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvZXZhbFwiO1xuaW1wb3J0IHtTYW1wbGVDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvc2FtcGxlXCI7XG5pbXBvcnQge09uQ2hhbmdlQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vZW5naW5lL29uX2NoYW5nZVwiO1xuaW1wb3J0IHtPbkV2YWxDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvb25fZXZhbFwiO1xuaW1wb3J0IHtPblNhbXBsZUNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9vbl9zYW1wbGVcIjtcblxuLyoqXG4gKiBBbiBvYmplY3QgZm9yIGV4ZWN1dGluZyBQeXRob24gY29kZSBhbmQgcGFzc2luZyB0aGUgcmVzdWx0cyBhbG9uZyB0byBpbnRlcmVzdGVkIGNvbXBvbmVudHMuXG4gKlxuICogSW50ZXJlc3RpbmcgY29tcG9uZW50czpcbiAqICBFeGVjdXRpb24gQnVmZmVyOiBSZXNwb25zaWJsZSBmb3IgY29sbGVjdGluZyB0aGUgdHJhY2UgZHVyaW5nIHByb2dyYW0gZXhlY3V0aW9uLlxuICogICAgICAgICAgICAgICAgICAgIFRoaXMgcHJldmVudHMgS25vY2tvdXRqcyBmcm9tIHVwZGF0aW5nIHRoZSBlZGl0b3IgZHVyaW5nIGV4ZWN1dGlvbi5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtCbG9ja1B5RWRpdG9yfVxuICogQHBhcmFtIHtPYmplY3R9IG1haW4gLSBUaGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBUaGUgSFRNTCBvYmplY3QgdGhpcyBpcyBhdHRhY2hlZCB0by5cbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHlFbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4pIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy5leGVjdXRpb25Nb2RlbCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb247XG5cbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9ucyA9IHtcbiAgICAgICAgICAgIHJ1bjogbmV3IFJ1bkNvbmZpZ3VyYXRpb24obWFpbiksXG4gICAgICAgICAgICBldmFsOiBuZXcgRXZhbENvbmZpZ3VyYXRpb24obWFpbiksXG4gICAgICAgICAgICBvblJ1bjogbmV3IE9uUnVuQ29uZmlndXJhdGlvbihtYWluKSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBuZXcgT25DaGFuZ2VDb25maWd1cmF0aW9uKG1haW4pLFxuICAgICAgICAgICAgb25FdmFsOiBuZXcgT25FdmFsQ29uZmlndXJhdGlvbihtYWluKVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFByZWNvbmZpZ3VyZSBza3VscHQgc28gd2UgY2FuIHBhcnNlXG4gICAgICAgIFNrLmNvbmZpZ3VyZSh0aGlzLmNvbmZpZ3VyYXRpb25zLnJ1bi5nZXRTa3VscHRPcHRpb25zKCkpO1xuXG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB0cmFjaW5nIHdoaWxlIHRoZSBwcm9ncmFtIGlzIGV4ZWN1dGluZ1xuICAgICAgICB0aGlzLmV4ZWN1dGlvbkJ1ZmZlciA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmFibGUgZnVuY3Rpb24gdG8gYmUgcnVuIHdoZW4gZXhlY3V0aW9uIGhhcyBmdWxseSBlbmRlZCxcbiAgICAgICAgICogd2hldGhlciBpdCBzdWNjZWVkcyBvciBmYWlscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FeGVjdXRpb25CZWdpbiA9IG51bGw7XG4gICAgICAgIHRoaXMub25FeGVjdXRpb25FbmQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHJlcG9ydHNcbiAgICAgKi9cbiAgICByZXNldFJlcG9ydHMoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLmV4ZWN1dGlvbk1vZGVsLnJlcG9ydHM7XG4gICAgICAgIHJlcG9ydFtcInZlcmlmaWVyXCJdID0ge307XG4gICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHt9O1xuICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge307XG4gICAgICAgIHJlcG9ydFtcImluc3RydWN0b3JcIl0gPSB7fTtcbiAgICAgICAgcmVwb3J0W1wibW9kZWxcIl0gPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgfTtcblxuICAgIHJlc2V0U3R1ZGVudE1vZGVsKCkge1xuICAgICAgICBsZXQgc3R1ZGVudCA9IHRoaXMuZXhlY3V0aW9uTW9kZWwuc3R1ZGVudDtcbiAgICAgICAgc3R1ZGVudC5jYWxscyA9IHt9O1xuICAgICAgICBzdHVkZW50LmN1cnJlbnRTdGVwKG51bGwpO1xuICAgICAgICBzdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoMCk7XG4gICAgICAgIHN0dWRlbnQubGFzdFN0ZXAoMCk7XG4gICAgICAgIHN0dWRlbnQuY3VycmVudExpbmUobnVsbCk7XG4gICAgICAgIHN0dWRlbnQuY3VycmVudFRyYWNlRGF0YS5yZW1vdmVBbGwoKTtcbiAgICAgICAgc3R1ZGVudC5yZXN1bHRzID0gbnVsbDtcbiAgICAgICAgc3R1ZGVudC50cmFjaW5nID0gW107XG4gICAgfVxuXG4gICAgcmVzZXRFeGVjdXRpb25CdWZmZXIoKSB7XG4gICAgICAgIHRoaXMuZXhlY3V0aW9uQnVmZmVyID0ge1xuICAgICAgICAgICAgXCJ0cmFjZVwiOiBbXSxcbiAgICAgICAgICAgIFwic3RlcFwiOiAwLFxuICAgICAgICAgICAgXCJsaW5lXCI6IDAsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgaW50ZXJmYWNlIGFzcGVjdHMgb2YgdGhlIHByZXZpb3VzIFJ1bi5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgLy8gVE9ETzogQ2xlYXIgb3V0IGFueSBjb3ZlcmFnZS90cmFjZS9lcnJvciBoaWdobGlnaHRzIGluIGVkaXRvcnNcbiAgICAgICAgLy8gUmVzZXQgZXhlY3V0aW9uIGluIG1vZGVsXG4gICAgICAgIHRoaXMucmVzZXRTdHVkZW50TW9kZWwoKTtcbiAgICAgICAgLy8gR2V0IHJlcG9ydHMgcmVhZHlcbiAgICAgICAgdGhpcy5yZXNldFJlcG9ydHMoKTtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSBleGVjdXRpb24gYnVmZmVyXG4gICAgICAgIHRoaXMucmVzZXRFeGVjdXRpb25CdWZmZXIoKTtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSBjb25zb2xlIG9mIHByaW50ZWQgc3R1ZmZcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5jbGVhcigpO1xuICAgICAgICAvLyBDbGVhciBvdXQgYW55IG9sZCBmZWVkYmFja1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5jbGVhcigpO1xuICAgIH1cblxuICAgIGRlbGF5ZWRSdW4oZGlzYWJsZUZlZWRiYWNrPWZhbHNlKSB7XG4gICAgICAgIC8vdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICAvLyQoXCIuYmxvY2tweS1ydW5cIikuYWRkQ2xhc3MoXCJibG9ja3B5LXJ1bi1ydW5uaW5nXCIpO1xuICAgICAgICB0aGlzLnJ1bihkaXNhYmxlRmVlZGJhY2spO1xuICAgICAgICAvL3NldFRpbWVvdXQodGhpcy5ydW4uYmluZCh0aGlzKSwgMSk7XG4gICAgfVxuXG4gICAgc3RvcCgpIHtcblxuICAgIH1cblxuICAgIHJ1bihkaXNhYmxlRmVlZGJhY2s9ZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9ucy5ydW4udXNlKHRoaXMpO1xuICAgICAgICBsZXQgZXhlY3V0aW9uID0gdGhpcy5leGVjdXRlKCkudGhlbihcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zdWNjZXNzLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICApO1xuICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVGZWVkYmFjaygpICYmICFkaXNhYmxlRmVlZGJhY2spIHtcbiAgICAgICAgICAgIGV4ZWN1dGlvbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24ucHJvdmlkZVNlY3JldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25SdW4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4odGhpcy5jb25maWd1cmF0aW9uLnNob3dFcnJvcnMuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uZmluYWxseS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpO1xuICAgIH1cblxuICAgIG9uUnVuKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLm9uUnVuLnVzZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGVjdXRlKCkudGhlbihcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zdWNjZXNzLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICApXG4gICAgICAgICAgICAudGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uZmluYWxseS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpXG4gICAgICAgICAgICAudGhlbih0aGlzLmV4ZWN1dGlvbkVuZF8uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoKSB7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuQUNUSVZFKTtcbiAgICAgICAgbGV0IGV2YWx1YXRpb25JbnB1dCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuZXZhbHVhdGUoKTtcbiAgICAgICAgY29uc29sZS5sb2coZXZhbHVhdGlvbklucHV0KTtcbiAgICAgICAgZXZhbHVhdGlvbklucHV0LnRoZW4oKHVzZXJJbnB1dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9ucy5ldmFsLnVzZSh0aGlzLCB1c2VySW5wdXQpO1xuICAgICAgICAgICAgbGV0IGV4ZWN1dGlvbiA9IHRoaXMuZXhlY3V0ZSgpLnRoZW4oXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUZlZWRiYWNrKCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5wcm92aWRlU2VjcmV0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLm9uRXZhbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4odGhpcy5jb25maWd1cmF0aW9uLnNob3dFcnJvcnMuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLmV2YWx1YXRlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4odGhpcy5jb25maWd1cmF0aW9uLmZpbmFsbHkuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25FdmFsKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLm9uRXZhbC51c2UodGhpcyk7XG4gICAgICAgIHRoaXMuZXhlY3V0ZSgpLnRoZW4oXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uc3VjY2Vzcy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbiksXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uZmFpbHVyZS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbilcbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5ldmFsdWF0ZS5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5jb25maWd1cmF0aW9uLmZpbmFsbHkuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pKTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9ucy5vbkNoYW5nZS51c2UodGhpcyk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICByZXR1cm4gU2subWlzY2V2YWwuYXN5bmNUb1Byb21pc2UoKCkgPT5cbiAgICAgICAgICAgIFNrLmltcG9ydE1haW5XaXRoQm9keSh0aGlzLmNvbmZpZ3VyYXRpb24uZmlsZW5hbWUsIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5jb2RlLCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zeXNtb2R1bGVzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlZCB3aGVuZXZlciB0aGUgUHl0aG9uIGNvZGUgY2hhbmdlc1xuICAgICAqL1xuICAgIG9uX2NoYW5nZSgpIHtcbiAgICAgICAgbGV0IEZJTEVOQU1FID0gXCJvbl9jaGFuZ2VcIjtcbiAgICAgICAgLy8gU2tpcCBpZiB0aGUgaW5zdHJ1Y3RvciBoYXMgbm90IGRlZmluZWQgYW55dGhpbmdcbiAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwucHJvZ3JhbXNbRklMRU5BTUVdKCkudHJpbSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdGF0dXMoXCJjaGFuZ2luZ1wiKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVDb2RlKCk7XG4gICAgICAgIC8vIE9uIHN0ZXAgZG9lcyBub3QgcGVyZm9ybSBwYXJzZSBhbmFseXNpcyBieSBkZWZhdWx0IG9yIHJ1biBzdHVkZW50IGNvZGVcbiAgICAgICAgbGV0IGVuZ2luZSA9IHRoaXM7XG4gICAgICAgIGxldCBmZWVkYmFjayA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrO1xuICAgICAgICBlbmdpbmUucmVzZXRSZXBvcnRzKCk7XG4gICAgICAgIGVuZ2luZS52ZXJpZnlDb2RlKCk7XG4gICAgICAgIGVuZ2luZS51cGRhdGVQYXJzZSgpO1xuICAgICAgICBlbmdpbmUucnVuSW5zdHJ1Y3RvckNvZGUoRklMRU5BTUUsIHRydWUsIGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0pIHtcbiAgICAgICAgICAgICAgICAvLyBTVUNDRVNTLCBTQ09SRSwgQ0FURUdPUlksIExBQkVMLCBNRVNTQUdFLCBEQVRBLCBISURFXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogb25seSBzaG93IHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlc1xuICAgICAgICAgICAgICAgIGlmICghc3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgICAgICAhKGNhdGVnb3J5ID09PSBcIkluc3RydWN0b3JcIiAmJiBsYWJlbCA9PT0gXCJObyBlcnJvcnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKGNhdGVnb3J5LCBsYWJlbCwgbWVzc2FnZSwgbGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVuZ2luZS5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKG1vZHVsZS4kZCk7XG4gICAgICAgICAgICAgICAgZW5naW5lLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0YXR1cyhcImNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZW5naW5lLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJlbmdpbmVcIiwgXCJvbl9jaGFuZ2VcIik7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgd2lsbCBhdHRlbXB0IHRvIGNhbGwgdGhlIGRlZmluZWQgb25FeGVjdXRpb25FbmQsXG4gICAgICogYnV0IHdpbGwgZG8gbm90aGluZyBpZiB0aGVyZSBpcyBubyBmdW5jdGlvbiBkZWZpbmVkLlxuICAgICAqL1xuICAgIGV4ZWN1dGlvbkVuZF8oKSB7XG4gICAgICAgIGlmICh0aGlzLm9uRXhlY3V0aW9uRW5kICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhlY3V0aW9uRW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGV4ZWN1dGlvbkJlZ2luXygpIHtcbiAgICAgICAgaWYgKHRoaXMub25FeGVjdXRpb25CZWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5vbkV4ZWN1dGlvbkJlZ2luKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuIiwiZXhwb3J0IGNvbnN0IEVNUFRZX01PRFVMRSA9IFwibGV0ICRidWlsdGlubW9kdWxlID0gZnVuY3Rpb24obW9kKXsgcmV0dXJuIG1vZDsgfVwiO1xuXG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBob2xkaW5nIHNldHRpbmdzIG9mIGEgcGFydGljdWxhciBydW4gY29uZmlndXJhdGlvbi5cbiAqIFRoaXMgaXMgdGhlIHJvb3QgY2xhc3MgZm9yIGFsbCBvdGhlciBjb25maWd1cmF0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zeXNtb2R1bGVzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgLy8gQWNjZXNzIHBvaW50IGZvciBpbnN0cnVjdG9yIGRhdGFcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIFNrLmNvbnNvbGUgPSB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlO1xuICAgICAgICBTay5xdWV1ZWRJbnB1dCA9IFtdO1xuICAgICAgICBTay5jb25maWd1cmUodGhpcy5nZXRTa3VscHRPcHRpb25zKCkpO1xuICAgICAgICAvLyBTZXQgb3BlbkZpbGUgYXMgbWVjaGFuaXNtIHRvIHJlYWQgZmlsZXNcbiAgICAgICAgU2suaW5Ccm93c2VyID0gdGhpcy5vcGVuRmlsZS5iaW5kKHRoaXMpO1xuICAgICAgICAvLyBGdW5jdGlvbiB0byBjb252ZXJ0IGZpbGVuYW1lcyB0byBVUkxzXG4gICAgICAgIFNrLmZpbGVUb1VSTCA9IHRoaXMuZ2V0VXJsRnJvbUZpbGVuYW1lLmJpbmQodGhpcyk7XG4gICAgICAgIC8vIFByb3h5IHJlcXVlc3RzXG4gICAgICAgIFNrLnJlcXVlc3RzR2V0ID0gKHVybCwgZGF0YSwgdGltZW91dCkgPT4gdGhpcy5vcGVuVVJMKHVybCwgZGF0YSwgdGltZW91dCk7XG4gICAgICAgIC8vIENvbmZpZ3VyZSBhIFwiZG8geW91IHdhbnQgdG8gd2FpdD8gcHJvbXB0XCJcbiAgICAgICAgU2sudGltZW91dEhhbmRsZXIgPSAodGltZVBhc3NlZCwgZXhlY0xpbWl0KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNPTlNJREVSSU5HIFRJTUUgT1VUXCIsIHRpbWVQYXNzZWQsIGV4ZWNMaW1pdCwgU2sucHJldmlvdXNFeGVjTGltaXRDaG9pY2UsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZSA9PT0gXCJzdG9wIGV4ZWN1dGlvblwiKSB7XG4gICAgICAgICAgICAgICAgU2sucHJldmlvdXNFeGVjTGltaXRDaG9pY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgU2suZXhlY0xpbWl0ID0gU2suZXhlY0xpbWl0QmFja3VwO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHByb21wdE1lc3NhZ2UgPSB0aGlzLmdldFRpbWVvdXRQcm9tcHQodGltZVBhc3NlZC8xMDAwID4gMzApO1xuICAgICAgICAgICAgbGV0IGRlZmF1bHRWYWx1ZSA9IChTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZSA9PT0gdW5kZWZpbmVkKSA/ICBcInN0b3AgZXhlY3V0aW9uXCIgOiBTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZTsgLy9bXCJzdG9wIGV4ZWN1dGlvblwiLCBTay5leGVjTGltaXQvMTAwMF07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBtb3JlIGludGVsbGlnZW50XG4gICAgICAgICAgICBsZXQgZGVsYXkgPSBwcm9tcHQocHJvbXB0TWVzc2FnZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIGlmIChkZWxheSA9PT0gXCJzdG9wIGV4ZWN1dGlvblwiIHx8IGRlbGF5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5ID09PSBcInN0b3AgZXhlY3V0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgU2sucHJldmlvdXNFeGVjTGltaXRDaG9pY2UgPSBcInN0b3AgZXhlY3V0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgIFNrLmV4ZWNMaW1pdEJhY2t1cCA9IFNrLmV4ZWNMaW1pdDtcbiAgICAgICAgICAgICAgICAgICAgU2suZXhlY0xpbWl0ID0gMjAwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCB8fCBkZWxheT09MCkge1xuICAgICAgICAgICAgICAgIGRlbGF5ID0gU2suZXhlY0xpbWl0ICsgcGFyc2VJbnQoZGVsYXksIDEwKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgU2suZXhlY0xpbWl0ID0gZGVsYXk7XG4gICAgICAgICAgICAgICAgU2suZXhlY0xpbWl0RnVuY3Rpb24gPSAoKSA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGltZW91dCgpID8gSW5maW5pdHkgOiBkZWxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWxheTtcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGltZW91dCgpKSB7XG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBsZXQgcHJvbXB0TWVzc2FnZSA9IHRoaXMuZ2V0VGltZW91dFByb21wdCh0aW1lUGFzc2VkLzEwMDAgPiAzMCk7XG4gICAgICAgICAgICAvLyBsZXQgZGVsYXkgPSBwcm9tcHQocHJvbXB0TWVzc2FnZSwgU2suZXhlY0xpbWl0LzEwMDApO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUSU1JTkcgVU9UXCIsIGRlbGF5LCBTay5leGVjTGltaXQpO1xuICAgICAgICAgICAgLy8gaWYgKGRlbGF5ICE9PSBudWxsIHx8IGRlbGF5PT0wKSB7XG4gICAgICAgICAgICAvLyAgICAgZGVsYXkgPSBTay5leGVjTGltaXQgKyBwYXJzZUludChkZWxheSwgMTApICogMTAwMDtcbiAgICAgICAgICAgIC8vICAgICBTay5leGVjTGltaXQgPSBkZWxheTtcbiAgICAgICAgICAgIC8vICAgICBTay5leGVjTGltaXRGdW5jdGlvbiA9ICgpID0+XG4gICAgICAgICAgICAvLyAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IGRlbGF5O1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUSU1JTkcgVU9UOiBGSU5BTFwiLCBkZWxheSwgU2suZXhlY0xpbWl0KTtcbiAgICAgICAgICAgIC8vIHJldHVybiBkZWxheTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXR0YWNoIGJlZm9yZUNhbGxcbiAgICAgICAgU2suYmVmb3JlQ2FsbCA9IHRoaXMuYmVmb3JlQ2FsbC5iaW5kKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRUaW1lb3V0UHJvbXB0KGxvbmdUaW1lb3V0KSB7XG4gICAgICAgIGlmIChsb25nVGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiVGhlIHByb2dyYW0gaGFzIHRha2VuIGEgUkVBTExZIGxvbmcgdGltZSB0byBydW4gKDMwIG9yIG1vcmUgc2Vjb25kcykuIFlvdSBtaWdodCB3YW50IHRvIGNhbmNlbCBhbmQgY2hlY2sgeW91ciBjb2RlLiBPciwgeW91IGNhbiBhZGQgbW9yZSBzZWNvbmRzIHRvIHdhaXQgYmVsb3cuXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJUaGUgcHJvZ3JhbSBpcyB0YWtpbmcgYSB3aGlsZSB0byBydW4uIEl0IG1pZ2h0IGhhdmUgYW4gaW5maW5pdGUgbG9vcC4gVHlwZSAnc3RvcCBleGVjdXRpb24nIHRvIHRyeSBhbmQgY29tcGxldGVseSBzdG9wIHRoZSBleGVjdXRpb24uIFByZXNzIENhbmNlbCB0byBzdG9wIHRoZSBleGVjdXRpb24gb2YganVzdCB5b3VyIGNvZGUgKHdpbGwgbm90IGludGVycnVwdCBpbnN0cnVjdG9yIGdyYWRpbmcgc2NyaXB0cyk7IG9yIGVudGVyIGEgbnVtYmVyIHRvIHdhaXQgZm9yIHRoYXQgbWFueSBhZGRpdGlvbmFsIHNlY29uZHMgZm9yIHlvdXIgY29kZSB0byB0ZXJtaW5hdGUuXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTa3VscHRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX19mdXR1cmVfXzogU2sucHl0aG9uMyxcbiAgICAgICAgICAgIC8vIGltcG9ydFxuICAgICAgICAgICAgcmVhZDogdGhpcy5pbXBvcnRGaWxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBvcGVuXG4gICAgICAgICAgICAvL2ZpbGVvcGVuOiB0aGlzLm9wZW5GaWxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBmaWxlLndyaXRlXG4gICAgICAgICAgICBmaWxld3JpdGU6IHRoaXMud3JpdGVGaWxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBwcmludFxuICAgICAgICAgICAgb3V0cHV0OiB0aGlzLnByaW50LmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBpbnB1dFxuICAgICAgICAgICAgaW5wdXRmdW46IHRoaXMuaW5wdXQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGlucHV0ZnVuVGFrZXNQcm9tcHQ6IHRydWUsXG4gICAgICAgICAgICAvLyBNZWRpYSBJbWFnZSBQcm94eSBVUkxcbiAgICAgICAgICAgIGltYWdlUHJveHk6IHRoaXMuZ2V0SW1hZ2VQcm94eS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIHNldCBieSB0aGUgc3lzdGVtIHNvIHdlIGNhbiB1c2Ugb3VyIG93biBzZXJ2ZXJzIGluIHByYWN0aWNlXG4gICAgICAgICAgICBlbW9qaVByb3h5OiAocGFydCkgPT4gYGh0dHBzOi8vdHdlbW9qaS5tYXhjZG4uY29tL3YvMTMuMS4wL3N2Zy8ke3BhcnQudG9Mb3dlckNhc2UoKX0uc3ZnYCxcbiAgICAgICAgICAgIC8vIFdoZXRoZXIgb3Igbm90IHRvIGtlZXAgdGhlIGdsb2JhbHNcbiAgICAgICAgICAgIHJldGFpbkdsb2JhbHM6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRVcmxGcm9tRmlsZW5hbWUoZmlsZW5hbWUpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmZpbGVzVG9VcmxzW2ZpbGVuYW1lXTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogXCIgKyBmaWxlbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYWNjZXNzIFNrdWxwdCBidWlsdC1pbnMuIFRoaXMgaXMgcHJldHR5IGdlbmVyaWMsIHRha2VuXG4gICAgICogYWxtb3N0IGRpcmVjdGx5IGZyb20gdGhlIFNrdWxwdCBkb2NzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lIC0gVGhlIHB5dGhvbiBmaWxlbmFtZSAoZS5nLiwgXCJvc1wiIG9yIFwicHByaW50XCIpIHRoYXQgd2lsbCBiZSBsb2FkZWQuXG4gICAgICogQHJldHVybnMge1N0cmluZ30gVGhlIEphdmFTY3JpcHQgc291cmNlIGNvZGUgb2YgdGhlIGZpbGUgKHdlaXJkLCByaWdodD8pXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBmaWxlIGlzbid0IGZvdW5kLlxuICAgICAqL1xuICAgIGltcG9ydEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5pbXBsZW1lbnRlZCBtZXRob2QhXCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgfTtcblxuICAgIG9wZW5VUkwodXJsLCBkYXRhLCB0aW1lb3V0KSB7XG4gICAgICAgIC8vcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IG1vY2tVcmxEYXRhID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5nZXRGaWxlKFwiP21vY2tfdXJscy5ibG9ja3B5XCIpO1xuICAgICAgICBpZiAobW9ja1VybERhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgKG5ldyBTay5idWlsdGluLklPRXJyb3IoXCJDYW5ub3QgYWNjZXNzIHVybDogVVJMIERhdGEgd2FzIG5vdCBtYWRlIGF2YWlsYWJsZSBmb3IgdGhpcyBhc3NpZ25tZW50XCIpKTtcbiAgICAgICAgfVxuICAgICAgICBtb2NrVXJsRGF0YSA9IEpTT04ucGFyc2UobW9ja1VybERhdGEuaGFuZGxlKCkpO1xuICAgICAgICBmb3IgKGxldCBmaWxlbmFtZSBpbiBtb2NrVXJsRGF0YSkge1xuICAgICAgICAgICAgaWYgKG1vY2tVcmxEYXRhLmhhc093blByb3BlcnR5KGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IG1vY2tVcmxEYXRhW2ZpbGVuYW1lXS5sZW5ndGg7IGkrPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2NrVXJsRGF0YVtmaWxlbmFtZV1baV0gPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVEYXRhID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5yZWFkRmlsZShmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGZpbGVEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3JlamVjdChuZXcgU2suYnVpbHRpbi5JT0Vycm9yKFwiQ2Fubm90IGFjY2VzcyB1cmw6IFwiK3VybCtcIiB3YXMgbm90IG1hZGUgYXZhaWxhYmxlIGZvciB0aGlzIGFzc2lnbm1lbnRcIikpO1xuICAgICAgICB0aHJvdyAobmV3IFNrLmJ1aWx0aW4uSU9FcnJvcihcIkNhbm5vdCBhY2Nlc3MgdXJsOiBcIit1cmwrXCIgd2FzIG5vdCBtYWRlIGF2YWlsYWJsZSBmb3IgdGhpcyBhc3NpZ25tZW50XCIpKTtcbiAgICAgICAgLy99KTtcbiAgICB9XG5cbiAgICBvcGVuRmlsZSgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5pbXBsZW1lbnRlZCBtZXRob2QhXCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgfVxuXG4gICAgd3JpdGVGaWxlKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICBwcmludCh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnByaW50KHZhbHVlKTtcbiAgICB9XG5cbiAgICBpbnB1dCgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5pbXBsZW1lbnRlZCBtZXRob2QhXCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgfVxuXG4gICAgY2xlYXJJbnB1dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmNsZWFySW5wdXRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5wdXRNb2NrRnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChTay5xdWV1ZWRJbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBTay5xdWV1ZWRJbnB1dC5wb3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGdldEltYWdlUHJveHkodXJsKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBzdGVwKCkge1xuXG4gICAgfVxuXG4gICAgbGFzdFN0ZXAoKSB7XG5cbiAgICB9XG5cbiAgICBpc0ZvcmJpZGRlbihmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJzdHJhY3Qgc3VjY2VzcyBleGVjdXRpb25cIik7XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYnN0cmFjdCBmYWlsdXJlIGV4ZWN1dGlvblwiKTtcbiAgICB9XG5cbiAgICBmaW5hbGx5KHJlc3VsdCkge1xuICAgICAgICAvLyBGb3JjZSBQeWdhbWUgdG8gc3RvcCB0cmFwcGluZyBrZXlib2FyZCBldmVudHNcbiAgICAgICAgaWYgKHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHlnYW1lTGluZSkge1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5weWdhbWVMaW5lLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHlnYW1lTGluZS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkdW1teU91dFNhbmRib3goKSB7XG4gICAgICAgIC8vU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi9wZWRhbC9zYW5kYm94L3NhbmRib3gucHlcIl0gPSBcImNsYXNzIFNhbmRib3g6IHBhc3NcXG5kZWYgcnVuKCk6IHBhc3NcXG5kZWYgcmVzZXQoKTogcGFzc1xcblwiO1xuICAgIH1cblxuICAgIGJlZm9yZUNhbGwoZnVuY3Rpb25OYW1lLCBwb3NhcmdzLCBrd2FyZ3MpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlRSQUNLSU5HIENBTExcIiwgZnVuY3Rpb25OYW1lLCBwb3NhcmdzLCBrd2FyZ3MpO1xuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgZmFzdGNhbGwgdG9vPyBDaGVjayBob3cgdGhhdCB3b3JrcyBpbiBTa3VscHQgc2lkZVxuICAgICAgICBsZXQgc3R1ZGVudE1vZGVsID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLnN0dWRlbnQ7XG4gICAgICAgIGlmICghKFwiY2FsbHNcIiBpbiBzdHVkZW50TW9kZWwpKSB7XG4gICAgICAgICAgICBzdHVkZW50TW9kZWwuY2FsbHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShmdW5jdGlvbk5hbWUgaW4gc3R1ZGVudE1vZGVsLmNhbGxzKSkge1xuICAgICAgICAgICAgc3R1ZGVudE1vZGVsLmNhbGxzW2Z1bmN0aW9uTmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJncyA9IHt9O1xuICAgICAgICAvLyBHZXQgYWN0dWFsIHBhcmFtZXRlciBuYW1lcyEhXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHBvc2FyZ3MubGVuZ3RoOyBpKz0gMSkge1xuICAgICAgICAgICAgYXJnc1tcIl9fQVJHXCIraV0gPSBwb3NhcmdzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrd2FyZ3MgJiYga3dhcmdzWzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFyZ3NbXCJfX0FSR1NcIl0gPSBrd2FyZ3NbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGt3YXJncyAmJiBrd2FyZ3NbMV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgYXJnc1tcIl9fS1dBUkdTXCJdID0ga3dhcmdzWzFdO1xuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coYXJncyk7XG4gICAgICAgIHN0dWRlbnRNb2RlbC5jYWxsc1tmdW5jdGlvbk5hbWVdLnB1c2goYXJncyk7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQge1N0dWRlbnRDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9zdHVkZW50XCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge0Jsb2NrUHlUcmFjZX0gZnJvbSBcIi4uL3RyYWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBFdmFsQ29uZmlndXJhdGlvbiBleHRlbmRzIFN0dWRlbnRDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lLCBjb2RlKSB7XG4gICAgICAgIC8vIFRPRE86IGZpeCB0byBiZSBjdXJyZW50bHkgYWRkZWQgbGluZVxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2UoXCJSdW5uaW5nLi4uXCIpO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJhbnN3ZXJcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJfID0gXCIgKyBjb2RlO1xuICAgICAgICBTay5hZnRlclNpbmdsZUV4ZWN1dGlvbiA9IG51bGw7XG4gICAgICAgIFNrLmJlZm9yZUNhbGwgPSBudWxsO1xuXG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuXG4gICAgICAgIFNrLnJldGFpbkdsb2JhbHMgPSB0cnVlO1xuICAgICAgICBTay5nbG9iYWxzID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoKTtcblxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLUZpbGUuQWRkXCIsIFwiXCIsIFwiXCIsIGNvZGUsIFwiZXZhbHVhdGlvbnNcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkNvbXBpbGVcIiwgXCJcIiwgXCJcIiwgdGhpcy5jb2RlLCBcImV2YWx1YXRpb25zXCIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Y2Nlc3MobW9kdWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZhbCBzdWNjZXNzXCIpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLUV2YWx1YXRlLlByb2dyYW1cIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJldmFsdWF0aW9uc1wiKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5nbG9iYWxzKFNrLmdsb2JhbHMpO1xuICAgICAgICBTay5nbG9iYWxzID0ge307XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5yZXN1bHRzID0gbW9kdWxlO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnByaW50VmFsdWUoU2suZmZpLnJlbWFwVG9Kcyhtb2R1bGUuJGQuXy4kcigpKSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvL3RoaXMuc3RlcChtb2R1bGUuJGQsIG1vZHVsZS4kZCwtMSwgMCwgZmlsZW5hbWUgKyBcIi5weVwiKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJ0cmFjZVwiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlYWxMaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UuZmlsdGVyKHggPT4gIXguaXNEb2NzdHJpbmcpLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXCI6IG1vZHVsZSxcbiAgICAgICAgICAgICAgICBcIm91dHB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dCxcbiAgICAgICAgICAgICAgICBcImV2YWx1YXRpb25cIjogdGhpcy5jb2RlLFxuICAgICAgICAgICAgICAgIFwiY2FsbHNcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmNhbGxzLFxuICAgICAgICAgICAgICAgIFwidHJhY2luZ1wiOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkV2YWwgZmFpbHVyZVwiLCBlcnJvcik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuRkFJTEVEKTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZS5FcnJvclwiLCBcIlwiLCBcIlwiLCBlcnJvci50b1N0cmluZygpLCBcImV2YWx1YXRpb25zXCIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVwb3J0W1wic3R1ZGVudFwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgICAgICAgICBcImV2YWx1YXRpb25cIjogdGhpcy5jb2RlLFxuICAgICAgICAgICAgICAgIFwidHJhY2luZ1wiOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCB7Q29uZmlndXJhdGlvbiwgRU1QVFlfTU9EVUxFfSBmcm9tIFwiLi9jb25maWd1cmF0aW9ucy5qc1wiO1xuaW1wb3J0IHskc2tfbW9kX2luc3RydWN0b3J9IGZyb20gXCIuLi9za3VscHRfbW9kdWxlcy9za19tb2RfaW5zdHJ1Y3RvclwiO1xuaW1wb3J0IHskc2tfbW9kX2NvdmVyYWdlfSBmcm9tIFwiLi4vc2t1bHB0X21vZHVsZXMvY292ZXJhZ2VcIjtcbmltcG9ydCB7JHBlZGFsX3RyYWNlcn0gZnJvbSBcIi4uL3NrdWxwdF9tb2R1bGVzL3BlZGFsX3RyYWNlclwiO1xuaW1wb3J0IHtjaG9tcFNwZWNpYWxGaWxlfSBmcm9tIFwiLi4vZmlsZXNcIjtcblxuY29uc3QgVVRJTElUWV9NT0RVTEVfQ09ERSA9IFwidmFyICRidWlsdGlubW9kdWxlID0gXCIgKyAkc2tfbW9kX2luc3RydWN0b3IudG9TdHJpbmcoKTtcbmNvbnN0IENPVkVSQUdFX01PRFVMRV9DT0RFID0gJHNrX21vZF9jb3ZlcmFnZTtcblxuZXhwb3J0IGNsYXNzIEluc3RydWN0b3JDb25maWd1cmF0aW9uIGV4dGVuZHMgQ29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgLy8gSW5zdHJ1Y3RvcnMgZ2V0IDQgc2Vjb25kc1xuICAgICAgICBTay5leGVjTGltaXRGdW5jdGlvbiA9ICgpID0+XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGltZW91dCgpID8gSW5maW5pdHkgOiA3MDAwO1xuICAgICAgICBTay5leGVjTGltaXQgPSBTay5leGVjTGltaXRGdW5jdGlvbigpO1xuICAgICAgICAvLyBTdGVwcGVyISBFeGVjdXRlZCBhZnRlciBldmVyeSBzdGF0ZW1lbnQuXG4gICAgICAgIFNrLmFmdGVyU2luZ2xlRXhlY3V0aW9uID0gbnVsbDsgLy8gMTAgKjEwMDBcbiAgICAgICAgLy8gTXV0ZSBldmVyeXRoaW5nXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lm11dGVQcmludGVyKHRydWUpO1xuICAgICAgICAvLyBDYXB0dXJlIGFueSBhZGRpdGlvbmFsIHN0ZG91dCB0byBhIGJ1ZmZlclxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3Rkb3V0LnJlbW92ZUFsbCgpO1xuICAgICAgICAvLyBEaXNhYmxlIGlucHV0IGJveFxuICAgICAgICBTay5xdWV1ZWRJbnB1dCA9IFtdO1xuICAgICAgICAvLyBUT0RPIFNrLmlucHV0ZnVuID0gQmxvY2tQeUVuZ2luZS5pbnB1dE1vY2tGdW5jdGlvbjtcbiAgICAgICAgLy8gVE9ETzogQWxsb3cgaW5wdXQgZnVuY3Rpb24gdG8gZGlzYWJsZSB0aGUgdGltZXIsIHNvbWVob3dcbiAgICAgICAgLy8gRGlzYWJsZSB0aGUgYmVmb3JlQ2FsbCBjaGVja2VyIHVubGVzcyBzcGVjaWZpY2FsbHkgcmVxdWVzdGVkXG4gICAgICAgIFNrLmJlZm9yZUNhbGxCYWNrdXAgPSBTay5iZWZvcmVDYWxsO1xuICAgICAgICBTay5iZWZvcmVDYWxsID0gbnVsbDtcbiAgICAgICAgLy8gRW5hYmxlIHV0aWxpdHkgbW9kZVxuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL3V0aWxpdHkvX19pbml0X18uanNcIl0gPSBVVElMSVRZX01PRFVMRV9DT0RFO1xuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL2NvdmVyYWdlLnB5XCJdID0gQ09WRVJBR0VfTU9EVUxFX0NPREU7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgbmVlZHMgdG8gYmUgb3B0aW1pemVkXG4gICAgICAgIC8vY29uc3QgUEVEQUxfVFJBQ0VSX01PRFVMRV9DT0RFID0gU2suY29tcGlsZSgkcGVkYWxfdHJhY2VyLCBcInRyYWNlci5weVwiLCBcImV4ZWNcIiwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL3BlZGFsL3NhbmRib3gvdHJhY2VyLnB5XCJdID0gJHBlZGFsX3RyYWNlcjtcbiAgICAgICAgZGVsZXRlIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvcGVkYWwvc2FuZGJveC90cmFjZXIuanNcIl07XG4gICAgICAgIC8vIFRPRE86IE1vY2sgUGVkYWwncyB0cmFjZXIgbW9kdWxlIHdpdGggdGhlIGFwcHJvcHJpYXRlIHZlcnNpb25cbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wiLi9faW5zdHJ1Y3Rvci9fX2luaXRfXy5qc1wiXSA9IEVNUFRZX01PRFVMRTtcbiAgICAgICAgLy8gUmV1c2UgYW55IGV4aXN0aW5nIHN5c21vZHVsZXMgdGhhdCB3ZSBwcmV2aW91c2x5IGZvdW5kLCBidXQgbm90IF9fbWFpbl9fIG1vZHVsZXNcbiAgICAgICAgdGhpcy5zeXNtb2R1bGVzID0gdGhpcy5jbGVhckV4aXN0aW5nU3R1ZGVudEltcG9ydHMoKTtcbiAgICAgICAgLy8gSG9ycmlmaWMgaGFjaywgdG8gcHJldmVudCBUaWZhIGZyb20gY2FjaGluZyBhIGJhZCB2ZXJzaW9uIG9mIHRoZSBzdHVkZW50cycgaW1wb3J0XG4gICAgICAgIFNrLmNsZWFyRXhpc3RpbmdTdHVkZW50SW1wb3J0cyA9IHRoaXMuY2xlYXJFeGlzdGluZ1N0dWRlbnRJbXBvcnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcmludCh2YWx1ZSkge1xuICAgICAgICBzdXBlci5wcmludCh2YWx1ZSk7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhcIlByaW50ZWQ6XCIsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLnN0ZG91dC5wdXNoKHZhbHVlKTtcbiAgICB9XG5cbiAgICBjbGVhckV4aXN0aW5nU3R1ZGVudEltcG9ydHMoKSB7XG4gICAgICAgIGxldCBzeXNtb2R1bGVzID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLnN5c21vZHVsZXM7XG4gICAgICAgIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgX19tYWluX18gbW9kdWxlc1xuICAgICAgICBpZiAoc3lzbW9kdWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBmaWxlbmFtZSBvZiB0aGlzLmdldEFsbEZpbGVuYW1lcygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNrRmlsZW5hbWUgPSBuZXcgU2suYnVpbHRpbi5zdHIoZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIC8qaWYgKHN5c21vZHVsZXMucXVpY2skbG9va3VwKHNrRmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN5c21vZHVsZXMucG9wJGl0ZW0oc2tGaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgfSovXG4gICAgICAgICAgICAgICAgc3lzbW9kdWxlcy5wb3AkaXRlbShza0ZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3lzbW9kdWxlcztcbiAgICB9XG5cbiAgICBnZXRBbGxTdHVkZW50RmlsZXMoKSB7XG4gICAgICAgIGNvbnN0IGZpbGVzID0ge1xuICAgICAgICAgICAgXCJhbnN3ZXIucHlcIjogdGhpcy5tYWluLm1vZGVsLnVpLmZpbGVzLmdldFN0dWRlbnRDb2RlKClcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2tpcCBzcGVjaWFsIGluc3RydWN0b3IgZmlsZXNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMoKS5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgICAgaWYgKCEoXCIhXiQjXCIuaW5jbHVkZXMoZmlsZS5maWxlbmFtZSgpWzBdKSkpIHtcbiAgICAgICAgICAgICAgICBmaWxlc1tjaG9tcFNwZWNpYWxGaWxlKGZpbGUuZmlsZW5hbWUoKSldID0gZmlsZS5jb250ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSW5jbHVkZSBub3JtYWwgc3R1ZGVudCBleHRyYSBmaWxlc1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKCkuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgICAgIGZpbGVzW2ZpbGUuZmlsZW5hbWUoKV0gPSBmaWxlLmNvbnRlbnRzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmlsZXM7XG4gICAgfVxuXG4gICAgZ2V0QWxsRmlsZW5hbWVzKCkge1xuICAgICAgICBmdW5jdGlvbiBjbGVhbihmaWxlbmFtZSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBjaG9tcFNwZWNpYWxGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGlmIChmaWxlbmFtZS5lbmRzV2l0aChcIi5weVwiKSkge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUuc2xpY2UoMCwgLTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbGVuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIl9fbWFpbl9fXCIsXG4gICAgICAgICAgICBcIl9pbnN0cnVjdG9yXCIsXG4gICAgICAgICAgICAuLi50aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLm1hcChmaWxlID0+IFwiX2luc3RydWN0b3IuXCIgKyBjbGVhbihmaWxlLmZpbGVuYW1lKCkpKSxcbiAgICAgICAgICAgIC4uLnRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMoKS5tYXAoZmlsZSA9PiBjbGVhbihmaWxlLmZpbGVuYW1lKCkpKSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXRUaW1lb3V0UHJvbXB0KGxvbmdUaW1lb3V0KSB7XG4gICAgICAgIGlmIChsb25nVGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiVGhlIGluc3RydWN0b3IgY29kZSBoYXMgdGFrZW4gYSBSRUFMTFkgbG9uZyB0aW1lIHRvIGNoZWNrIHlvdXIgY29kZSAoMzAgb3IgbW9yZSBzZWNvbmRzKS4gWW91IG1pZ2h0IHdhbnQgdG8gY2FuY2VsIGFuZCBjaGVjayB5b3VyIGNvZGUgKG9yIGdldCBoZWxwIGZyb20gYW4gaW5zdHJ1Y3RvcikuIE9yLCB5b3UgY2FuIGFkZCBtb3JlIHNlY29uZHMgdG8gd2FpdCBiZWxvdy5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlRoZSBpbnN0cnVjdG9yIGNvZGUgaXMgdGFraW5nIGEgbGl0dGxlIHdoaWxlIHRvIGNoZWNrIHlvdXIgY29kZTsgaXQgbWlnaHQganVzdCBuZWVkIGEgbGl0dGxlIG1vcmUgdGltZS4gSG93IG1hbnkgbW9yZSBzZWNvbmRzIHdvdWxkIHlvdSBsaWtlIHRvIHdhaXQ/IFVzZSBDYW5jZWwgdG8gYWJvcnQgZW50aXJlbHkgKG9yIHR5cGUgJ3N0b3AgZXhlY3V0aW9uJykuXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuRmlsZShmaWxlbmFtZSkge1xuICAgICAgICBsZXQgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnNlYXJjaEZvckZpbGUoZmlsZW5hbWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogXCIrZmlsZW5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmNvbnRlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuVVJMKHVybCwgZGF0YSwgdGltZW91dCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLCB1cmwsIGRhdGEsIHRpbWVvdXQpO1xuICAgICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoeSBwYXJhbWV0ZXJzIGFyZSBtaXNhbGlnbmVkLi4/XG4gICAgICAgIGlmIChkYXRhLnYgPT09IFwiT1BFTkFJXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIub3BlbmFpUHJveHkoZGF0YSwgdGltZW91dCAmJiB0aW1lb3V0LnYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9wZW5VUkwodXJsLCBkYXRhLCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcG9ydEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKGZpbGVuYW1lID09PSBcIi4vYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZW5hbWUgPT09IFwiLi9faW5zdHJ1Y3Rvci9vbl9ydW4ucHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZW5hbWUgPT09IFwiLi9faW5zdHJ1Y3Rvci9vbl9ldmFsLnB5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSB8fCBcIlwiO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVuYW1lID09PSBcIi4vX2luc3RydWN0b3IvX19pbml0X18uanNcIikge1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX01PRFVMRTtcbiAgICAgICAgfSBlbHNlIGlmIChTay5idWlsdGluRmlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkJ1aWx0LWluIG1vZHVsZXMgbm90IGFjY2Vzc2libGUuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bZmlsZW5hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5zZWFyY2hGb3JGaWxlKGZpbGVuYW1lLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogJ1wiK2ZpbGVuYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQuY29udGVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpbnB1dChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgIC8vcmV0dXJuIFwiQXBwbGVQaWVcIjtcbiAgICAgICAgY29uc29sZS5sb2coXCI+Pj5cIiwgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpLCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoKSk7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoKSA8IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpbnB1dEluZGV4ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KCk7XG4gICAgICAgICAgICBsZXQgbmV4dElucHV0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpW2lucHV0SW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KGlucHV0SW5kZXgrMSk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dElucHV0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiQXBwbGVQaWVcIjtcbiAgICAgICAgfVxuICAgICAgICAvKnJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShTay5xdWV1ZWRJbnB1dC5wb3AoKSk7XG4gICAgICAgIH0pOyovXG4gICAgfVxuXG4gICAgYmVmb3JlQ2FsbChmdW5jdGlvbk5hbWUsIHBvc2FyZ3MsIGt3YXJncykge1xuICAgICAgICBsZXQgc3R1ZGVudE1vZGVsID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLnN0dWRlbnQ7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJIRVkgSU5TVFJVQ1RPUiBDQUxMXCIsIGZ1bmN0aW9uTmFtZSwgc3R1ZGVudE1vZGVsLnRyYWNpbmcpO1xuICAgICAgICBpZiAoc3R1ZGVudE1vZGVsLnRyYWNpbmcgJiYgc3R1ZGVudE1vZGVsLnRyYWNpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdXBlci5iZWZvcmVDYWxsKGZ1bmN0aW9uTmFtZSwgcG9zYXJncywga3dhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7SW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2luc3RydWN0b3JcIjtcblxuZXhwb3J0IGNsYXNzIE9uQ2hhbmdlQ29uZmlndXJhdGlvbiBleHRlbmRzIEluc3RydWN0b3JDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lKSB7XG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJvbl9jaGFuZ2UucHlcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UoKTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkudHJpZ2dlck9uQ2hhbmdlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59IiwiaW1wb3J0IHtJbnN0cnVjdG9yQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vaW5zdHJ1Y3RvclwiO1xuaW1wb3J0IHtTdGF0dXNTdGF0ZX0gZnJvbSBcIi4uL3NlcnZlclwiO1xuaW1wb3J0IHtmaW5kQWN0dWFsSW5zdHJ1Y3Rvck9mZnNldCwgSU5TVFJVQ1RPUl9NQVJLRVIsIE5FV19MSU5FX1JFR0VYfSBmcm9tIFwiLi9vbl9ydW5cIjtcbmltcG9ydCB7aW5kZW50fSBmcm9tIFwiLi4vdXRpbGl0aWVzXCI7XG5cbi8qKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgV1JBUF9JTlNUUlVDVE9SX0NPREUgPSBmdW5jdGlvbiAoc3R1ZGVudENvZGUsIGluc3RydWN0b3JDb2RlLCBxdWljaywgaXNTYWZlKSB7XG4gICAgbGV0IHNhZmVDb2RlID0gSlNPTi5zdHJpbmdpZnkoc3R1ZGVudENvZGUpO1xuXG4gICAgcmV0dXJuIGBcbmZyb20gdXRpbGl0eSBpbXBvcnQgKlxuXG4jIExvYWQgaW4gc29tZSBjb21tb25seSB1c2VkIHRvb2xzXG5mcm9tIHBlZGFsLmNhaXQuY2FpdF9hcGkgaW1wb3J0IHBhcnNlX3Byb2dyYW1cbmZyb20gcGVkYWwuc2FuZGJveC5jb21tYW5kcyBpbXBvcnQgKlxuZnJvbSBwZWRhbC5jb3JlLmNvbW1hbmRzIGltcG9ydCAqXG5cbiMgQmFja3VwIHRoZSBmZWVkYmFja1xub25fcnVuX2ZlZWRiYWNrID0gW11cbmZvciBmZWVkYmFjayBpbiBNQUlOX1JFUE9SVC5mZWVkYmFjazpcbiAgICBvbl9ydW5fZmVlZGJhY2suYXBwZW5kKGZlZWRiYWNrKVxuTUFJTl9SRVBPUlQuZmVlZGJhY2suY2xlYXIoKVxuXG5mcm9tIHBlZGFsLmVudmlyb25tZW50cy5ibG9ja3B5IGltcG9ydCBzZXR1cF9lbnZpcm9ubWVudFxuIyBBZGQgaW4gZXZhbHVhdGVkIHN0dWZmIGZyb20gbGFzdCB0aW1lXG5zdHVkZW50ID0gZ2V0X3NhbmRib3goKVxuIyBUT0RPOiBXaGF0IGFib3V0IG5ldyBpbnB1dHMgc2luY2Ugd2UgbGFzdCByYW4vZXZhbGVkP1xuIyBNQUlOX1JFUE9SVC5zdWJtaXNzaW9uLmZpbGVzWydldmFsdWF0aW9uJ10gPSAke3NhZmVDb2RlfVxuZXZhbHVhdGUoJHtzYWZlQ29kZX1bJ2V2YWx1YXRpb24nXSlcblxuIyBUT0RPOiBSZWZhY3RvciByZXNvbHZlciB0byByZXR1cm4gaW5zdHJ1Y3Rpb25zXG4jIE1vbmtleS1wYXRjaCBxdWVzdGlvbnNcbiNmcm9tIHBlZGFsIGltcG9ydCBxdWVzdGlvbnNcbiNxdWVzdGlvbnMuc2hvd19xdWVzdGlvbiA9IHNldF9pbnN0cnVjdGlvbnNcblxuJHtJTlNUUlVDVE9SX01BUktFUn1cbiR7aW5zdHJ1Y3RvckNvZGV9XG5cbiMgUmVzb2x2ZSBldmVyeXRoaW5nXG5mcm9tIHBlZGFsLnJlc29sdmVycy5zaW1wbGUgaW1wb3J0IHJlc29sdmVcbmZpbmFsID0gcmVzb2x2ZSgpXG5TVUNDRVNTID0gZmluYWwuc3VjY2Vzc1xuU0NPUkUgPSBmaW5hbC5zY29yZVxuQ0FURUdPUlkgPSBmaW5hbC5jYXRlZ29yeVxuTEFCRUwgPSBmaW5hbC50aXRsZVxuTUVTU0FHRSA9IGZpbmFsLm1lc3NhZ2VcbkRBVEEgPSBmaW5hbC5kYXRhXG5ISURFID0gZmluYWwuaGlkZV9jb3JyZWN0bmVzc1xuXG4jIEhhbmRsZSBxdWVzdGlvbnNcbmlmIGZpbmFsLmluc3RydWN0aW9uczpcbiAgICBzZXRfaW5zdHJ1Y3Rpb25zKGZpbmFsLmluc3RydWN0aW9uc1stMV0ubWVzc2FnZSlcbiAgICBcbiMgSGFuZGxlIHBvc2l0aXZlIGZlZWRiYWNrXG5QT1NJVElWRSA9IFtdXG5mb3IgcG9zaXRpdmUgaW4gZmluYWwucG9zaXRpdmVzOlxuICAgIG1lc3NhZ2UgPSBwb3NpdGl2ZS5tZXNzYWdlXG4gICAgaWYgbm90IHBvc2l0aXZlOlxuICAgICAgICBtZXNzYWdlID0gcG9zaXRpdmUuZWxzZV9tZXNzYWdlXG4gICAgUE9TSVRJVkUuYXBwZW5kKHtcbiAgICAgICAgXCJ0aXRsZVwiOiBwb3NpdGl2ZS50aXRsZSxcbiAgICAgICAgXCJsYWJlbFwiOiBwb3NpdGl2ZS5sYWJlbCxcbiAgICAgICAgXCJtZXNzYWdlXCI6IG1lc3NhZ2VcbiAgICB9KVxuICAgIFxuIyBIYW5kbGUgc3lzdGVtIG1lc3NhZ2VzXG5mb3Igc3lzdGVtIGluIGZpbmFsLnN5c3RlbXM6XG4gICAgaWYgc3lzdGVtLmxhYmVsID09ICdsb2cnOlxuICAgICAgICBjb25zb2xlX2xvZyhzeXN0ZW0udGl0bGUsIHN5c3RlbS5tZXNzYWdlKTtcbiAgICBpZiBzeXN0ZW0ubGFiZWwgPT0gJ2RlYnVnJzpcbiAgICAgICAgY29uc29sZV9kZWJ1ZyhzeXN0ZW0udGl0bGUsIHN5c3RlbS5tZXNzYWdlKTtcblxuYDtcbn07XG5cbmV4cG9ydCBjbGFzcyBPbkV2YWxDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIl9pbnN0cnVjdG9yLm9uX2V2YWxcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkgfHwgXCJcIjtcblxuICAgICAgICBsZXQgZGlzYWJsZVRpZmEgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGlmYSgpO1xuXG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIC8vbGV0IHN0dWRlbnRDb2RlU2FmZSA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5zdHVkZW50LmV2YWx1YXRpb24gfHwgXCJOb25lXCI7XG4gICAgICAgIGxldCBzdHVkZW50RmlsZXMgPSB0aGlzLmdldEFsbFN0dWRlbnRGaWxlcygpO1xuICAgICAgICBzdHVkZW50RmlsZXNbXCJldmFsdWF0aW9uXCJdID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLnN0dWRlbnQuZXZhbHVhdGlvbiB8fCBcIk5vbmVcIjtcbiAgICAgICAgdGhpcy5kdW1teU91dFNhbmRib3goKTtcbiAgICAgICAgbGV0IGluc3RydWN0b3JDb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICBsZXQgaXNTYWZlID0gIXJlcG9ydFtcInBhcnNlclwiXS5lbXB0eSAmJiByZXBvcnRbXCJ2ZXJpZmllclwiXS5zdWNjZXNzO1xuICAgICAgICBpbnN0cnVjdG9yQ29kZSA9IFdSQVBfSU5TVFJVQ1RPUl9DT0RFKHN0dWRlbnRGaWxlcywgaW5zdHJ1Y3RvckNvZGUsIGRpc2FibGVUaWZhLCBpc1NhZmUpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIj4+PlwiLCBpbnN0cnVjdG9yQ29kZSk7XG4gICAgICAgIGxldCBsaW5lT2Zmc2V0ID0gZmluZEFjdHVhbEluc3RydWN0b3JPZmZzZXQoaW5zdHJ1Y3RvckNvZGUpOyAvL2luc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGg7XG4gICAgICAgIHJlcG9ydFtcImluc3RydWN0b3JcIl0gPSB7XG4gICAgICAgICAgICBcImNvbXBsaW1lbnRzXCI6IFtdLFxuICAgICAgICAgICAgXCJmaWxlbmFtZVwiOiBcIi4vX2luc3RydWN0b3Ivb25fZXZhbC5weVwiLFxuICAgICAgICAgICAgXCJjb2RlXCI6IGluc3RydWN0b3JDb2RlLFxuICAgICAgICAgICAgXCJsaW5lT2Zmc2V0XCI6IGxpbmVPZmZzZXRcbiAgICAgICAgICAgIC8vJ2NvbXBsZXRlJzogZmFsc2UgLy8gQWN0dWFsbHksIGxldCdzIHVzZSB1bmRlZmluZWQgZm9yIG5vdy5cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb2RlID0gaW5zdHJ1Y3RvckNvZGU7XG5cbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG5cbiAgICAgICAgLy9Tay5yZXRhaW5HbG9iYWxzID0gZmFsc2U7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3IuZ2xvYmFscztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdWNjZXNzKG1vZHVsZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9uRXZhbCBzdWNjZXNzXCIpO1xuICAgICAgICAvLyBUT0RPOiBBY3R1YWxseSBwYXJzZSByZXN1bHRzXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5nbG9iYWxzID0gU2suZ2xvYmFscztcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLnN5c21vZHVsZXMgPSBTay5zeXNtb2R1bGVzO1xuICAgICAgICBjb25zb2xlLmxvZyhtb2R1bGUpO1xuICAgICAgICBsZXQgcmVzdWx0cyA9IG1vZHVsZS4kZC5vbl9ldmFsLiRkO1xuICAgICAgICBjb25zb2xlLmxvZyhtb2R1bGUuJGQpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50RmVlZGJhY2socmVzdWx0cyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0c1tcImluc3RydWN0b3JcIl1bXCJzdWNjZXNzXCJdID0gdHJ1ZTtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuU1VDQ0VTUyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3Qoc3VjY2VzcyB8fCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KCkpO1xuICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIDEgcG9pbnQsIGNhbm5vdCBnbyBiZWxvdyAwIHBvaW50c1xuICAgICAgICBsZXQgc2NvcmUgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuU0NPUkUpO1xuICAgICAgICBzY29yZSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMS4wLCBzY29yZSkpO1xuICAgICAgICBsZXQgb2xkU2NvcmUgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5zY29yZSgpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5zY29yZShNYXRoLm1heChvbGRTY29yZSwgc2NvcmUpKTtcbiAgICAgICAgLy8gSGlkZSBzdGF0dXNcbiAgICAgICAgbGV0IGhpZGUgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuSElERSk7XG4gICAgICAgIC8vIEFuZCBmaXJlIHRoZSByZXN1bHQhXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci51cGRhdGVTdWJtaXNzaW9uKHNjb3JlLCBzdWNjZXNzLCBoaWRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAvL2FmdGVyKG1vZHVsZSk7XG5cbiAgICAgICAgLyppZiAoc3VjY2VzcyAmJiB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jYWxsYmFja3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3ModGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaWQoKSk7XG4gICAgICAgIH0qL1xuXG4gICAgICAgIGlmICghU2suZXhlY3V0aW9uUmVwb3J0cy5pbnN0cnVjdG9yLnNjcm9sbGluZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiT25FdmFsIGZhaWx1cmVcIiwgZXJyb3IpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAoZXJyb3IudHAkbmFtZSA9PT0gXCJHcmFjZWZ1bEV4aXRcIikge1xuICAgICAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJjb2RlXCJdKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLnByZXNlbnRJbnRlcm5hbEVycm9yKGVycm9yLCB0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgICAgIC8vcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSBmYWxzZTtcbiAgICAgICAgICAgIC8vcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImVycm9yXCJdID0gZXJyb3I7XG4gICAgICAgICAgICAvL1RPRE86IHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJsaW5lX29mZnNldFwiXSA9IGxpbmVPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy9UT0RPOiBhZnRlcihlcnJvcik7XG4gICAgfVxufSIsImltcG9ydCB7aW5kZW50fSBmcm9tIFwiLi4vdXRpbGl0aWVzXCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge0luc3RydWN0b3JDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9pbnN0cnVjdG9yXCI7XG5pbXBvcnQge2V4dHJhY3RGcm9tUG9vbCwgUE9PTF9TRVBBUkFUT1JTfSBmcm9tIFwiLi4vcG9vbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRBY3R1YWxJbnN0cnVjdG9yT2Zmc2V0KGluc3RydWN0b3JDb2RlKSB7XG4gICAgY29uc3QgaW5kZXggPSBpbnN0cnVjdG9yQ29kZS5pbmRleE9mKElOU1RSVUNUT1JfTUFSS0VSKTtcbiAgICBjb25zdCBiZWZvcmUgPSBpbnN0cnVjdG9yQ29kZS5zbGljZSgwLCBpbmRleCk7XG4gICAgY29uc3QgbWF0Y2ggPSBiZWZvcmUubWF0Y2goTkVXX0xJTkVfUkVHRVgpO1xuICAgIHJldHVybiBtYXRjaCA/ICgxK21hdGNoLmxlbmd0aCkgOiAwO1xufVxuXG5leHBvcnQgY29uc3QgSU5TVFJVQ1RPUl9NQVJLRVIgPSBcIiMjI1J1biB0aGUgYWN0dWFsIGluc3RydWN0b3IgY29kZSMjI1wiO1xuZXhwb3J0IGNvbnN0IE5FV19MSU5FX1JFR0VYID0gL1xcbi9nO1xuLyoqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXUkFQX0lOU1RSVUNUT1JfQ09ERSA9IGZ1bmN0aW9uIChzdHVkZW50RmlsZXMsIGluc3RydWN0b3JDb2RlLCBxdWljaywgaXNTYWZlKSB7XG4gICAgbGV0IHNhZmVDb2RlID0gSlNPTi5zdHJpbmdpZnkoc3R1ZGVudEZpbGVzKTtcbiAgICBsZXQgc2tpcF90aWZhID0gcXVpY2sgPyBcIlRydWVcIjogXCJGYWxzZVwiO1xuXG4gICAgLy8gVE9ETzogQWRkIGluIFNrLnF1ZXVlZElucHV0IHRvIGJlIHBhc3NlZCBpblxuXG4gICAgcmV0dXJuIGBcbiMgU3VwcG9ydCBvdXIgc3lzbW9kdWxlcyBoYWNrIGJ5IGNsZWFyaW5nIG91dCBhbnkgbGluZ2VyaW5nIG9sZCBkYXRhXG5mcm9tIHBlZGFsLmNvcmUucmVwb3J0IGltcG9ydCBNQUlOX1JFUE9SVFxuTUFJTl9SRVBPUlQuY2xlYXIoKVxuXG5mcm9tIGJha2VyeSBpbXBvcnQgc3R1ZGVudF90ZXN0c1xuc3R1ZGVudF90ZXN0cy5yZXNldCgpXG5cbmZyb20gdXRpbGl0eSBpbXBvcnQgKlxuXG4jIExvYWQgaW4gc29tZSBjb21tb25seSB1c2VkIHRvb2xzXG5mcm9tIHBlZGFsLmNhaXQuY2FpdF9hcGkgaW1wb3J0IHBhcnNlX3Byb2dyYW1cbmZyb20gcGVkYWwuc2FuZGJveC5jb21tYW5kcyBpbXBvcnQgKlxuZnJvbSBwZWRhbC5jb3JlLmNvbW1hbmRzIGltcG9ydCAqXG5cbmZyb20gcGVkYWwuZW52aXJvbm1lbnRzLmJsb2NrcHkgaW1wb3J0IHNldHVwX2Vudmlyb25tZW50XG4jIERvIHdlIGV4ZWN1dGUgc3R1ZGVudCdzIGNvZGU/XG5za2lwX3J1biA9IGdldF9tb2RlbF9pbmZvKCdhc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVJbnN0cnVjdG9yUnVuJylcbmlucHV0cyA9IE5vbmUgaWYgc2tpcF9ydW4gZWxzZSBnZXRfbW9kZWxfaW5mbygnZXhlY3V0aW9uLmlucHV0JylcblxuIyBTZXQgdGhlIHNlZWQgdG8gdGhlIHN1Ym1pc3Npb24gSUQgYnkgZGVmYXVsdD9cbmZyb20gcGVkYWwucXVlc3Rpb25zIGltcG9ydCBzZXRfc2VlZFxuc2V0X3NlZWQoc3RyKGdldF9tb2RlbF9pbmZvKFwic3VibWlzc2lvbi5pZFwiKSkpXG5cbiMgSW5pdGlhbGl6ZSB0aGUgQmxvY2tQeSBlbnZpcm9ubWVudFxucGVkYWwgPSBzZXR1cF9lbnZpcm9ubWVudChza2lwX3RpZmE9JHtza2lwX3RpZmF9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwX3J1bj1za2lwX3J1bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzPWlucHV0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbl9maWxlPSdhbnN3ZXIucHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlcz0ke3NhZmVDb2RlfSlcbnN0dWRlbnQgPSBwZWRhbC5maWVsZHNbJ3N0dWRlbnQnXVxuXG4jIFRPRE86IFJlZmFjdG9yIHJlc29sdmVyIHRvIHJldHVybiBpbnN0cnVjdGlvbnNcbiMgTW9ua2V5LXBhdGNoIHF1ZXN0aW9uc1xuI2Zyb20gcGVkYWwgaW1wb3J0IHF1ZXN0aW9uc1xuI3F1ZXN0aW9ucy5zaG93X3F1ZXN0aW9uID0gc2V0X2luc3RydWN0aW9uc1xuXG4ke0lOU1RSVUNUT1JfTUFSS0VSfVxuJHtpbnN0cnVjdG9yQ29kZX1cblxuIyBSZXNvbHZlIGV2ZXJ5dGhpbmdcbmZyb20gcGVkYWwucmVzb2x2ZXJzLnNpbXBsZSBpbXBvcnQgcmVzb2x2ZVxuZmluYWwgPSByZXNvbHZlKClcblNVQ0NFU1MgPSBmaW5hbC5zdWNjZXNzXG5TQ09SRSA9IGZpbmFsLnNjb3JlXG5DQVRFR09SWSA9IGZpbmFsLmNhdGVnb3J5XG5MQUJFTCA9IGZpbmFsLnRpdGxlXG5NRVNTQUdFID0gZmluYWwubWVzc2FnZVxuREFUQSA9IGZpbmFsLmRhdGFcbkhJREUgPSBmaW5hbC5oaWRlX2NvcnJlY3RuZXNzXG5cbiMgSGFuZGxlIHF1ZXN0aW9uc1xuaWYgZmluYWwuaW5zdHJ1Y3Rpb25zOlxuICAgIHNldF9pbnN0cnVjdGlvbnMoZmluYWwuaW5zdHJ1Y3Rpb25zWy0xXS5tZXNzYWdlKVxuICAgIFxuIyBIYW5kbGUgcG9zaXRpdmUgZmVlZGJhY2tcblBPU0lUSVZFID0gW11cbmZvciBwb3NpdGl2ZSBpbiBmaW5hbC5wb3NpdGl2ZXM6XG4gICAgbWVzc2FnZSA9IHBvc2l0aXZlLm1lc3NhZ2VcbiAgICBpZiBub3QgcG9zaXRpdmU6XG4gICAgICAgIG1lc3NhZ2UgPSBwb3NpdGl2ZS5lbHNlX21lc3NhZ2VcbiAgICBQT1NJVElWRS5hcHBlbmQoe1xuICAgICAgICBcInRpdGxlXCI6IHBvc2l0aXZlLnRpdGxlLFxuICAgICAgICBcImxhYmVsXCI6IHBvc2l0aXZlLmxhYmVsLFxuICAgICAgICBcIm1lc3NhZ2VcIjogbWVzc2FnZVxuICAgIH0pXG4gICAgXG4jIEhhbmRsZSBzeXN0ZW0gbWVzc2FnZXNcbmZvciBzeXN0ZW0gaW4gZmluYWwuc3lzdGVtczpcbiAgICBpZiBzeXN0ZW0ubGFiZWwgPT0gJ2xvZyc6XG4gICAgICAgIGNvbnNvbGVfbG9nKHN5c3RlbS50aXRsZSwgc3lzdGVtLm1lc3NhZ2UpO1xuICAgIGlmIHN5c3RlbS5sYWJlbCA9PSAnZGVidWcnOlxuICAgICAgICBjb25zb2xlX2RlYnVnKHN5c3RlbS50aXRsZSwgc3lzdGVtLm1lc3NhZ2UpO1xuXG5gO1xufTtcblxuZXhwb3J0IGNsYXNzIE9uUnVuQ29uZmlndXJhdGlvbiBleHRlbmRzIEluc3RydWN0b3JDb25maWd1cmF0aW9uIHtcblxuICAgIGdldEN1cnJlbnRPblJ1bigpIHtcbiAgICAgICAgY29uc3QgcmF3ID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25SdW4oKTtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmluc3RydWN0aW9uc1Bvb2woKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3RGcm9tUG9vbChyYXcsIFBPT0xfU0VQQVJBVE9SUy5URVNUUywgdGhpcy5tYWluLm1vZGVsLnVpLm1lbnUuY3VycmVudFNlZWQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmF3O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IFwiX2luc3RydWN0b3Iub25fcnVuXCI7XG5cbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5nZXRDdXJyZW50T25SdW4oKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5jb2RlKTtcblxuICAgICAgICBsZXQgZGlzYWJsZVRpZmEgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGlmYSgpO1xuICAgICAgICAvLyBQdXQgdGhlIGlucHV0IGluZGV4IGJhY2sgdG8gdGhlIGZyb250LCBzbyB3ZSBjYW4gcmVwbGF5IGlucHV0c1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoMSk7XG5cbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgLy9sZXQgc3R1ZGVudENvZGVTYWZlID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICBsZXQgc3R1ZGVudEZpbGVzID0gdGhpcy5nZXRBbGxTdHVkZW50RmlsZXMoKTtcbiAgICAgICAgdGhpcy5kdW1teU91dFNhbmRib3goKTtcbiAgICAgICAgbGV0IGluc3RydWN0b3JDb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICBsZXQgaXNTYWZlID0gIXJlcG9ydFtcInBhcnNlclwiXS5lbXB0eSAmJiByZXBvcnRbXCJ2ZXJpZmllclwiXS5zdWNjZXNzO1xuICAgICAgICBpbnN0cnVjdG9yQ29kZSA9IFdSQVBfSU5TVFJVQ1RPUl9DT0RFKHN0dWRlbnRGaWxlcywgaW5zdHJ1Y3RvckNvZGUsIGRpc2FibGVUaWZhLCBpc1NhZmUpO1xuICAgICAgICBsZXQgbGluZU9mZnNldCA9IGZpbmRBY3R1YWxJbnN0cnVjdG9yT2Zmc2V0KGluc3RydWN0b3JDb2RlKTsgLy9pbnN0cnVjdG9yQ29kZS5zcGxpdChORVdfTElORV9SRUdFWCkubGVuZ3RoO1xuICAgICAgICAvL2xpbmVPZmZzZXQgPSAwOyAvL2luc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGggLSBsaW5lT2Zmc2V0IC0gNDtcbiAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXSA9IHtcbiAgICAgICAgICAgIFwiY29tcGxpbWVudHNcIjogW10sXG4gICAgICAgICAgICBcImZpbGVuYW1lXCI6IFwiLi9faW5zdHJ1Y3Rvci9vbl9ydW4ucHlcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBpbnN0cnVjdG9yQ29kZSxcbiAgICAgICAgICAgIFwibGluZU9mZnNldFwiOiBsaW5lT2Zmc2V0XG4gICAgICAgICAgICAvLydjb21wbGV0ZSc6IGZhbHNlIC8vIEFjdHVhbGx5LCBsZXQncyB1c2UgdW5kZWZpbmVkIGZvciBub3cuXG4gICAgICAgIH07XG4gICAgICAgIC8qXG4gICAgICAgIFRPRE86IEludGVyZXN0aW5nIHNpdHVhdGlvbi4gSWYgeW91IGhhdmUgYW4gaW5zdHJ1Y3Rvci1maWxlIChub3QgYSBzdHVkZW50LWZpbGUpLFxuICAgICAgICB0aGVuIGl0IGdldHMgaW1wb3J0ZWQgaW50byBzeXNtb2R1bGVzIGFzIGBfaW5zdHJ1Y3Rvci5NT0RVTEVfTkFNRWAuIEJ1dCB0aGUgaW5zdHJ1Y3RvclxuICAgICAgICBzY3JpcHQgd2lsbCBhdHRlbXB0IHRvIGltcG9ydCBpdCBhcyBgTU9EVUxFX05BTUVgLCBhbmQgZmFpbC4gVU5MRVNTIHRoZSAqc3R1ZGVudCogaGFzXG4gICAgICAgIHByZXZpb3VzbHkgaW1wb3J0ZWQgdGhhdCBtb2R1bGUgc3VjY2Vzc2Z1bGx5LiBTbyB0aGVyZSdzIGEgY29tbW9uIGNhc2UgaGVyZSB3aGVyZSB0aGVcbiAgICAgICAgc3R1ZGVudHMnIGNvZGUgZmFpbHMgdG8gaW1wb3J0IHRoZSBtb2R1bGUgVEhFUkVCWSBicmVha2luZyB0aGUgaW5zdHJ1Y3RvciBjb2RlLlxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLmNvZGUgPSBpbnN0cnVjdG9yQ29kZTtcblxuICAgICAgICBTay5yZXRhaW5HbG9iYWxzID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgLy8gVE9ETyBMb2dnaW5nISEhIVxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiT25SdW4gc3VjY2Vzc1wiKTtcbiAgICAgICAgLy8gVE9ETzogQWN0dWFsbHkgcGFyc2UgcmVzdWx0c1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3IuZ2xvYmFscyA9IFNrLmdsb2JhbHM7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5zeXNtb2R1bGVzID0gU2suc3lzbW9kdWxlcztcbiAgICAgICAgU2suZ2xvYmFscyA9IHt9O1xuICAgICAgICBsZXQgcmVzdWx0cyA9IG1vZHVsZS4kZC5vbl9ydW4uJGQ7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLnByZXNlbnRGZWVkYmFjayhyZXN1bHRzKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzW1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICBsZXQgc3VjY2VzcyA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5TVUNDRVNTKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdChzdWNjZXNzIHx8IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3QoKSk7XG4gICAgICAgIC8vIENhbm5vdCBleGNlZWQgMSBwb2ludCwgY2Fubm90IGdvIGJlbG93IDAgcG9pbnRzXG4gICAgICAgIGxldCBzY29yZSA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5TQ09SRSk7XG4gICAgICAgIHNjb3JlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgc2NvcmUpKTtcbiAgICAgICAgbGV0IG9sZFNjb3JlID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoKTtcbiAgICAgICAgc2NvcmUgPSBNYXRoLm1heChvbGRTY29yZSwgc2NvcmUpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5zY29yZShzY29yZSk7XG4gICAgICAgIC8vIEhpZGUgc3RhdHVzXG4gICAgICAgIGxldCBoaWRlID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLkhJREUpO1xuICAgICAgICAvLyBBbmQgZmlyZSB0aGUgcmVzdWx0IVxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvbihzY29yZSwgc3VjY2VzcywgaGlkZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgLy9hZnRlcihtb2R1bGUpO1xuXG4gICAgICAgIC8qaWYgKHN1Y2Nlc3MgJiYgdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmlkKCkpO1xuICAgICAgICB9Ki9cblxuICAgICAgICBpZiAoIVNrLmV4ZWN1dGlvblJlcG9ydHMuaW5zdHJ1Y3Rvci5zY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiT25SdW4gZmFpbHVyZVwiLCBlcnJvcik7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGlmIChlcnJvci50cCRuYW1lID09PSBcIkdyYWNlZnVsRXhpdFwiKSB7XG4gICAgICAgICAgICByZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuRkFJTEVEKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImNvZGVcIl0pO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiZXJyb3JcIl0gPSBlcnJvcjtcbiAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImxpbmVfb2Zmc2V0XCJdID0gbGluZU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvL1RPRE86IGFmdGVyKGVycm9yKTtcbiAgICB9XG59XG5cblxuLypcbiMgVGhlIGZvbGxvd2luZyBpcyB0aGUgb2xkIGluc3RydWN0b3IgY29kZSwgbGVhdmluZyBpdCBoZXJlIGZvciBub3cuXG5cbmZyb20gcGVkYWwuY29yZS5yZXBvcnQgaW1wb3J0IE1BSU5fUkVQT1JUXG4jIFN1cHBvcnQgb3VyIHN5c21vZHVsZXMgaGFjayBieSBjbGVhcmluZyBvdXQgYW55IGxpbmdlcmluZyBvbGQgZGF0YVxuTUFJTl9SRVBPUlQuY2xlYXIoKVxuZnJvbSBwZWRhbC5jb3JlLmNvbW1hbmRzIGltcG9ydCBjb250ZXh0dWFsaXplX3JlcG9ydFxuY29udGV4dHVhbGl6ZV9yZXBvcnQoJHtzYWZlQ29kZX0sIFwiYW5zd2VyLnB5XCIpXG4ke3RpZmFBbmFseXNpc31cbmZyb20gcGVkYWwuc2FuZGJveC5zYW5kYm94IGltcG9ydCBTYW5kYm94XG5mcm9tIHBlZGFsLnNhbmRib3ggaW1wb3J0IGNvbXBhdGliaWxpdHlcbmZyb20gdXRpbGl0eSBpbXBvcnQgKlxuc3R1ZGVudCA9IE1BSU5fUkVQT1JUWydzYW5kYm94J11bJ3J1biddID0gU2FuZGJveCgpXG5zdHVkZW50LnJlcG9ydF9leGNlcHRpb25zX21vZGUgPSBUcnVlXG5sb2coZ2V0X21vZGVsX2luZm8oJ2V4ZWN1dGlvbi5pbnB1dCcpKVxuc3R1ZGVudC5zZXRfaW5wdXQoZ2V0X21vZGVsX2luZm8oJ2V4ZWN1dGlvbi5pbnB1dCcpKVxuaWYgbm90IGdldF9tb2RlbF9pbmZvKCdhc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVJbnN0cnVjdG9yUnVuJyk6XG4gICAgY29tcGF0aWJpbGl0eS5ydW5fc3R1ZGVudChyYWlzZV9leGNlcHRpb25zPUZhbHNlKVxuI2xvZyhzdHVkZW50LmRhdGEpXG4jc3R1ZGVudCA9IGdldF9zdHVkZW50X2RhdGEoKVxuI2Vycm9yLCBwb3NpdGlvbiA9IGdldF9zdHVkZW50X2Vycm9yKClcbiNjb21wYXRpYmlsaXR5LnJhaXNlX2V4Y2VwdGlvbihlcnJvciwgcG9zaXRpb24pXG5ydW5fc3R1ZGVudCA9IGNvbXBhdGliaWxpdHkucnVuX3N0dWRlbnRcbnJlc2V0X291dHB1dCA9IGNvbXBhdGliaWxpdHkucmVzZXRfb3V0cHV0XG5xdWV1ZV9pbnB1dCA9IGNvbXBhdGliaWxpdHkucXVldWVfaW5wdXRcbmdldF9vdXRwdXQgPSBjb21wYXRpYmlsaXR5LmdldF9vdXRwdXRcbmdldF9wbG90cyA9IGNvbXBhdGliaWxpdHkuZ2V0X3Bsb3RzXG5jb21wYXRpYmlsaXR5LnRyYWNlX2xpbmVzID0gdHJhY2VfbGluZXNcbmZyb20gcGVkYWwgaW1wb3J0IHF1ZXN0aW9uc1xucXVlc3Rpb25zLnNob3dfcXVlc3Rpb24gPSBzZXRfaW5zdHJ1Y3Rpb25zXG4jIFRPRE86IFJlbW92ZSB0aGUgbmVlZCBmb3IgdGhpcyBoYWNrIVxuZGVmIGNhcHR1cmVfb3V0cHV0KGZ1bmMsICphcmdzKTpcbiAgIHJlc2V0X291dHB1dCgpXG4gICBzdHVkZW50LmNhbGwoZnVuYy5fX25hbWVfXywgKmFyZ3MpXG4gICByZXR1cm4gZ2V0X291dHB1dCgpXG5jb21wYXRpYmlsaXR5LmNhcHR1cmVfb3V0cHV0ID0gY2FwdHVyZV9vdXRwdXRcblxuZnJvbSBwZWRhbC5jYWl0LmNhaXRfYXBpIGltcG9ydCBwYXJzZV9wcm9ncmFtXG4ke2luc3RydWN0b3JDb2RlfVxuZnJvbSBwZWRhbC5yZXNvbHZlcnMgaW1wb3J0IHNpbXBsZVxuZmluYWwgPSBzaW1wbGUucmVzb2x2ZSgpXG5TVUNDRVNTID0gZmluYWwuc3VjY2Vzc1xuU0NPUkUgPSBmaW5hbC5zY29yZVxuQ0FURUdPUlkgPSBmaW5hbC5jYXRlZ29yeVxuTEFCRUwgPSBmaW5hbC50aXRsZVxuTUVTU0FHRSA9IGZpbmFsLm1lc3NhZ2VcbkRBVEEgPSBmaW5hbC5kYXRhXG5ISURFID0gZmluYWwuaGlkZV9jb3JyZWN0bmVzc1xuXG4gKi8iLCJpbXBvcnQge09uUnVuQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vb25fcnVuXCI7XG5cbmV4cG9ydCBjbGFzcyBPblNhbXBsZUNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBPblJ1bkNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIm9uX3J1bi5weVwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge1N0dWRlbnRDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9zdHVkZW50XCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBSdW5Db25maWd1cmF0aW9uIGV4dGVuZHMgU3R1ZGVudENvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5tZXNzYWdlKFwiUnVubmluZy4uLlwiKTtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IFwiYW5zd2VyXCI7XG4gICAgICAgIHRoaXMuY29kZSA9IHRoaXMubWFpbi5tb2RlbC51aS5maWxlcy5nZXRTdHVkZW50Q29kZSgpO1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZVN0dWRlbnRSdW4oKSkge1xuICAgICAgICAgICAgdGhpcy5jb2RlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICAvL3RoaXMuY29kZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVGaWxlKFwiYW5zd2VyLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKSwgbnVsbCk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkNvbXBpbGVcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5jb2RlKTtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG5cbiAgICAgICAgZW5naW5lLnJlc2V0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlUGFyc2UoKTtcblxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHNbXCJ2ZXJpZmllclwiXSA9IHtcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBCb29sZWFuKHRoaXMuY29kZS50cmltKCkpLFxuICAgICAgICAgICAgXCJjb2RlXCI6IHRoaXMuY29kZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgU2suZW52aXJvbiA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBTay5lbnZpcm9uID0gbmV3IFNrLmJ1aWx0aW4uZGljdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByaW50ZXJUYWcgPSB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnByaW50ZXJUYWcsXG4gICAgICAgICAgICB3aWR0aCA9IHByaW50ZXJUYWcud2lkdGgoKS01MCxcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KDMwMCwgcHJpbnRlclRhZy5oZWlnaHQoKS01MCk7XG4gICAgICAgIFNrLmVudmlyb24uc2V0JGl0ZW0obmV3IFNrLmJ1aWx0aW4uc3RyKFwiREVTSUdORVJfV0lORE9XX1dJRFRIXCIpLCBuZXcgU2suYnVpbHRpbi5pbnRfKE1hdGgucm91bmQod2lkdGgpKSk7XG4gICAgICAgIFNrLmVudmlyb24uc2V0JGl0ZW0obmV3IFNrLmJ1aWx0aW4uc3RyKFwiREVTSUdORVJfV0lORE9XX0hFSUdIVFwiKSwgbmV3IFNrLmJ1aWx0aW4uaW50XyhNYXRoLnJvdW5kKGhlaWdodCkpKTtcblxuICAgICAgICBTay5yZXRhaW5HbG9iYWxzID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5jbGVhcklucHV0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSdW4gc3VjY2Vzc1wiKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBcImlucHV0c1wiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkuam9pbihcIlxcblwiKSxcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dCgpLm1hcChsaW5lID0+IGxpbmUuY29udGVudCkuam9pbihcIlxcblwiKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiUnVuLlByb2dyYW1cIiwgXCJcIiwgXCJcIiwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24oZmFsc2UpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmZpbmlzaFR1cnRsZXMoKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5nbG9iYWxzKFNrLmdsb2JhbHMpO1xuICAgICAgICBTay5nbG9iYWxzID0ge307XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5yZXN1bHRzID0gbW9kdWxlO1xuICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVFdmFsdWF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmJlZ2luRXZhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0ZXAobW9kdWxlLiRkLCBtb2R1bGUuJGQsLTEsIDAsIGZpbGVuYW1lICsgXCIucHlcIik7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdGVwKCk7XG4gICAgICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge1xuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwidHJhY2VcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLFxuICAgICAgICAgICAgICAgIFwibGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZWFsTGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLmZpbHRlcih4ID0+ICF4LmlzRG9jc3RyaW5nKS5tYXAoeCA9PiB4LmxpbmUpLFxuICAgICAgICAgICAgICAgIFwicmVzdWx0c1wiOiBtb2R1bGUsXG4gICAgICAgICAgICAgICAgXCJvdXRwdXRcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5vdXRwdXQsXG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0LFxuICAgICAgICAgICAgICAgIFwiY2FsbHNcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmNhbGxzLFxuICAgICAgICAgICAgICAgIFwidHJhY2luZ1wiOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUnVuIGZhaWx1cmVcIiwgZXJyb3IpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGlmIChyZXBvcnQucGFyc2VyLnN1Y2Nlc3MgJiYgcmVwb3J0LnZlcmlmaWVyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlJ1bi5Qcm9ncmFtXCIsIFwiUHJvZ3JhbUVycm9yT3V0cHV0XCIsIFwiXCIsIGVycm9yLnRvU3RyaW5nKCksIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZS5FcnJvclwiLCBcIlwiLCBcIlwiLCBlcnJvci50b1N0cmluZygpLCBcImFuc3dlci5weVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RTdGVwKCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge1xuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IGVycm9yLFxuICAgICAgICAgICAgICAgIFwidHJhY2VcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLFxuICAgICAgICAgICAgICAgIFwibGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZWFsTGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLmZpbHRlcih4ID0+ICF4LmlzRG9jc3RyaW5nKS5tYXAoeCA9PiB4LmxpbmUpLFxuICAgICAgICAgICAgICAgIFwiaW5wdXRcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCxcbiAgICAgICAgICAgICAgICBcImNhbGxzXCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jYWxscyxcbiAgICAgICAgICAgICAgICBcInRyYWNpbmdcIjogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQge1N0dWRlbnRDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9zdHVkZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBTYW1wbGVDb25maWd1cmF0aW9uIGV4dGVuZHMgU3R1ZGVudENvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIC8vIFRPRE86IEZpeCB0byBiZSB0aGUgY3VycmVudCBzYW1wbGUgc3VibWlzc2lvblxuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJhbnN3ZXIucHlcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gXCJwcmludCgnTm90IHJlYWR5IHlldCEnKVwiO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb24sIEVNUFRZX01PRFVMRX0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIFN0dWRlbnRDb25maWd1cmF0aW9uIGV4dGVuZHMgQ29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgLy8gTGltaXQgZXhlY3V0aW9uIHRvIDQgc2Vjb25kc1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLm1haW4ubW9kZWwuc2V0dGluZ3M7XG4gICAgICAgIFNrLmV4ZWNMaW1pdEZ1bmN0aW9uID0gKCkgPT5cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IDUwMDA7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKCk7XG4gICAgICAgIC8vIFN0ZXBwZXIhIEV4ZWN1dGVkIGFmdGVyIGV2ZXJ5IHN0YXRlbWVudC5cbiAgICAgICAgU2suYWZ0ZXJTaW5nbGVFeGVjdXRpb24gPSB0aGlzLnN0ZXAuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyBVbm11dGUgZXZlcnl0aGluZ1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcihmYWxzZSk7XG5cbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gY2FsbCBhZnRlciBlYWNoIHN0ZXBcbiAgICAgICAgLy8gYWZ0ZXJTaW5nbGVFeGVjdXRpb25cblxuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL3V0aWxpdHkvX19pbml0X18uanNcIl0gPSBFTVBUWV9NT0RVTEU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb3BlbkZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5zZWFyY2hGb3JGaWxlKGZpbGVuYW1lLCB0cnVlKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhmaWxlbmFtZSwgZm91bmQpO1xuICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKFNrLmJ1aWx0aW5GaWxlcyAmJiBTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogXCIgKyBmaWxlbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm91bmQuY29udGVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcG9ydEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGb3JiaWRkZW4oZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkZpbGUgbm90IGFjY2Vzc2libGU6ICdcIiArIGZpbGVuYW1lICsgXCInXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZW5hbWUgPT09IFwiLi9hbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChTay5idWlsdGluRmlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkJ1aWx0LWluIG1vZHVsZXMgbm90IGFjY2Vzc2libGUuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bZmlsZW5hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5zZWFyY2hGb3JGaWxlKGZpbGVuYW1lLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkZpbGUgbm90IGZvdW5kOiAnXCIrZmlsZW5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZC5jb250ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5wdXQocHJvbXB0TWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5pbnB1dChwcm9tcHRNZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpc0ZvcmJpZGRlbihmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gZmlsZW5hbWUuc3RhcnRzV2l0aChcInNyYy9saWIvdXRpbGl0eS9cIikgfHxcbiAgICAgICAgICAgIGZpbGVuYW1lLnN0YXJ0c1dpdGgoXCJzcmMvbGliL3BlZGFsL1wiKSB8fFxuICAgICAgICAgICAgZmlsZW5hbWUuc3RhcnRzV2l0aChcIi4vX2luc3RydWN0b3IvXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFwiU3RlcHNcIiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBjb2RlLCBtZWFudCB0byBiZSB1c2VkIGFzIGEgY2FsbGJhY2sgdG8gdGhlIFNrdWxwdFxuICAgICAqIGVudmlyb25tZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGdsb2JhbHMgLSBIYXNoIHRoYXQgbWFwcyB0aGUgbmFtZXMgb2YgZ2xvYmFsIHZhcmlhYmxlcyAoU3RyaW5ncykgdG8gdGhlaXIgU2t1bHB0IHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhbHMgLSBIYXNoIHRoYXQgbWFwcyB0aGUgbmFtZXMgb2YgbG9jYWwgdmFyaWFibGVzIChTdHJpbmdzKSB0byB0aGVpciBTa3VscHQgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVOdW1iZXIgLSBUaGUgY29ycmVzcG9uZGluZyBsaW5lIG51bWJlciBpbiB0aGUgc291cmNlIGNvZGUgdGhhdCBpcyBiZWluZyBleGVjdXRlZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29sdW1uTnVtYmVyIC0gVGhlIGNvcnJlc3BvbmRpbmcgY29sdW1uIG51bWJlciBpbiB0aGUgc291cmNlIGNvZGUgdGhhdCBpcyBiZWluZyBleGVjdXRlZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpbmsgb2YgaXQgYXMgdGhlIFwiWFwiIHBvc2l0aW9uIHRvIHRoZSBsaW5lTnVtYmVyJ3MgXCJZXCIgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHB5dGhvbiBmaWxlIGJlaW5nIGV4ZWN1dGVkIChlLmcuLCBcIl9fbWFpbl9fLnB5XCIpLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNEb2NzdHJpbmcgLSBXaGV0aGVyIG9yIG5vdCB0aGlzIGlzIGFuIGFjdHVhbCBsaW5lIG9yIGEgZG9jc3RyaW5nLlxuICAgICAqL1xuICAgIHN0ZXAoZ2xvYmFscywgbG9jYWxzLCBsaW5lTnVtYmVyLCBjb2x1bW5OdW1iZXIsIGZpbGVuYW1lLCBpc0RvY3N0cmluZywgYXN0TmFtZSkge1xuICAgICAgICBpZiAoZmlsZW5hbWUgPT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIC8qaWYgKGV4ZWNTdGFjaykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4ZWNTdGFjay5tYXAoKFtuLCBvXSkgPT4gW24sIHsuLi5vfV0pKTtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTdGVwID0gdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXA7XG4gICAgICAgICAgICBnbG9iYWxzID0gdGhpcy5tYWluLmNvbXBvbmVudHMudHJhY2UucGFyc2VHbG9iYWxzKHsuLi5nbG9iYWxzLCAuLi5sb2NhbHN9KTtcbiAgICAgICAgICAgIC8vIFRPRE86IFRyYWNlIGxvY2FsIHZhcmlhYmxlcyBwcm9wZXJseVxuICAgICAgICAgICAgLy9sZXQgbG9jYWxzID0gdGhpcy5tYWluLmNvbXBvbmVudHMudHJhY2UucGFyc2VHbG9iYWxzKGxvY2Fscyk7XG4gICAgICAgICAgICAvL09iamVjdC5hc3NpZ24oZ2xvYmFscywgbG9jYWxzKTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBcInN0ZXBcIjogY3VycmVudFN0ZXAsXG4gICAgICAgICAgICAgICAgXCJmaWxlbmFtZVwiOiBmaWxlbmFtZSxcbiAgICAgICAgICAgICAgICAvLydibG9jayc6IGhpZ2hsaWdodE1hcFtsaW5lTnVtYmVyLTFdLFxuICAgICAgICAgICAgICAgIFwibGluZVwiOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIFwiY29sdW1uXCI6IGNvbHVtbk51bWJlcixcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjogZ2xvYmFscy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIFwibW9kdWxlc1wiOiBnbG9iYWxzLm1vZHVsZXMsXG4gICAgICAgICAgICAgICAgXCJpc0RvY3N0cmluZ1wiOiBpc0RvY3N0cmluZyxcbiAgICAgICAgICAgICAgICBcImFzdFwiOiBhc3ROYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwID0gY3VycmVudFN0ZXAgKyAxO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUgPSBsaW5lTnVtYmVyO1xuICAgICAgICB9XG4gICAgfTtcblxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXQgdGhlIGVuZCBvZiB0aGUgU2t1bHB0IGV4ZWN1dGlvbiB0byB0ZXJtaW5hdGUgdGhlIGV4ZWN1dGlvbkJ1ZmZlclxuICAgICAqIGFuZCBoYW5kIGl0IG9mZiB0byB0aGUgZXhlY3V0aW9uIHRyYWNlIGluIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBsYXN0U3RlcCgpIHtcbiAgICAgICAgbGV0IGV4ZWN1dGlvbiA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb247XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlKTtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFN0ZXAodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXApO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcCk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRMaW5lKHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5saW5lKTtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQubGFzdExpbmUodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwKTtcbiAgICB9O1xuXG4gICAgZ2V0TGluZXMoYXN0KSB7XG4gICAgICAgIGxldCB2aXNpdGVkTGluZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCB2aXNpdEJvZHkgPSAobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUubGluZW5vICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2aXNpdGVkTGluZXMuYWRkKG5vZGUubGluZW5vKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLmJvZHkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmJvZHkuZm9yRWFjaCgoc3RhdGVtZW50KSA9PiB2aXNpdEJvZHkoc3RhdGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5vcmVsc2UpIHtcbiAgICAgICAgICAgICAgICBub2RlLm9yZWxzZS5mb3JFYWNoKChzdGF0ZW1lbnQpID0+IHZpc2l0Qm9keShzdGF0ZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLmZpbmFsYm9keSkge1xuICAgICAgICAgICAgICAgIG5vZGUuZmluYWxib2R5LmZvckVhY2goKHN0YXRlbWVudCkgPT4gdmlzaXRCb2R5KHN0YXRlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2aXNpdEJvZHkoYXN0KTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odmlzaXRlZExpbmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmUgdGhhdCB0aGUgcGFyc2UgaW5mb3JtYXRpb24gaXMgdXAtdG8tZGF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVBhcnNlKCkge1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICAvLyBIb2xkIGFsbCB0aGUgYWN0dWFsbHkgZGlzY292ZXJlZCBsaW5lcyBmcm9tIHRoZSBwYXJzZVxuICAgICAgICBsZXQgbGluZXMgPSBbXTtcbiAgICAgICAgLy8gQXR0ZW1wdCBhIHBhcnNlXG4gICAgICAgIGxldCBhc3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcGFyc2UgPSBTay5wYXJzZSh0aGlzLmZpbGVuYW1lLCB0aGlzLmNvZGUpO1xuICAgICAgICAgICAgYXN0ID0gU2suYXN0RnJvbVBhcnNlKHBhcnNlLmNzdCwgdGhpcy5maWxlbmFtZSwgcGFyc2UuZmxhZ3MpO1xuICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKGFzdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBSZXBvcnQgdGhlIGVycm9yXG4gICAgICAgICAgICByZXBvcnRbXCJwYXJzZXJcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgICAgICAgICAgXCJlbXB0eVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwibGluZXNcIjogbGluZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZW5hbWUsIHRoaXMuY29kZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VjY2Vzc2Z1bCBwYXJzZVxuICAgICAgICByZXBvcnRbXCJwYXJzZXJcIl0gPSB7XG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYXN0XCI6IGFzdCxcbiAgICAgICAgICAgIFwiZW1wdHlcIjogYXN0LmJvZHkubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgXCJsaW5lc1wiOiBsaW5lc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzaG93RXJyb3JzKCkge1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAocmVwb3J0W1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5jbGVhcihcIkV4ZWN1dGlvbiBmaW5pc2hlZC4gTm8gZXJyb3JzIHRvIHJlcG9ydC5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50UnVuRXJyb3IocmVwb3J0LnN0dWRlbnQuZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdmlkZVNlY3JldEVycm9yKCkge1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBsZXQgZmVlZGJhY2sgPSB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjaztcbiAgICAgICAgaWYgKCFyZXBvcnRbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBlcnJvckJ1dHRvbiA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktc3R1ZGVudC1lcnJvclwiKTtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gZmVlZGJhY2sucHJlc2VudFJ1bkVycm9yKHJlcG9ydC5zdHVkZW50LmVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLmF0dHIoXCJ0aXRsZVwiLCBcIkNsaWNrIHRvIHNlZSBPcmlnaW5hbCBFcnJvclwiKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLnRvb2x0aXAoe1widHJpZ2dlclwiOiBcImhvdmVyXCIsIFwiY29udGFpbmVyXCI6IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmF0dGFjaG1lbnRQb2ludH0pO1xuICAgICAgICAgICAgZXJyb3JCdXR0b24uY2xpY2soKCkgPT4gdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUihtZXNzYWdlKSk7XG4gICAgICAgICAgICBlcnJvckJ1dHRvbi5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHthcnJheU1vdmUsIGNhcGl0YWxpemUsIHB5U3RyfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IGxldCBGRUVEQkFDS19IVE1MID0gYFxuXG48c3BhbiBjbGFzcz0nYmxvY2tweS1mbG9hdGluZy1mZWVkYmFjayB0ZXh0LW11dGVkLWxlc3MgcHVsbC1yaWdodCBwb3NpdGlvbi1zdGlja3kgc3RpY2t5LXRvcCdcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIiByb2xlPVwicHJlc2VudGF0aW9uXCIgYXJpYS1sYWJlbD1cIk5ldyBGZWVkYmFjayBBbGVydFwiPlxuICAgIE5ldyBmZWVkYmFjayAmdWFycjtcbjwvc3Bhbj5cblxuPGRpdiBjbGFzcz0nYmxvY2tweS1mZWVkYmFjayBibG9ja3B5LXBhbmVsJ1xuICAgICAgICAgICAgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJGZWVkYmFja1wiXG4gICAgICAgICAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLmNvbnNvbGUuc2l6ZVwiPlxuXG4gICAgPGRpdj5cbiAgICA8IS0tIEZlZWRiYWNrL1RyYWNlIFZpc2liaWxpdHkgQ29udHJvbCAtLT5cbiAgICA8IS0tIGtvIGlmbm90OiB1aS5zZWNvbmRSb3cuaGlkZVRyYWNlQnV0dG9uIC0tPlxuICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgY2xhc3M9J2J0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGZsb2F0LXJpZ2h0J1xuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1leWUnPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdWkuc2Vjb25kUm93LnN3aXRjaExhYmVsXCI+PC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICAgIDwhLS0gL2tvIC0tPlxuXG4gICAgPCEtLSBBY3R1YWwgRmVlZGJhY2sgUmVnaW9uIC0tPiAgICBcbiAgICA8ZGl2PlxuICAgICAgICA8c3Ryb25nIGNsYXNzPVwiZmVlZGJhY2staGVhZGVyXCI+RmVlZGJhY2s6IDwvc3Ryb25nPlxuICAgICAgICA8c3BhbiBjbGFzcz0nYmFkZ2UgYmxvY2tweS1mZWVkYmFjay1jYXRlZ29yeSBmZWVkYmFjay1iYWRnZSdcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczogdWkuZmVlZGJhY2suYmFkZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHVpLmZlZWRiYWNrLmNhdGVnb3J5XCI+RmVlZGJhY2sgS2luZDwvc3Bhbj5cbiAgICAgICAgPHNtYWxsIGRhdGEtYmluZD1cInRleHQ6ICgxMDAqc3VibWlzc2lvbi5zY29yZSgpKSsnJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGRpc3BsYXkuaW5zdHJ1Y3RvcigpICYmIGV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbCgpXCJcbiAgICAgICAgICAgIGNsYXNzPVwidGV4dC1tdXRlZFwiPjwvc21hbGw+XG4gICAgICAgIDxzbWFsbCBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmVlZGJhY2sucmVzZXRTY29yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZGlzcGxheS5pbnN0cnVjdG9yKCkgJiYgZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKCkgJiYgc3VibWlzc2lvbi5zY29yZSgpID4gMFwiXG4gICAgICAgICAgICBjbGFzcz1cInRleHQtbXV0ZWRcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPjx1PihyZXNldCk8L3U+PC9zbWFsbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2PlxuICAgICAgICA8c3Ryb25nIGNsYXNzPVwiYmxvY2tweS1mZWVkYmFjay1sYWJlbFwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ0ZXh0OiBleGVjdXRpb24uZmVlZGJhY2subGFiZWxcIj48L3N0cm9uZz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJsb2NrcHktZmVlZGJhY2stbWVzc2FnZVwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJodG1sOiBleGVjdXRpb24uZmVlZGJhY2subWVzc2FnZVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7XCI+XG4gICAgICAgIDwhLS0gVGhlIHRoYW5rIHlvdSBtZXNzYWdlIHdpbGwgYXBwZWFyIGFib3ZlIHRoZSBzcGFuIC0tPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrcHktZmVlZGJhY2stdGhhbmsteW91XCI+VGhhbmsgeW91ITwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8c21hbGwgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLXJlc3BvbnNlLWZ1bGxcIiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0XCJcbiAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZmVlZGJhY2sucHJvdmlkZVJhdGluZ3MoKSAmJiBleGVjdXRpb24uZmVlZGJhY2subGFiZWwoKSAmJiBkaXNwbGF5LnNob3dSYXRpbmcoKVwiPlxuICAgICAgICA8c3BhbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIiBjbGFzcz1cImZhciBmYS1taW51cy1zcXVhcmVcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZlZWRiYWNrLmZsaXBSYXRpbmdcIj48L3NwYW4+XG4gICAgICAgIFJhdGUgdGhpcyBGZWVkYmFjazpcbiAgICAgICAgPHNwYW4gc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMjBweFwiIGNsYXNzPVwiYmxvY2tweS1yYXRpbmcgZmEtdGh1bWJzLXVwXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiAoKT0+dWkuZmVlZGJhY2sucmF0ZSgndGh1bWJzLXVwJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHVpLmZlZWRiYWNrLmhhc1JhdGVkQ2xhc3NcIj48L3NwYW4+XG48IS0tICAgICAgICA8c3BhbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAyMHB4XCIgY2xhc3M9XCJibG9ja3B5LXJhdGluZyBmYS1tZWhcIi0tPlxuPCEtLSAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiAoKT0+dWkuZmVlZGJhY2sucmF0ZSgnbWVoJyksLS0+XG48IS0tICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiB1aS5mZWVkYmFjay5oYXNSYXRlZENsYXNzXCI+PC9zcGFuPi0tPlxuICAgICAgICA8c3BhbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAyMHB4XCIgY2xhc3M9XCJibG9ja3B5LXJhdGluZyBmYS10aHVtYnMtZG93blwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogKCk9PnVpLmZlZWRiYWNrLnJhdGUoJ3RodW1icy1kb3duJywgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHVpLmZlZWRiYWNrLmhhc1JhdGVkQ2xhc3NcIj48L3NwYW4+XG4gICAgPC9zbWFsbD5cbiAgICA8IS0tIFBvc2l0aXZlIEZlZWRiYWNrIFJlZ2lvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1mZWVkYmFjay1wb3NpdGl2ZVwiIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHRcIj5cbiAgICA8L2Rpdj5cbiAgICA8c21hbGwgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLXJlc3BvbnNlLWNvbGxhcHNlZFwiIFxuICAgICAgICBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDA7IGJvdHRvbTogMFwiXG4gICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IGV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbCgpICYmICFkaXNwbGF5LnNob3dSYXRpbmcoKVwiPlxuICAgICAgICA8c3BhbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiIGNsYXNzPVwiZmFyIGZhLXBsdXMtc3F1YXJlXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5mZWVkYmFjay5mbGlwUmF0aW5nXCI+PC9zcGFuPiBSYXRlXG4gICAgPC9zbWFsbD5cbjwvZGl2PiAgICAgICAgICAgIFxuYDtcblxuZXhwb3J0IGNsYXNzIEJsb2NrUHlGZWVkYmFjayB7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBtYW5hZ2VzIHRoZSBmZWVkYmFjayBhcmVhLCB3aGVyZSB1c2VycyBhcmUgdG9sZCB0aGUgc3RhdGUgb2YgdGhlaXJcbiAgICAgKiBwcm9ncmFtJ3MgZXhlY3V0aW9uIGFuZCBnaXZlbiBndWlkYW5jZS4gQWxzbyBtYW5hZ2VzIHRoZSBjcmVhdGlvbiBvZiB0aGUgVHJhY2UgVGFibGUuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAdGhpcyB7QmxvY2tQeUZlZWRiYWNrfVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcblxuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stY2F0ZWdvcnlcIik7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tIZWFkZXIgPSB0aGlzLnRhZy5maW5kKFwiLmZlZWRiYWNrLWhlYWRlclwiKTtcbiAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFjay1sYWJlbFwiKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrLW1lc3NhZ2VcIik7XG4gICAgICAgIHRoaXMucG9zaXRpdmUgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stcG9zaXRpdmVcIik7XG5cbiAgICAgICAgLy8gVE9ETzogSWYgdGhleSBjaGFuZ2UgdGhlIHN0dWRlbnQgZXh0cmEgZmlsZXMsIGFsc28gdXBkYXRlIHRoZSBkaXJ0eSBmbGFnXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUuc3Vic2NyaWJlKCgpID0+IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbih0cnVlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBzY3JlZW4gKHRha2VzIDEgc2Vjb25kKSB0byBtYWtlIHRoZSBGZWVkYmFjayBhcmVhIHZpc2libGUuXG4gICAgICovXG4gICAgc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xuICAgICAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLnRhZy5vZmZzZXQoKS50b3BcbiAgICAgICAgfSwgNzAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZmVlZGJhY2sgYXJlYSBpcyBjdXJyZW50bHkgdmlzaWJsZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzRmVlZGJhY2tWaXNpYmxlKCkge1xuICAgICAgICBsZXQgdmlzaWJpbGl0eUJ1ZmZlciA9IDEwMDtcbiAgICAgICAgbGV0IHRvcE9mRWxlbWVudCA9IHRoaXMudGFnLm9mZnNldCgpLnRvcDtcbiAgICAgICAgLy9sZXQgYm90dG9tT2ZFbGVtZW50ID0gdGhpcy50YWcub2Zmc2V0KCkudG9wICsgdGhpcy50YWcub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgbGV0IGJvdHRvbU9mRWxlbWVudCA9IHRvcE9mRWxlbWVudCArIHZpc2liaWxpdHlCdWZmZXI7XG4gICAgICAgIGxldCBib3R0b21PZlNjcmVlbiA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKTtcbiAgICAgICAgbGV0IHRvcE9mU2NyZWVuID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICAvL2JvdHRvbV9vZl9lbGVtZW50IC09IDQwOyAvLyBVc2VyIGZyaWVuZGx5IHBhZGRpbmdcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0b3BPZkVsZW1lbnQgPCBib3R0b21PZlNjcmVlbikgJiZcbiAgICAgICAgICAgICh0b3BPZlNjcmVlbiA8IGJvdHRvbU9mRWxlbWVudCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYW55IG91dHB1dCBjdXJyZW50bHkgaW4gdGhlIGZlZWRiYWNrIGFyZWEuIEFsc28gcmVzZXRzIHRoZSBwcmludGVyIGFuZFxuICAgICAqIGFueSBoaWdobGlnaHRlZCBsaW5lcyBpbiB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIGNsZWFyKG1lc3NhZ2U9XCJSZWFkeVwiKSB7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5tZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwuY2F0ZWdvcnkobnVsbCk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5sYWJlbChudWxsKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmhpZGRlbihmYWxzZSk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNVbmNvdmVyZWQucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuY2xlYXJQb3NpdGl2ZUZlZWRiYWNrKCk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tIZWFkZXIub2ZmKFwiY2xpY2tcIik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmhhc1JhdGVkKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgc3RhdGljIGZpbmRGaXJzdEVycm9yTGluZShmZWVkYmFja0RhdGEpIHtcbiAgICAgICAgaWYgKGZlZWRiYWNrRGF0YS5xdWljayRsb29rdXApIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGZlZWRiYWNrRGF0YS5xdWljayRsb29rdXAobmV3IFNrLmJ1aWx0aW4uc3RyKFwibG9jYXRpb25cIikpO1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBsb2NhdGlvbi50cCRnZXRhdHRyKG5ldyBTay5idWlsdGluLnN0cihcImxpbmVcIikpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb0pzKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLypmb3IgKGxldCBpID0gZmVlZGJhY2tEYXRhLmxlbmd0aC0xOyBpID49IDA7IGktPSAxKSB7XG4gICAgICAgICAgICBpZiAoXCJwb3NpdGlvblwiIGluIGZlZWRiYWNrRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmZWVkYmFja0RhdGFbaV0ucG9zaXRpb24ubGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDsqL1xuICAgIH07XG5cbiAgICB1cGRhdGVSZWd1bGFyRmVlZGJhY2soKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtb2RlbCB3aXRoIHRoZXNlIG5ldyBleGVjdXRpb24gcmVzdWx0c1xuICAgICAqIEBwYXJhbSBleGVjdXRpb25SZXN1bHRzXG4gICAgICovXG4gICAgdXBkYXRlRmVlZGJhY2soZXhlY3V0aW9uUmVzdWx0cykge1xuICAgICAgICAvLyBQYXJzZSBvdXQgZGF0YVxuICAgICAgICBsZXQgbWVzc2FnZSA9IFNrLmZmaS5yZW1hcFRvSnMoZXhlY3V0aW9uUmVzdWx0cy5NRVNTQUdFKTtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkNBVEVHT1JZKTtcbiAgICAgICAgbGV0IGxhYmVsID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkxBQkVMKTtcbiAgICAgICAgbGV0IGhpZGUgPSBTay5mZmkucmVtYXBUb0pzKGV4ZWN1dGlvblJlc3VsdHMuSElERSk7XG4gICAgICAgIGxldCBkYXRhID0gZXhlY3V0aW9uUmVzdWx0cy5EQVRBO1xuICAgICAgICBsZXQgcG9zaXRpdmVzID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLlBPU0lUSVZFKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBiYXNlZCBvbiBhc3NpZ25tZW50cycgc2V0dGluZ3NcbiAgICAgICAgLy8gTk9URTogV2UgdXNlZCB0byBoaWRlIHRoZSBjb21wbGV0aW9uIGlmIHRoZSBhc3NpZ25tZW50IHdhcyBoaWRkZW4sIGJ1dCB0aGlzIGlzIG5vIGxvbmdlciB0aGUgY2FzZS5cbiAgICAgICAgLy8gTm93IHRoZSBoaWRkZW4gc3RhdHVzIGNvbnRyb2xzIHdoZXRoZXIgdGhlIHN0dWRlbnQgY2FuIHNlZSBkZXRhaWxlZCBmZWVkYmFjayBhbmQgc3R1ZmYgd2hlbiB0aGV5IGxvb2sgYXQgaXRcbiAgICAgICAgLy8gaW4gdGhlIGdyYWRlIHZpZXcsIGFuZCB3aGV0aGVyIFRBcyBjYW4gc2VlIHRoZSBzdWJtaXNzaW9uLlxuICAgICAgICAvLyBsZXQgaGlkZVNjb3JlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCk7XG4gICAgICAgIC8vIGlmIChoaWRlU2NvcmUgJiYgY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgIC8vICAgICBjYXRlZ29yeSA9IFwibm8gZXJyb3JzXCI7XG4gICAgICAgIC8vICAgICBsYWJlbCA9IFwiTm8gZXJyb3JzXCI7XG4gICAgICAgIC8vICAgICBtZXNzYWdlID0gXCJObyBlcnJvcnMgcmVwb3J0ZWQuXCI7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBSZW1hcCB0byBleHBlY3RlZCBCbG9ja1B5IGxhYmVsc1xuICAgICAgICBpZiAoY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnN0cnVjdG9yXCIgJiYgbGFiZWwudG9Mb3dlckNhc2UoKSA9PT0gXCJleHBsYWluXCIpIHtcbiAgICAgICAgICAgIGxhYmVsID0gXCJJbnN0cnVjdG9yIEZlZWRiYWNrXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb24ndCBwcmVzZW50IGEgbGFjayBvZiBlcnJvciBhcyBiZWluZyBpbmNvcnJlY3RcbiAgICAgICAgaWYgKGNhdGVnb3J5ID09PSBcIkluc3RydWN0b3JcIiAmJiBsYWJlbCA9PT0gXCJObyBlcnJvcnNcIikge1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBcIm5vIGVycm9yc1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG1vZGVsIGFjY29yZGluZ2x5XG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLm1haW4udXRpbGl0aWVzLm1hcmtkb3duKG1lc3NhZ2UpLnJlcGxhY2UoLzxwcmU+XFxuL2csIFwiPHByZT5cXG5cXG5cIik7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5tZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwuY2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGFiZWwobGFiZWwpO1xuICAgICAgICAvL2xldCBoaWdobGlnaHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubWVzc2FnZS5maW5kKFwicHJlIGNvZGVcIikubWFwKCAoaSwgYmxvY2spID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5obGpzLmhpZ2hsaWdodEJsb2NrKGJsb2NrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vfSwgNDAwKTtcbiAgICAgICAgLy8gVE9ETzogSW5zdGVhZCBvZiB0cmFja2luZyBzdHVkZW50IGZpbGUsIGxldCdzIHRyYWNrIHRoZSBpbnN0cnVjdG9yIGZpbGVcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiSW50ZXJ2ZW50aW9uXCIsIGNhdGVnb3J5LCBsYWJlbCwgbWVzc2FnZSwgXCJhbnN3ZXIucHlcIik7XG5cbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFueSBwcmV2aW91c2x5IGhpZ2hsaWdodGVkIGxpbmVzXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5jbGVhckhpZ2hsaWdodGVkTGluZXMoKTtcblxuICAgICAgICAvLyBGaW5kIHRoZSBmaXJzdCBlcnJvciBvbiBhIGxpbmUgYW5kIHJlcG9ydCB0aGF0XG4gICAgICAgIGxldCBsaW5lID0gQmxvY2tQeUZlZWRiYWNrLmZpbmRGaXJzdEVycm9yTGluZShkYXRhKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIGlmIChsaW5lICE9PSBudWxsICYmIGxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucHVzaChsaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludmVydCB0aGUgc2V0IG9mIHRyYWNlZCBsaW5lc1xuICAgICAgICBsZXQgc3R1ZGVudFJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5zdHVkZW50O1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNVbmNvdmVyZWQucmVtb3ZlQWxsKCk7XG4gICAgICAgIGlmIChzdHVkZW50UmVwb3J0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCB1bmNvdmVyZWRMaW5lcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLnBhcnNlci5saW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0dWRlbnRSZXBvcnQubGluZXMuaW5kZXhPZihsaW5lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5jb3ZlcmVkTGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc1VuY292ZXJlZCh1bmNvdmVyZWRMaW5lcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8cG9zaXRpdmVzLmxlbmd0aDsgaSs9MSkge1xuICAgICAgICAgICAgbGV0IHBvc2l0aXZlRGF0YSA9IHBvc2l0aXZlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuYWRkUG9zaXRpdmVGZWVkYmFjayhwb3NpdGl2ZURhdGEubWVzc2FnZSwgXCJzdGFyXCIsIFwiZ3JlZW5cIiwgKCkgPT4gdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLlBPU0lUSVZFX0ZFRURCQUNLX0ZVTEwocG9zaXRpdmVEYXRhLnRpdGxlLCBwb3NpdGl2ZURhdGEubWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJQb3NpdGl2ZUZlZWRiYWNrKCkge1xuICAgICAgICB0aGlzLnBvc2l0aXZlLmVtcHR5KCk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktc3R1ZGVudC1lcnJvclwiKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgYWRkUG9zaXRpdmVGZWVkYmFjayh0ZXh0LCBpY29uLCBjb2xvciwgb25jbGljaywgdG9FbmQpIHtcbiAgICAgICAgbGV0IHBvc2l0aXZlID0gJChcIjxzcGFuPjwvc3Bhbj5cIik7XG4gICAgICAgIHBvc2l0aXZlLmFkZENsYXNzKFwiYmxvY2tweS1mZWVkYmFjay1wb3NpdGl2ZS1pY29uIGZhcyBmYS1cIitpY29uKTtcbiAgICAgICAgcG9zaXRpdmUuY3NzKFwiY29sb3JcIiwgY29sb3IpO1xuICAgICAgICBwb3NpdGl2ZS5hdHRyKFwidGl0bGVcIiwgdGV4dCk7XG4gICAgICAgIGlmICh0b0VuZCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGl2ZS5hcHBlbmQocG9zaXRpdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGl2ZS5wcmVwZW5kKHBvc2l0aXZlKTtcbiAgICAgICAgfVxuICAgICAgICBwb3NpdGl2ZS50b29sdGlwKHtcInRyaWdnZXJcIjogXCJob3ZlclwiLCBcImNvbnRhaW5lclwiOiB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5hdHRhY2htZW50UG9pbnR9KTtcbiAgICAgICAgaWYgKG9uY2xpY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcG9zaXRpdmUuY2xpY2sob25jbGljayk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpdmUuaG92ZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1GZWVkYmFja1wiLCBcInBvc2l0aXZlXCIsIFwiaG92ZXJcIiwgdGV4dCwgXCJcIik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgYW55IGFjY3VtdWxhdGVkIGZlZWRiYWNrXG4gICAgICovXG4gICAgcHJlc2VudEZlZWRiYWNrKGV4ZWN1dGlvblJlc3VsdHMpIHtcbiAgICAgICAgdGhpcy51cGRhdGVGZWVkYmFjayhleGVjdXRpb25SZXN1bHRzKTtcblxuICAgICAgICB0aGlzLmZlZWRiYWNrSGVhZGVyLm9mZihcImNsaWNrXCIpO1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bGxGZWVkYmFjayhleGVjdXRpb25SZXN1bHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IExvZ2dpbmdcbiAgICAgICAgLy90aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJmZWVkYmFja1wiLCBjYXRlZ29yeStcInxcIitsYWJlbCwgbWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5ub3RpZnlGZWVkYmFja1VwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBwcm9jZXNzU2luZ2xlRmVlZGJhY2soZWxlbWVudCkge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGVsZW1lbnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJ0aXRsZVwiKSkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjYXBpdGFsaXplKGVsZW1lbnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJjYXRlZ29yeVwiKSkudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IGtpbmQgPSBlbGVtZW50LnRwJGdldGF0dHIobmV3IHB5U3RyKFwia2luZFwiKSkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gU2subWlzY2V2YWwuaXNUcnVlKGVsZW1lbnQpO1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGVsZW1lbnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJtZXNzYWdlXCIpKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCB1bnVzZWRfbWVzc2FnZSA9IGVsZW1lbnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJ1bnVzZWRfbWVzc2FnZVwiKSkudG9TdHJpbmcoKTtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgPT09IFwiTm9uZVwiID8gdW51c2VkX21lc3NhZ2UgOiBtZXNzYWdlO1xuICAgICAgICBjb25zdCBqdXN0aWZpY2F0aW9uID0gZWxlbWVudC50cCRnZXRhdHRyKG5ldyBweVN0cihcImp1c3RpZmljYXRpb25cIikpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJwYXJlbnRcIikpO1xuICAgICAgICBjb25zdCBoYXNQYXJlbnQgPSAhU2suYnVpbHRpbi5jaGVja05vbmUocGFyZW50KTtcbiAgICAgICAgbGV0IHNjb3JlID0gZWxlbWVudC50cCRnZXRhdHRyKG5ldyBweVN0cihcInJlc29sdmVkX3Njb3JlXCIpKTtcbiAgICAgICAgc2NvcmUgPSBzY29yZSA9PT0gU2suYnVpbHRpbi5ub25lLm5vbmUkID8gXCJcIlxuICAgICAgICAgICAgOiBzY29yZS50cCRuYW1lID09PSBcImZsb2F0XCJcbiAgICAgICAgICAgICAgICA/IFwiK1wiICsgTWF0aC5yb3VuZChzY29yZS52KjEwMCkudG9TdHJpbmcoKSArIFwiJVwiXG4gICAgICAgICAgICAgICAgOiBzY29yZS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gW2VsZW1lbnQsIHBhcmVudCwgYFxuICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLXN0YXJ0XCIgJHtoYXNQYXJlbnQgPyBcInN0eWxlPSdtYXJnaW4tbGVmdDogNTBweDsnXCIgOiBcIlwifT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggdy0xMDAganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+PHN0cm9uZyBjbGFzcz1cIm1iLTFcIiBzdHlsZT1cIiR7YWN0aXZlID8gXCJcIiA6IFwidGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XCJ9XCI+JHt0aXRsZX08L3N0cm9uZz4gKCR7Y2F0ZWdvcnl9IC0gJHtraW5kfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1pbmZvIGJhZGdlLXBpbGxcIj4ke3Njb3JlfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgJHthY3RpdmUgPyBcIlwiIDogXCI8ZGl2PihNdXRlZCAtIE5vdCBzaG93biB0byBzdHVkZW50KTwvZGl2PlwifVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTEgcC0xIGZlZWRiYWNrLWV4cGFuZC1vbi1jbGljayBmZWVkYmFjay1zaHJ1bmtcIj5cbiAgICAgICAgICAgICAgICAke21lc3NhZ2V9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzbWFsbCBzdHlsZT1cIndoaXRlLXNwYWNlOiBwcmVcIj4ke2p1c3RpZmljYXRpb259PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBdO1xuICAgIH1cblxuICAgIHVwZGF0ZUZ1bGxGZWVkYmFjayhleGVjdXRpb25SZXN1bHRzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGV4ZWN1dGlvblJlc3VsdHMpO1xuICAgICAgICBpZiAoIShcIk1BSU5fUkVQT1JUXCIgaW4gZXhlY3V0aW9uUmVzdWx0cykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFpblJlcG9ydCA9IGV4ZWN1dGlvblJlc3VsdHMuTUFJTl9SRVBPUlQ7XG4gICAgICAgIGNvbnN0IGZlZWRiYWNrID0gbWFpblJlcG9ydC50cCRnZXRhdHRyKG5ldyBweVN0cihcImZlZWRiYWNrXCIpKTtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmZWVkYmFja3MgPSBbXTtcbiAgICAgICAgU2subWlzY2V2YWwuaXRlckZvcihmZWVkYmFjay50cCRpdGVyKCksIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBmZWVkYmFja3MucHVzaCh0aGlzLnByb2Nlc3NTaW5nbGVGZWVkYmFjayhlbGVtZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBTay5taXNjZXZhbC5pdGVyRm9yKG1haW5SZXBvcnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJpZ25vcmVkX2ZlZWRiYWNrXCIpKS50cCRpdGVyKCksIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBmZWVkYmFja3MucHVzaCh0aGlzLnByb2Nlc3NTaW5nbGVGZWVkYmFjayhlbGVtZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwYXJlbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlZWRiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2VsZW1lbnQsIHBhcmVudCwgdGV4dF0gPSBmZWVkYmFja3NbaV07XG4gICAgICAgICAgICBjb25zdCBoYXNQYXJlbnQgPSAhU2suYnVpbHRpbi5jaGVja05vbmUocGFyZW50KTtcbiAgICAgICAgICAgIGlmIChoYXNQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudHMuaGFzKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5zZXQocGFyZW50LCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudHMuZ2V0KHBhcmVudCkucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnNldChlbGVtZW50LCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudHMuZ2V0KGVsZW1lbnQpLnVuc2hpZnQodGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmVlZGJhY2tzID0gWy4uLnBhcmVudHMudmFsdWVzKCldLmZsYXQoKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja0hlYWRlci5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5zaG93KFwiRnVsbCBGZWVkYmFjayBJbmZvcm1hdGlvblwiLCAnPGRpdiBjbGFzcz1cImxpc3QtZ3JvdXBcIj4nK1xuICAgICAgICAgICAgICAgIGZlZWRiYWNrcy5qb2luKFwiXFxuXCIpICsgXCI8L2Rpdj5cIik7XG4gICAgICAgICAgICAkKFwiLmZlZWRiYWNrLWV4cGFuZC1vbi1jbGlja1wiKS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS50b2dnbGVDbGFzcyhcImZlZWRiYWNrLXNocnVua1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBub3RpZnlGZWVkYmFja1VwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRmVlZGJhY2tWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1mbG9hdGluZy1mZWVkYmFja1wiKS5zaG93KCkuZmFkZU91dCg3MDAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFNjcm9sbEludG9WaWV3KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgc2hvdWxkU2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5tYWluLm1vZGVsLnVpLnNtYWxsTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgcHJlc2VudFJ1bkVycm9yKGVycm9yLCBqdXN0X3JldHVybikge1xuICAgICAgICBpZiAoanVzdF9yZXR1cm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAganVzdF9yZXR1cm4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWVzc2FnZSwgbGFiZWwsIGNhdGVnb3J5LCBsaW5lbm87XG4gICAgICAgIGxhYmVsID0gZXJyb3IudHAkbmFtZTtcbiAgICAgICAgY2F0ZWdvcnkgPSBcInJ1bnRpbWVcIjtcbiAgICAgICAgbWVzc2FnZSA9IHRoaXMuY29udmVydFNrdWxwdEVycm9yKGVycm9yKTtcblxuICAgICAgICBpZiAoanVzdF9yZXR1cm4pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5tZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwuY2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGFiZWwobGFiZWwpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNFcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgaWYgKGxpbmVubyAhPT0gdW5kZWZpbmVkICYmIGxpbmVubyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucHVzaChsaW5lbm8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYnVpbGRUcmFjZWJhY2soZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLnRyYWNlYmFjay5tYXAoZnJhbWUgPT4ge1xuICAgICAgICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIj8/XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGluZW5vID0gZnJhbWUubGluZW5vO1xuICAgICAgICAgICAgaWYgKGZyYW1lLmZpbGVuYW1lLnNsaWNlKDAsIC0zKSA9PT0gZmlsZW5hbWVFeGVjdXRlZCkge1xuICAgICAgICAgICAgICAgIGxpbmVubyAtPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuaW5zdHJ1Y3Rvci5saW5lT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZpbGUgPSBgRmlsZSA8Y29kZSBjbGFzcz1cImZpbGVuYW1lXCI+XCIke2ZyYW1lLmZpbGVuYW1lfVwiPC9jb2RlPiwgYDtcbiAgICAgICAgICAgIGxldCBsaW5lID0gYG9uIGxpbmUgPGNvZGUgY2xhc3M9XCJsaW5lbm9cIj4ke2xpbmVub308L2NvZGU+LCBgO1xuICAgICAgICAgICAgbGV0IHNjb3BlID0gKGZyYW1lLnNjb3BlICE9PSBcIjxtb2R1bGU+XCIgJiZcbiAgICAgICAgICAgIGZyYW1lLnNjb3BlICE9PSB1bmRlZmluZWQpID8gYGluIHNjb3BlICR7ZnJhbWUuc2NvcGV9YCA6IFwiXCI7XG4gICAgICAgICAgICBsZXQgc291cmNlID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChmcmFtZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGBcXG48cHJlPjxjb2RlPiR7ZnJhbWUuc291cmNlfTwvY29kZT48L3ByZT5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbGUgKyBsaW5lICsgc2NvcGUgKyBzb3VyY2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnZlcnRTa3VscHRFcnJvcihlcnJvciwgZmlsZW5hbWVFeGVjdXRlZCwgaXNJbnN0cnVjdG9yKSB7XG4gICAgICAgIGxldCBuYW1lID0gZXJyb3IudHAkbmFtZTtcbiAgICAgICAgbGV0IGFyZ3MgPSBTay5mZmkucmVtYXBUb0pzKGVycm9yLmFyZ3MpO1xuICAgICAgICBsZXQgdG9wID0gYCR7bmFtZX06ICR7YXJnc1swXX1cXG48YnI+XFxuPGJyPmA7XG4gICAgICAgIGxldCB0cmFjZWJhY2sgPSBcIlwiO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIikge1xuICAgICAgICAgICAgaWYgKGVycm9yLmVyciAmJiBlcnJvci5lcnIudHJhY2ViYWNrICYmIGVycm9yLmVyci50cmFjZWJhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsRnJhbWVzID0gdGhpcy5idWlsZFRyYWNlYmFjayhlcnJvci5lcnIsIGZpbGVuYW1lRXhlY3V0ZWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtcIlRyYWNlYmFjazpcIl07XG4gICAgICAgICAgICAgICAgaWYgKGFsbEZyYW1lcy5sZW5ndGggPiA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLmFsbEZyYW1lcy5zbGljZSgwLCAzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYC4uLiBIaWRpbmcgJHthbGxGcmFtZXMubGVuZ3RoIC0gM30gb3RoZXIgc3RhY2sgZnJhbWVzIC4uLixgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hbGxGcmFtZXMuc2xpY2UoLTMsIC0yKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goLi4uYWxsRnJhbWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2ViYWNrID0gcmVzdWx0LmpvaW4oXCJcXG48YnI+XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzSW5zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHRvcCA9IFwiRXJyb3IgaW4gaW5zdHJ1Y3RvciBmZWVkYmFjay4gUGxlYXNlIHNob3cgdGhlIGZvbGxvd2luZyB0byBhbiBpbnN0cnVjdG9yOjxicj5cXG5cIit0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3IudHJhY2ViYWNrICYmIGVycm9yLnRyYWNlYmFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0cmFjZWJhY2sgPSBcIlRyYWNlYmFjazo8YnI+XFxuXCIgKyB0aGlzLmJ1aWxkVHJhY2ViYWNrKGVycm9yLCBmaWxlbmFtZUV4ZWN1dGVkKS5qb2luKFwiXFxuPGJyPlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9wK1wiXFxuXCIrdHJhY2ViYWNrO1xuICAgIH1cblxuICAgIHByZXNlbnRJbnRlcm5hbEVycm9yKGVycm9yLCBmaWxlbmFtZUV4ZWN1dGVkKSB7XG4gICAgICAgIGlmIChlcnJvci50cCRuYW1lID09PSBcIlRpbWVvdXRFcnJvclwiKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KFwicnVudGltZVwiKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uZmVlZGJhY2subGFiZWwoXCJUaW1lb3V0IEVycm9yXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeShcImludGVybmFsXCIpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbChcIkludGVybmFsIEVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtZXNzYWdlID0gdGhpcy5jb252ZXJ0U2t1bHB0RXJyb3IoZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQsIHRydWUpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5ub3RpZnlGZWVkYmFja1VwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtU3lzdGVtLkVycm9yXCIsIFwiaW50ZXJuYWxcIiwgXCJJbnRlcm5hbCBFcnJvclwiLCBtZXNzYWdlLCBmaWxlbmFtZUV4ZWN1dGVkKTtcbiAgICB9XG5cblxuXG59IiwiaW1wb3J0IHtmaXJzdERlZmluZWRWYWx1ZX0gZnJvbSBcInV0aWxpdGllcy5qc1wiO1xuXG4vLyAke21ha2VUYWIoXCI/bW9ja191cmxzLmJsb2NrcHlcIiwgXCJVUkwgRGF0YVwiLCB0cnVlKX1cblxuY29uc3QgbWFrZVRhYiA9IGZ1bmN0aW9uKGZpbGVuYW1lLCBmcmllbmRseU5hbWUsIGhpZGVJZkVtcHR5LCBub3RJbnN0cnVjdG9yKSB7XG4gICAgaWYgKGZyaWVuZGx5TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZyaWVuZGx5TmFtZSA9IGZpbGVuYW1lO1xuICAgIH1cbiAgICBsZXQgaW5zdHJ1Y3RvckZpbGVDbGFzcyA9IFwiXCI7XG4gICAgbGV0IGhpZGVJZk5vdEluc3RydWN0b3IgPSBcInRydWVcIjtcbiAgICBpZiAoIW5vdEluc3RydWN0b3IpIHtcbiAgICAgICAgaW5zdHJ1Y3RvckZpbGVDbGFzcyA9IFwiYmxvY2tweS1maWxlLWluc3RydWN0b3JcIjtcbiAgICAgICAgaGlkZUlmTm90SW5zdHJ1Y3RvciA9IFwiZGlzcGxheS5pbnN0cnVjdG9yKClcIjtcbiAgICB9XG4gICAgcmV0dXJuIGBcbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSAke2luc3RydWN0b3JGaWxlQ2xhc3N9XCI+XG4gICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHthY3RpdmU6IGRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gJyR7ZmlsZW5hbWV9J30sXG4gICAgICAgICAgICAgICAgY2xpY2s6IGRpc3BsYXkuZmlsZW5hbWUuYmluZCgkZGF0YSwgJyR7ZmlsZW5hbWV9JyksXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogKCEke2hpZGVJZkVtcHR5fSB8fCB1aS5maWxlcy5oYXNDb250ZW50cygnJHtmaWxlbmFtZX0nKSkgJiYgJHtoaWRlSWZOb3RJbnN0cnVjdG9yfVwiPlxuICAgICAgICAgICAgJHtmcmllbmRseU5hbWV9PC9hPlxuICAgIDwvbGk+YDtcbn07XG5cbmV4cG9ydCBsZXQgRklMRVNfSFRNTCA9IGBcbjxkaXYgY2xhc3M9XCJibG9ja3B5LXBhbmVsIGJsb2NrcHktZmlsZXNcIlxuICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmZpbGVzLnZpc2libGUsIGNsYXNzOiB1aS5maWxlcy53aWR0aFwiPlxuPHVsIGNsYXNzPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj5cblxuICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XG4gICAgICAgIDxzdHJvbmc+VmlldzogPC9zdHJvbmc+XG4gICAgPC9saT5cblxuICAgICR7bWFrZVRhYihcImFuc3dlci5weVwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSl9XG4gICAgJHttYWtlVGFiKFwiIWluc3RydWN0aW9ucy5tZFwiLCBcIkluc3RydWN0aW9uc1wiKX1cbiAgICAke21ha2VUYWIoXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCIsIFwiU2V0dGluZ3NcIil9XG4gICAgJHttYWtlVGFiKFwiXnN0YXJ0aW5nX2NvZGUucHlcIiwgXCJTdGFydGluZyBDb2RlXCIpfVxuICAgICR7bWFrZVRhYihcIiFvbl9ydW4ucHlcIiwgXCJPbiBSdW5cIil9XG4gICAgJHttYWtlVGFiKFwiIW9uX2NoYW5nZS5weVwiLCBcIk9uIENoYW5nZVwiLCB0cnVlKX1cbiAgICAke21ha2VUYWIoXCIhb25fZXZhbC5weVwiLCBcIk9uIEV2YWxcIiwgdHJ1ZSl9XG4gICAgJHttYWtlVGFiKFwiIXNhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5XCIsIFwiU2FtcGxlIFN1Ym1pc3Npb25zXCIsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiF0YWdzLmJsb2NrcHlcIiwgXCJUYWdzXCIsIHRydWUpfVxuICAgIFxuICAgIDwhLS0ga28gZm9yZWFjaDogYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyAtLT5cbiAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7J2Jsb2NrcHktZmlsZS1pbnN0cnVjdG9yJzogIWZpbGVuYW1lKCkuc3RhcnRzV2l0aCgnJicpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmlsZW5hbWUoKS5zdGFydHNXaXRoKCcmJykgfHwgJHJvb3QuZGlzcGxheS5pbnN0cnVjdG9yKCkgXCI+XG4gICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidGFiXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHthY3RpdmU6ICRyb290LmRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gZmlsZW5hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZWRpdGFibGU6IGZpbGVuYW1lKCkuc3RhcnRzV2l0aCgnJicpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogJHJvb3QuZGlzcGxheS5maWxlbmFtZS5iaW5kKCRkYXRhLCBmaWxlbmFtZSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkcm9vdC51aS5maWxlcy5kaXNwbGF5RmlsZW5hbWUoZmlsZW5hbWUoKSlcIj5cbiAgICAgICAgICAgIDwvYT4gICAgICAgIFxuICAgICAgICA8L2xpPlxuICAgIDwhLS0gL2tvIC0tPlxuICAgIDwhLS0ga28gZm9yZWFjaDogYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMgLS0+XG4gICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6ICRyb290LmRpc3BsYXkuaW5zdHJ1Y3RvcigpXCI+XG4gICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidGFiXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHthY3RpdmU6ICRyb290LmRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gZmlsZW5hbWUoKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICRyb290LmRpc3BsYXkuZmlsZW5hbWUuYmluZCgkZGF0YSwgZmlsZW5hbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZmlsZW5hbWVcIj5cbiAgICAgICAgICAgIDwvYT4gICAgICAgIFxuICAgICAgICA8L2xpPlxuICAgIDwhLS0gL2tvIC0tPlxuICAgIFxuICAgIDwhLS0ga28gZm9yZWFjaDogc3VibWlzc2lvbi5leHRyYUZpbGVzIC0tPlxuICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lLmJpbmQoJGRhdGEsIGZpbGVuYW1lKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRyb290LnVpLmZpbGVzLmRpc3BsYXlGaWxlbmFtZShmaWxlbmFtZSgpKVwiPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgIDwhLS0gL2tvIC0tPlxuICBcbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSBkcm9wZG93blwiIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmZpbGVzLmFkZElzVmlzaWJsZVwiPlxuICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiIGhyZWY9XCIjXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICByb2xlPVwiYnV0dG9uXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5BZGQgTmV3PC9hPlxuICAgICAgICA8IS0tIGtvIGlmOiAkcm9vdC5kaXNwbGF5Lmluc3RydWN0b3IoKSAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkuZmlsZXMuaGFzQ29udGVudHMoJz9tb2NrX3VybHMuYmxvY2tweScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnP21vY2tfdXJscy5ibG9ja3B5JylcIj5VUkwgRGF0YTwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCdpbWFnZXMuYmxvY2tweScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnaW1hZ2VzLmJsb2NrcHknKVwiPkltYWdlczwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCc/dG9vbGJveC5ibG9ja3B5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICc/dG9vbGJveC5ibG9ja3B5JylcIj5Ub29sYm94PC9hPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnIXRhZ3MuYmxvY2tweScpXCI+VGFnczwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCchc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJyFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweScpXCI+U2FtcGxlIFN1Ym1pc3Npb25zPC9hPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IGFzc2lnbm1lbnQub25DaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICchb25fY2hhbmdlLnB5JylcIj5PbiBDaGFuZ2U8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiBhc3NpZ25tZW50Lm9uRXZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJyFvbl9ldmFsLnB5JylcIj5PbiBFdmFsPC9hPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkuZmlsZXMuaGFzQ29udGVudHMoJyFhbnN3ZXJfcHJlZml4LnB5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICchYW5zd2VyX3ByZWZpeC5weScpXCI+QW5zd2VyIFByZWZpeDwvYT5cbiAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkuZmlsZXMuaGFzQ29udGVudHMoJyFhbnN3ZXJfc3VmZml4LnB5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICchYW5zd2VyX3N1ZmZpeC5weScpXCI+QW5zd2VyIFN1ZmZpeDwvYT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+PC9kaXY+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnc3RhcnRpbmcnKVwiPlN0YXJ0aW5nIEZpbGU8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnaW5zdHJ1Y3RvcicpXCI+SW5zdHJ1Y3RvciBGaWxlPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ3N0dWRlbnQnKVwiPlN0dWRlbnQgRmlsZTwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICA8IS0tIGtvIGlmbm90OiAkcm9vdC5kaXNwbGF5Lmluc3RydWN0b3IoKSAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiPlxuICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnc3R1ZGVudCcpXCI+U3R1ZGVudCBGaWxlPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPCEtLSAva28gLS0+XG4gICAgPC9saT5cbiAgXG48L3VsPlxuPC9kaXY+XG5gO1xuXG5jb25zdCBORVdfSU5TVFJVQ1RPUl9GSUxFX0RJQUxPR19IVE1MID0gYFxuPGZvcm0+XG48ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICA8ZGl2PlxuICAgICAgICA8cD5UaGlzIGRpYWxvZyBib3ggaXMgZm9yIGNyZWF0aW5nIHRleHQgZmlsZXMgKGUuZy4sIFB5dGhvbiBjb2RlLCBNYXJrZG93biwgZXRjLikgdGhhdCB3aWxsIGJlXG4gICAgICAgIGFjY2Vzc2libGUgZnJvbSBQeXRob24uIElmIHlvdSB3YW50IHRvIHVwbG9hZCBhIGJpbmFyeSBmaWxlIChlLmcuLCBhbiBpbWFnZSwgYSBzcWxpdGUgZGF0YWJhc2UpLFxuICAgICAgICB0aGVuIHlvdSBzaG91bGQgdXNlIHRoZSBcIkltYWdlc1wiIG9yIFwiVVJMIERhdGFcIiBvcHRpb25zLjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPlN0dWRlbnRzIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIGZpbGUgdGFicyB1bmxlc3MgeW91IGNoYW5nZSB0aGUgXCJIaWRlIEZpbGVzXCIgc2V0dGluZyB0byBiZSB1bmNoZWNrZWQuPC9wPlxuICAgIDwvZGl2PlxuICAgIDwhLS0gRmlsZW5hbWUgLS0+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxlbmFtZVwiPkZpbGVuYW1lOjwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZW5hbWVcIlxuICAgICAgICAgICAgaWQ9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZW5hbWVcIj4gICAgXG4gICAgPC9kaXY+XG4gICAgPCEtLSBGaWxldHlwZSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodCBtdC0yXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZXR5cGVcIj5GaWxldHlwZTogPC9sYWJlbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGV0eXBlXCJcbiAgICAgICAgICAgIGlkPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGV0eXBlXCI+PC9zcGFuPiAgICBcbiAgICA8L2Rpdj5cbiAgICA8IS0tIEluYWNjZXNzaWJsZSB0byBzdHVkZW50PyAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodCBtdC0yXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctbmFtZXNwYWNlXCI+TmFtZXNwYWNlOiA8L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlxuICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sIGJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIlxuICAgICAgICAgICAgaWQ9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctbmFtZXNwYWNlXCI+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiIVwiPkNvbXBsZXRlbHkgaW5hY2Nlc3NpYmxlPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiP1wiPkhpZGRlbiBmcm9tIHN0dWRlbnQsIGFjY2Vzc2libGUgcHJvZ3JhbWF0aWNhbGx5PC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJlwiPlZpc2libGUgdG8gc3R1ZGVudCwgYnV0IG5vdCBlZGl0YWJsZTwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuPC9mb3JtPlxuYDtcblxuLyoqXG4gKiBGaWxlbmFtZXMgbGl2ZSBpbiBvbmUgb2YgZml2ZSBwb3NzaWJsZSBuYW1lc3BhY2VzOlxuICogIEluc3RydWN0b3IgKCEpOiBJbnZpc2libGUgdG8gdGhlIHN0dWRlbnQgdW5kZXIgYWxsIGNpcmN1bXN0YW5jZXNcbiAqICBTdGFydCBTcGFjZSAoXik6IFVzZWQgdG8gcmVzZXQgdGhlIHN0dWRlbnQgbmFtZXNwYWNlXG4gKiAgU3R1ZGVudCBTcGFjZSAoKTogVmlzaWJsZSB0byB0aGUgc3R1ZGVudCB3aGVuIGRpc3BsYXkuaGlkZUZpbGVzIGlzIG5vdCB0cnVlLCBhYmxlIHRvIGJlIGVkaXRlZFxuICogIEhpZGRlbiBTcGFjZSAoPyk6IE5vdCBkaXJlY3RseSB2aXNpYmxlIHRvIHRoZSBzdHVkZW50LCBidXQgYWNjZXNzaWJsZSBwcm9ncmFtbWF0aWNhbGx5XG4gKiAgUmVhZC1vbmx5IFNwYWNlICgmKTogQW4gaW5zdHJ1Y3RvciBmaWxlIHR5cGUgdmlzaWJsZSB0byB0aGUgc3R1ZGVudCwgYnV0IGlzIHVuZWRpdGFibGUgYnkgdGhlbVxuICogIFNlY3JldCBTcGFjZSAoJCk6IE5vdCB2aXNpYmxlIGZyb20gdGhlIG1lbnUgYXQgYWxsLCBzb21lIG90aGVyIG1lY2hhbmlzbSBjb250cm9scyBpdFxuICogIEdlbmVyYXRlZCBTcGFjZSAoKik6IFZpc2libGUgdG8gdGhlIHN0dWRlbnQsIGJ1dCBkZXN0cm95ZWQgYWZ0ZXIgRW5naW5lLkNsZWFyLiBDYW4gc2hhZG93IGFuIGFjdHVhbCBmaWxlLlxuICogIENvbmNhdGVuYXRlZCBTcGFjZSAoIyk6IFVzZWQgd2hlbiBidW5kbGluZyBhIHNwYWNlIGZvciB0aGUgc2VydmVyLlxuICovXG5cbmV4cG9ydCBsZXQgU1RBUlRJTkdfRklMRVMgPSBbXG4gICAgLy8gU3VibWlzc2lvblxuICAgIFwiYW5zd2VyLnB5XCIsXG4gICAgLy8gSW5zdHJ1Y3RvciBmaWxlc1xuICAgIFwiIWluc3RydWN0aW9ucy5tZFwiLFxuICAgIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiLFxuICAgIFwiXnN0YXJ0aW5nX2NvZGUucHlcIixcbiAgICBcIiFvbl9ydW4ucHlcIixcbiAgICBcIiRzZXR0aW5ncy5ibG9ja3B5XCIsXG5dO1xuXG5leHBvcnQgY29uc3QgQkFTSUNfTkVXX0ZJTEVTID0gW1xuICAgIFwiIW9uX2NoYW5nZS5weVwiLFxuICAgIFwiIW9uX2V2YWwucHlcIixcbiAgICBcIj9tb2NrX3VybHMuYmxvY2tweVwiLFxuICAgIFwiP3Rvb2xib3guYmxvY2tweVwiLFxuICAgIFwiIXRhZ3MuYmxvY2tweVwiLFxuICAgIFwiIXNhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5XCIsXG4gICAgXCIhYW5zd2VyX3ByZWZpeC5weVwiLFxuICAgIFwiIWFuc3dlcl9zdWZmaXgucHlcIlxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNob21wU3BlY2lhbEZpbGUoZmlsZW5hbWUpIHtcbiAgICBpZiAoXCIhXj8mJCojXCIuaW5jbHVkZXMoZmlsZW5hbWVbMF0pKSB7XG4gICAgICAgIHJldHVybiBmaWxlbmFtZS5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmlsZW5hbWU7XG4gICAgfVxufVxuXG5jb25zdCBJTlNUUlVDVE9SX0RJUkVDVE9SWSA9IFwiX2luc3RydWN0b3IvXCI7XG5jb25zdCBTVFVERU5UX0RJUkVDVE9SWSA9IFwiX3N0dWRlbnQvXCI7XG5cbmNvbnN0IFNlYXJjaE1vZGVzID0ge1xuICAgIEVWRVJZV0hFUkU6IFwiRVZFUllXSEVSRVwiLFxuICAgIFNUQVJUX1dJVEhfSU5TVFJVQ1RPUjogXCJTVEFSVF9XSVRIX0lOU1RSVUNUT1JcIixcbiAgICBPTkxZX1NUVURFTlRfRklMRVM6IFwiT05MWV9TVFVERU5UX0ZJTEVTXCJcbn07XG5cbmNvbnN0IERFTEVUQUJMRV9TSU1QTEVfRklMRVMgPSBbXCIhb25fY2hhbmdlLnB5XCIsIFwiIW9uX2V2YWwucHlcIl07XG5cbmV4cG9ydCBjb25zdCBVTkRFTEVUQUJMRV9GSUxFUyA9IFtcImFuc3dlci5weVwiLCBcIiFpbnN0cnVjdGlvbnMubWRcIiwgXCIhYXNzaWdubWVudF9zZXR0aW5ncy5weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXnN0YXJ0aW5nX2NvZGUucHlcIiwgXCIhb25fcnVuLnB5XCIsIFwiJHNldHRpbmdzLmJsb2NrcHlcIl07XG5cbmV4cG9ydCBjb25zdCBVTlJFTkFNQUJMRV9GSUxFUyA9IFtcImFuc3dlci5weVwiLCBcIiFpbnN0cnVjdGlvbnMubWRcIiwgXCIhYXNzaWdubWVudF9zZXR0aW5ncy5weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXnN0YXJ0aW5nX2NvZGUucHlcIiwgXCIhb25fcnVuLnB5XCIsIFwiJHNldHRpbmdzLmJsb2NrcHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiFvbl9jaGFuZ2UucHlcIiwgXCIhb25fZXZhbC5weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiP21vY2tfdXJscy5ibG9ja3B5XCIsIFwiP3Rvb2xib3guYmxvY2tweVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIXRhZ3MuYmxvY2tweVwiLCBcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIWFuc3dlcl9wcmVmaXgucHlcIiwgXCIhYW5zd2VyX3N1ZmZpeC5weVwiXTtcblxuY2xhc3MgQmxvY2tQeUZpbGUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIGZpbGVuYW1lLCBjb250ZW50cykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMuY29udGVudHMgPSBjb250ZW50cyB8fCBcIlwiO1xuICAgICAgICB0aGlzLm93bmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGUgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VNb2RlbEZpbGUoZmlsZW5hbWUsIGNvbnRlbnRzKSB7XG4gICAgcmV0dXJuIHtcImZpbGVuYW1lXCI6IGtvLm9ic2VydmFibGUoZmlsZW5hbWUpLCBjb250ZW50czoga28ub2JzZXJ2YWJsZShjb250ZW50cyB8fCBcIlwiKX07XG59XG5cbmZ1bmN0aW9uIG1ha2VNb2NrTW9kZWxGaWxlKGZpbGVuYW1lLCBjb250ZW50cykge1xuICAgIHJldHVybiB7IGZpbGVuYW1lOiAoKSA9PiBmaWxlbmFtZSwgY29udGVudHM6ICgpID0+IGNvbnRlbnRzIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ29uY2F0ZW5hdGVkRmlsZShjb25jYXRlbmF0ZWRGaWxlLCBtb2RlbEZpbGVMaXN0KSB7XG4gICAgaWYgKGNvbmNhdGVuYXRlZEZpbGUpIHtcbiAgICAgICAgbGV0IGZpbGVzID0gSlNPTi5wYXJzZShjb25jYXRlbmF0ZWRGaWxlKTtcbiAgICAgICAgbGV0IG1vZGVsRmlsZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZmlsZW5hbWUgaW4gZmlsZXMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlcy5oYXNPd25Qcm9wZXJ0eShmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBtb2RlbEZpbGVzLnB1c2gobWFrZU1vZGVsRmlsZShmaWxlbmFtZSwgZmlsZXNbZmlsZW5hbWVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy9maWxlcyA9IGZpbGVzLm1hcChmaWxlID0+IG1ha2VNb2RlbEZpbGUoZmlsZS5maWxlbmFtZSwgZmlsZS5jb250ZW50cykpO1xuICAgICAgICBpZiAobW9kZWxGaWxlTGlzdCkge1xuICAgICAgICAgICAgbW9kZWxGaWxlTGlzdChtb2RlbEZpbGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbEZpbGVzO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vZGVsRmlsZUxpc3QpIHtcbiAgICAgICAgICAgIG1vZGVsRmlsZUxpc3QoW10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29uY2F0ZW5hdGVkRmlsZShtb2RlbEZpbGVMaXN0KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1vZGVsRmlsZUxpc3QoKS5tYXAoZmlsZSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlbmFtZTogZmlsZS5maWxlbmFtZSgpLFxuICAgICAgICAgICAgY29udGVudHM6IGZpbGUuY29udGVudHMoKVxuICAgICAgICB9O1xuICAgIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVDb25jYXRlbmF0ZWRGaWxlKG1vZGVsRmlsZUxpc3QpIHtcbiAgICByZXR1cm4ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgICAgICBtb2RlbEZpbGVMaXN0KCkuZm9yRWFjaChmaWxlID0+XG4gICAgICAgICAgICByZXN1bHRbZmlsZS5maWxlbmFtZSgpXSA9IGZpbGUuY29udGVudHMoKSk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEFic3RyYWN0cyBhd2F5IGRhdGFiYXNlIGxvZ2ljXG4gKi9cbmV4cG9ydCBjbGFzcyBCbG9ja1B5RmlsZVN5c3RlbSB7XG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLmZpbGVzXyA9IHt9O1xuICAgICAgICB0aGlzLm1vdW50RmlsZXMoKTtcblxuICAgICAgICB0aGlzLndhdGNoTW9kZWwoKTtcbiAgICAgICAgdGhpcy53YXRjaGVzXyA9IHt9O1xuXG4gICAgICAgIHRoaXMucmVtb3RlRmlsZXNfID0ge307XG4gICAgICAgIHRoaXMuZmlsZXNUb1VybHMgPSB7fTtcblxuICAgICAgICAvKm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuZmluZChcIi5ibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiKS50b2dnbGUodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3Rvci5zdWJzY3JpYmUoKHZpc2libGl0eSk9PiB7XG4gICAgICAgICAgICBtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1maWxlLWluc3RydWN0b3JcIikudG9nZ2xlKHZpc2libGl0eSk7XG4gICAgICAgIH0pOyovXG4gICAgfVxuXG4gICAgd2F0Y2hGaWxlKGZpbGVuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIShmaWxlbmFtZSBpbiB0aGlzLndhdGNoZXNfKSkge1xuICAgICAgICAgICAgdGhpcy53YXRjaGVzX1tmaWxlbmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGVuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBzdG9wV2F0Y2hpbmdGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLndhdGNoZXNfW2ZpbGVuYW1lXTtcbiAgICB9XG5cbiAgICB3YXRjaE1vZGVsKCkge1xuICAgICAgICBsZXQgZmlsZXN5c3RlbSA9IHRoaXM7XG4gICAgICAgIFt0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzLFxuICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzLFxuICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXNdLmZvckVhY2goZmlsZUFycmF5ID0+XG4gICAgICAgICAgICBmaWxlQXJyYXkuc3Vic2NyaWJlKGZ1bmN0aW9uKGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnNvcnQoKGZpcnN0LCBzZWNvbmQpID0+IHNlY29uZC5zdGF0dXMubG9jYWxlQ29tcGFyZShmaXJzdC5zdGF0dXMpKVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kZWxGaWxlID0gY2hhbmdlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS5zdGF0dXMgPT09IFwiYWRkZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIG5ldyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBmaWxlc3lzdGVtLm5ld0ZpbGUobW9kZWxGaWxlLmZpbGVuYW1lKCksIG1vZGVsRmlsZS5jb250ZW50cygpLCBtb2RlbEZpbGUuY29udGVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzeXN0ZW0ubm90aWZ5V2F0Y2hlcyhmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlLnN0YXR1cyA9PT0gXCJkZWxldGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlID0gZmlsZXN5c3RlbS5kZWxldGVGaWxlTG9jYWxseV8obW9kZWxGaWxlLmZpbGVuYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlc3lzdGVtLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZSgpID09PSBtb2RlbEZpbGUuZmlsZW5hbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc3lzdGVtLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZShcImFuc3dlci5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgdGhpcywgXCJhcnJheUNoYW5nZVwiKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIGFuc3dlci5weVxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIGZpcnN0IGVsZW1lbnQgb2Ygc3VibWlzc2lvbi5jb2RlKVxuICAgIC8vICFvbl9ydW4ucHksICFvbl9jaGFuZ2UucHksICFvbl9ldmFsLnB5XG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gcmVsZXZhbnQgYXNzaWdubWVudC48d2hhdGV2ZXI+XG4gICAgLy8gXnN0YXJ0aW5nX2NvZGUucHlcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byBmaXJzdCBlbGVtZW50IG9mIGFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlXG4gICAgLy8gXndoYXRldmVyXG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gcmVzdCBvZiB0aGUgZWxlbWVudHMgb2YgYXNzaWdubWVudC5zdGFydGluZ0NvZGVcbiAgICAvLyAhd2hhdGV2ZXIgb3IgP3doYXRldmVyXG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gZWxlbWVudHMgb2YgYXNzaWdubWVudC5leHRyYUZpbGVzXG4gICAgLy8gT3RoZXJ3aXNlOlxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIHJlc3Qgb2YgdGhlIGVsZW1lbnRzIG9mIHN1Ym1pc3Npb24uY29kZVxuICAgIC8qKlxuICAgICAqIE5ldyBzcGVjaWFsIGZpbGVzIG5lZWQgdG8gYmUgcmVnaXN0ZXJlZCBoZXJlXG4gICAgICogQHBhcmFtIGZpbGUge0Jsb2NrUHlGaWxlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb2JzZXJ2ZUZpbGVfKGZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiFvbl9ydW4ucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bjtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiFvbl9jaGFuZ2UucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiFvbl9ldmFsLnB5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIWluc3RydWN0aW9ucy5tZFwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucztcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIl5zdGFydGluZ19jb2RlLnB5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiP21vY2tfdXJscy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIj90b29sYm94LmJsb2NrcHlcIikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW5BcnJheV8oZmlsZSwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIWFuc3dlcl9wcmVmaXgucHlcIikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW5BcnJheV8oZmlsZSwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIWFuc3dlcl9zdWZmaXgucHlcIikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW5BcnJheV8oZmlsZSwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIXRhZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnRhZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zYW1wbGVTdWJtaXNzaW9ucztcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiRzZXR0aW5ncy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmRpc3BsYXk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZS5zdGFydHNXaXRoKFwiXlwiKSkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW5BcnJheV8oZmlsZSwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCIhXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgZmlsZS5maWxlbmFtZS5zdGFydHNXaXRoKFwiP1wiKSB8fFxuICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIiZcIikpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JzZXJ2ZUluQXJyYXlfKGZpbGUsIGFycmF5KSB7XG4gICAgICAgIGZpbGUub3duZXIgPSBhcnJheTtcbiAgICAgICAgbGV0IGNvZGVCdW5kbGUgPSBmaWxlLm93bmVyKCk7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGNvZGVCdW5kbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjb2RlQnVuZGxlW2ldLmZpbGVuYW1lKCkgPT09IGZpbGUuZmlsZW5hbWUpIHtcbiAgICAgICAgICAgICAgICBmaWxlLmhhbmRsZSA9IGNvZGVCdW5kbGVbaV0uY29udGVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGUuaGFuZGxlID09PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgbmV3RmlsZSA9IG1ha2VNb2RlbEZpbGUoZmlsZS5maWxlbmFtZSk7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IG5ld0ZpbGUuY29udGVudHM7XG4gICAgICAgICAgICBhcnJheS5wdXNoKG5ld0ZpbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW91bnRGaWxlcygpIHtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB0aGlzLm5ld0ZpbGUoXCJec3RhcnRpbmdfY29kZS5weVwiKTtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiIW9uX3J1bi5weVwiKTtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiIWluc3RydWN0aW9ucy5tZFwiKTtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiKTtcbiAgICB9XG5cbiAgICBkaXNtb3VudEV4dHJhRmlsZXMoKSB7XG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5maWxlc18pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzXy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChVTkRFTEVUQUJMRV9GSUxFUy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5maWxlc19bbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLndhdGNoZXNfW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdWJtaXNzaW9uLmNvZGVUT0RPOiBTaG91bGRuJ3Qgd2Ugbm90aWZ5IHRoZSBVSSB0aGF0IHRoZSBmaWxlIHdhcyBkZWxldGVkP1xuICAgIH1cblxuICAgIG5ld0ZpbGUoZmlsZW5hbWUsIGNvbnRlbnRzLCBtb2RlbEZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGVuYW1lIGluIHRoaXMuZmlsZXNfKSB7XG4gICAgICAgICAgICAvLyBGaWxlIGFscmVhZHkgZXhpc3RzISBKdXN0IHVwZGF0ZSBpdHMgaGFuZGxlXG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdGaWxlID0gdGhpcy5maWxlc19bZmlsZW5hbWVdO1xuICAgICAgICAgICAgaWYgKG1vZGVsRmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlRmlsZV8oZXhpc3RpbmdGaWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdGaWxlLmhhbmRsZSA9IG1vZGVsRmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4aXN0aW5nRmlsZS5oYW5kbGUoY29udGVudHMgfHwgXCJcIik7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdGaWxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmlsZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgbGV0IG5ld0ZpbGUgPSBuZXcgQmxvY2tQeUZpbGUodGhpcy5tYWluLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICB0aGlzLmZpbGVzX1tmaWxlbmFtZV0gPSBuZXdGaWxlO1xuICAgICAgICAgICAgaWYgKG1vZGVsRmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlRmlsZV8obmV3RmlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0ZpbGUuaGFuZGxlID0gbW9kZWxGaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBuZXdGaWxlLmhhbmRsZShjb250ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3RmlsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdyaXRlRmlsZShmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICAgICAgY29udGVudHMgPSBjb250ZW50cyB8fCBcIlwiO1xuICAgICAgICB0aGlzLmZpbGVzX1tmaWxlbmFtZV0uaGFuZGxlKGNvbnRlbnRzKTtcbiAgICB9XG5cbiAgICByZWFkRmlsZShmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxlc19bZmlsZW5hbWVdLmhhbmRsZSgpO1xuICAgIH1cblxuICAgIGdldEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXNfW2ZpbGVuYW1lXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWxlbmFtZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufG9iamVjdH0gVGhlIGluZm8gYWJvdXQgdGhlIGZpbGUsIG9yIGZhbHNlIGlmIGl0IGNvdWxkIG5vdCBiZSBkZWxldGVkXG4gICAgICovXG4gICAgZGVsZXRlRmlsZShmaWxlbmFtZSkge1xuICAgICAgICBpZiAoREVMRVRBQkxFX1NJTVBMRV9GSUxFUy5pbmRleE9mKGZpbGVuYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxldCBmaWxlID0gdGhpcy5kZWxldGVGaWxlTG9jYWxseV8oZmlsZW5hbWUpO1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUobnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZpbGVzX1tmaWxlbmFtZV0ub3duZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyaWdnZXJzIGEgY2FsbGJhY2sgdG8gZXZlbnR1YWxseSBjYWxsIGRlbGV0ZUZpbGVMb2NhbGx5X1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5maWxlc19bZmlsZW5hbWVdLm93bmVyLnJlbW92ZShtb2RlbEZpbGUgPT4gbW9kZWxGaWxlLmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZCB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlbGV0ZUZpbGVMb2NhbGx5XyhmaWxlbmFtZSkge1xuICAgICAgICBsZXQgZmlsZSA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZmlsZXNfW2ZpbGVuYW1lXTtcbiAgICAgICAgaWYgKGZpbGVuYW1lIGluIHRoaXMud2F0Y2hlc18pIHtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hlc19bZmlsZW5hbWVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2suZGVsZXRlZCgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9XG5cbiAgICByZW5hbWVGaWxlKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAgICAgaWYgKFVOUkVOQU1BQkxFX0ZJTEVTLmluZGV4T2Yoc291cmNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZpbGVzX1tmaWxlbmFtZV0ub3duZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyaWdnZXJzIGEgY2FsbGJhY2sgdG8gZXZlbnR1YWxseSBjYWxsIGRlbGV0ZUZpbGVMb2NhbGx5X1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5maWxlc19bZmlsZW5hbWVdLm93bmVyLnJlbW92ZShtb2RlbEZpbGUgPT4gbW9kZWxGaWxlLmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZCB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5vdGlmeVdhdGNoZXMoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSBpbiB0aGlzLndhdGNoZXNfKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGUuZmlsZW5hbWVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sudXBkYXRlZChmaWxlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hGb3JGaWxlKG5hbWUsIHN0dWRlbnRTZWFyY2gpIHtcbiAgICAgICAgLypcbiAgICAgICAgVE9ETzogVGhpcyBpcyBjYWxsZWQgcXVpdGUgYSBiaXQgYnkgdGhlIEltcG9ydCBtZWNoYW5pc20sIG1pZ2h0IG5lZWRcbiAgICAgICAgICAgICAgdG8gb3B0aW1pemUgaXQgc29tZSBtb3JlLiBEbyB0aW1pbmcgdGVzdHMuXG5cbiAgICAgICAgZmlsZXMuKlxuICAgICAgICBfaW5zdHJ1Y3Rvci9maWxlcy4qXG4gICAgICAgIF9zdHVkZW50L2ZpbGVzLipcblxuICAgICAgICBJZiBhIHN0dWRlbnQgc2VhcmNoZXMgZm9yIGEgZmlsZSwgaXQgY2hlY2tzIHRoZSBcIj9cIiwgXCImXCIsIFwiKlwiLCBcIlwiIG5hbWVzcGFjZXNcbiAgICAgICAgICAgIGltcG9ydCBoZWxwZXIgPT4gXCIuL2hlbHBlci5weVwiXG4gICAgICAgICAgICBvcGVuKFwiZXh0ZXJuYWwuanNvblwiKSA9PiBcImV4dGVybmFsLmpzb25cIlxuICAgICAgICBJZiBhbiBpbnN0cnVjdG9yIHNlYXJjaGVzIGZvciBhIGZpbGUsIGl0IGNoZWNrcyBcIiFcIiwgXCJeXCIsIFwiP1wiLCBcIiZcIiwgXCIqXCIsIFwiXCIgbmFtZXNwYWNlc1xuICAgICAgICAgICAgVG8gZXhwbGljaXRseSBzZWFyY2ggaW5zdHJ1Y3RvciBuYW1lc3BhY2VzIGZpcnN0XG4gICAgICAgICAgICAgICAgaW1wb3J0IF9pbnN0cnVjdG9yLmhlbHBlciA9PiBcIi4vaW5zdHJ1Y3Rvci9oZWxwZXIucHlcIlxuICAgICAgICAgICAgICAgIG9wZW4oXCJfaW5zdHJ1Y3Rvci9leHRlcm5hbC5qc29uXCIpID0+IFwiX2luc3RydWN0b3IvZXh0ZXJuYWwuanNvblwiXG4gICAgICAgICAgICB0byBhbGxvdyBzdHVkZW50IGZpbGVzIHRvIG92ZXJyaWRlOlxuICAgICAgICAgICAgICAgIGltcG9ydCBoZWxwZXIgPT4gXCIuL2hlbHBlci5weVwiXG4gICAgICAgICAgICAgICAgb3BlbihcImV4dGVybmFsLmpzb25cIikgPT4gXCJleHRlcm5hbC5qc29uXCJcbiAgICAgICAgICAgIHRvIG9ubHkgY2hlY2sgc3R1ZGVudCBmaWxlcywgcHJlcGVuZCB3aXRoIF9zdHVkZW50XG4gICAgICAgICAqL1xuICAgICAgICAvLyBDaG9wIG9mZiBzdGFydGluZyBcIi4vXCJcbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi4vXCIpKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VhcmNoTW9kZSA9IFNlYXJjaE1vZGVzLkVWRVJZV0hFUkU7XG4gICAgICAgIC8vIFNob3VsZCB0aGUgc2VhcmNoIGJlIHN0YXJ0IHdpdGggaW5zdHJ1Y3RvciBzaWRlP1xuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKElOU1RSVUNUT1JfRElSRUNUT1JZKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoSU5TVFJVQ1RPUl9ESVJFQ1RPUlkubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5TVEFSVF9XSVRIX0lOU1RSVUNUT1I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdWxkIHRoZSBzZWFyY2ggYmUgbGltaXRlZCB0byB0aGUgc3R1ZGVudCBtb2RlP1xuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKFNUVURFTlRfRElSRUNUT1JZKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoU1RVREVOVF9ESVJFQ1RPUlkubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVM7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudFNlYXJjaCkge1xuICAgICAgICAgICAgc2VhcmNoTW9kZSA9IFNlYXJjaE1vZGVzLk9OTFlfU1RVREVOVF9GSUxFUztcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgaW5zdHJ1Y3RvciB2ZXJzaW9uc1xuICAgICAgICBsZXQgZXh0cmFTdHVkZW50RmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKCk7XG4gICAgICAgIGxldCBleHRyYUluc3RydWN0b3JGaWxlcyA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCk7XG4gICAgICAgIGxldCBleHRyYVN0YXJ0aW5nRmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMoKTtcbiAgICAgICAgLy8gQ2hlY2sgc3BlY2lhbCBmaWxlcyAoVE9ETzogaG93IHdvdWxkIGFuIGluc3RydWN0b3IgYWNjZXNzIFwiLi9faW5zdHJ1Y3Rvci9hbnN3ZXIucHlcIj9cbiAgICAgICAgbGV0IHNwZWNpYWxGaWxlID0gdGhpcy5zZWFyY2hGb3JTcGVjaWFsRmlsZXNfKG5hbWUsIHNlYXJjaE1vZGUpO1xuICAgICAgICBpZiAoc3BlY2lhbEZpbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNpYWxGaWxlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0IGxvb2tpbmcgdGhyb3VnaCBwb3NzaWJsZSBmaWxlc1xuICAgICAgICBsZXQgc3R1ZGVudFZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhU3R1ZGVudEZpbGVzLCBuYW1lKTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZFZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhU3R1ZGVudEZpbGVzLCBcIipcIituYW1lKTtcbiAgICAgICAgbGV0IGRlZmF1bHRWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYUluc3RydWN0b3JGaWxlcywgXCImXCIrbmFtZSk7XG4gICAgICAgIGxldCBoaWRkZW5WZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYUluc3RydWN0b3JGaWxlcywgXCI/XCIrbmFtZSk7XG4gICAgICAgIGxldCByZW1vdGVWZXJzaW9uID0gdGhpcy5yZW1vdGVGaWxlc19bbmFtZV07XG4gICAgICAgIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVMpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdERlZmluZWRWYWx1ZShoaWRkZW5WZXJzaW9uLCBkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24sIHJlbW90ZVZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnN0cnVjdG9yVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiIVwiK25hbWUpO1xuICAgICAgICBsZXQgc3RhcnRpbmdWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYVN0YXJ0aW5nRmlsZXMsIFwiXlwiK25hbWUpO1xuICAgICAgICBpZiAoc2VhcmNoTW9kZSA9PT0gU2VhcmNoTW9kZXMuU1RBUlRfV0lUSF9JTlNUUlVDVE9SKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3REZWZpbmVkVmFsdWUoaW5zdHJ1Y3RvclZlcnNpb24sIGhpZGRlblZlcnNpb24sIHN0YXJ0aW5nVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24sIHJlbW90ZVZlcnNpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKHNlYXJjaE1vZGUgPT09IFNlYXJjaE1vZGVzLkVWRVJZV0hFUkUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdERlZmluZWRWYWx1ZShkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3RvclZlcnNpb24sIGhpZGRlblZlcnNpb24sIHN0YXJ0aW5nVmVyc2lvbiwgcmVtb3RlVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hGb3JGaWxlSW5MaXN0Xyhtb2RlbExpc3QsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IG1vZGVsTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1vZGVsTGlzdFtpXS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbExpc3RbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZWFyY2hGb3JTcGVjaWFsRmlsZXNfKGZpbGVuYW1lLCBzZWFyY2hNb2RlKSB7XG4gICAgICAgIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL2Fuc3dlci5weVwiLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiYW5zd2VyLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3IvYW5zd2VyLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKSk7XG4gICAgICAgICAgICBjYXNlIFwib25fcnVuLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivb25fcnVuLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKCkpO1xuICAgICAgICAgICAgY2FzZSBcIm9uX2NoYW5nZS5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL29uX2NoYW5nZS5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpKTtcbiAgICAgICAgICAgIGNhc2UgXCJvbl9ldmFsLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivb25fZXZhbC5tZFwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSk7XG4gICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3Rpb25zLm1kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3IvaW5zdHJ1Y3Rpb25zLm1kXCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucygpKTtcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydGluZ19jb2RlLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivc3RhcnRpbmdfY29kZS5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBuZXdGaWxlRGlhbG9nKGtpbmQpIHtcbiAgICAgICAgbGV0IGJvZHkgPSAkKE5FV19JTlNUUlVDVE9SX0ZJTEVfRElBTE9HX0hUTUwpO1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBib2R5LmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCIpO1xuICAgICAgICBsZXQgZmlsZXR5cGUgPSBib2R5LmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGV0eXBlXCIpO1xuICAgICAgICBsZXQgbmFtZXNwYWNlID0gYm9keS5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIik7XG4gICAgICAgIGxldCBleHRlbnNpb25SZWdleCA9IC8oPzpcXC4oW14uXSspKT8kLztcbiAgICAgICAgZmlsZW5hbWUub24oXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uUmVnZXguZXhlYyhmaWxlbmFtZS52YWwoKSlbMV07XG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gPT09IHVuZGVmaW5lZCA/IFwiTm8gZXh0ZW5zaW9uXCIgOiBleHRlbnNpb247XG4gICAgICAgICAgICAvL1RPRE86IHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuZ2V0RWRpdG9yRnJvbUV4dGVuc2lvbihleHRlbnNpb24pO1xuICAgICAgICAgICAgZmlsZXR5cGUudGV4dChleHRlbnNpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHllcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiaW5zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gbmFtZXNwYWNlLnZhbCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSBcInN0YXJ0aW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBcIl5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpbGVuYW1lLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBwcmVmaXgrZmlsZW5hbWUudmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYm9keS5zdWJtaXQoKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHllcygpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuY29uZmlybShcIk1ha2UgTmV3IEZpbGVcIiwgYm9keSwgeWVzLCAoKT0+e30sIFwiQWRkXCIpO1xuICAgIH1cblxuICAgIGxvYWRSZW1vdGVGaWxlcyhmaWxlcz1udWxsKSB7XG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHJlbW90ZSBmaWxlcyAoPylcbiAgICAgICAgLypcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5yZW1vdGVGaWxlc18pLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlbW90ZUZpbGVzX1twcm9wXTtcbiAgICAgICAgfSk7Ki9cbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuXG4gICAgICAgIGNvbnN0IHByZWxvYWRGaWxlcyA9IG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MucHJlbG9hZEZpbGVzKCkgfHwgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5wcmVsb2FkQWxsRmlsZXMoKTtcbiAgICAgICAgaWYgKCFwcmVsb2FkRmlsZXMgJiYgIWZpbGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5wcmVsb2FkRmlsZXMoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmaWxlcyA9IEpTT04ucGFyc2UocHJlbG9hZEZpbGVzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHByZWxvYWQgZmlsZXMsIGludmFsaWQgc3RydWN0dXJlOiBcIiwgZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkUmVtb3RlRmlsZXMoZmlsZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkUmVtb3RlRmlsZXModGhpcy5yZW9yZ2FuaXplRmlsZXMoZmlsZXMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5saXN0VXBsb2FkZWRGaWxlcygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWRSZW1vdGVGaWxlcyh0aGlzLnJlb3JnYW5pemVGaWxlcyhkYXRhLmZpbGVzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlb3JnYW5pemVGaWxlcyhmaWxlcykge1xuICAgICAgICBjb25zdCBvcmdhbml6ZWQgPSB7fTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZmlsZXMpLmZvckVhY2goKFtwbGFjZW1lbnQsIHBsYWNlZEZpbGVzXSkgPT4ge1xuICAgICAgICAgICAgcGxhY2VkRmlsZXMuZm9yRWFjaCgoW2ZpbGVuYW1lLCB1cmxdKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTCh1cmwsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pLnNlYXJjaFBhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RvcnkgPSBzZWFyY2hQYXJhbXMuZ2V0KFwiZGlyZWN0b3J5XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudCA9IHNlYXJjaFBhcmFtcy5nZXQoXCJwbGFjZW1lbnRcIik7XG4gICAgICAgICAgICAgICAgaWYgKCEocGxhY2VtZW50IGluIG9yZ2FuaXplZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemVkW3BsYWNlbWVudF0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlyZWN0b3J5IGluIG9yZ2FuaXplZFtwbGFjZW1lbnRdKSkge1xuICAgICAgICAgICAgICAgICAgICBvcmdhbml6ZWRbcGxhY2VtZW50XVtkaXJlY3RvcnldID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9yZ2FuaXplZFtwbGFjZW1lbnRdW2RpcmVjdG9yeV1bZmlsZW5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVzVG9VcmxzW2ZpbGVuYW1lXSA9IHVybDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9yZ2FuaXplZDtcbiAgICB9XG5cbiAgICBkb3dubG9hZFJlbW90ZUZpbGVzKGZpbGVzKSB7XG4gICAgICAgIGNvbnN0IG9sZFJlbWFpbmluZ0ZpbGVzID0gT2JqZWN0LmtleXModGhpcy5yZW1vdGVGaWxlc18pO1xuICAgICAgICBPYmplY3QuZW50cmllcyhmaWxlcykuZm9yRWFjaCgoW3BsYWNlbWVudCwgcGxhY2VtZW50RGF0YV0pID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHBsYWNlbWVudERhdGEpLmZvckVhY2goKFtkaXJlY3RvcnksIGRpcmVjdG9yeURhdGFdKSA9PiB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZGlyZWN0b3J5RGF0YSkuZm9yRWFjaCgoW2ZpbGVuYW1lLCByZW5hbWVkRmlsZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbmFtZWRGaWxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW5hbWVkRmlsZSA9IGZpbGVuYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlbmFtZWRGaWxlIGluIHRoaXMucmVtb3RlRmlsZXNfKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmRvd25sb2FkRmlsZShwbGFjZW1lbnQsIGRpcmVjdG9yeSwgZmlsZW5hbWUsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdGaWxlKFwiaW1hZ2VzLmJsb2NrcHlcIiwgXCJ7fVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZUZpbGVzX1tyZW5hbWVkRmlsZV0gPSBtYWtlTW9ja01vZGVsRmlsZShyZW5hbWVkRmlsZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFJlbWFpbmluZ0ZpbGVzW3JlbmFtZWRGaWxlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHVwIHRoZSBvbGQgZmlsZXMgYWZ0ZXIgYWxsIHRoZSBuZXcgb25lcyBhcmUgbG9hZGVkXG4gICAgfVxufSIsIi8vVE9ETzogTW92ZSBnZXQgbGluayBkb3duIHRvIGZvb3RlciwgcmVtb3ZlIHZlcnRpY2FsIGJhciBmcm9tIHF1aWNrLW1lbnVcbmV4cG9ydCBsZXQgRk9PVEVSX0hUTUwgPSBgXG48ZGl2IGNsYXNzPVwiY29sLW1kLTEyIGJsb2NrcHktcGFuZWwgYmxvY2tweS1zdGF0dXNcIj5cbiAgICA8ZGl2PlxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdsb2FkQXNzaWdubWVudCcpXCI+TG9hZCBBc3NpZ25tZW50XG4gICAgICAgICAgICA8IS0tIGtvIGlmOiBkaXNwbGF5Lmluc3RydWN0b3IgLS0+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgY2xhc3M9XCJibG9ja3B5LWZvcmNlLWxvYWQtYXNzaWdubWVudC1maWxlIGJsb2NrcHktaGlkZGVuLWZpbGVcIlxuICAgICAgICAgICAgYWNjZXB0PVwiYXBwbGljYXRpb24vSlNPTlwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJldmVudDoge2NoYW5nZTogdWkuc2VydmVyLmZvcmNlLmxvYWRBc3NpZ25tZW50fVwiPlxuICAgICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgIDwvbGFiZWw+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdzYXZlQXNzaWdubWVudCcpXCI+U2F2ZSBBc3NpZ25tZW50PC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnbG9hZEZpbGUnKVwiPkxvYWQgRmlsZTwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ3NhdmVGaWxlJylcIj5TYXZlIEZpbGU8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdsb2FkRGF0YXNldCcpXCI+TG9hZCBEYXRhc2V0PC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnbG9nRXZlbnQnKVwiPkxvZyBFdmVudDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ3VwZGF0ZVN1Ym1pc3Npb24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuc2VydmVyLmZvcmNlLnVwZGF0ZVN1Ym1pc3Npb25cIj5VcGRhdGUgU3VibWlzc2lvbjwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ29uRXhlY3V0aW9uJylcIj5FeGVjdXRpb248L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdlxuICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1aS5zZXJ2ZXIubWVzc2FnZXNcIj48L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgICAgPHNwYW4+VXNlcjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdXNlci5pZFwiPjwvc3Bhbj4gKDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIubmFtZVwiPjwvc3Bhbj4sIDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIucm9sZVwiPjwvc3Bhbj4pPC9zcGFuPiwgXG4gICAgICAgIDxzcGFuPkNvdXJzZTogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdXNlci5jb3Vyc2VJZFwiPjwvc3Bhbj48L3NwYW4+LFxuICAgICAgICA8c3Bhbj5Hcm91cDogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdXNlci5ncm91cElkXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPkFzc2lnbm1lbnQ6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IGFzc2lnbm1lbnQuaWRcIj48L3NwYW4+PC9zcGFuPixcbiAgICAgICAgPHNwYW4+QXNzaWdubWVudCBWZXJzaW9uOiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBhc3NpZ25tZW50LnZlcnNpb25cIj48L3NwYW4+PC9zcGFuPixcbiAgICAgICAgPHNwYW4+U3VibWlzc2lvbjogXG4gICAgICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBzdWJtaXNzaW9uLmlkXCI+PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwiaWY6IHN1Ym1pc3Npb24ub3duZXJJZCgpICE9IHVzZXIuaWQoKVwiPlxuICAgICAgICAgICAgICAgIChPd25lciBJRDogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3VibWlzc2lvbi5vd25lcklkKClcIj48L3NwYW4+KVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4+U3VibWlzc2lvbiBWZXJzaW9uOiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBzdWJtaXNzaW9uLnZlcnNpb25cIj48L3NwYW4+PC9zcGFuPixcbiAgICAgICAgPHNwYW4+RWRpdG9yIFZlcnNpb246IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IGRpc3BsYXkuZWRpdG9yVmVyc2lvblwiPjwvc3Bhbj48L3NwYW4+XG4gICAgPC9kaXY+XG48L2Rpdj5cbmA7IiwiLy8gVE9ETzogU2hvdWxkIGRpc2FibGUgYnV0dG9ucyBpZiB3ZSBjYW4ndCBhY3RpdmF0ZSB0aGVtLlxuXG5leHBvcnQgY29uc3QgSElTVE9SWV9UT09MQkFSX0hUTUwgPSBgXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1oaXN0b3J5LXRvb2xiYXIgY29sLW1kLTEyXCIgZGF0YS1iaW5kPVwidmlzaWJsZTogZGlzcGxheS5oaXN0b3J5TW9kZVwiPlxuXG4gICAgPGZvcm0gY2xhc3M9XCJmb3JtLWlubGluZVwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmxvY2tweS1oaXN0b3J5LXN0YXJ0IGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXItMlwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3Rvcnkuc3RhcnRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtc3RlcC1iYWNrd2FyZCc+PC9zcGFuPiBTdGFydFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXItMlwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3RvcnkucHJldmlvdXNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtYmFja3dhcmQnPjwvc3Bhbj4gUHJldmlvdXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxzZWxlY3QgY2xhc3M9XCJibG9ja3B5LWhpc3Rvcnktc2VsZWN0b3IgZm9ybS1jb250cm9sIGN1c3RvbS1zZWxlY3QgbXItMlwiIGFyaWEtdGl0bGU9XCJIaXN0b3J5IFNlbGVjdG9yXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtci0yXCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS51c2VcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZmlsZS1pbXBvcnQnPjwvc3Bhbj4gVXNlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtci0yXCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS5uZXh0XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWZvcndhcmQnPjwvc3Bhbj4gTmV4dFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5oaXN0b3J5Lm1vc3RSZWNlbnRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtc3RlcC1mb3J3YXJkJz48L3NwYW4+IE1vc3QgUmVjZW50XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZm9ybT5cbjwvZGl2PlxuYDtcblxuLyoqXG4gKiBBbiBvYmplY3QgZm9yIGRpc3BsYXlpbmcgdGhlIHVzZXIncyBjb2RpbmcgbG9ncyAodGhlaXIgaGlzdG9yeSkuXG4gKiBBIGxpZ2h0d2VpZ2h0IGNvbXBvbmVudCwgaXRzIG9ubHkgam9iIGlzIHRvIG9wZW4gYSBkaWFsb2cuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeUhpc3Rvcnl9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHlIaXN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICAgIHRoaXMuY3VycmVudElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMuZWRpdEV2ZW50cyA9IFtdO1xuICAgIH1cblxuICAgIGxvYWQoaGlzdG9yeSkge1xuICAgICAgICB0aGlzLmhpc3RvcnkgPSBoaXN0b3J5O1xuICAgICAgICB0aGlzLmVkaXRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9ICQoXCIuYmxvY2tweS1oaXN0b3J5LXNlbGVjdG9yXCIpLmVtcHR5KCk7XG4gICAgICAgIGxldCBlZGl0SWQgPSAwO1xuICAgICAgICBoaXN0b3J5XG4gICAgICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT4gKFxuICAgICAgICAgICAgICAgICFlbnRyeS5maWxlX3BhdGguc3RhcnRzV2l0aChcIl9pbnN0cnVjdG9yLlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5ldmVudF90eXBlICE9PSBcIkNvbXBpbGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5ldmVudF90eXBlICE9PSBcIkludGVydmVudGlvblwiICYmXG4gICAgICAgICAgICAgICAgICAgICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCkgfHwgZW50cnkuZXZlbnRfdHlwZSAhPT0gXCJYLVN1Ym1pc3Npb24uTE1TXCIpXG4gICAgICAgICAgICApKVxuICAgICAgICAgICAgLmZvckVhY2goKGVudHJ5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBldmVudF90eXBlID0gUkVNQVBfRVZFTlRfVFlQRVNbZW50cnkuZXZlbnRfdHlwZV0gfHwgZW50cnkuZXZlbnRfdHlwZTtcbiAgICAgICAgICAgICAgICBsZXQgZGlzcGxheWVkID0gcHJldHR5UHJpbnREYXRlVGltZShlbnRyeS5jbGllbnRfdGltZXN0YW1wKSArXCIgLSBcIitldmVudF90eXBlO1xuICAgICAgICAgICAgICAgIGxldCBkaXNhYmxlID0gKGVudHJ5LmV2ZW50X3R5cGUgIT09IFwiRmlsZS5FZGl0XCIpO1xuICAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSAkKFwiPG9wdGlvbj48L29wdGlvbj5cIiwge3RleHQ6IGRpc3BsYXllZCwgZGlzYWJsZWQ6IGRpc2FibGV9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VkaXRFdmVudChlbnRyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmF0dHIoXCJ2YWx1ZVwiLCBlZGl0SWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRFdmVudHMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRJZCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmFwcGVuZChvcHRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKE1hdGgubWF4KDAsIGVkaXRJZC0xKSk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IuY2hhbmdlKChldnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1vdmVUb1N0YXJ0KCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbCgwKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICB9XG5cbiAgICBtb3ZlUHJldmlvdXMoKSB7XG4gICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKE1hdGgubWF4KDAsIGN1cnJlbnRJZC0xKSk7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgbW92ZU5leHQoKSB7XG4gICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKE1hdGgubWluKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgtMSwgY3VycmVudElkKzEpKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICB9XG5cbiAgICBtb3ZlVG9Nb3N0UmVjZW50KCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbCh0aGlzLmVkaXRFdmVudHMubGVuZ3RoLTEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcigpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uc2V0Q29kZSh0aGlzLmVkaXRFdmVudHNbY3VycmVudElkXS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgICAgICBsZXQgY29kZSA9IHRoaXMuZWRpdEV2ZW50c1tjdXJyZW50SWRdLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9mZkhpc3RvcnlNb2RlKCk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuZmlsZS5oYW5kbGUoY29kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0VkaXRFdmVudChlbnRyeSkge1xuICAgICAgICByZXR1cm4gKChlbnRyeS5ldmVudF90eXBlID09PSBcIkZpbGUuRWRpdFwiIHx8XG4gICAgICAgICAgICAgICAgIGVudHJ5LmV2ZW50X3R5cGUgPT09IFwiRmlsZS5DcmVhdGVcIikgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZSgpID09PSBlbnRyeS5maWxlX3BhdGgpO1xuICAgIH1cblxufVxuXG5jb25zdCBSRU1BUF9FVkVOVF9UWVBFUyA9IHtcbiAgICBcIlNlc3Npb24uU3RhcnRcIjogXCJCZWdhbiBzZXNzaW9uXCIsXG4gICAgXCJYLUlQLkNoYW5nZVwiOiBcIkNoYW5nZWQgSVAgYWRkcmVzc1wiLFxuICAgIFwiRmlsZS5FZGl0XCI6IFwiRWRpdGVkIGNvZGVcIixcbiAgICBcIkZpbGUuQ3JlYXRlXCI6IFwiU3RhcnRlZCBhc3NpZ25tZW50XCIsXG4gICAgXCJSdW4uUHJvZ3JhbVwiOiBcIlJhbiBwcm9ncmFtXCIsXG4gICAgXCJDb21waWxlLkVycm9yXCI6IFwiU3ludGF4IGVycm9yXCIsXG4gICAgXCJYLVN1Ym1pc3Npb24uTE1TXCI6IFwiVXBkYXRlZCBncmFkZVwiXG59O1xuXG5jb25zdCBtb250aE5hbWVzID0gW1xuICAgIFwiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsXG4gICAgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLFxuICAgIFwiQXVnXCIsIFwiU2VwdFwiLCBcIk9jdFwiLFxuICAgIFwiTm92XCIsIFwiRGVjXCJcbl07XG5jb25zdCB3ZWVrRGF5cyA9IFtcbiAgICBcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLFxuICAgIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsXG4gICAgXCJTYXRcIlxuXTtcblxuZnVuY3Rpb24gaXNTYW1lRGF5KGZpcnN0LCBzZWNvbmQpIHtcbiAgICByZXR1cm4gZmlyc3QuZ2V0RGF0ZSgpID09PSBzZWNvbmQuZ2V0RGF0ZSgpICYmXG4gICAgICAgIGZpcnN0LmdldE1vbnRoKCkgPT09IHNlY29uZC5nZXRNb250aCgpICYmXG4gICAgICAgIGZpcnN0LmdldEZ1bGxZZWFyKCkgPT09IHNlY29uZC5nZXRGdWxsWWVhcigpO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBwYXJzZSBhIGRhdGUvdGltZSBzdHJpbmcgYW5kIHJld3JpdGUgaXQgYXMgc29tZXRoaW5nXG4gKiBtb3JlIGh1bWFuIHJlYWRhYmxlLlxuICogQHBhcmFtIHtTdHJpbmd9IHRpbWVTdHJpbmcgLSB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRpbWUgKFwiWVlZWU1NREQgSEhNTVNTXCIpXG4gKiBAcmV0dXJucyB7U3RyaW5nfSAtIEEgaHVtYW4tcmVhZGFibGUgdGltZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHByZXR0eVByaW50RGF0ZVRpbWUodGltZVN0cmluZykge1xuICAgIC8qbGV0IHllYXIgPSB0aW1lU3RyaW5nLnNsaWNlKDAsIDQpLFxuICAgICAgICBtb250aCA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc2xpY2UoNCwgNiksIDEwKS0xLFxuICAgICAgICBkYXkgPSB0aW1lU3RyaW5nLnNsaWNlKDYsIDgpLFxuICAgICAgICBob3VyID0gdGltZVN0cmluZy5zbGljZSg5LCAxMSksXG4gICAgICAgIG1pbnV0ZXMgPSB0aW1lU3RyaW5nLnNsaWNlKDExLCAxMyksXG4gICAgICAgIHNlY29uZHMgPSB0aW1lU3RyaW5nLnNsaWNlKDEzLCAxNSk7Ki9cbiAgICAvLyBUT0RPOiBIYW5kbGUgdGltZXpvbmVzIGNvcnJlY3RseVxuICAgIGlmICh0aW1lU3RyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFwiVW5kZWZpbmVkIFRpbWVcIjtcbiAgICB9XG4gICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IHBhc3QgPSBuZXcgRGF0ZShwYXJzZUludCh0aW1lU3RyaW5nLCAxMCkpO1xuICAgIGlmIChpc1NhbWVEYXkobm93LCBwYXN0KSkge1xuICAgICAgICByZXR1cm4gXCJUb2RheSBhdCBcIitwYXN0LnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkYXlTdHIgPSB3ZWVrRGF5c1twYXN0LmdldERheSgpXTtcbiAgICAgICAgbGV0IG1vbnRoU3RyID0gbW9udGhOYW1lc1twYXN0LmdldE1vbnRoKCldO1xuICAgICAgICBsZXQgZGF0ZSA9IGRheVN0ciArIFwiLCBcIiArIG1vbnRoU3RyICsgXCIgXCIgKyBwYXN0LmdldERhdGUoKTtcbiAgICAgICAgaWYgKG5vdy5nZXRGdWxsWWVhcigpID09PSBwYXN0LmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlICsgXCIgYXQgXCIrcGFzdC50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlICsgXCIsIFwiK3Bhc3QuZ2V0RnVsbFllYXIoKSArIFwiIGF0IFwiK3Bhc3QudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiBPcGVucyB0aGUgaGlzdG9yeSBkaWFsb2cgYm94LiBUaGlzIHJlcXVpcmVzIGEgdHJpcCB0byB0aGUgc2VydmVyIGFuZFxuICogb2NjdXJzIGFzeW5jaHJvbm91c2x5LiBUaGUgdXNlcnMnIGNvZGUgaXMgc2hvd24gaW4gcHJlZm9ybWF0dGVkIHRleHRcbiAqIHRhZ3MgKG5vIGNvZGUgaGlnaGxpZ2h0aW5nIGN1cnJlbnRseSkgYWxvbmcgd2l0aCB0aGUgdGltZXN0YW1wLlxuICovXG5CbG9ja1B5SGlzdG9yeS5wcm90b3R5cGUub3BlbkRpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaWFsb2cgPSB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2c7XG4gICAgdmFyIGJvZHkgPSBcIjxwcmU+YSA9IDA8L3ByZT5cIjtcbiAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuZ2V0SGlzdG9yeShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBib2R5ID0gZGF0YS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChjb21wbGV0ZSwgZWxlbSkgeyBcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZV9zdHIgPSBwcmV0dHlQcmludERhdGVUaW1lKGVsZW0udGltZSk7XG4gICAgICAgICAgICB2YXIgbmV3X2xpbmUgPSBcIjxiPlwiK2NvbXBsZXRlX3N0citcIjwvYj48YnI+PHByZT5cIitlbGVtLmNvZGUrXCI8L3ByZT5cIjtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZStcIlxcblwiK25ld19saW5lO1xuICAgICAgICB9LCBcIlwiKTtcbiAgICAgICAgZGlhbG9nLnNob3coXCJXb3JrIEhpc3RvcnlcIiwgYm9keSwgZnVuY3Rpb24oKSB7fSk7XG4gICAgfSk7XG59OyIsIi8qKlxuICogQGZpbGVvdmVydmlldyBDb250YWlucyBtYWluIEhUTUwgb2YgQmxvY2tQeSBpbnRlcmZhY2UsIGFuZCBoZWxwZXIgZnVuY3Rpb25zLlxuICogQ29tYmluZXMgYSBsb3Qgb2YgSFRNTCBmcm9tIGNvbXBvbmVudHMuXG4gKlxuICogSGVyZSdzIHRoZSBsYXlvdXQ6XG4gKiAgUm93IDE6IEhlYWRlciBhbmQgUXVpY2sgTWVudVxuICogIFJvdyAyOiBDb25zb2xlIGFuZCBGZWVkYmFja1xuICogIFJvdyAzOiBGaWxlIE5hdmlnYXRpb25cbiAqICBSb3cgNDogVmlldyBSb3dcbiAqICBSb3cgNTogRm9vdGVyIFJvd1xuICovXG5cbmltcG9ydCB7VFJBQ0VfSFRNTH0gZnJvbSBcInRyYWNlLmpzXCI7XG5pbXBvcnQge0RJQUxPR19IVE1MfSBmcm9tIFwiZGlhbG9nLmpzXCI7XG5pbXBvcnQge0ZFRURCQUNLX0hUTUx9IGZyb20gXCJmZWVkYmFjay5qc1wiO1xuaW1wb3J0IHtGSUxFU19IVE1MfSBmcm9tIFwiZmlsZXMuanNcIjtcbmltcG9ydCB7Rk9PVEVSX0hUTUx9IGZyb20gXCJmb290ZXIuanNcIjtcbmltcG9ydCB7RURJVE9SU19IVE1MfSBmcm9tIFwiZWRpdG9ycy5qc1wiO1xuaW1wb3J0IHtDT05TT0xFX0hUTUx9IGZyb20gXCJjb25zb2xlLmpzXCI7XG5cbi8qKlxuICogVGhlIGRpZmZlcmVudCBsYXlvdXQgb3B0aW9ucyBvZiB0aGUgcGFuZXMgaW4gdGhlIHNlY29uZCByb3cgb2YgdGhlIGxheW91dC5cbiAqIEBlbnVtIHtTdHJpbmd9XG4gKi9cbmV4cG9ydCBsZXQgU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zID0ge1xuICAgIEZFRURCQUNLOiBcImZlZWRiYWNrXCIsXG4gICAgVFJBQ0U6IFwidHJhY2VcIixcbiAgICBOT05FOiBcIm5vbmVcIlxufTtcblxuLyoqXG4gKiBTZXR1cCBhbnkgYWRkaXRpb25hbCBLbm9ja291dCBzdWJzY3JpcHRpb25zIHRvIGZpcmUgb24gaW50ZXJmYWNlIGNoYW5nZXMuXG4gKiBAcGFyYW0gc2VsZlxuICogQHBhcmFtIG1vZGVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRXh0cmFJbnRlcmZhY2VTdWJzY3JpcHRpb25zKHNlbGYsIG1vZGVsKSB7XG4gICAgLy8gSGlnaGxpZ2h0IE1hcmtkb3duIHdoZW4gaW5zdHJ1Y3Rpb25zIHVwZGF0ZVxuICAgIGxldCBoaWdobGlnaHRUaW1lb3V0ID0gbnVsbDtcbiAgICBtb2RlbC51aS5pbnN0cnVjdGlvbnMuY3VycmVudC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBpZiAoaGlnaGxpZ2h0VGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhpZ2hsaWdodFRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGhpZ2hsaWdodFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdGlvbnMgcHJlIGNvZGVcIikubWFwKCAoaSwgYmxvY2spID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGxqcy5oaWdobGlnaHRCbG9jayhibG9jayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNDAwKTtcbiAgICB9KTtcbiAgICAvLyBQcm92aWRlIEZ1bGxzY3JlZW4gc3VwcG9ydFxuICAgIG1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbi5zdWJzY3JpYmUoKGlzRnVsbHNjcmVlbikgPT4ge1xuICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1EaXNwbGF5LkZ1bGxzY3JlZW4uUmVxdWVzdFwiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVsbHNjcmVlbi50b1N0cmluZygpLCBcIlwiKTtcbiAgICAgICAgaWYgKGlzRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgLy8gTk9URTogbmF2aWdhdGlvblVJIGNvdWxkIGFsbG93IHVzIHRvIGZvcmNlIGNvbnRyb2xzIHRvIHNob3dcbiAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLnBhcmVudCgpWzBdLnJlcXVlc3RGdWxsc2NyZWVuKCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBFcnJvciBhdHRlbXB0aW5nIHRvIGVuYWJsZSBmdWxsLXNjcmVlbiBtb2RlOiAke2Vyci5tZXNzYWdlfSAoJHtlcnIubmFtZX0pYDtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1EaXNwbGF5LkZ1bGxzY3JlZW4uRXJyb3JcIiwgXCJcIiwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsICBcIlwiKTtcbiAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKTtcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLURpc3BsYXkuRnVsbHNjcmVlbi5TdWNjZXNzXCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuY3NzKFwib3ZlcmZsb3cteVwiLCBcImF1dG9cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRGlzcGxheS5GdWxsc2NyZWVuLkV4aXRcIiwgXCJcIiwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVsbHNjcmVlbi50b1N0cmluZygpLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4oZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gVE9ETzogR2V0IHNoYXJlYWJsZSBsaW5rIGJ1dHRvblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUludGVyZmFjZShtYWluKSB7XG4gICAgcmV0dXJuIGBcbjxkaXYgY2xhc3M9J2Jsb2NrcHktY29udGVudCBjb250YWluZXItZmx1aWQnPlxuXG4gICAgPCEtLSBEaWFsb2cgLS0+XG4gICAgJHtESUFMT0dfSFRNTH1cbiAgICBcbiAgICA8IS0tIEhpZGRlbiBDYXB0dXJlIENhbnZhcyAtLT5cbiAgICA8Y2FudmFzIGlkPSdjYXB0dXJlLWNhbnZhcycgY2xhc3M9J2Qtbm9uZScgcm9sZT1cInByZXNlbnRhdGlvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvY2FudmFzPlxuICAgIFxuICAgIDwhLS0gUm93IDE6IEhlYWRlciBhbmQgUXVpY2sgTWVudSAtLT5cbiAgICA8ZGl2IGNsYXNzPSdyb3cnIGRhdGEtYmluZD1cImhpZGRlbjogdWkuc21hbGxMYXlvdXQoKVwiPlxuICAgICAgICAgXG4gICAgICAgICA8IS0tIERlc2NyaXB0aW9uIC0tPlxuICAgICAgICAgPGRpdiBjbGFzcz0nY29sLW1kLTkgYmxvY2tweS1wYW5lbCBibG9ja3B5LWhlYWRlcidcbiAgICAgICAgICAgICAgIHJvbGU9J2hlYWRpbmcnIGFyaWEtbGFiZWw9J0Fzc2lnbm1lbnQgRGVzY3JpcHRpb24nPlxuICAgICAgICAgXG4gICAgICAgICAgICA8IS0tIEFzc2lnbm1lbnQgTmFtZSAtLT5cbiAgICAgICAgICAgIDxzcGFuIHJvbGU9J2hlYWRpbmcnIGFyaWEtbGV2ZWw9JzEnXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJsb2NrcHktbmFtZVwiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+QmxvY2tQeTogPC9zdHJvbmc+IFxuICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD0ndGV4dDogYXNzaWdubWVudC5uYW1lJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwhLS0gUmVzZXQgSW5zdHJ1Y3Rpb25zIEJ1dHRvbiAtLT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LWluc3RydWN0aW9ucy1yZXNldFwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuaW5zdHJ1Y3Rpb25zLmlzQ2hhbmdlZFwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZmxvYXQtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuaW5zdHJ1Y3Rpb25zLnJlc2V0XCJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIlwiPlxuICAgICAgICAgICAgICAgICAgICBSZXNldCBpbnN0cnVjdGlvbnM8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPCEtLSBJbnN0cnVjdGlvbnMgLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LWluc3RydWN0aW9ucydcbiAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaHRtbDogdWkuaW5zdHJ1Y3Rpb25zLmN1cnJlbnRcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9J2NvbC1tZC0zIGJsb2NrcHktcGFuZWwgYmxvY2tweS1xdWljay1tZW51J1xuICAgICAgICAgICAgIHJvbGU9J21lbnViYXInIGFyaWEtbGFiZWw9J1F1aWNrIE1lbnUnIHRpdGxlPVwiUXVpY2sgTWVudVwiPlxuICAgICAgICAgICAgPCEtLSBHZXQgU2hhcmVhYmxlIExpbmsgLS0+XG4gICAgICAgICAgICA8IS0tPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCI+XG4gICAgICAgICAgICAgICAgR2V0IHNoYXJlYWJsZSBsaW5rPC9idXR0b24+LS0+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5tZW51LmlzU3VibWl0dGVkXCI+XG4gICAgICAgICAgICAgICAgWW91ciBzdWJtaXNzaW9uIGlzIHJlYWR5IHRvIGJlIHJldmlld2VkITwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkubWVudS5jYW5NYXJrU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdWkubWVudS50ZXh0TWFya1N1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5tZW51LmNsaWNrTWFya1N1Ym1pdHRlZFwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBWaWV3IGFzIGluc3RydWN0b3IgLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiXG4gICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLnJvbGUuaXNHcmFkZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJcIiBpZD1cImJsb2NrcHktYXMtaW5zdHJ1Y3RvclwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGRpc3BsYXkuaW5zdHJ1Y3RvclwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LWFzLWluc3RydWN0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgVmlldyBhcyBpbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPCEtLSBSZWFkb25seSBtb2RlIGZvciBzcHlpbmcgLS0+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtYmluZD1cImlmOiBzdWJtaXNzaW9uLm93bmVySWQoKSAhPSB1c2VyLmlkKClcIj5cbiAgICAgICAgICAgICAgICBPd25lcjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3VibWlzc2lvbi5vd25lcklkXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cImJsb2NrcHktcmVhZC1vbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGRpc3BsYXkucmVhZE9ubHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktcmVhZC1vbmx5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFkb25seT9cbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwhLS0gRnVsbHNjcmVlbiBidXR0b24gLS0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5tZW51LmNsaWNrRnVsbHNjcmVlblwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJGdWxsIFNjcmVlblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMnIGRhdGEtYmluZD1cImNsYXNzOiB1aS5tZW51LnRleHRGdWxsc2NyZWVuXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8IS0tIEVkaXQgUXVldWVkIElucHV0cyAtLT5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLm1lbnUuZWRpdElucHV0cywgdmlzaWJsZTogdWkubWVudS5zaG93UXVldWVkSW5wdXRzXCIgdGl0bGU9XCJFZGl0IElucHV0c1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtbGlzdC1hbHQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBUb2dnbGUgSW1hZ2UgUmVuZGVyaW5nIC0tPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLm1lbnUudG9nZ2xlSW1hZ2VzXCIgdGl0bGU9XCJUb2dnbGUgSW1hZ2VzXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtaW1hZ2VzXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8IS0tIEdldCBTaGFyZWFibGUgTGluayBEaWFsb2cgLS0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiAoKT0+dWkubWVudS5zdGFydFNoYXJlKGZhbHNlKSwgdmlzaWJsZTogdWkubWVudS5jYW5TaGFyZVwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJHZXQgU2hhcmVhYmxlIExpbmsgZm9yIEluc3RydWN0b3JzIG9yIFRBc1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWxpbmtcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBjdXJzb3I6IHBvaW50ZXJcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZlZWRiYWNrLnNob3dJbnN0cnVjdG9yU3Rkb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBkaXNwbGF5Lmluc3RydWN0b3IoKVwiXG4gICAgICAgICAgICB0aXRsZT1cIlNob3cgaW5zdHJ1Y3RvciBzdGRvdXQgaW4gYSBkaWFsb2cgYm94LlwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS10ZXJtaW5hbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBQaW5rIEJ1ZyBmb3IgYWN0dWFsIGVycm9ycyAtLT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmxvY2tweS1zdHVkZW50LWVycm9yIGZhcyBmYS1idWdcIj48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLm1lbnUuc2hvd0Nsb2NrXCIgY2xhc3M9XCJibG9ja3B5LW1lbnUtY2xvY2tcIj48L3NwYW4+XG4gICAgICAgICAgICA8IS0tIGtvIGlmOiBhc3NpZ25tZW50LnNldHRpbmdzLmluc3RydWN0aW9uc1Bvb2wgLS0+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0LXNlZWRcIiBjbGFzcz1cIm15LTEgbXItMlwiPlNlZWQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIG1iLTIgbXItc20tMlwiIGlkPVwiYmxvY2tweS1zZXQtc2VlZFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cIlxuICAgICAgICAgICAgICAgICAgICB0ZXh0SW5wdXQ6IGRpc3BsYXkucG9vbFNlZWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHI6IHtwbGFjZWhvbGRlcjogc3VibWlzc2lvbi5pZH1cbiAgICAgICAgICAgICAgICBcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgIDwvZGl2PlxuICAgIFxuICAgIDwhLS0ga28gaWY6IHVpLnNtYWxsTGF5b3V0KCkgLS0+XG4gICAgPCEtLSBTbWFsbCBsYXlvdXQgVmlldyBhcyBpbnN0cnVjdG9yIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCJcbiAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLnJvbGUuaXNHcmFkZXJcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiXCIgaWQ9XCJibG9ja3B5LWFzLWluc3RydWN0b3JcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2hlY2tlZDogZGlzcGxheS5pbnN0cnVjdG9yXCI+XG4gICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LWFzLWluc3RydWN0b3JcIj5cbiAgICAgICAgICAgIFZpZXcgYXMgaW5zdHJ1Y3RvclxuICAgICAgICA8L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIDwhLS0ga28gaWY6IHVpLmZpbGVzLnZpc2libGUoKSAtLT5cbiAgICAke0ZJTEVTX0hUTUx9XG4gICAgPCEtLSAva28gLS0+XG4gICAgPCEtLSAva28gLS0+XG4gICAgXG4gICAgPGRpdiBjbGFzcz0ncm93Jz5cbiAgICA8IS0tIFJvdyAyOiBDb25zb2xlIGFuZCBGZWVkYmFjayAtLT5cbiAgICA8IS0tIGtvIGlmOiB1aS5zZWNvbmRSb3cuaXNBbGxWaXNpYmxlIC0tPlxuICAgIDxkaXYgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlY29uZFJvdy53aWR0aFwiPlxuICAgIDxkaXYgY2xhc3M9J3Jvdyc+XG4gICAgICAgIDwhLS0gQ29uc29sZSAtLT5cbiAgICAgICAgJHtDT05TT0xFX0hUTUx9XG4gICAgICAgIDwhLS0gRmVlZGJhY2sgLS0+XG4gICAgICAgIDwhLS0ga28gaWY6IHVpLnNlY29uZFJvdy5pc0ZlZWRiYWNrVmlzaWJsZSAtLT5cbiAgICAgICAgJHtGRUVEQkFDS19IVE1MfVxuICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICAgICAgPCEtLSBUcmFjZSAtLT5cbiAgICAgICAgPCEtLSBrbyBpZjogdWkuc2Vjb25kUm93LmlzVHJhY2VWaXNpYmxlIC0tPlxuICAgICAgICAke1RSQUNFX0hUTUx9XG4gICAgICAgIDwhLS0gL2tvIC0tPlxuICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwhLS0gL2tvIC0tPlxuICAgIFxuICAgIDwhLS0gUm93IDM6IEZpbGUgTmF2aWdhdGlvbiAtLT5cbiAgICA8IS0tIGtvIGlmOiB1aS5maWxlcy52aXNpYmxlKCkgJiYgIXVpLnNtYWxsTGF5b3V0KCkgLS0+XG4gICAgJHtGSUxFU19IVE1MfVxuICAgIDwhLS0gL2tvIC0tPlxuICAgIFxuICAgIDwhLS0gUm93IDQ6IFZpZXcgUm93IC0tPlxuICAgICR7RURJVE9SU19IVE1MfVxuICAgIFxuICAgIDwvZGl2PlxuICAgIFxuICAgIFxuICAgIDwhLS0gUm93IDU6IEZvb3RlciBSb3cgLS0+ICAgIFxuICAgIDwhLS0ga28gaWY6IHVpLmZvb3Rlci52aXNpYmxlIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgJHtGT09URVJfSFRNTH1cbiAgICA8L2Rpdj5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbjwvZGl2PlxuICAgIGA7XG59IiwiXHJcblxyXG5leHBvcnQgY29uc3QgUE9PTF9TRVBBUkFUT1JTID0ge1xyXG4gICAgVEVTVFM6IC8jezQsfSAuKyAjezQsfS8sXHJcbiAgICBJTlNUUlVDVElPTlM6IC88IS17NCx9IyAuKyAjLXs0LH0+L1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBvb2xJbmRleChwb29scywgc2VlZCkge1xyXG4gICAgcmV0dXJuIDEgKyAoc2VlZCAlIChwb29scy5sZW5ndGgtMikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEZyb21Qb29sKHBvb2wsIHNwbGl0dGVyLCBzZWVkKSB7XHJcbiAgICBjb25zdCBwb29scyA9IHBvb2wuc3BsaXQoc3BsaXR0ZXIpO1xyXG4gICAgaWYgKHBvb2xzLmxlbmd0aCA8PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiIz4+PiBJbnZhbGlkIFBvb2w6IE5vdCBFbm91Z2ggUGFydHMhXFxuIyBSZW1lbWJlciB0byBpbmNsdWRlIGhlYWRlciBhbmQgZm9vdGVyIVxcbiMgT3JpZ2luYWwgZGF0YSBpcyBiZWxvd1xcblwiICsgcG9vbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGNob3NlblBvb2wgPSBwb29sc1tjYWxjdWxhdGVQb29sSW5kZXgocG9vbHMsIHNlZWQpXTtcclxuICAgIGNvbnN0IHBvb2xQYXJ0cyA9IFtwb29sc1swXSwgY2hvc2VuUG9vbCwgcG9vbHNbcG9vbHMubGVuZ3RoLTFdXTtcclxuICAgIHJldHVybiBwb29sUGFydHMuam9pbihcIlxcblwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50UG9vbHMocG9vbCwgc3BsaXR0ZXIpIHtcclxuICAgIHJldHVybiBwb29sLnNwbGl0KHNwbGl0dGVyKS5sZW5ndGgtMjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRQb29sSW5zdHJ1Y3Rpb25zKHRleHQsIG1vZGVsKSB7XHJcbiAgICBjb25zdCBpc0luc3RydWN0b3IgPSBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKTtcclxuICAgIGNvbnN0IHNlZWQgPSBtb2RlbC51aS5tZW51LmN1cnJlbnRTZWVkKCk7XHJcbiAgICBsZXQgY29udGVudDtcclxuICAgIC8vIGlmIChpc0luc3RydWN0b3IpIHtcclxuICAgIC8vICAgICBjb250ZW50ID0gbWFya1Bvb2xzKHRleHQsIFBPT0xfU0VQQVJBVE9SUy5JTlNUUlVDVElPTlMsIHNlZWQpO1xyXG4gICAgLy8gfVxyXG4gICAgY29udGVudCA9IGV4dHJhY3RGcm9tUG9vbCh0ZXh0LCBQT09MX1NFUEFSQVRPUlMuSU5TVFJVQ1RJT05TLCBzZWVkKTtcclxuICAgIGNvbnRlbnQgKz0gXCJcXG5cXG5fVGhpcyBxdWVzdGlvbiB3YXMgZHJhd24gZnJvbSBhIHJhbmRvbWl6ZWQgcXVlc3Rpb24gcG9vbC5fXFxuXCI7XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufVxyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gbWFya1Bvb2xzKHBvb2wsIHNwbGl0dGVyLCBzZWVkKSB7XHJcbi8vICAgICBjb25zdCBwb29scyA9IHBvb2wuc3BsaXQoUE9PTF9TRVBBUkFUT1JTLklOU1RSVUNUSU9OUyk7XHJcbi8vICAgICBjb25zdCBjaG9zZW5Qb29sSW5kZXggPSBjYWxjdWxhdGVQb29sSW5kZXgocG9vbHMsIHNlZWQpO1xyXG4vLyAgICAgY29uc3QgY29udGVudCA9IHBvb2xzLm1hcChcclxuLy8gICAgICAgICAocGFydCwgaW5kZXgpID0+IHtcclxuLy8gICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGNob3NlblBvb2xJbmRleCkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgKTtcclxuLy8gICAgIHJldHVybiBjb250ZW50LmpvaW4oXCJcXG4tLS1cXG5cIik7XHJcbi8vIH0iLCJpbXBvcnQge0xvY2FsU3RvcmFnZVdyYXBwZXJ9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7bG9hZEFzc2lnbm1lbnRTZXR0aW5ncywgc2F2ZUFzc2lnbm1lbnRTZXR0aW5nc30gZnJvbSBcIi4vZWRpdG9yL2Fzc2lnbm1lbnRfc2V0dGluZ3NcIjtcblxuLyoqXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGxldCBTdGF0dXNTdGF0ZSA9IHtcbiAgICBSRUFEWTogXCJyZWFkeVwiLFxuICAgIEFDVElWRTogXCJhY3RpdmVcIixcbiAgICBSRVRSWUlORzogXCJyZXRyeWluZ1wiLFxuICAgIEZBSUxFRDogXCJmYWlsZWRcIixcbiAgICBPRkZMSU5FOiBcIm9mZmxpbmVcIlxufTtcblxuLyoqXG4gKiBPYmplY3QgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgZXh0ZXJuYWwgc2VydmVycy4gVGhpcyBpbmNsdWRlcyBmdW5jdGlvbmFsaXR5IGZvclxuICogc2F2aW5nIGFuZCBsb2FkaW5nIGZpbGVzLCBsb2dnaW5nIGV2ZW50cywgc2F2aW5nIGNvbXBsZXRpb25zLCBhbmQgcmV0cmlldmluZyBoaXN0b3J5LlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlTZXJ2ZXJ9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJsb2NrUHlTZXJ2ZXIobWFpbikge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG5cbiAgICAvLyBTYXZlIFVSTHMgbG9jYWxseSBmb3IgcXVpY2tlciBhY2Nlc3NcbiAgICB0aGlzLnVybHMgPSBtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJscztcblxuICAgIC8vIEFkZCB0aGUgTG9jYWxTdG9yYWdlIGNvbm5lY3Rpb25cbiAgICB0aGlzLnN0b3JhZ2UgPSBuZXcgTG9jYWxTdG9yYWdlV3JhcHBlcihcIkJMT0NLUFlcIik7XG5cbiAgICAvLyBGYXVsdFJlc2lzdGFudENhY2hlXG4gICAgdGhpcy5xdWV1ZSA9IHtcbiAgICAgICAgXCJsb2dFdmVudFwiOiBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXREZWZhdWx0KFwibG9nRXZlbnRcIiwgXCJbXVwiKSksXG4gICAgICAgIFwidXBkYXRlU3VibWlzc2lvblwiOiBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXREZWZhdWx0KFwidXBkYXRlU3VibWlzc2lvblwiLCBcIltdXCIpKVxuICAgIH07XG4gICAgdGhpcy5NQVhfUVVFVUVfU0laRSA9IHtcbiAgICAgICAgXCJsb2dFdmVudFwiOiAyMDAsXG4gICAgICAgIFwidXBkYXRlU3VibWlzc2lvblwiOiA1MFxuICAgIH07XG5cbiAgICB0aGlzLlRJTUVSX0RFTEFZID0gMTAwMDtcbiAgICB0aGlzLkZBSUxfREVMQVkgPSAyMDAwO1xuXG4gICAgdGhpcy50aW1lcnMgPSB7fTtcblxuICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XG4gICAgdGhpcy5ibG9ja2luZ0F0dGVtcHRzID0gMDtcblxuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzID0gW107XG4gICAgdGhpcy5jcmVhdGVTdWJzY3JpcHRpb25zKCk7XG4gICAgdGhpcy5jaGVja0NhY2hlcygpO1xuXG4gICAgdGhpcy5hbHRMb2dFbnRyeSA9IG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIElQIGFkZHJlc3MgaGFzIGNoYW5nZWQsIGxvZ2dpbmcgYW4gZXZlbnQgaWYgdGhhdCBvY2N1cnMuXG4gKiBAcGFyYW0gcmVzcG9uc2VcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY2hlY2tJUCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwiSVBcIikpIHtcbiAgICAgICAgICAgIGxldCBvbGRJUCA9IHRoaXMuc3RvcmFnZS5nZXQoXCJJUFwiKTtcbiAgICAgICAgICAgIGlmIChvbGRJUCAhPT0gcmVzcG9uc2UuaXApIHtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgXCJvbGRcIjogb2xkSVAsXG4gICAgICAgICAgICAgICAgICAgIFwibmV3XCI6IHJlc3BvbnNlLmlwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWx0TG9nRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHRMb2dFbnRyeShcIlgtSVAuQ2hhbmdlXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiWC1JUC5DaGFuZ2VcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KFwiSVBcIiwgcmVzcG9uc2UuaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldChcIklQXCIsIHJlc3BvbnNlLmlwKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGVyZSBoYXZlIGJlZW4gcHJldmlvdXMgZmFpbHVyZXMgY2FjaGVkLCBhbmQgaWYgc28gcmV0cmllcyB0aGVtLlxuICogVE9ETzogdXBkYXRlXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNoZWNrQ2FjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwic2F2ZUFzc2lnbm1lbnRcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoXCJzYXZlQXNzaWdubWVudFwiKSk7XG4gICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBcImFzc2lnbm1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2F2ZUFzc2lnbm1lbnRcIiwgdGhpcy5USU1FUl9ERUxBWSk7XG4gICAgfVxuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzLmZvckVhY2goKGZpbGVuYW1lKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwic2F2ZUZpbGVcIiArIGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoXCJzYXZlRmlsZVwiICsgZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBmaWxlbmFtZSwgXCJzYXZlRmlsZVwiLCB0aGlzLlRJTUVSX0RFTEFZKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBzZXJ2ZXIgPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKHRoaXMucXVldWUpLmZvckVhY2goZnVuY3Rpb24gKGVuZHBvaW50KSB7XG4gICAgICAgIChmdW5jdGlvbiBwdXNoQW55UXVldWVkKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIucXVldWVbZW5kcG9pbnRdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2VydmVyLnF1ZXVlW2VuZHBvaW50XS5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBzZXJ2ZXIudXJsc1tlbmRwb2ludF07XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlci5fcG9zdFJldHJ5KGRhdGEsIGVuZHBvaW50LCAxMDAwLCBwdXNoQW55UXVldWVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKHtcInN1Y2Nlc3NcIjogdHJ1ZX0pO1xuICAgIH0pO1xufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgZmlsZW5hbWUpIHtcbiAgICBtb2RlbC5zdWJzY3JpYmUoKGNvbnRlbnRzKSA9PlxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5hdXRvU2F2ZSgpID8gdGhpcy5zYXZlRmlsZShmaWxlbmFtZSwgY29udGVudHMpIDogZmFsc2UsIHRoaXMpO1xuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzLnB1c2goZmlsZW5hbWUpO1xufTtcblxuLyoqXG4gKiBUT0RPOiBmaXhcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnN1Ym1pc3Npb24uY29kZSwgXCJhbnN3ZXIucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25SdW4sIFwiIW9uX3J1bi5weVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5vbkV2YWwsIFwiIW9uX2V2YWwucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UsIFwiIW9uX2NoYW5nZS5weVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMsIFwiIWluc3RydWN0aW9ucy5tZFwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUsIFwiXnN0YXJ0aW5nX2NvZGUucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhU3R1ZGVudEZpbGVzLCBcIiNleHRyYV9zdHVkZW50X2ZpbGVzLmJsb2NrcHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhU3RhcnRpbmdGaWxlcywgXCIjZXh0cmFfc3RhcnRpbmdfZmlsZXMuYmxvY2tweVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwudWkuZmlsZXMuZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiI2V4dHJhX2luc3RydWN0b3JfZmlsZXMuYmxvY2tweVwiKTtcbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNyZWF0ZUV2ZW50TG9ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5vbmJsdXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nRXZlbnQoXCJTZXNzaW9uLkVuZFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIHdpbmRvdy5vbmZvY3VzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiU2Vzc2lvbi5TdGFydFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogQWRkIGluIGJlYWNvbj9cbn07XG5cbi8qKlxuICpcbiAqIFNvbWUgc3Vic2NyaXB0aW9ucyBoYXZlIHRvIGhhcHBlbiBhZnRlciBvdGhlciB0aGluZ3MgaGF2ZSBiZWVuIGxvYWRlZC5cbiAqIFJpZ2h0IG5vdyB0aGlzIGlzIGp1c3QgYWZ0ZXIgQ09SR0lTIGxpYnJhcmllcyBoYXZlIGJlZW4gbG9hZGVkLCBidXQgbWF5YmVcbiAqIHdlJ2xsIGFkZCBtb3JlIGxhdGVyIGFuZCB0aGlzIHdpbGwgbmVlZCB0byBiZSByZWZhY3RvcmVkLlxuICpcbiAqIFRPRE86IGZpeFxuICpcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuZmluYWxpemVTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIC8vdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGF0YXNldHMuc3Vic2NyaWJlKHRoaXMuc2F2ZUFzc2lnbm1lbnQuYmluZCh0aGlzKSk7XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5hdXRob3JpemVIZWFkZXIgPSBmdW5jdGlvbihjdXJyZW50U2V0dGluZ3MpIHtcbiAgICBpZiAoIWN1cnJlbnRTZXR0aW5ncykge1xuICAgICAgICBjdXJyZW50U2V0dGluZ3MgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbigpO1xuICAgIGlmIChhY2Nlc3NUb2tlbikge1xuICAgICAgICBpZiAoIWN1cnJlbnRTZXR0aW5ncy5oZWFkZXJzKSB7XG4gICAgICAgICAgICBjdXJyZW50U2V0dGluZ3MuaGVhZGVycyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRTZXR0aW5ncy5oZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW47XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50U2V0dGluZ3M7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGRlZmF1bHQgcGF5bG9hZCBmb3IgYW55IGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyIEFQSVxuICogQHJldHVybnMge3thc3NpZ25tZW50X2lkOiAqLCBjb3Vyc2VfaWQ6ICosIGdyb3VwX2lkOiAqLCB1c2VyX2lkOiAqLCB0aW1lem9uZTogKiwgdmVyc2lvbjogKiwgdGltZXN0YW1wOiAqfX1cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlU2VydmVyRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYXNzaWdubWVudCA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50O1xuICAgIGxldCB1c2VyID0gdGhpcy5tYWluLm1vZGVsLnVzZXI7XG4gICAgbGV0IHN1Ym1pc3Npb24gPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbjtcbiAgICBsZXQgZGlzcGxheSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5O1xuICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbjtcbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICBsZXQgbWljcm9zZWNvbmRzID0gbm93LmdldFRpbWUoKTtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBcImFzc2lnbm1lbnRfaWRcIjogYXNzaWdubWVudC5pZCgpLFxuICAgICAgICBcImFzc2lnbm1lbnRfZ3JvdXBfaWRcIjogdXNlci5ncm91cElkKCksXG4gICAgICAgIFwiY291cnNlX2lkXCI6IHVzZXIuY291cnNlSWQoKSxcbiAgICAgICAgXCJzdWJtaXNzaW9uX2lkXCI6IHN1Ym1pc3Npb24uaWQoKSxcbiAgICAgICAgXCJ1c2VyX2lkXCI6IHVzZXIuaWQoKSxcbiAgICAgICAgXCJ2ZXJzaW9uXCI6IGFzc2lnbm1lbnQudmVyc2lvbigpLFxuICAgICAgICBcInRpbWVzdGFtcFwiOiBtaWNyb3NlY29uZHMsXG4gICAgICAgIFwidGltZXpvbmVcIjogbm93LmdldFRpbWV6b25lT2Zmc2V0KCksXG4gICAgICAgIFwicGFzc2NvZGVcIjogZGlzcGxheS5wYXNzY29kZSgpLFxuICAgICAgICBcInBhcnRfaWRcIjogY29uZmlndXJhdGlvbi5wYXJ0SWQoKVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgc3RhdHVzIGFuZCBtZXNzYWdlIGZvciB0aGUgcmVsZXZhbnQgZW5kcG9pbnQuXG4gKiBAcGFyYW0gZW5kcG9pbnQge3N0cmluZ30gb25lIG9mIHRoZSBVUkwgZW5kcG9pbnRzXG4gKiBAcGFyYW0gc3RhdHVzIHtTdGF0dXNTdGF0ZX1cbiAqIEBwYXJhbSBtZXNzYWdlIHtzdHJpbmc/fVxuICovXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5zZXRTdGF0dXMgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHN0YXR1cywgbWVzc2FnZSkge1xuICAgIGlmIChlbmRwb2ludCBpbiB0aGlzLm1haW4ubW9kZWwuc3RhdHVzKSB7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXNbZW5kcG9pbnRdKHN0YXR1cyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXNbZW5kcG9pbnQgKyBcIk1lc3NhZ2VcIl0obWVzc2FnZSB8fCBcIlwiKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYW4gb3ZlcmxheSBvbiB0aGUgc2NyZWVuIHRoYXQgYmxvY2tzIG9wZXJhdGlvbiB1bnRpbCB0aGUgc3lzdGVtIGlzIHJlYWR5LlxuICogVGhlIG92ZXJsYXkgZ2V0cyBwcm9ncmVzc2l2ZWx5IGRhcmtlciB0byBpbmRpY2F0ZSByZXBlYXRlZCBmYWlsdXJlcy5cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2hvd092ZXJsYXkgPSBmdW5jdGlvbiAoYXR0ZW1wdCkge1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyArPSAxO1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJsb2NrcHktb3ZlcmxheVwiKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gJCgnPGRpdiBjbGFzcz1cImJsb2NrcHktb3ZlcmxheVwiPiA8L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5vdmVybGF5LmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGF0dGVtcHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCIjOTg4XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiIzY1NVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiMzMzNcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiYmxhY2tcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59O1xuXG4vKipcbiAqIFVuZG8gYSBsZXZlbCBvZiBvdmVybGF5OyBpZiB0aGlzIHdhcyB0aGUgbGFzdCBsZXZlbCwgcmVtb3ZlcyBpdCBmcm9tIHRoZSBzY3JlZW4uXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmhpZGVPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyAtPSAxO1xuICAgIGlmICh0aGlzLmJsb2NraW5nQXR0ZW1wdHMgPD0gMCkge1xuICAgICAgICB0aGlzLm92ZXJsYXkucmVtb3ZlKCk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX2VucXVldWVEYXRhID0gZnVuY3Rpb24gKGNhY2hlLCBkYXRhKSB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgbm90IG92ZXJmaWxsZWQgdGhlIHF1ZXVlXG4gICAgbGV0IGxlbmd0aCA9IHRoaXMucXVldWVbY2FjaGVdLmxlbmd0aDtcbiAgICBsZXQgbWF4ID0gdGhpcy5NQVhfUVVFVUVfU0laRVtjYWNoZV07XG4gICAgaWYgKGxlbmd0aCA+IG1heCkge1xuICAgICAgICB0aGlzLnF1ZXVlW2NhY2hlXSA9IHRoaXMucXVldWVbY2FjaGVdLnNsaWNlKGxlbmd0aCAtIG1heCwgbWF4KTtcbiAgICB9XG4gICAgLy8gT25seSBhZGQgdGhlIGVsZW1lbnQgaWYgaXQncyBuZXdcbiAgICBsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZVtjYWNoZV0uaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtjYWNoZV0ucHVzaChrZXkpO1xuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeSh0aGlzLnF1ZXVlW2NhY2hlXSkpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9kZXF1ZXVlRGF0YSA9IGZ1bmN0aW9uIChjYWNoZSwgZGF0YSkge1xuICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICBsZXQgaW5kZXggPSB0aGlzLnF1ZXVlW2NhY2hlXS5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtjYWNoZV0uc3BsaWNlKGluZGV4KTtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldChjYWNoZSwgSlNPTi5zdHJpbmdpZnkodGhpcy5xdWV1ZVtjYWNoZV0pKTtcbiAgICB9XG59O1xuXG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9wb3N0UmV0cnkgPSBmdW5jdGlvbiAoZGF0YSwgZW5kcG9pbnQsIGRlbGF5LCBjYWxsYmFjaykge1xuICAgIC8vIFRyaWdnZXIgcmVxdWVzdFxuICAgIGxldCBwb3N0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgLy8gTWFrZSBhIGJhY2t1cCBvZiB0aGUgY3VycmVudCBwb3N0XG4gICAgICAgIHRoaXMuX2VucXVldWVEYXRhKGVuZHBvaW50LCBkYXRhKTtcbiAgICAgICAgJC5hamF4KHt1cmw6IHRoaXMudXJsc1tlbmRwb2ludF0sIHR5cGU6IFwicG9zdFwiLCBkYXRhOiBkYXRhLCAuLi50aGlzLmF1dGhvcml6ZUhlYWRlcigpfSlcbiAgICAgICAgICAgIC5kb25lKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlcXVldWVEYXRhKGVuZHBvaW50LCBkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0lQKHJlc3BvbnNlLmlwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy8gSWYgc2VydmVyIHJlcXVlc3QgaXMgdGhlIGxhdGVzdCBvbmUsIHRoZW4gbGV0J3MgdHJ5IGl0IGFnYWluIGluIGEgYml0XG4gICAgICAgICAgICAuZmFpbCgoZXJyb3IsIHRleHRTdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVUUllJTkcsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zdFJldHJ5KGRhdGEsIGVuZHBvaW50LCBkZWxheSArIHRoaXMuRkFJTF9ERUxBWSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoZGVsYXkgPT09IG51bGwpIHtcbiAgICAgICAgcG9zdFJlcXVlc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KHBvc3RSZXF1ZXN0LCBkZWxheSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBNYWtlIGEgQUpBWCByZXF1ZXN0IHRoYXQsIHVwb24gZmFpbHVyZSwgd2lsbCBjaGVjayB0byBzZWUgaWYgdGhpcyB3YXMgdGhlXG4gKiBsYXRlc3QgYXR0ZW1wdCBmb3IgdGhpcyBgY2FjaGVgIG1hcmtlci4gSWYgc28sIGl0IHdpbGwgYXR0ZW1wdCBhZ2FpbiB1bnRpbFxuICogc3VjY2Vzc2Z1bDsgb3RoZXJ3aXNlLCBpdCBnaXZlcyB1cCB0aGUgcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFRoZSBBSkFYLXJlYWR5IGRhdGEgdG8gYmUgcG9zdGVkXG4gKiBAcGFyYW0ge1N0cmluZ30gZmlsZW5hbWUgLSBUaGUgdW5pcXVlIG5hbWUgZ2l2ZW4gdG8gdGhlIHJlbGV2YW50IHRpbWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gZW5kcG9pbnQgLSBUaGUgdW5pcXVlIG5hbWUgZ2l2ZW4gdG8gdGhlIHJlbGV2YW50IGNhY2hlIGVudHJ5XG4gKiBAcGFyYW0ge0ludGVnZXJ9IGRlbGF5IC0gVGhlIGN1cnJlbnQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZVxuIHRyeWluZyB0aGUgcmVxdWVzdCBhZ2Fpbi5cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX3Bvc3RMYXRlc3RSZXRyeSA9IGZ1bmN0aW9uIChkYXRhLCBmaWxlbmFtZSwgZW5kcG9pbnQsIGRlbGF5LCBmYWlsdXJlRnVuY3Rpb24sIGRvbmVGdW5jdGlvbikge1xuICAgIGxldCBjYWNoZSA9IGVuZHBvaW50ICsgZmlsZW5hbWU7XG4gICAgbGV0IHJlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgIC8vIE1ha2UgYSBiYWNrdXAgb2YgdGhlIGN1cnJlbnQgcG9zdFxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIGxldCB0aW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgICAgICQuYWpheCh7dXJsOiB0aGlzLnVybHNbZW5kcG9pbnRdLCBkYXRhOiBkYXRhLCB0eXBlOiBcInBvc3RcIiwgLi4udGhpcy5hdXRob3JpemVIZWFkZXIoKX0pXG4gICAgICAgICAgICAuZG9uZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrSVAocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzZXJ2ZXIgcmVxdWVzdCBpcyB0aGUgbGF0ZXN0IG9uZSwgY2xlYXIgaXQgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlZFRpbWUgPSB0aGlzLnN0b3JhZ2UuZ2V0VGltZShjYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID49IGNhY2hlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb25uZWN0ZWQgYnV0IGZhaWxlZCwgZG9uJ3QgdHJ5IGFnYWluIGJ1dCBsZXQgdGhlIHVzZXIga25vdyB3aHkuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIHRoZSBsYXRlc3Qgb25lLCBjbGVhciBpdCBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhY2hlZFRpbWUgPSB0aGlzLnN0b3JhZ2UuZ2V0VGltZShjYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+PSBjYWNoZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZShjYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbHVyZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZUZ1bmN0aW9uKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmFpbCgoZXJyb3IsIHRleHRTdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVUUllJTkcsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgc2VydmVyIHJlcXVlc3QgaXMgdGhlIGxhdGVzdCBvbmUsIHRoZW4gbGV0J3MgdHJ5IGl0IGFnYWluIGluIGEgYml0XG4gICAgICAgICAgICAgICAgbGV0IGNhY2hlZFRpbWUgPSB0aGlzLnN0b3JhZ2UuZ2V0VGltZShjYWNoZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPj0gY2FjaGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3N0TGF0ZXN0UmV0cnkoZGF0YSwgZmlsZW5hbWUsIGVuZHBvaW50LCBkZWxheSArIHRoaXMuRkFJTF9ERUxBWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5kb25lKGRvbmVGdW5jdGlvbik7XG4gICAgfTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnNbY2FjaGVdKTtcbiAgICBpZiAoZGVsYXkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRpbWVyc1tjYWNoZV0gPSBzZXRUaW1lb3V0KHJlcXVlc3QsIGRlbGF5KTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5fcG9zdEJsb2NraW5nID0gZnVuY3Rpb24gKGVuZHBvaW50LCBkYXRhLCBhdHRlbXB0cywgc3VjY2VzcywgZmFpbHVyZSwgZXh0cmFTZXR0aW5ncz17fSkge1xuICAgIHRoaXMuc2hvd092ZXJsYXkoYXR0ZW1wdHMpO1xuICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgdXJsOiB0aGlzLnVybHNbZW5kcG9pbnRdLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAuLi50aGlzLmF1dGhvcml6ZUhlYWRlcihleHRyYVNldHRpbmdzKVxuICAgIH0pXG4gICAgICAgIC5kb25lKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhpcy5jaGVja0lQKHJlc3BvbnNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXR0ZW1wdHMgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZU92ZXJsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuRkFJTEVELCB0ZXh0U3RhdHVzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmIChmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmUoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZU92ZXJsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFVFJZSU5HLCB0ZXh0U3RhdHVzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3N0QmxvY2tpbmcoZW5kcG9pbnQsIGRhdGEsIGF0dGVtcHRzIC0gMSwgc3VjY2VzcywgZmFpbHVyZSwgZXh0cmFTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5GQUlMX0RFTEFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59O1xuXG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvYWRBc3NpZ25tZW50ID0gZnVuY3Rpb24gKGFzc2lnbm1lbnRfaWQpIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgaWYgKG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwibG9hZEFzc2lnbm1lbnRcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcImFzc2lnbm1lbnRfaWRcIl0gPSBhc3NpZ25tZW50X2lkO1xuICAgICAgICB0aGlzLl9wb3N0QmxvY2tpbmcoXCJsb2FkQXNzaWdubWVudFwiLCBkYXRhLCA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmxvYWRBc3NpZ25tZW50RGF0YV8ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9hZEFzc2lnbm1lbnRcIiwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UKHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2FkQXNzaWdubWVudFwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5zYXZlQXNzaWdubWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgaWYgKG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwic2F2ZUFzc2lnbm1lbnRcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcImhpZGRlblwiXSA9IG1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCk7XG4gICAgICAgIGRhdGFbXCJyZXZpZXdlZFwiXSA9IG1vZGVsLmFzc2lnbm1lbnQucmV2aWV3ZWQoKTtcbiAgICAgICAgZGF0YVtcInB1YmxpY1wiXSA9IG1vZGVsLmFzc2lnbm1lbnQucHVibGljKCk7XG4gICAgICAgIGRhdGFbXCJ1cmxcIl0gPSBtb2RlbC5hc3NpZ25tZW50LnVybCgpO1xuICAgICAgICBkYXRhW1wicG9pbnRzXCJdID0gbW9kZWwuYXNzaWdubWVudC5wb2ludHMoKTtcbiAgICAgICAgZGF0YVtcImlwX3Jhbmdlc1wiXSA9IG1vZGVsLmFzc2lnbm1lbnQuaXBSYW5nZXMoKTtcbiAgICAgICAgZGF0YVtcIm5hbWVcIl0gPSBtb2RlbC5hc3NpZ25tZW50Lm5hbWUoKTtcbiAgICAgICAgZGF0YVtcInNldHRpbmdzXCJdID0gc2F2ZUFzc2lnbm1lbnRTZXR0aW5ncyhtb2RlbCk7XG5cbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKFwic2F2ZUFzc2lnbm1lbnRcIiwgZGF0YSwgMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NzaWJsZUZvcmsuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9TQVZJTkdfQVNTSUdOTU5FTlQodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVBc3NpZ25tZW50XCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUsIFwiU2VydmVyIGlzIG5vdCBjb25uZWN0ZWQhIChTYXZlIEFzc2lnbm1lbnQpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvYWRIaXN0b3J5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImxvYWRIaXN0b3J5XCIpKSB7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKFwibG9hZEhpc3RvcnlcIiwgZGF0YSwgMiwgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19ISVNUT1JZKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5saXN0VXBsb2FkZWRGaWxlcyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsaXN0VXBsb2FkZWRGaWxlc1wiKSkge1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcImxpc3RVcGxvYWRlZEZpbGVzXCIsIGRhdGEsIDIsIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xJU1RJTkdfVVBMT0FERURfRklMRVModGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS51cGxvYWRGaWxlID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgZGlyZWN0b3J5LCBmaWxlbmFtZSwgY29udGVudHMsIGNhbGxiYWNrLCBkZWxldGVJbnN0ZWFkPWZhbHNlKSB7XG4gICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgIGlmIChtb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInVwbG9hZEZpbGVcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInBsYWNlbWVudFwiXSA9IHBsYWNlbWVudDtcbiAgICAgICAgZGF0YVtcImRpcmVjdG9yeVwiXSA9IGRpcmVjdG9yeTtcbiAgICAgICAgZGF0YVtcImZpbGVuYW1lXCJdID0gZmlsZW5hbWU7XG4gICAgICAgIGRhdGFbXCJjb250ZW50c1wiXSA9IGNvbnRlbnRzO1xuICAgICAgICBpZiAoZGVsZXRlSW5zdGVhZCkge1xuICAgICAgICAgICAgZGF0YVtcImRlbGV0ZVwiXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZkID0gT2JqZWN0LmVudHJpZXMoZGF0YSkucmVkdWNlKChkLGUpID0+IChkLmFwcGVuZCguLi5lKSwgZCksIG5ldyBGb3JtRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc3RCbG9ja2luZyhcInVwbG9hZEZpbGVcIiwgZmQsIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGVJbnN0ZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfREVMRVRJTkdfRklMRSh0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9VUExPQURJTkdfRklMRSh0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7cHJvY2Vzc0RhdGE6IGZhbHNlLCBjb250ZW50VHlwZTogZmFsc2V9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwbG9hZEZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSwgXCJTZXJ2ZXIgaXMgbm90IGNvbm5lY3RlZCEgKFVwbG9hZCBGaWxlKVwiKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5kb3dubG9hZEZpbGUgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBkaXJlY3RvcnksIGZpbGVuYW1lLCBjYWxsYmFjaykge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJkb3dubG9hZEZpbGVcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInBsYWNlbWVudFwiXSA9IHBsYWNlbWVudDtcbiAgICAgICAgZGF0YVtcImRpcmVjdG9yeVwiXSA9IGRpcmVjdG9yeTtcbiAgICAgICAgZGF0YVtcImZpbGVuYW1lXCJdID0gZmlsZW5hbWU7XG4gICAgICAgIGxldCBmZCA9IE9iamVjdC5lbnRyaWVzKGRhdGEpLnJlZHVjZSgoZCxlKSA9PiAoZC5hcHBlbmQoLi4uZSksIGQpLCBuZXcgRm9ybURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3N0QmxvY2tpbmcoXCJkb3dubG9hZEZpbGVcIiwgZmQsIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9ET1dOTE9BRElOR19GSUxFKHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7cHJvY2Vzc0RhdGE6IGZhbHNlLCBjb250ZW50VHlwZTogZmFsc2UsIGRhdGFUeXBlOiBcInRleHRcIn0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwidXBsb2FkRmlsZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FLCBcIlNlcnZlciBpcyBub3QgY29ubmVjdGVkISAoVXBsb2FkIEZpbGUpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnJlbmFtZUZpbGUgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBkaXJlY3RvcnksIG9sZF9maWxlbmFtZSwgbmV3X2ZpbGVuYW1lLCBjYWxsYmFjaykge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJyZW5hbWVGaWxlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJwbGFjZW1lbnRcIl0gPSBwbGFjZW1lbnQ7XG4gICAgICAgIGRhdGFbXCJkaXJlY3RvcnlcIl0gPSBkaXJlY3Rvcnk7XG4gICAgICAgIGRhdGFbXCJvbGRfZmlsZW5hbWVcIl0gPSBvbGRfZmlsZW5hbWU7XG4gICAgICAgIGRhdGFbXCJuZXdfZmlsZW5hbWVcIl0gPSBuZXdfZmlsZW5hbWU7XG4gICAgICAgIGxldCBmZCA9IE9iamVjdC5lbnRyaWVzKGRhdGEpLnJlZHVjZSgoZCxlKSA9PiAoZC5hcHBlbmQoLi4uZSksIGQpLCBuZXcgRm9ybURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3N0QmxvY2tpbmcoXCJyZW5hbWVGaWxlXCIsIGZkLCAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfVVBMT0FESU5HX0ZJTEUodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtwcm9jZXNzRGF0YTogZmFsc2UsIGNvbnRlbnRUeXBlOiBmYWxzZX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwicmVuYW1lRmlsZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FLCBcIlNlcnZlciBpcyBub3QgY29ubmVjdGVkISAoUmVuYW1lIEZpbGUpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvZ0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50X3R5cGUsIGNhdGVnb3J5LCBsYWJlbCwgbWVzc2FnZSwgZmlsZV9wYXRoKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnJlYWRPbmx5KCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2dFdmVudFwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwibG9nRXZlbnRcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcImV2ZW50X3R5cGVcIl0gPSBldmVudF90eXBlO1xuICAgICAgICBkYXRhW1wiY2F0ZWdvcnlcIl0gPSBjYXRlZ29yeTtcbiAgICAgICAgZGF0YVtcImxhYmVsXCJdID0gbGFiZWw7XG4gICAgICAgIGRhdGFbXCJtZXNzYWdlXCJdID0gbWVzc2FnZTtcbiAgICAgICAgZGF0YVtcImZpbGVfcGF0aFwiXSA9IGZpbGVfcGF0aDtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2dFdmVudFwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICAvLyBUcmlnZ2VyIHJlcXVlc3RcbiAgICAgICAgdGhpcy5fcG9zdFJldHJ5KGRhdGEsIFwibG9nRXZlbnRcIiwgMCwgKCkgPT4ge1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvZ0V2ZW50XCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNhdmVJbWFnZSA9IGZ1bmN0aW9uIChkaXJlY3RvcnksIGltYWdlKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnJlYWRPbmx5KCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlSW1hZ2VcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInNhdmVJbWFnZVwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZGlyZWN0b3J5XCJdID0gZGlyZWN0b3J5O1xuICAgICAgICBkYXRhW1wiaW1hZ2VcIl0gPSBpbWFnZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlSW1hZ2VcIiwgU3RhdHVzU3RhdGUuQUNUSVZFKTtcbiAgICAgICAgLy8gVHJpZ2dlciByZXF1ZXN0XG4gICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBcInR1cnRsZV9vdXRwdXRcIiwgXCJzYXZlSW1hZ2VcIiwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlSW1hZ2VcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUudXBkYXRlU3VibWlzc2lvblN0YXR1cyA9IGZ1bmN0aW9uKG5ld1N0YXR1cykge1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5yZWFkT25seSgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwidXBkYXRlU3VibWlzc2lvblN0YXR1c1wiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwidXBkYXRlU3VibWlzc2lvblN0YXR1c1wiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wic3RhdHVzXCJdID0gbmV3U3RhdHVzO1xuICAgICAgICBsZXQgcG9zdFN0YXR1c0NoYW5nZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc3VibWlzc2lvblN0YXR1cyhuZXdTdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wb3N0QmxvY2tpbmcoXCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzXCIsIGRhdGEsIDIsIHBvc3RTdGF0dXNDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfVVBEQVRJTkdfU1VCTUlTU0lPTl9TVEFUVVMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBsb2FkIGZpbGVzIGFuZCB3ZWIgcmVzb3VyY2VzLlxuICpcbiAqIERFUFJFQ0FURURcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUubG9hZEZpbGUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIHR5cGUsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgdmFyIG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgIHZhciBzZXJ2ZXIgPSB0aGlzO1xuICAgIGlmIChtb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImxvYWRfZmlsZVwiKSkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZmlsZW5hbWVcIl0gPSBmaWxlbmFtZTtcbiAgICAgICAgZGF0YVtcInR5cGVcIl0gPSB0eXBlO1xuICAgICAgICB0aGlzLl9wb3N0QmxvY2tpbmcodGhpcy51cmxzLmxvYWRfZmlsZSwgZGF0YSwgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRTdGF0dXMoXCJsb2FkRmlsZVwiLCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiU2VydmVyIGZhaWx1cmUhIFJlcG9ydCB0byBpbnN0cnVjdG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JDYWxsYmFjayhcIk5vIGZpbGUgc2VydmVyIGF2YWlsYWJsZS5cIik7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9hZEZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSwgXCJTZXJ2ZXIgaXMgbm90IGNvbm5lY3RlZCEgKExvYWQgRmlsZSlcIik7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2F2ZUZpbGUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNvbnRlbnRzLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGF5ID0gdGhpcy5USU1FUl9ERUxBWTtcbiAgICB9XG4gICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgIGlmIChtb2RlbC5kaXNwbGF5LnJlYWRPbmx5KCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlRmlsZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJzYXZlRmlsZVwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZmlsZW5hbWVcIl0gPSBmaWxlbmFtZTtcbiAgICAgICAgZGF0YVtcImNvZGVcIl0gPSBjb250ZW50cztcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlRmlsZVwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zdExhdGVzdFJldHJ5KGRhdGEsIGZpbGVuYW1lLCBcInNhdmVGaWxlXCIsIGRlbGF5LCB0aGlzLnN0YXJ0UG9zc2libGVGb3JrLmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXR1cyhcInNhdmVGaWxlXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnN0YXJ0UG9zc2libGVGb3JrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmZvcmthYmxlKSB7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5PRkZFUl9GT1JLKCk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUudXBkYXRlU3VibWlzc2lvbiA9IGZ1bmN0aW9uIChzY29yZSwgY29ycmVjdCwgaGlkZGVuT3ZlcnJpZGUsIGZvcmNlVXBkYXRlKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnJlYWRPbmx5KCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJ1cGRhdGVTdWJtaXNzaW9uXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjYWxsYmFjayA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzO1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJ1cGRhdGVTdWJtaXNzaW9uXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJzY29yZVwiXSA9IHNjb3JlO1xuICAgICAgICBkYXRhW1wiY29ycmVjdFwiXSA9IGNvcnJlY3Q7XG4gICAgICAgIGRhdGFbXCJoaWRkZW5fb3ZlcnJpZGVcIl0gPSBoaWRkZW5PdmVycmlkZTtcbiAgICAgICAgZGF0YVtcImZvcmNlX3VwZGF0ZVwiXSA9IGZvcmNlVXBkYXRlO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uYmxvY2tFZGl0b3IuZ2V0UG5nRnJvbUJsb2NrcygocG5nRGF0YSwgaW1nKSA9PiB7XG4gICAgICAgICAgICBkYXRhW1wiaW1hZ2VcIl0gPSBwbmdEYXRhO1xuICAgICAgICAgICAgaWYgKGltZy5yZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBpbWcucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wb3N0UmV0cnkoZGF0YSwgXCJ1cGRhdGVTdWJtaXNzaW9uXCIsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwZGF0ZVN1Ym1pc3Npb25cIiwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJ1cGRhdGVTdWJtaXNzaW9uXCIsIFN0YXR1c1N0YXRlLkZBSUxFRCwgcmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoaWRkZW5PdmVycmlkZSAmJiBjb3JyZWN0ICYmIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhW1wiYXNzaWdubWVudF9pZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUub3BlbmFpUHJveHkgPSBmdW5jdGlvbiAob3BlbmFpX2RhdGEsIHRpbWVvdXQpIHtcbiAgICB2YXIgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgdmFyIHNlcnZlciA9IHRoaXM7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICBkYXRhW1wib3BlbmFpX2RhdGFcIl0gPSBvcGVuYWlfZGF0YTtcbiAgICByZXR1cm4gdGhpcy5fcG9zdEJsb2NraW5nKHRoaXMudXJscy5vcGVuYWlfcHJveHksIGRhdGEpO1xufTsiLCJleHBvcnQgY29uc3QgJHNrX21vZF9jb3ZlcmFnZSA9IGBcblwiXCJcIlxuSGlkZW91cyBmaWxsLWluIHJlcGxhY2VtZW50IGZvciBDb3ZlcmFnZSwgbGV2ZXJhZ2luZyBzb21lIG1hZ2ljIGZyb20gdGhlXG5VdGlsaXR5IGZ1bmN0aW9uLiBUaGUgZGF0YSB0aGlzIHJldHVybnMgaXMgZmFsc2UgLSBpdCBkb2Vzbid0IGFjdHVhbGx5XG5kZXNjcmliZSB0aGUgbWlzc2luZyBsaW5lcyBhbmQgYWxsIGxpbmVzOyBpdCBqdXN0IGRlc2NyaWJlcyB0aGUgdHJhY2VkIGxpbmVzLlxuQnV0IHNpbmNlIFBlZGFsIGRvZXNuJ3QgbmVlZCB0aGUgb3RoZXIgdHdvLCBpdCB3b3JrcyBvdXQgZmluZSB3aGVuIHlvdSBkbzpcblxuc3RhdGVtZW50cyAtIG1pc3NpbmdcblwiXCJcIlxuXG5pbXBvcnQgdXRpbGl0eVxuXG5jbGFzcyBDb3ZlcmFnZTpcbiAgICBkZWYgc3RhcnQoc2VsZik6XG4gICAgICAgIHBhc3NcblxuICAgIGRlZiBzdG9wKHNlbGYpOlxuICAgICAgICBwYXNzXG5cbiAgICBkZWYgc2F2ZShzZWxmKTpcbiAgICAgICAgcGFzc1xuXG4gICAgZGVmIF9hbmFseXplKHNlbGYsIGZpbGVuYW1lOiBzdHIpOlxuICAgICAgICBsaW5lcyA9IHNldCh1dGlsaXR5LnRyYWNlX2xpbmVzKCkpXG4gICAgICAgICMgbGluZXMgd2lsbCBiZSB0aGUgbGluZXMgdGhhdCB3ZXJlIGFjdHVhbGx5IGV4ZWN1dGVkXG4gICAgICAgIHJldHVybiBBbmFseXNpcyhOb25lLCBsZW4obGluZXMpLCBOb25lLCBzZXQoKSwgbGluZXMpXG5cblxuY2xhc3MgTnVtYmVyczpcbiAgICBkZWYgX19pbml0X18oc2VsZiwgbl9taXNzaW5nLCBuX3N0YXRlbWVudHMsIHBjX2NvdmVyZWQpOlxuICAgICAgICBzZWxmLm5fbWlzc2luZyA9IG5fbWlzc2luZ1xuICAgICAgICBzZWxmLm5fc3RhdGVtZW50cyA9IG5fc3RhdGVtZW50c1xuICAgICAgICBzZWxmLnBjX2NvdmVyZWQgPSBwY19jb3ZlcmVkXG5cblxuY2xhc3MgQW5hbHlzaXM6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIG5fbWlzc2luZywgbl9zdGF0ZW1lbnRzLCBwY19jb3ZlcmVkLCBtaXNzaW5nLCBzdGF0ZW1lbnRzKTpcbiAgICAgICAgc2VsZi5taXNzaW5nID0gbWlzc2luZ1xuICAgICAgICBzZWxmLnN0YXRlbWVudHMgPSBzdGF0ZW1lbnRzXG4gICAgICAgIHNlbGYubnVtYmVycyA9IE51bWJlcnMobl9taXNzaW5nLCBuX3N0YXRlbWVudHMsIHBjX2NvdmVyZWQpXG5cblxuY2xhc3MgcHl0aG9uOlxuICAgIGRlZiBnZXRfcHl0aG9uX3NvdXJjZShzZWxmKTpcbiAgICAgICAgcmV0dXJuIE5vbmVcbmA7IiwiZXhwb3J0IHZhciAkYnVpbHRpbm1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbW9kLCBzYW1wbGVXcmFwcGVyO1xuICAgIG1vZCA9IHtfX25hbWVfXzogXCJpbWFnZVwifTtcblxuICAgIGlmICghU2suUElMKSB7XG4gICAgICAgIFNrLlBJTCA9IHthc3NldHM6IHt9fTtcbiAgICB9XG5cbiAgICAvLyBJbnN0YW50UHJvbWlzZSBpcyBhIHdvcmthcm91bmQgdG8gYWxsb3cgdXNhZ2Ugb2YgdGhlIGNsZWFuIHByb21pc2Utc3R5bGVcbiAgICAvLyB0aGVuL2NhdGNoIHN5bnRheCBidXQgdG8gaW5zdGFudGx5IGNhbGwgcmVzb2x2ZSB0aGUgdGhlbi9jYXRjaCBjaGFpbiBzbyB3ZVxuICAgIC8vIGNhbiBhdm9pZCBjcmVhdGluZyBTdXNwZW5zaW9ucyBpbiB1bm5lY2Vzc2FyeSBjYXNlcy4gIFRoaXMgaXMgZGVzaXJhYmxlXG4gICAgLy8gYmVjYXVzZSBTdXNwZW5zaW9ucyBoYXZlIGEgZmFpcmx5IGxhcmdlIG5lZ2F0aXZlIGltcGFjdCBvbiBvdmVyYWxsXG4gICAgLy8gcGVyZm9ybWFuY2UuICBUaGVzZSAnaW5zdGFudCBwcm9taXNlcycgY29tZSBpbnRvIHBsYXkgd2hlbiBhIHRyYWNlcigpXG4gICAgLy8gY2FsbCBpcyBtYWRlIHdpdGggYSB2YWx1ZSBvdGhlciB0aGFuIDEuICBXaGVuIHRyYWNlciBpcyAwIG9yIGdyZWF0ZXIgdGhhbiAxXG4gICAgLy8gLCB3ZSBjYW4gYnlwYXNzIHRoZSBjcmVhdGlvbiBvZiBhIFN1c3BlbnNpb24gYW5kIHByb2NlZWQgdG8gdGhlIG5leHQgbGluZSBvZlxuICAgIC8vIGNvZGUgaW1tZWRpYXRlbHkgaWYgdGhlIGN1cnJlbnQgbGluZSBpcyBub3QgZ29pbmcgdG8gaW52b2x2ZSBhIHNjcmVlblxuICAgIC8vIHVwZGF0ZS4gV2UgZGV0ZXJtaW5lIGlmIGEgcmVhbCBwcm9taXNlIG9yIEluc3RhbnRQcm9taXNlIGlzIG5lY2Vzc2FyeSBieVxuICAgIC8vIGNoZWNraW5nIEZyYW1lTWFuYWdlci53aWxsUmVuZGVyTmV4dCgpXG4gICAgZnVuY3Rpb24gSW5zdGFudFByb21pc2UoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICB0aGlzLmxhc3RFcnJvciAgPSBlcnI7XG4gICAgfVxuXG4gICAgSW5zdGFudFByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihjYikge1xuICAgICAgICBpZiAodGhpcy5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IGNiKHRoaXMubGFzdFJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgID0gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlID8gdGhpcy5sYXN0UmVzdWx0IDogdGhpcztcbiAgICB9O1xuXG4gICAgSW5zdGFudFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24oY2IpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdEVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IGNiKHRoaXMubGFzdEVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RFcnJvciAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdFJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgPyB0aGlzLmxhc3RSZXN1bHQgOiB0aGlzO1xuICAgIH07XG5cbiAgICB2YXIgYnVpbGRJbWFnZSA9IGZ1bmN0aW9uKGltYWdlRGF0YSkge1xuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEFzc2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKFNrLlBJTC5hc3NldHNbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIFNrLlBJTC5hc3NldHNbbmFtZV07XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShTay5QSUwuYXNzZXRzW25hbWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgU2suUElMLmFzc2V0c1tuYW1lXSA9IGltZztcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgYXNzZXQ6IFwiICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuYW1lKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaW1hZ2UgPSBmdW5jdGlvbigkZ2JsLCAkbG9jKSB7XG4gICAgICAgIC8vIG9wZW4oZmlsZW5hbWUpIG9yIG9wZW4odXJsKVxuICAgICAgICAvLyBzaG93KClcblxuICAgICAgICAkbG9jLl9faW5pdF9fID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbiAoc2VsZiwgZmlsZV9vcl91cmwpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJfX2luaXRfX1wiLCBhcmd1bWVudHMsIDIsIDIpO1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImZpbGVfb3JfdXJsXCIsIFwic3RyaW5nXCIsIFNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoZmlsZV9vcl91cmwpKTtcbiAgICAgICAgICAgIHNlbGYuZmlsZV9vcl91cmwgPSBmaWxlX29yX3VybDtcbiAgICAgICAgICAgIC8vIFRPRE86IENoYW5nZSB0byBzdXNwZW5zaW9uXG4gICAgICAgICAgICB2YXIgaW1hZ2VQcm9taXNlID0gZ2V0QXNzZXQoU2suZmZpLnJlbWFwVG9KcyhmaWxlX29yX3VybCkpO1xuICAgICAgICAgICAgdmFyIHN1c3AgPSBuZXcgU2subWlzY2V2YWwuU3VzcGVuc2lvbigpO1xuICAgICAgICAgICAgc2VsZi5pbWFnZSA9IFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcbiAgICAgICAgICAgIHN1c3AucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1c3AuZGF0YVtcImVycm9yXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IFNrLmJ1aWx0aW4uSU9FcnJvcihzdXNwLmRhdGFbXCJlcnJvclwiXS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc3VzcC5kYXRhW1wiZXJyb3JcIl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gc2VsZi5pbWFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3VzcC5kYXRhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiU2sucHJvbWlzZVwiLFxuICAgICAgICAgICAgICAgIHByb21pc2U6IGltYWdlUHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW1hZ2UgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy53aWR0aCA9IHNlbGYuaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLmhlaWdodCA9IHNlbGYuaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKHNlbGYuaW1hZ2UsIDAsIDAsIHNlbGYuaW1hZ2Uud2lkdGgsIHNlbGYuaW1hZ2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5waXhlbHMgPSBzZWxmLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZ2V0SW1hZ2VEYXRhKDAsIDAsIHNlbGYuaW1hZ2Uud2lkdGgsIHNlbGYuaW1hZ2UuaGVpZ2h0KS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbWFnZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZXJyO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gc3VzcDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvYy5zaG93ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICBpZiAoU2suY29uc29sZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uTmFtZUVycm9yKFwiQ2FuIG5vdCByZXNvbHZlIGRyYXdpbmcgYXJlYS4gU2suY29uc29sZSBpcyB1bmRlZmluZWQhXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29uc29sZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgaW1hZ2U6IHNlbGYuaW1hZ2UsXG4gICAgICAgICAgICAgICAgZmlsZV9vcl91cmw6IHNlbGYuZmlsZV9vcl91cmxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFNrLmNvbnNvbGUucHJpbnRQSUxJbWFnZShjb25zb2xlRGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRsb2MuZmxpcCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZikge1xuICAgICAgICAgICAgc2VsZi5pbWFnZS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlWCgtMSlcIjtcbiAgICAgICAgICAgIGlmIChTay5jb25zb2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5OYW1lRXJyb3IoXCJDYW4gbm90IHJlc29sdmUgZHJhd2luZyBhcmVhLiBTay5jb25zb2xlIGlzIHVuZGVmaW5lZCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBtb2QuSW1hZ2UgPSBTay5taXNjZXZhbC5idWlsZENsYXNzKG1vZCwgaW1hZ2UsIFwiSW1hZ2VcIiwgW10pO1xuXG4gICAgcmV0dXJuIG1vZDtcbn07IiwiZXhwb3J0IGNvbnN0ICRwZWRhbF90cmFjZXIgPSBgXHJcblxyXG5cIlwiXCJcclxuV3JhcHMgdGhlIHRyYWNlciBtb2R1bGUgaW4gUGVkYWxcclxuXCJcIlwiXHJcblxyXG5pbXBvcnQgb3NcclxuaW1wb3J0IHV0aWxpdHlcclxuICAgICAgICBcclxuY2xhc3MgU2FuZGJveEJhc2ljVHJhY2VyOlxyXG4gICAgXCJcIlwiXHJcblxyXG4gICAgXCJcIlwiXHJcbiAgICBkZWYgX19pbml0X18oc2VsZik6XHJcbiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXHJcbiAgICAgICAgc2VsZi5maWxlbmFtZSA9IFwic3R1ZGVudC5weVwiXHJcbiAgICAgICAgc2VsZi5jb2RlID0gTm9uZVxyXG5cclxuICAgIGRlZiBhc19maWxlbmFtZShzZWxmLCBmaWxlbmFtZSwgY29kZSk6XHJcbiAgICAgICAgaWYgb3MucGF0aC5pc2FicyhmaWxlbmFtZSk6XHJcbiAgICAgICAgICAgIHNlbGYuZmlsZW5hbWUgPSBmaWxlbmFtZVxyXG4gICAgICAgIGVsc2U6XHJcbiAgICAgICAgICAgIHNlbGYuZmlsZW5hbWUgPSBvcy5wYXRoLmFic3BhdGgoZmlsZW5hbWUpXHJcbiAgICAgICAgc2VsZi5jb2RlID0gY29kZVxyXG4gICAgICAgIHJldHVybiBzZWxmXHJcblxyXG4gICAgZGVmIF9fZW50ZXJfXyhzZWxmKTpcclxuICAgICAgICBwYXNzXHJcblxyXG4gICAgZGVmIF9fZXhpdF9fKHNlbGYsIGV4Y190eXBlLCBleGNfdmFsLCB0cmFjZWJhY2spOlxyXG4gICAgICAgIHBhc3NcclxuXHJcbmNsYXNzIFNhbmRib3hOYXRpdmVUcmFjZXIoU2FuZGJveEJhc2ljVHJhY2VyKTpcclxuICAgIFwiXCJcIlxyXG4gICAgVHJhY2tzIGxpbmVzIGNvdmVyZWQgYW5kIGZ1bmN0aW9uIGNhbGxzLiBQb3NzaWJseSBvdGhlciB0aGluZ3M/IFdlIGNvdWxkIHRyYWNrIHZhcmlhYmxlcywgaWYgdGhhdFxyXG4gICAgd2FzIHNvbWV0aGluZyBwZW9wbGUgd2FudGVkLlxyXG5cclxuICAgIFRPRE86IEhhbmRsZSBtdWx0aXBsZSBzdWJtaXNzaW9uIGZpbGVzP1xyXG4gICAgXCJcIlwiXHJcbiAgICBkZWYgX19pbml0X18oc2VsZik6XHJcbiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXHJcbiAgICAgICAgI3NlbGYuY2FsbHMgPSB1dGlsaXR5LnRyYWNlX2NhbGxzKClcclxuICAgICAgICBzZWxmLmxpbmVzID0gdXRpbGl0eS50cmFjZV9saW5lcygpXHJcbiAgICAgICAgc2VsZi5zdGVwX2luZGV4ID0gbGVuKHV0aWxpdHkudHJhY2VfbGluZXMoKSlcclxuICAgIFxyXG4gICAgZGVmIGdldF9jYWxscyhzZWxmKTpcclxuICAgICAgICByZXR1cm4gdXRpbGl0eS50cmFjZV9jYWxscygpXHJcbiAgICBcclxuICAgIGNhbGxzID0gcHJvcGVydHkoZ2V0X2NhbGxzKVxyXG4gICAgXHJcbiAgICBkZWYgX19lbnRlcl9fKHNlbGYpOlxyXG4gICAgICAgIHV0aWxpdHkuc3RhcnRfdHJhY2Uoc2VsZilcclxuXHJcbiAgICBkZWYgX19leGl0X18oc2VsZiwgZXhjX3R5cGUsIGV4Y192YWwsIHRyYWNlYmFjayk6XHJcbiAgICAgICAgdXRpbGl0eS5zdG9wX3RyYWNlKHNlbGYpXHJcblxyXG5UUkFDRVJfU1RZTEVTID0ge1xyXG4gICAgJ25vbmUnOiBTYW5kYm94QmFzaWNUcmFjZXIsXHJcbiAgICAnbmF0aXZlJzogU2FuZGJveE5hdGl2ZVRyYWNlclxyXG59XHJcblxyXG5gOyIsIi8qKlxuICogU2t1bHB0IE1vZHVsZSBmb3IgaG9sZGluZyB0aGUgSW5zdHJ1Y3RvciBBUEkuXG4gKlxuICogVGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIGJ5IGdldHRpbmcgdGhlIGZ1bmN0aW9ucycgc291cmNlIGNvZGUgZnJvbSB0b1N0cmluZy5cbiAqIElzbid0IHRoYXQgY3Jhenk/XG4gKlxuICpcbiAqL1xuZXhwb3J0IGxldCAkc2tfbW9kX2luc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBNYWluIG1vZHVsZSBvYmplY3QgdGhhdCBnZXRzIHJldHVybmVkIGF0IHRoZSBlbmQuXG4gICAgbGV0IG1vZCA9IHt9O1xuICAgIGxldCBub25lID0gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgIFxuICAgIGxldCBwcmlvciA9IG51bGw7XG4gICAgbW9kLnRpbWVpdCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwidGltZWl0XCIsIGFyZ3VtZW50cywgMSwgMSk7XG4gICAgICAgIGxldCBkaWZmZXJlbmNlO1xuICAgICAgICBpZiAocHJpb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IERhdGUubm93KCkgLSBwcmlvcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhTay5mZmkucmVtYXBUb0pzKG5hbWUpLCBkaWZmZXJlbmNlLzEwMDApO1xuICAgICAgICBwcmlvciA9IERhdGUubm93KCk7XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICogTG9ncyBmZWVkYmFjayB0byBqYXZhc2NyaXB0IGNvbnNvbGVcbiAgICAgKi9cbiAgICBtb2QuY29uc29sZV9sb2cgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBzdHJBcmdzID0gKFsuLi5hcmd1bWVudHNdKS5tYXAoU2suZmZpLnJlbWFwVG9Kcyk7XG4gICAgICAgIHN0ckFyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJtb2RlbFwiXS51aS5mZWVkYmFjay5hZGRQb3NpdGl2ZUZlZWRiYWNrKFxuICAgICAgICAgICAgICAgIGFyZywgXCJjb21tZW50XCIsIFwicmdiKDEyOCwgMTI4LCAxMjgpXCIsIHVuZGVmaW5lZCwgdHJ1ZSwgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICogTG9ncyBkZWJ1ZyB0byBqYXZhc2NyaXB0IGNvbnNvbGVcbiAgICAgKi9cbiAgICBtb2QuY29uc29sZV9kZWJ1ZyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGVidWdcIiwgYXJndW1lbnRzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0ckFyZ3MgPSAoWy4uLmFyZ3VtZW50c10pLm1hcChKU09OLnN0cmluZ2lmeSk7XG4gICAgICAgICAgICBzdHJBcmdzLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcIm1vZGVsXCJdLnVpLmZlZWRiYWNrLmFkZFBvc2l0aXZlRmVlZGJhY2soXG4gICAgICAgICAgICAgICAgICAgIGFyZywgXCJpbmZvLWNpcmNsZVwiLCBcInJnYigxMjgsIDEyOCwgMTI4KVwiLCB1bmRlZmluZWQsIHRydWUsIHRydWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJtb2RlbFwiXS51aS5mZWVkYmFjay5hZGRQb3NpdGl2ZUZlZWRiYWNrKFxuICAgICAgICAgICAgICAgIGBGYWlsZWQgdG8gcmVuZGVyIGRlYnVnIG1lc3NhZ2U6ICR7ZX1gLCBcImV4Y2xhbWF0aW9uLXRyaWFuZ2xlXCIsIFwicmdiKDEyOCwgMTI4LCAxMjgpXCIsIHVuZGVmaW5lZCwgdHJ1ZSwgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjb3ZlcnRzIHRoZSBvdXRwdXQgaW4gdGhlIHN0dWRlbnQgcmVwb3J0IHRvIGEgcHl0aG9uIFxuICAgICAqIGxpc3QgYW5kIHJldHVybnMgaXQuXG4gICAgKiovXG4gICAgbW9kLmdldF9vdXRwdXQgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X291dHB1dFwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgbGV0IG91dHB1dCA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdW1wib3V0cHV0XCJdKCk7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udG9Ta3VscHQoKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChvdXRwdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QoW10pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXNldHMgdGhlIG91dHB1dCwgcGFydGljdWxhcmx5IHVzZWZ1bCBpZiB0aGUgc3R1ZGVudFxuICAgICAqIGNvZGUgaXMgZ29pbmcgdG8gYmUgcmVydW4uXG4gICAgICovXG4gICAgbW9kLnJlc2V0X291dHB1dCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJyZXNldF9vdXRwdXRcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLm91dHB1dC5yZW1vdmVBbGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgIH0pO1xuICAgIFxuICAgIC8qbW9kLnF1ZXVlX2lucHV0ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInF1ZXVlX2lucHV0XCIsIGFyZ3VtZW50cywgMSwgSW5maW5pdHkpO1xuICAgICAgICBsZXQgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgZm9yIChsZXQgaSA9IGFyZ3MubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBhcmdzW2ldO1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImlucHV0XCIsIFwic3RyaW5nXCIsIFNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoaW5wdXQpKTtcbiAgICAgICAgICAgIFNrLnF1ZXVlZElucHV0LnB1c2goU2suZmZpLnJlbWFwVG9KcyhpbnB1dCkpO1xuICAgICAgICB9XG4gICAgfSk7Ki9cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBpbnN0cnVjdG9ycyB0byBnZXQgdGhlIHN0dWRlbnRzJyBjb2RlIGFzIGEgc3RyaW5nLlxuICAgICoqL1xuICAgIG1vZC5nZXRfcHJvZ3JhbSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfcHJvZ3JhbVwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShTay5leGVjdXRpb25SZXBvcnRzW1widmVyaWZpZXJcIl0uY29kZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBpbnN0cnVjdG9ycyB0byBnZXQgdGhlIHN0dWRlbnRzJyBjb2RlIGFzIGEgc3RyaW5nLlxuICAgICoqL1xuICAgIG1vZC5nZXRfZXZhbHVhdGlvbiA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfZXZhbHVhdGlvblwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5ldmFsdWF0aW9uIHx8IFwiXCIpO1xuICAgIH0pO1xuICAgIFxuICAgIG1vZC50cmFjZV9saW5lcyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgbGluZXMgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5yZWFsTGluZXM7XG4gICAgICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShsaW5lcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChbXSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIG1vZC50cmFjZV9jYWxscyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCItLVwiLCBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJDSEVDS0lORyBDQUxMU1wiLCBTay5leGVjdXRpb25SZXBvcnRzWydzdHVkZW50J10uc3VjY2Vzcyk7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgY2FsbHMgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5jYWxscztcbiAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KGNhbGxzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZGljdChbXSk7XG4gICAgfSk7XG5cbiAgICBtb2Quc3RhcnRfdHJhY2UgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU1RBUlQvQkVHSU5cIiwgU2suYmVmb3JlQ2FsbCwgU2suZXhlY3V0aW9uUmVwb3J0cy5zdHVkZW50LnRyYWNpbmcpO1xuICAgICAgICBpZiAoU2suYmVmb3JlQ2FsbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgU2suYmVmb3JlQ2FsbCA9IFNrLmJlZm9yZUNhbGxCYWNrdXA7XG4gICAgICAgIH1cbiAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0udHJhY2luZy5wdXNoKHRydWUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU1RBUlQvRU5EXCIsIFNrLmJlZm9yZUNhbGwsIFNrLmV4ZWN1dGlvblJlcG9ydHMuc3R1ZGVudC50cmFjaW5nKTtcbiAgICB9KTtcblxuICAgIG1vZC5zdG9wX3RyYWNlID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlNUT1AvQkVHSU5cIiwgU2suYmVmb3JlQ2FsbCwgU2suZXhlY3V0aW9uUmVwb3J0cy5zdHVkZW50LnRyYWNpbmcpO1xuICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS50cmFjaW5nLnBvcCgpO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0udHJhY2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIFNrLmJlZm9yZUNhbGwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTVE9QL0VORFwiLCBTay5iZWZvcmVDYWxsLCBTay5leGVjdXRpb25SZXBvcnRzLnN0dWRlbnQudHJhY2luZyk7XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBtb2QuZ2V0X3N0dWRlbnRfZXJyb3IgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X3N0dWRlbnRfZXJyb3JcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi50dXBsZShbbm9uZSwgbm9uZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uZXJyb3IsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB7fTtcbiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci50cmFjZWJhY2sgJiYgZXJyb3IudHJhY2ViYWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbltcImxpbmVcIl0gPSBlcnJvci50cmFjZWJhY2tbMF0ubGluZW5vO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IG5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3NpdGlvbiA9IFNrLmZmaS5yZW1hcFRvUHkocG9zaXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLnR1cGxlKFtlcnJvciwgcG9zaXRpb25dKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgXG4gICAgbW9kLmhhZF9leGVjdXRpb25fdGltZV9lcnJvciA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJoYWRfZXhlY3V0aW9uX3RpbWVfZXJyb3JcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuICFTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzICYmIFxuICAgICAgICAgICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLmVycm9yICYmXG4gICAgICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uZXJyb3IudHAkbmFtZSA9PT0gXCJUaW1lTGltaXRFcnJvclwiO1xuICAgIH0pO1xuICAgIFxuICAgIGxldCBiYWNrdXBUaW1lID0gdW5kZWZpbmVkO1xuICAgIG1vZC5saW1pdF9leGVjdXRpb25fdGltZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJsaW1pdF9leGVjdXRpb25fdGltZVwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBiYWNrdXBUaW1lID0gU2suZXhlY0xpbWl0O1xuICAgICAgICBpZiAoU2suZXhlY0xpbWl0RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIFNrLmV4ZWNMaW1pdCA9IFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBTay5leGVjU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbW9kLnVubGltaXRfZXhlY3V0aW9uX3RpbWUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwidW5saW1pdF9leGVjdXRpb25fdGltZVwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBTay5leGVjTGltaXQgPSBiYWNrdXBUaW1lO1xuICAgICAgICBTay5leGVjU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH0pO1xuICAgIFxuICAgIG1vZC5zdXBwcmVzc19zY3JvbGxpbmcgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwic3VwcHJlc3Nfc2Nyb2xsaW5nXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHMuaW5zdHJ1Y3Rvci5zY3JvbGxpbmcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgXG4gICAgLypcbiAgICBkZWYgaGlzdChzZWxmLCBkYXRhLCAqKmt3YXJncyk6XG4gICAgICAgIGxhYmVsID0ga3dhcmdzLmdldCgnbGFiZWwnLCBOb25lKVxuICAgICAgICBzZWxmLmFjdGl2ZV9wbG90WydkYXRhJ10uYXBwZW5kKHsndHlwZSc6ICdIaXN0b2dyYW0nLCAndmFsdWVzJzogZGF0YSwgJ2xhYmVsJzogbGFiZWx9KVxuICAgIGRlZiBwbG90KHNlbGYsIHhzLCB5cz1Ob25lLCAqKmt3YXJncyk6XG4gICAgICAgIGxhYmVsID0ga3dhcmdzLmdldCgnbGFiZWwnLCBOb25lKVxuICAgICAgICBpZiB5cyA9PSBOb25lOlxuICAgICAgICAgICAgc2VsZi5hY3RpdmVfcGxvdFsnZGF0YSddLmFwcGVuZCh7J3R5cGUnOiAnTGluZScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IHJhbmdlKGxlbih4cykpLCAneSc6IHhzLCAnbGFiZWwnOiBsYWJlbH0pXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBzZWxmLmFjdGl2ZV9wbG90WydkYXRhJ10uYXBwZW5kKHsndHlwZSc6ICdMaW5lJywgJ3gnOiB4cywgJ3knOiB5cywgJ2xhYmVsJzogbGFiZWx9KVxuICAgIGRlZiBzY2F0dGVyKHNlbGYsIHhzLCB5cywgKiprd2FyZ3MpOlxuICAgICAgICBsYWJlbCA9IGt3YXJncy5nZXQoJ2xhYmVsJywgTm9uZSlcbiAgICAgICAgc2VsZi5hY3RpdmVfcGxvdFsnZGF0YSddLmFwcGVuZCh7J3R5cGUnOiAnU2NhdHRlcicsICd4JzogeHMsICd5JzogeXMsICdsYWJlbCc6IGxhYmVsfSlcbiAgICAqL1xuICAgIG1vZC5nZXRfcGxvdHMgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X3Bsb3RzXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgb3V0cHV0cyA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdW1wib3V0cHV0XCJdKCk7XG4gICAgICAgICAgICBvdXRwdXRzID0gb3V0cHV0cy5maWx0ZXIoZnVuY3Rpb24ob3V0cHV0KSB7IFxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQudHlwZSA9PT0gXCJwbG90XCI7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24oZ3JhcGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wiZGF0YVwiOiBncmFwaC5jb250ZW50Lm1hcChmdW5jdGlvbihwbG90KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdQbG90ID0geyBcInR5cGVcIjogcGxvdC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsYWJlbFwiOiBcIlwiIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbG90LnR5cGUgPT09IFwibGluZVwiIHx8IHBsb3QudHlwZSA9PT0gXCJzY2F0dGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bsb3RbXCJ4XCJdID0gcGxvdC5kYXRhLm1hcChmdW5jdGlvbih2KSB7IHJldHVybiB2Lng7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGxvdFtcInlcIl0gPSBwbG90LmRhdGEubWFwKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYueTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxvdC50eXBlID09PSBcImhpc3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGxvdFtcInZhbHVlc1wiXSA9IHBsb3QuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3UGxvdDtcbiAgICAgICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICAgICAgXCJ4bGFiZWxcIjogXCJcIiwgXCJ5bGFiZWxcIjogXCJcIiwgXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlwiLCBcImxlZ2VuZFwiOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KG91dHB1dHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkoW10pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBcbiAgICAvLyBQcm92aWRlcyBgc3R1ZGVudGAgYXMgYW4gb2JqZWN0IHdpdGggYWxsIHRoZSBkYXRhIHRoYXQgdGhlIHN0dWRlbnQgZGVjbGFyZWQuXG4gICAgbW9kLlN0dWRlbnREYXRhID0gU2subWlzY2V2YWwuYnVpbGRDbGFzcyhtb2QsIGZ1bmN0aW9uKCRnYmwsICRsb2MpIHtcbiAgICAgICAgJGxvYy5fX2luaXRfXyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZikge1xuICAgICAgICAgICAgLy9zZWxmLmRhdGEgPSBTay5idWlsdGluLmRpY3QoKTtcbiAgICAgICAgICAgIGxldCBuZXdEaWN0ID0gbmV3IFNrLmJ1aWx0aW4uZGljdCgpO1xuICAgICAgICAgICAgU2suYWJzdHIuc2F0dHIoc2VsZiwgbmV3IFNrLmJ1aWx0aW4uc3RyKFwiZGF0YVwiKSwgbmV3RGljdCwgdHJ1ZSk7XG4gICAgICAgICAgICBzZWxmLm1vZHVsZSA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnJlc3VsdHM7XG4gICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlID0gc2VsZi5tb2R1bGUuJGQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNlbGYubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTay5hYnN0ci5vYmplY3RTZXRJdGVtKG5ld0RpY3QsIFNrLmZmaS5yZW1hcFRvUHkoU2sudW5maXhSZXNlcnZlZChrZXkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNhbGxfZiA9IGZ1bmN0aW9uKGt3YSkge1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbihcImNhbGxcIiwgYXJndW1lbnRzLmxlbmd0aCwgMSwgSW5maW5pdHksIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgdmFyIGt3YXJncyA9IG5ldyBTay5idWlsdGlucy5kaWN0KGt3YSk7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gYXJnc1swXTtcbiAgICAgICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgYXJncyA9IGFyZ3Muc2xpY2UoMik7XG5cbiAgICAgICAgICAgIHZhciBpbnB1dHMgPSBrd2FyZ3MubXAkbG9va3VwKG5ldyBTay5idWlsdGluLnN0cihcImlucHV0c1wiKSk7XG4gICAgICAgICAgICBpZiAoaW5wdXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpbnB1dHMgPSBTay5mZmkucmVtYXBUb0pzKGlucHV0cyk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0cy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2sucXVldWVkSW5wdXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgU2sucXVldWVkSW5wdXQucHVzaChpbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHNlbGYudHAkZ2V0YXR0cihuZXcgU2suYnVpbHRpbi5zdHIoXCJkYXRhXCIpKTtcbiAgICAgICAgICAgIHZhciBmdW5jdGlvbk9iamVjdCA9IGRhdGEubXAkbG9va3VwKGZ1bmN0aW9uTmFtZSk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuY3Rpb25PYmplY3QudHAkY2FsbChhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIGNhbGxfZi5jb19rd2FyZ3MgPSB0cnVlO1xuICAgICAgICAvL2NhbGxfZi5jb192YXJuYW1lcyA9IFtcInNlbGZcIiwgXCJmdW5jdGlvblwiXTtcbiAgICAgICAgY2FsbF9mLmNvX25hbWU9IG5ldyBTay5idWlsdGluLnN0cihcImNhbGxcIik7XG4gICAgICAgICRsb2NbXCJjYWxsXyRybiRcIl0gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGNhbGxfZik7XG5cbiAgICAgICAgJGxvY1tcIl9fcmVwcl9fXCJdID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKFwiXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkbG9jLmdldF9uYW1lc19ieV90eXBlID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmLCB0eXBlLCBleGNsdWRlX2J1aWx0aW5zKSB7XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X25hbWVzX2J5X3R5cGVcIiwgYXJndW1lbnRzLCAyLCAzKTtcbiAgICAgICAgICAgIGlmIChleGNsdWRlX2J1aWx0aW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBleGNsdWRlX2J1aWx0aW5zID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImV4Y2x1ZGVfYnVpbHRpbnNcIiwgXCJib29sZWFuXCIsIFNrLmJ1aWx0aW4uY2hlY2tCb29sKGV4Y2x1ZGVfYnVpbHRpbnMpKTtcbiAgICAgICAgICAgICAgICBleGNsdWRlX2J1aWx0aW5zID0gU2suZmZpLnJlbWFwVG9KcyhleGNsdWRlX2J1aWx0aW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHNlbGYubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGVbcHJvcGVydHldLnRwJG5hbWUgPT09IHR5cGUudHAkbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhleGNsdWRlX2J1aWx0aW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdWRlX2J1aWx0aW5zICYmIHByb3BlcnR5LnN0YXJ0c1dpdGgoXCJfX1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU2suZmZpLnJlbWFwVG9QeShTay51bmZpeFJlc2VydmVkKHByb3BlcnR5KSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICRsb2MuZ2V0X3ZhbHVlc19ieV90eXBlID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmLCB0eXBlLCBleGNsdWRlX2J1aWx0aW5zKSB7XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X3ZhbHVlc19ieV90eXBlXCIsIGFyZ3VtZW50cywgMiwgMyk7XG4gICAgICAgICAgICBpZiAoZXhjbHVkZV9idWlsdGlucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZXhjbHVkZV9idWlsdGlucyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoXCJleGNsdWRlX2J1aWx0aW5zXCIsIFwiYm9vbGVhblwiLCBTay5idWlsdGluLmNoZWNrQm9vbChleGNsdWRlX2J1aWx0aW5zKSk7XG4gICAgICAgICAgICAgICAgZXhjbHVkZV9idWlsdGlucyA9IFNrLmZmaS5yZW1hcFRvSnMoZXhjbHVkZV9idWlsdGlucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBzZWxmLm1vZHVsZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlW3Byb3BlcnR5XS50cCRuYW1lID09PSB0eXBlLnRwJG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdWRlX2J1aWx0aW5zICYmIHByb3BlcnR5LnN0YXJ0c1dpdGgoXCJfX1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc2VsZi5tb2R1bGVbcHJvcGVydHldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFwiU3R1ZGVudERhdGFcIik7XG4gICAgbW9kLnN0dWRlbnQgPSBTay5taXNjZXZhbC5jYWxsc2ltT3JTdXNwZW5kKG1vZC5TdHVkZW50RGF0YSk7XG4gICAgXG4gICAgbW9kLmdldF9zdHVkZW50X2RhdGEgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X3N0dWRlbnRfZGF0YVwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gbW9kLnN0dWRlbnQ7XG4gICAgfSk7XG5cbiAgICBtb2Quc2V0X2luc3RydWN0aW9ucyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24obmV3SW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJzZXRfaW5zdHJ1Y3Rpb25zXCIsIGFyZ3VtZW50cywgMSwgMik7XG4gICAgICAgIG5ld0luc3RydWN0aW9ucyA9IFNrLmZmaS5yZW1hcFRvSnMobmV3SW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcIm1vZGVsXCJdLmRpc3BsYXkuY2hhbmdlZEluc3RydWN0aW9ucyhuZXdJbnN0cnVjdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgbW9kLmdldF9tb2RlbF9pbmZvID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihrZXlzKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfbW9kZWxfaW5mb1wiLCBhcmd1bWVudHMsIDEsIDEpO1xuICAgICAgICBsZXQgbW9kZWwgPSBTay5leGVjdXRpb25SZXBvcnRzW1wibW9kZWxcIl07XG4gICAgICAgIGtleXMgPSBTay5mZmkucmVtYXBUb0pzKGtleXMpLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbW9kZWwgPSBtb2RlbFtrZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShtb2RlbCgpKTtcbiAgICB9KTtcblxuICAgIG1vZC5jbGVhcl9leGlzdGluZ19zdHVkZW50X2ltcG9ydHMgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiY2xlYXJfZXhpc3Rpbmdfc3R1ZGVudF9pbXBvcnRzXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIFNrLmNsZWFyRXhpc3RpbmdTdHVkZW50SW1wb3J0cygpO1xuICAgIH0pO1xuXG4gICAgbW9kLmRvd25sb2FkX2ZpbGUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHBsYWNlbWVudCwgZGlyZWN0b3J5LCBmaWxlbmFtZSkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZG93bmxvYWRfZmlsZVwiLCBhcmd1bWVudHMsIDMsIDMpO1xuICAgICAgICBjb25zdCBkb3dubG9hZEZpbGVVcmwgPSBTay5leGVjdXRpb25SZXBvcnRzW1wibW9kZWxcIl0uY29uZmlndXJhdGlvbi51cmxzW1wiZG93bmxvYWRGaWxlXCJdO1xuICAgICAgICBjb25zdCBjb21iaW5lciA9IGRvd25sb2FkRmlsZVVybC5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wiO1xuICAgICAgICBjb25zdCB1cmwgPSBgJHtkb3dubG9hZEZpbGVVcmx9JHtjb21iaW5lcn1wbGFjZW1lbnQ9JHtwbGFjZW1lbnR9JmRpcmVjdG9yeT0ke2RpcmVjdG9yeX0mZmlsZW5hbWU9JHtmaWxlbmFtZX1gO1xuICAgICAgICBjb25zdCBwcm9tID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgY29uc3QgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgLy8gVE9ETzogRmlndXJlIG91dCBpZiB0aGlzIG5lZWRzIGhlYWRlcnNcblxuICAgICAgICAgICAgeG1saHR0cC5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoU2suZmZpLnJlbWFwVG9QeSh4bWxodHRwLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHhtbGh0dHAub3BlbihcIkdFVFwiLCB1cmwpO1xuICAgICAgICAgICAgeG1saHR0cC5zZW5kKG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3VzcCA9IG5ldyBTay5taXNjZXZhbC5TdXNwZW5zaW9uKCk7XG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gbnVsbDtcbiAgICAgICAgc3VzcC5yZXN1bWUgPSAoKT0+cmVzb2x1dGlvbjtcbiAgICAgICAgc3VzcC5kYXRhID0ge1xuICAgICAgICAgICAgdHlwZTogXCJTay5wcm9taXNlXCIsXG4gICAgICAgICAgICBwcm9taXNlOiBwcm9tLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uID1cIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3VzcDtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gbW9kO1xufTtcbiIsImV4cG9ydCB2YXIgJGJ1aWx0aW5tb2R1bGUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICB2YXIgbW9kLCBzYW1wbGVXcmFwcGVyO1xyXG4gICAgbW9kID0ge19fbmFtZV9fOiBcIndlYWtyZWZcIn07XHJcblxyXG4gICAgLyptb2QuV2Vha1NldCA9IFNrLmFic3RyLmJ1aWxkTmF0aXZlQ2xhc3MoXCJ3ZWFrcmVmLldlYWtTZXRcIiwge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBXZWFrU2V0KClcclxuICAgIH0pOyovXHJcblxyXG4gICAgdmFyIFdlYWtTZXQgPSBmdW5jdGlvbigkZ2JsLCAkbG9jKSB7XHJcbiAgICAgICAgJGxvYy5fX2luaXRfXyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24gKHNlbGYsIGRhdGEpIHtcclxuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcIl9faW5pdF9fXCIsIGFyZ3VtZW50cywgMiwgMik7XHJcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoXCJkYXRhXCIsIFwiaXRlcmFibGVcIiwgU2suYnVpbHRpbi5jaGVja0l0ZXJhYmxlKGRhdGEpKTtcclxuICAgICAgICAgICAgc2VsZi5kYXRhID0gW107XHJcbiAgICAgICAgICAgIGxldCBpdGVyID0gU2suYWJzdHIuaXRlcihkYXRhKTtcclxuICAgICAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBTay5hYnN0ci5pdGVybmV4dChpdGVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRhdGEucHVzaChuZXcgV2Vha1JlZihuZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKG5leHQgIT09IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluLm5vbmUubm9uZSQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRsb2MuX19pdGVyX18gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYpIHtcclxuICAgICAgICAgICAgY29uc3Qgdmlld09mRGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxmLmRhdGFbaV0uZGVyZWYoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3T2ZEYXRhLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5kYXRhID0gdmlld09mRGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIFNrLmFic3RyLml0ZXIobmV3IFNrLmJ1aWx0aW4ubGlzdCh2aWV3T2ZEYXRhKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qJGxvYy5uZXh0JCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24gKHNlbGYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYudHAkaXRlcigpO1xyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICRsb2MuYWRkID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmLCBpdGVtKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZGF0YS5wdXNoKG5ldyBXZWFrUmVmKGl0ZW0pKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBtb2QuV2Vha1NldCA9IFNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MobW9kLCBXZWFrU2V0LCBcIldlYWtTZXRcIiwgW10pO1xyXG5cclxuICAgIHJldHVybiBtb2Q7XHJcbn07IiwibGV0IExPQ0FMX1NUT1JBR0VfUkVGO1xudHJ5IHtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRiA9IGxvY2FsU3RvcmFnZTtcbiAgICBsZXQgbW9kID0gXCJCTE9DS1BZX0xPQ0FMU1RPUkFHRV9URVNUXCI7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYuc2V0SXRlbShtb2QsIG1vZCk7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYucmVtb3ZlSXRlbShtb2QpO1xufSBjYXRjaChlKSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYgPSB7XG4gICAgICAgIF9kYXRhICAgICAgIDoge30sXG4gICAgICAgIHNldEl0ZW0gICAgIDogZnVuY3Rpb24oaWQsIHZhbCkgeyByZXR1cm4gdGhpcy5fZGF0YVtpZF0gPSBTdHJpbmcodmFsKTsgfSxcbiAgICAgICAgZ2V0SXRlbSAgICAgOiBmdW5jdGlvbihpZCkgeyByZXR1cm4gdGhpcy5fZGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkgPyB0aGlzLl9kYXRhW2lkXSA6IG51bGw7IH0sXG4gICAgICAgIHJlbW92ZUl0ZW0gIDogZnVuY3Rpb24oaWQpIHsgcmV0dXJuIGRlbGV0ZSB0aGlzLl9kYXRhW2lkXTsgfSxcbiAgICAgICAgY2xlYXIgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2RhdGEgPSB7fTsgfVxuICAgIH07XG59XG5cbi8qKlxuICogSGVscGVyIG9iamVjdCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgTG9jYWxTdG9yYWdlLiBUaGUgTG9jYWxTdG9yYWdlXG4gKiBicm93c2VyIEFQSSBhbGxvd3MgZm9yIG9mZmxpbmUgc3RvcmFnZS4gVGhhdCBBUEkgaXMgdmVyeSB1bnNvcGhpc3RpY2F0ZWQsXG4gKiBhbmQgaXMgZXNzZW50aWFsbHkgYSBsYW1lIGtleS12YWx1ZSBzdG9yZS4gVGhpcyBvYmplY3Qgc2l0cyBvbiB0b3BcbiAqIGFuZCBwcm92aWRlcyBhIG51bWJlciBvZiB1c2VmdWwgdXRpbGl0aWVzLCBpbmNsdWRpbmcgcnVkaW1lbnRhcnljYWNoZVxuICogY2FjaGUgZXhwaXJhdGlvbi5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtMb2NhbFN0b3JhZ2VXcmFwcGVyfVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSAtIEEgbmFtZXNwYWNlIHRvIHVzZSBpbiBncm91cGluZyBhY2Nlc3MgdG8gbG9jYWxzdG9yYWdlLiBUaGlzIGtlZXBzIGFjY2VzcyBjbGVhbiBhbmQgb3JnYW5pemVkLCB3aGlsZSBhbHNvIG1ha2luZyBpdCBwb3NzaWJsZSB0byBoYXZlIG11bHRpcGxlIExvY2FsU3RvcmFnZSBjb25uZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIExvY2FsU3RvcmFnZVdyYXBwZXIobmFtZXNwYWNlKSB7XG4gICAgdGhpcy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG59XG4vKipcbiAqIEEgbWV0aG9kIGZvciBhZGRpbmcgYSBrZXkvdmFsdWUgcGFpciB0byBMb2NhbFN0b3JhZ2UuXG4gKiBOb3RlIHRoYXQgYm90aCBwYXJhbWV0ZXJzIG11c3QgYmUgc3RyaW5ncyAoSlNPTi5zdHJpbmdpZnkgaXMgeW91ciBmcmllbmQpLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5LlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIC0gVGhlIHZhbHVlLlxuICovXG5Mb2NhbFN0b3JhZ2VXcmFwcGVyLnByb3RvdHlwZS5zZXQgPSAgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnNldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIsIHZhbHVlKTtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRi5zZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl90aW1lc3RhbXBcIiwgJC5ub3coKSk7XG59O1xuXG4vKipcbiAqIEEgbWV0aG9kIGZvciByZW1vdmluZyBhIGtleSBmcm9tIExvY2FsU3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIGtleSB0byByZW1vdmUuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnJlbW92ZUl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIpO1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnJlbW92ZUl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3RpbWVzdGFtcFwiKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJldHJpZXZpbmcgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5IHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBmb3IuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl92YWx1ZVwiKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJldHJpZXZpbmcgdGhlIHRpbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmUgdGhlIHRpbWUgZm9yLlxuICogQHJldHVybnMge0ludGVnZXJ9IC0gVGhlIHRpbWVzdGFtcCAobG9jYWwgZXBvY2gpIHdoZW4gdGhlIGtleSB3YXMgbGFzdCBzZXQuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoTE9DQUxfU1RPUkFHRV9SRUYuZ2V0SXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdGltZXN0YW1wXCIpKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJldHJpZXZpbmcgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICogSWYgdGhlIGtleSBkb2VzIG5vdCBleGlzdCwgdGhlbiB0aGUgZGVmYXVsdCB2YWx1ZSBpcyB1c2VkIGluc3RlYWQuXG4gKiBUaGlzIGRlZmF1bHQgd2lsbCBiZSBzZXQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmUgdGhlIHZhbHVlIGZvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBkZWZhdWx0VmFsdWUgLSBUaGUgZGVmYXVsdCB2YWx1ZSB0byB1c2UuIE11c3QgYmUgYSBzdHJpbmcuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmdldERlZmF1bHQgPSBmdW5jdGlvbihrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0KGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgdGVzdCBmb3Igd2hldGhlciB0aGUgZ2l2ZW4ga2V5IGlzIGluIExvY2FsU3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSB0byB0ZXN0IGV4aXN0ZW5jZSBmb3IuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl92YWx1ZVwiKSAhPT0gbnVsbDtcbn07XG5cbi8qKlxuICogQSB0ZXN0IGZvciB3aGV0aGVyIHRoZSBzZXJ2ZXIgaGFzIHRoZSBuZXdlciB2ZXJzaW9uLiBUaGlzIGZ1bmN0aW9uXG4gKiBhc3N1bWVzIHRoYXQgdGhlIHNlcnZlciB0cmlwIHRha2VzIGFib3V0IDUgc2Vjb25kcy4gVGhpcyBtZXRob2RcbiAqIGlzIGxhcmdlbHkgZGVwcmVjYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSB0byBjaGVjay5cbiAqIEBwYXJhbSB7SW50ZWdlcn0gc2VydmVyX3RpbWUgLSBUaGUgc2VydmVyJ3MgdGltZSBhcyBhbiBlcG9jaCAoaW4gbWlsbGlzZWNvbmRzKVxuICovXG5Mb2NhbFN0b3JhZ2VXcmFwcGVyLnByb3RvdHlwZS5pc19uZXcgPSBmdW5jdGlvbihrZXksIHNlcnZlcl90aW1lKSB7XG4gICAgdmFyIHN0b3JlZF90aW1lID0gTE9DQUxfU1RPUkFHRV9SRUYuZ2V0SXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdGltZXN0YW1wXCIpO1xuICAgIHJldHVybiAoc2VydmVyX3RpbWUgPj0gc3RvcmVkX3RpbWUrNTAwMCk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IFRSQUNFX0hUTUwgPSBgXG5cbjxkaXYgY2xhc3M9XCJibG9ja3B5LXRyYWNlIGNvbC1tZC02IGJsb2NrcHktcGFuZWxcIlxuICAgICAgICAgICAgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJUcmFjZVwiPlxuICAgIFxuICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPlxuICAgICAgICA8c3Ryb25nPlRyYWNlOiA8L3N0cm9uZz5cbiAgICAgICAgXG4gICAgICAgIDwhLS0gRmVlZGJhY2svVHJhY2UgVmlzaWJpbGl0eSBDb250cm9sIC0tPlxuICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICBjbGFzcz0nYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkgZmxvYXQtcmlnaHQgYmxvY2tweS1oaWRlLXRyYWNlJ1xuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5zZWNvbmRSb3cuYWR2YW5jZVN0YXRlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWV5ZSc+PC9zcGFuPiBIaWRlIFRyYWNlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIG1iLTMgYmxvY2tweS10cmFjZS1jb250cm9sc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS50cmFjZS5maXJzdFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtc3RlcC1iYWNrd2FyZCc+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmJhY2t3YXJkXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1iYWNrd2FyZCc+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj5TdGVwOjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD0ndGV4dDogZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCc+PC9zcGFuPlxuICAgICAgICAgICAgICAgIC8gPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiBleGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCc+PC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLWFwcGVuZFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS50cmFjZS5mb3J3YXJkXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1mb3J3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSdcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkudHJhY2UubGFzdFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtc3RlcC1mb3J3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD0ndGV4dDogdWkudHJhY2UubGluZSc+PC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8cCBkYXRhLWJpbmQ9XCJ0ZXh0OiB1aS50cmFjZS5hc3RcIj48L3A+XG4gICAgPHA+VmFyaWFibGVzIGFmdGVyIHRoaXMgc3RlcDo8L3A+XG4gICAgPHRhYmxlIGNsYXNzPSd0YWJsZSB0YWJsZS1zbSB0YWJsZS1zdHJpcGVkIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWhvdmVyJz5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+VHlwZTwvdGg+PHRoPlZhbHVlPC90aD48L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHkgZGF0YS1iaW5kPVwiZm9yZWFjaDogdWkudHJhY2UuZGF0YSgpLnByb3BlcnRpZXNcIj5cbiAgICAgICAgICAgIDx0ciBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiBuYW1lICE9ICdfX2ZpbGVfXycgJiYgbmFtZSAhPSAnX19wYXRoX18nXCI+XG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtYmluZD1cInRleHQ6IG5hbWVcIj48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWJpbmQ9XCJ0ZXh0OiB0eXBlXCI+PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxjb2RlIGRhdGEtYmluZD1cInRleHQ6IHZhbHVlXCI+PC9jb2RlPlxuICAgICAgICAgICAgICAgICAgICA8IS0tIGtvIGlmOiB0eXBlID09IFwiTGlzdFwiIC0tPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIlwiIGRhdGEtYmluZD1cImNsaWNrOiAvLyRyb290LnZpZXdFeGFjdFZhbHVlKHR5cGUsIGV4YWN0X3ZhbHVlKVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZ2x5cGhpY29uIGdseXBoaWNvbi1uZXctd2luZG93Jz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgICBcbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNvbnN0IEFTVF9ERVNDUklQVElPTlMgPSB7XG4gICAgXCJBZGRcIjogXCJBbiBhZGRpdGlvbiBvcGVyYXRvclwiLFxuICAgIFwiQW5kXCI6IFwiQSBib29sZWFuIEFORCBvcGVyYXRvclwiLFxuICAgIFwiQW5uQXNzaWduXCI6IFwiQW4gYW5ub3RhdGVkIGFzc2lnbm1lbnRcIixcbiAgICBcIkFzc2VydFwiOiBcIkFuIGFzc2VydCBzdGF0ZW1lbnRcIixcbiAgICBcIkFzc2lnblwiOiBcIkFuIGFzc2lnbm1lbnQgc3RhdGVtZW50XCIsXG4gICAgXCJBc3luY0ZvclwiOiBcIkFuIGFzeWNocm9ub3VzIGZvciBsb29wXCIsXG4gICAgXCJBc3luY0Z1bmN0aW9uRGVmXCI6IFwiQW4gYXN5Y2hyb25vdXMgZnVuY3Rpb24gZGVmaW5pdGlvblwiLFxuICAgIFwiQXN5bmNXaXRoXCI6IFwiQW4gYXN5Y2hyb25vdXMgd2l0aCBzdGF0ZW1lbnRcIixcbiAgICBcIkF0dHJpYnV0ZVwiOiBcIkFuIGF0dHJpYnV0ZSBsb29rdXAgKGFjY2VzcyBhIGZpZWxkKVwiLFxuICAgIFwiQXVnQXNzaWduXCI6IFwiQW4gYXVnbWVudGVkIGFzc2lnbm1lbnRcIixcbiAgICBcIkF1Z0xvYWRcIjogXCJBbiBhdWdtZW50ZWQgbG9hZFwiLFxuICAgIFwiQXVnU3RvcmVcIjogXCJBbiBhdWdtZW50ZWQgc3RvcmVcIixcbiAgICBcIkF3YWl0XCI6IFwiQW4gYXdhaXQgc3RhdGVtZW50XCIsXG4gICAgXCJCaW5PcFwiOiBcIkEgYmluYXJ5IG9wZXJhdG9yXCIsXG4gICAgXCJCaXRBbmRcIjogXCJBIGJpdHdpc2UgQU5EIG9wZXJhdG9yXCIsXG4gICAgXCJCaXRPclwiOiBcIkEgYml0d2lzZSBPUiBvcGVyYXRvclwiLFxuICAgIFwiQml0WG9yXCI6IFwiQSBiaXR3aXNlIFhPUiBvcGVyYXRvclwiLFxuICAgIFwiQm9vbE9wXCI6IFwiQSBib29sZWFuIG9wZXJhdG9yXCIsXG4gICAgXCJCcmVha1wiOiBcIkEgYnJlYWsgc3RhdGVtZW50XCIsXG4gICAgXCJCeXRlc1wiOiBcIkEgbGl0ZXJhbCBieXRlcyBzdHJpbmdcIixcbiAgICBcIkNhbGxcIjogXCJBIGZ1bmN0aW9uIGNhbGxcIixcbiAgICBcIkNsYXNzRGVmXCI6IFwiQSBjbGFzcyBkZWZpbml0aW9uXCIsXG4gICAgXCJDb21wYXJlXCI6IFwiQSBib29sZWFuIGNvbXBhcmlzb25cIixcbiAgICBcIkNvbnN0YW50XCI6IFwiQSBsaXRlcmFsIHZhbHVlXCIsXG4gICAgXCJDb250aW51ZVwiOiBcIkEgY29udGludWUgc3RhdGVtZW50XCIsXG4gICAgXCJEZWxcIjogXCJBIGRlbGV0ZSBzdGF0ZW1lbnRcIixcbiAgICBcIkRlbGV0ZVwiOiBcIkEgZGVsZXRpb25cIixcbiAgICBcIkRpY3RcIjogXCJBIGRpY3Rpb25hcnkgbGl0ZXJhbFwiLFxuICAgIFwiRGljdENvbXBcIjogXCJBIGRpY3Rpb25hcnkgY29tcHJlaGVuc2lvblwiLFxuICAgIFwiRGl2XCI6IFwiQSBkaXZpc2lvbiBvcGVyYXRvclwiLFxuICAgIFwiRWxsaXBzaXNcIjogXCJBbiBlbGxpcHNpc1wiLFxuICAgIFwiRXFcIjogXCJBbiBlcXVhbGl0eSBjb21wYXJpc29uIG9wZXJhdG9yXCIsXG4gICAgXCJFeGNlcHRIYW5kbGVyXCI6IFwiQW4gZXhjZXB0IGhhbmRsZXJcIixcbiAgICBcIkV4cHJcIjogXCJBbiBleHByZXNzaW9uIHVzZWQgYXMgYSBzdGF0ZW1lbnRcIixcbiAgICBcIkV4cHJlc3Npb25cIjogXCJBbiBldmFsdWF0ZWQgZXhwcmVzc2lvblwiLFxuICAgIFwiRXh0U2xpY2VcIjogXCJBIG11bHRpLWRpbWVuc2lvbmFsIHNsaWNlXCIsXG4gICAgXCJGbG9vckRpdlwiOiBcIkFuIGludGVnZXIgZGl2aXNpb24gb3BlcmF0b3JcIixcbiAgICBcIkZvclwiOiBcIkEgRk9SIGxvb3BcIixcbiAgICBcIkZvcm1hdHRlZFZhbHVlXCI6IFwiQSBmb3JtYXR0ZWQgdmFsdWUgaW4gYW4gZi1zdHJpbmdcIixcbiAgICBcIkZ1bmN0aW9uRGVmXCI6IFwiQSBmdW5jdGlvbiBkZWZpbml0aW9uXCIsXG4gICAgXCJHZW5lcmF0b3JFeHBcIjogXCJBIGdlbmVyYXRvciBleHByZXNzaW9uXCIsXG4gICAgXCJHbG9iYWxcIjogXCJBIGdsb2JhbCBzdGF0ZW1lbnRcIixcbiAgICBcIkd0XCI6IFwiQSBncmVhdGVyIHRoYW4gY29tcGFyaXNvbiBvcGVyYXRvclwiLFxuICAgIFwiR3RFXCI6IFwiQSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gY29tcGFyaXNvbiBvcGVyYXRvclwiLFxuICAgIFwiSWZcIjogXCJBbiBJRiBzdGF0ZW1lbnRcIixcbiAgICBcIklmRXhwXCI6IFwiQW4gSUYgZXhwcmVzc2lvblwiLFxuICAgIFwiSW1wb3J0XCI6IFwiQW4gaW1wb3J0IHN0YXRlbWVudFwiLFxuICAgIFwiSW1wb3J0RnJvbVwiOiBcIkFuIGltcG9ydC9mcm9tIHN0YXRlbWVudFwiLFxuICAgIFwiSW5cIjogXCJBbiBJTiBvcGVyYXRvclwiLFxuICAgIFwiSW5kZXhcIjogXCJBbiBpbmRleFwiLFxuICAgIFwiSW50ZXJhY3RpdmVcIjogXCJBbiBpbnRlcmFjdGl2ZSBleHByZXNzaW9uXCIsXG4gICAgXCJJbnZlcnRcIjogXCJBbiBpbnZlcnQgb3BlcmF0b3JcIixcbiAgICBcIklzXCI6IFwiQW4gSVMgb3BlcmF0b3JcIixcbiAgICBcIklzTm90XCI6IFwiQW4gSVMgTk9UIG9wZXJhdG9yXCIsXG4gICAgXCJKb2luZWRTdHJcIjogXCJBbiBmLXN0cmluZ1wiLFxuICAgIFwiTFNoaWZ0XCI6IFwiQSBsZWZ0IHNoaWZ0IG9wZXJhdG9yXCIsXG4gICAgXCJMYW1iZGFcIjogXCJBIGxhbWJkYSBleHByZXNzaW9uXCIsXG4gICAgXCJMaXN0XCI6IFwiQSBsaXN0IGxpdGVyYWxcIixcbiAgICBcIkxpc3RDb21wXCI6IFwiQSBsaXN0IGNvbXByZWhlbnNpb25cIixcbiAgICBcIkxvYWRcIjogXCJBIGxvYWRcIixcbiAgICBcIkx0XCI6IFwiQSBsZXNzIHRoYW4gY29tcGFyaXNvbiBvcGVyYXRvclwiLFxuICAgIFwiTHRFXCI6IFwiQSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gY29tcGFyaXNvbiBvcGVyYXRvclwiLFxuICAgIFwiTWF0TXVsdFwiOiBcIkEgbWF0cml4IG11bHRpcGxpY2F0aW9uIG9wZXJhdG9yXCIsXG4gICAgXCJNb2RcIjogXCJBIG1vZHVsbyBvcGVyYXRvclwiLFxuICAgIFwiTW9kdWxlXCI6IFwiQSBtb2R1bGVcIixcbiAgICBcIk11bHRcIjogXCJBIG11bHRpcGxpY2F0aW9uIG9wZXJhdG9yXCIsXG4gICAgXCJOYW1lXCI6IFwiQSBuYW1lXCIsXG4gICAgXCJOYW1lQ29uc3RhbnRcIjogXCJBIG5hbWUgY29uc3RhbnRcIixcbiAgICBcIk5vbmxvY2FsXCI6IFwiQSBub25sb2NhbCBzdGF0ZW1lbnRcIixcbiAgICBcIk5vdFwiOiBcIkEgbm90IG9wZXJhdG9yXCIsXG4gICAgXCJOb3RFcVwiOiBcIkEgbm90IGVxdWFsIHRvIGNvbXBhcmlzb24gb3BlcmF0b3JcIixcbiAgICBcIk5vdEluXCI6IFwiQSBOT1QgSU4gb3BlcmF0b3JcIixcbiAgICBcIk51bVwiOiBcIkEgbnVtZXJpYyBsaXRlcmFsXCIsXG4gICAgXCJPclwiOiBcIkEgYm9vbGVhbiBPUiBvcGVyYXRvclwiLFxuICAgIFwiUGFyYW1cIjogXCJBIHBhcmFtZXRlclwiLFxuICAgIFwiUGFzc1wiOiBcIkEgcGFzcyBzdGF0ZW1lbnRcIixcbiAgICBcIlBvd1wiOiBcIkEgcG93ZXIgb3BlcmF0b3JcIixcbiAgICBcIlJTaGlmdFwiOiBcIkEgcmlnaHQgc2hpZnQgb3BlcmF0b3JcIixcbiAgICBcIlJhaXNlXCI6IFwiQSByYWlzZSBzdGF0ZW1lbnRcIixcbiAgICBcIlJldHVyblwiOiBcIkEgcmV0dXJuIHN0YXRlbWVudFwiLFxuICAgIFwiU2V0XCI6IFwiQSBzZXQgbGl0ZXJhbFwiLFxuICAgIFwiU2V0Q29tcFwiOiBcIkEgc2V0IGNvbXByZWhlbnNpb25cIixcbiAgICBcIlNsaWNlXCI6IFwiQSBzbGljZVwiLFxuICAgIFwiU3RhcnJlZFwiOiBcIkEgc3RhcnJlZCBhcmd1bWVudFwiLFxuICAgIFwiU3RvcmVcIjogXCJBIHN0b3JlXCIsXG4gICAgXCJTdHJcIjogXCJBIHN0cmluZyBsaXRlcmFsXCIsXG4gICAgXCJTdWJcIjogXCJBIHN1YnRyYWN0aW9uIG9wZXJhdG9yXCIsXG4gICAgXCJTdWJzY3JpcHRcIjogXCJBIHN1YnNjcmlwdFwiLFxuICAgIFwiU3VpdGVcIjogXCJBIHN1aXRlXCIsXG4gICAgXCJUcnlcIjogXCJBIHRyeSBzdGF0ZW1lbnRcIixcbiAgICBcIlR1cGxlXCI6IFwiQSB0dXBsZSBsaXRlcmFsXCIsXG4gICAgXCJUeXBlSWdub3JlXCI6IFwiIGEgdHlwZSBpZ25vcmVcIixcbiAgICBcIlVBZGRcIjogXCJBIHVuYXJ5IGFkZGl0aW9uIG9wZXJhdG9yXCIsXG4gICAgXCJVU3ViXCI6IFwiQSB1bmFyeSBzdWJ0cmFjdGlvbiBvcGVyYXRvclwiLFxuICAgIFwiVW5hcnlPcFwiOiBcIkEgdW5hcnkgb3BlcmF0b3JcIixcbiAgICBcIldoaWxlXCI6IFwiQSB3aGlsZSBsb29wXCIsXG4gICAgXCJXaXRoXCI6IFwiQSB3aXRoIHN0YXRlbWVudFwiLFxuICAgIFwiWWllbGRcIjogXCJBIHlpZWxkIHN0YXRlbWVudFwiLFxuICAgIFwiWWllbGRGcm9tXCI6IFwiQSB5aWVsZC9mcm9tIHN0YXRlbWVudFwiXG59O1xuXG5leHBvcnQgY2xhc3MgQmxvY2tQeVRyYWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcblxuICAgICAgICB0aGlzLklHTk9SRURfR0xPQkFMUyA9IFtcIl9fbmFtZV9fXCIsIFwiX19kb2NfX1wiLCBcIl9fcGFja2FnZV9fXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NtZXRob2RcIiwgXCJwcm9wZXJ0eVwiLCBcInN0YXRpY21ldGhvZFwiLCBcIiRmcmVlXCIsIFwiJGNlbGxcIl07XG5cbiAgICAgICAgLy8gdGhpcy50cmFjZS5jbGljayh0aGlzLmJ1aWxkVHJhY2VUYWJsZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25zdW1lIGEgc2V0IG9mIHZhcmlhYmxlcyB0cmFjZWQgZnJvbSB0aGUgZXhlY3V0aW9uIGFuZCBwYXJzZSBvdXQgYW55XG4gICAgICogZ2xvYmFsIHZhcmlhYmxlcyBhbmQgbW9kdWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZXMgLSBhIG1hcHBpbmcgb2YgdmFyaWFibGUgbmFtZXMgdG8gdGhlaXIgU2t1cHQgdmFsdWUuXG4gICAgICovXG4gICAgcGFyc2VHbG9iYWxzKHZhcmlhYmxlcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBtb2R1bGVzID0gW107XG4gICAgICAgIC8vY29uc29sZS5sb2codmFyaWFibGVzKTtcbiAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS50cmFjZUV4ZWN1dGlvbigpKSB7XG4gICAgICAgICAgICAvKmlmIChcIiRjZWxsXCIgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzID0gey4uLnZhcmlhYmxlcywgLi4udmFyaWFibGVzLiRjZWxsfTtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgLyppZiAoXCIkZnJlZVwiIGluIHZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlcyA9IHsuLi52YXJpYWJsZXMsIC4uLnZhcmlhYmxlcy4kZnJlZX07XG4gICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHZhcmlhYmxlc1twcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuSUdOT1JFRF9HTE9CQUxTLmluZGV4T2YocHJvcGVydHkpID09PSAtMSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkucmVwbGFjZShcIl8kcnckXCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIl8kcm4kXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gQmxvY2tQeVRyYWNlLnBhcnNlVmFsdWUocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB7XCJuYW1lXCI6IHByb3BlcnR5LCBcInR5cGVcIjogXCJVbmtub3duXCIsIFwidmFsdWVcIjogdmFsdWUudG9TdHJpbmcoKX07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gU2suYnVpbHRpbi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXMucHVzaCh2YWx1ZS4kZC5fX25hbWVfXy52KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1wicHJvcGVydGllc1wiOiByZXN1bHQsIFwibW9kdWxlc1wiOiBtb2R1bGVzfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIFNrdWxwdCB2YWx1ZSBpbnRvIGEgbW9yZSBlYXNpbHkgcHJpbnRhYmxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSAtIHRoZSBza3VscHQgdmFsdWVcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIGZ1bGxMZW5ndGgpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlVua25vd25cIixcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiVW5kZWZpbmVkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgY2FzZSBcImRhdGFjbGFzc1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkRlY29yYXRvclwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCI8ZGF0YWNsYXNzIGRlY29yYXRvcj5cIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh2YWx1ZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmZ1bmM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZS5mdW5jX2NvZGUuY29fdmFybmFtZXMgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgUGFyYW1ldGVyczogXCIrdmFsdWUuZnVuY19jb2RlLmNvX3Zhcm5hbWVzLmpvaW4oXCIsIFwiKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgTm8gcGFyYW1ldGVyc1wiKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4ubW9kdWxlOiByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5zdHI6XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxMZW5ndGggfHwgdmFsdWUudi5sZW5ndGggPD0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJTdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJTdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJbXCIrdmFsdWUuc3EkbGVuZ3RoKCkrXCIgY2hhcmFjdGVycyBub3Qgc2hvd25dXCJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4ubm9uZTpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiTm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiTm9uZVwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5ib29sOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJCb29sZWFuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5ubWJlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50XCIgPT09IHZhbHVlLnNrVHlwZSA/IFwiSW50ZWdlclwiOiBcIkZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5pbnRfOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5mbG9hdF86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi50dXBsZTpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVHVwbGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmxpc3Q6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnYubGVuZ3RoIDw9IDIwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiTGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnYsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImV4YWN0X3ZhbHVlXCI6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJMaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiWy4uLiBcIit2YWx1ZS52Lmxlbmd0aCtcIiBlbGVtZW50cyAuLi5dXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImV4YWN0X3ZhbHVlXCI6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmRpY3Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkRpY3Rpb25hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiB2YWx1ZSAlIDEgPT09IDAgPyBcIkludGVnZXJcIiA6IFwiRmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJCb29sZWFuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogKHZhbHVlID8gXCJUcnVlXCI6IFwiRmFsc2VcIilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IHZhbHVlLnRwJG5hbWUgPT09IHVuZGVmaW5lZCA/IHZhbHVlIDogdmFsdWUudHAkbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kciA9PT0gdW5kZWZpbmVkID8gdmFsdWUgOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcblxuXG59XG5cbi8vIFRPRE86IHZpZXdFeGFjdFZhbHVlIiwiLyoqXG4gKiBNb3ZlIGFuIGVsZW1lbnQgZnJvbSBpbmRleCBpbiBhbiBhcnJheSB0byBhIG5ldyBpbmRleC5cbiAqIE8obilcbiAqIENvdXJ0ZXN5OlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzczODc3NjgwLzE3MTgxNTVcbiAqIEBwYXJhbSBhcnJcbiAqIEBwYXJhbSBvbGRJbmRleFxuICogQHBhcmFtIG5ld0luZGV4XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5TW92ZShhcnIsIG9sZEluZGV4LCBuZXdJbmRleCkge1xuICAgIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgY29uc3QgaXRlbVRvTW92ZSA9IGFycltvbGRJbmRleF07XG5cbiAgICBpZiAob2xkSW5kZXggPT09IG5ld0luZGV4IHx8IG9sZEluZGV4ID4gbGVuZ3RoIHx8IG5ld0luZGV4ID4gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKGFjYywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBvbGRJbmRleCkge3JldHVybiBhY2M7fVxuICAgICAgICBpZiAoaW5kZXggPT09IG5ld0luZGV4KSB7cmV0dXJuIG9sZEluZGV4IDwgbmV3SW5kZXggPyBbLi4uYWNjLCBpdGVtLCBpdGVtVG9Nb3ZlXSA6IFsuLi5hY2MsIGl0ZW1Ub01vdmUsIGl0ZW1dO31cbiAgICAgICAgcmV0dXJuIFsuLi5hY2MsIGl0ZW1dO1xuICAgIH0sIFtdKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBlbGVtZW50IGlzIGluIHRoZSBsaXN0LlxuICogQHBhcmFtIHthbnl0aGluZ30gbmVlZGxlIC0gVGhlIGVsZW1lbnQgdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0ge0FycmF5fSBoYXlzdGFjayAtIFRoZSBsaXN0IHRvIHNlYXJjaC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGVsZW1lbnQgZXhpc3RzXG4gKi9cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMobmVlZGxlLCBoYXlzdGFjaykge1xuICAgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPiAtMTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgZHVwbGljYXRlIHZhbHVlcyBmcm9tIGFuIGFycmF5LCBwcmVzZXJ2aW5nIG9yZGVyLlxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSwgc28gaXMgbm9uLWRlc3RydWN0aXZlLlxuICogQ291cnRlc3k6XG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTg0MzcwL2hvdy10by1tZXJnZS10d28tYXJyYXlzLWluLWphdmFzY3JpcHQtYW5kLWRlLWR1cGxpY2F0ZS1pdGVtc1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IC0gVGhlIGFycmF5IHRvIHVuaXF1aWZ5LiBFbGVtZW50cyBjb21wYXJlZCB3aXRoID09PS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlVbmlxdWUoYXJyYXkpIHtcbiAgICB2YXIgYSA9IGFycmF5LmNvbmNhdCgpO1xuICAgIGZvcih2YXIgaT0wOyBpPGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZm9yKHZhciBqPWkrMTsgajxhLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBpZihhW2ldID09PSBhW2pdKSB7YS5zcGxpY2Uoai0tLCAxKTt9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgZXh0ZW5kaW5nIGFuIGFycmF5IGJhc2VkXG4gKiBvbiBhbiBcImFkZEFycmF5XCIgYW5kIFwicmVtb3ZlQXJyYXlcIi4gQW55IGVsZW1lbnRcbiAqIGZvdW5kIGluIHJlbW92ZUFycmF5IGlzIHJlbW92ZWQgZnJvbSB0aGUgZmlyc3QgYXJyYXlcbiAqIGFuZCBhbGwgdGhlIGVsZW1lbnRzIG9mIGFkZEFycmF5IGFyZSBhZGRlZC5cbiAqIEFueSBkdXBsaWNhdGUgaXRlbXMgYXJlIHJlbW92ZWQuXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5LCBzbyBpcyBub24tZGVzdHJ1Y3RpdmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgLSB0aGUgYXJyYXkgdG8gbWFuaXB1bGF0ZVxuICogQHBhcmFtIHtBcnJheX0gYWRkQXJyYXkgLSB0aGUgZWxlbWVudHMgdG8gYWRkIHRvIHRoZSBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gcmVtb3ZlQXJyYXkgLSB0aGUgZWxlbWVudHMgdG8gcmVtb3ZlIGZyb20gdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gVGhlIG1vZGlmaWVkIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGV4cGFuZEFycmF5KGFycmF5LCBhZGRBcnJheSwgcmVtb3ZlQXJyYXkpIHtcbiAgICB2YXIgY29weUFycmF5ID0gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUFycmF5LmluZGV4T2YoaXRlbSkgPT09IC0xO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheVVuaXF1ZShjb3B5QXJyYXkuY29uY2F0KGFkZEFycmF5KSk7XG59XG5cbi8qKlxuICogRGVlcGx5IGNsb25lcyBhIG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBBIG5vZGUgdG8gY2xvbmVcbiAqIEByZXR1cm4ge05vZGV9IEEgY2xvbmUgb2YgdGhlIGdpdmVuIG5vZGUgYW5kIGFsbCBpdHMgY2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gY2xvbmVOb2RlKG5vZGUpIHtcbiAgICAvLyBJZiB0aGUgbm9kZSBpcyBhIHRleHQgbm9kZSwgdGhlbiByZS1jcmVhdGUgaXQgcmF0aGVyIHRoYW4gY2xvbmUgaXRcbiAgICB2YXIgY2xvbmUgPSBub2RlLm5vZGVUeXBlID09IDMgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLm5vZGVWYWx1ZSkgOiBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gXG4gICAgLy8gUmVjdXJzZSAgICAgXG4gICAgdmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgIHdoaWxlKGNoaWxkKSB7XG4gICAgICAgIGNsb25lLmFwcGVuZENoaWxkKGNsb25lTm9kZShjaGlsZCkpO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICAgXG4gICAgcmV0dXJuIGNsb25lO1xufVxuXG4vKipcbiAqIEluZGVudHMgdGhlIGdpdmVuIHN0cmluZyBieSA0IHNwYWNlcy4gVGhpcyBjb3JyZWN0bHkgaGFuZGxlcyBtdWx0aS1saW5lIHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gYmUgbWFuaXB1bGF0ZWQuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHdpdGggZm91ciBzcGFjZXMgYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIGV2ZXJ5IG5ldyBsaW5lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZW50KHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXig/PS4pL2dtLCBcIiAgICBcIik7XG59XG5cbi8qKlxuICogVHVybnMgc3BhY2VzIGludG8gdW5kZXJzY29yZXMgaW4gdGhlIHN0cmluZywgbWFrZXMgaXQgbG93ZXJjYXNlLlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciAtIHRoZSBzdHJpbmcgdG8gYmUgbWFuaXB1bGF0ZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbHVnKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxzL2csIFwiX1wiKS50b0xvd2VyQ2FzZSgpO1xufVxuXG4vKipcbiAqIENhcGl0YWxpemUgdGhlIGZpcnN0IGxldHRlciBvZiBhIHN0cmluZy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzIC0gVGhlIHN0cmluZyB0byBiZSBjYXBpdGFsaXplZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplKHMpIHtcbiAgICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIFtgbWluYCwgYG1heGBdLlxuICogXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIC0gVGhlIGxvd2VzdCBwb3NzaWJsZSBpbnRlZ2VyLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCAtIFRoZSBoaWdoZXN0IHBvc3NpYmxlIGludGVnZXIgKGluY2x1c2l2ZSkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIHJhbmRvbSBpbnRlZ2VyLlxuICovXG5mdW5jdGlvbiByYW5kb21JbnRlZ2VyKG1pbixtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihtYXgtbWluKzEpK21pbik7XG59XG5cbi8qKlxuICogRW5jb2RlcyBzb21lIHRleHQgc28gdGhhdCBpdCBjYW4gYmUgc2FmZWx5IHdyaXR0ZW4gaW50byBhbiBIVE1MIGJveC5cbiAqIFRoaXMgaW5jbHVkZXMgcmVwbGFjaW5nIHNwZWNpYWwgSFRNTCBjaGFyYWN0ZXJzICgmLCA8LCA+LCBldGMuKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHRleHQgdG8gYmUgY29udmVydGVkLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgSFRNTC1zYWZlIHRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVIVE1MKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXG4gICAgICAgIC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csIFwiJmFwb3M7XCIpO1xufVxuXG4vKipcbiAqIFNodWZmbGUgdGhlIGJsb2NrcyBpbiB0aGUgd29ya3NwYWNlXG4gKi9cbmlmICh0eXBlb2YgQmxvY2tseSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIEJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXRyaWNzID0gdGhpcy5nZXRNZXRyaWNzKCk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mudmlld1dpZHRoIC8gMixcbiAgICAgICAgICAgIGhlaWdodCA9IG1ldHJpY3Mudmlld0hlaWdodDtcbiAgICAgICAgdmFyIGJsb2NrcyA9IHRoaXMuZ2V0VG9wQmxvY2tzKGZhbHNlKTtcbiAgICAgICAgdmFyIHkgPSA1LCB4ID0gMCxcbiAgICAgICAgICAgIG1heGltYWxfaW5jcmVhc2UgPSBoZWlnaHQvYmxvY2tzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja3MubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgLy8gR2V0IGEgYmxvY2tcbiAgICAgICAgICAgIHZhciBibG9jayA9IGJsb2Nrc1tpXTtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYmxvY2suZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO1xuICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHggPSA1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gLXByb3BlcnRpZXMueCtyYW5kb21JbnRlZ2VyKDEwLCB3aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5tb3ZlQnkoeCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgLXByb3BlcnRpZXMueSt5KTtcbiAgICAgICAgICAgIHkgPSB5ICsgcmFuZG9tSW50ZWdlcig1LCBtYXhpbWFsX2luY3JlYXNlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuICogTW92ZSBlbGVtZW50cyBmcm9tIG9uZSBhcnJheSB0byBhbm90aGVyIGJhc2VkIG9uIGEgY29uZGl0aW9uYWwgY2hlY2suXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTg4Nzk2Ny9qYXZhc2NyaXB0LW1vdmUtb2JqZWN0cy1mcm9tLW9uZS1hcnJheS10by1hbm90aGVyLWJlc3QtYXBwcm9hY2hcbiAqL1xuZnVuY3Rpb24gbW92ZUVsZW1lbnRzKHNvdXJjZSwgdGFyZ2V0LCBtb3ZlQ2hlY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKG1vdmVDaGVjayhlbGVtZW50KSkge1xuICAgICAgICAgICAgc291cmNlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgfSBcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3REZWZpbmVkVmFsdWUoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1tpXSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBvbmUgb2YgdGhlIFNrLmJ1aWx0aW4gb2JqZWN0c1xuICogVE9ETzogbWFrZSB0aGlzIHNvIHdlIGRvbid0IGhhdmUgdG8gZXhwbGljaXRseSBwdXQgb3V0IGV2ZXJ5IG9wdGlvblxuICogICAgICAgICAgb25lIHBvc3NpYmxlIHRoaW5nIHdlIGNvdWxkIGRvIGlzIGdldCBhIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSBcbiAqICAgICAgICAgIG9mIHRoZSBjb25zdHJ1Y3RvciBhbmQgbG9vayBmb3IgdGhlIHN1YnN0cmluZyBcInJldHVybiBuZXcgU2suYnVpbHRpblwiXG4gKiAgICAgICAgICBCdXQgSSBkb24ndCBrbm93IGhvdyByZWxpYWJsZSB0aGF0IGlzLiAgUmF0aGVyLCBpdCdzIGtpbmQgb2YgaGFja2lzaC5cbiAqICAgICAgICAgIFNob3VsZCB0ZWhvcmV0aWNhbGx5IGJlbG9uZyBpbiBTay5mZmlcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSB0aGUgb2JqZWN0IHRvIGJlIGV4YW1pbmVkXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBvYmplY3QgaXMgb25lIG9mIHRoZSBTay5idWlsdGluIHR5cGVzXG4qKi9cbmZ1bmN0aW9uIGlzU2tCdWlsdGluKG9iail7XG4gICAgcmV0dXJuIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmRpY3QpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmxpc3QpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLnR1cGxlKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5ib29sKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5pbnRfKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5mbG9hdF8pIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLnN0cikgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4ubG5nKTtcbiAgICAvL3ZhciBjb25zX3N0ciA9IG9iai5jb25zdHJ1Y3RvciArIFwiXCI7XG4gICAgLy9yZXR1cm4gY29uc19zdHIuaW5kZXhPZihcInJldHVybiBuZXcgU2suYnVpbHRpblwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGlzQXN0Tm9kZShvYmope1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgXCJfYXN0bmFtZVwiIGluIG9iajtcbn1cblxuY29uc3QgREVGQVVMVF9TRUNUSU9OX1BBVFRFUk4gPSAvXigjIyMjIyBQYXJ0ICguKykpJC9nbTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgZ2l2ZW4gUGFydCBJRCB1c2luZyB0aGUgcGF0dGVybiBgIyMjIyBQYXJ0IHdoYXRldmVyYCAob24gaXRzIG93biBzZXBhcmF0ZSBsaW5lKS4gSWYgdGhlIHBhdHRlcm5cbiAqIGlzIG5vdCBmb3VuZCwgdGhlbiBudWxsIGlzIHJldHVybmVkLiBJZiBubyBwYXR0ZXJuIGlzIGdpdmVuIChlbXB0eSBzdHJpbmcgb3IgbnVsbCksIHRoZW4gdGhlIG9yaWdpbmFsIHRleHRcbiAqIGlzIHJldHVybmVkIHdpdGhvdXQgbW9kaWZpY2F0aW9ucy5cbiAqIEBwYXJhbSB0ZXh0XG4gKiBAcGFyYW0gcGFydElkXG4gKiBAcmV0dXJucyB7bnVsbHwqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFBhcnQodGV4dCwgcGFydElkKSB7XG4gICAgaWYgKHBhcnRJZCA9PT0gXCJcIiB8fCBwYXJ0SWQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KERFRkFVTFRfU0VDVElPTl9QQVRURVJOKTtcbiAgICBmb3IgKGxldCBpPTI7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrPTMpIHtcbiAgICAgICAgLyogLy8gVW5uZWNlc3NhcnkgYXNzZXJ0aW9uLCBidXQgbm90IGJhZCB0byB0aGluayBhYm91dFxuICAgICAgICBpZiAoIXBhcnRzW2ktMV0uc3RhcnRzV2l0aChcIiMjIyMgUGFydCBcIikpIHtcbiAgICAgICAgICAgIHRocm93IFwiRXJyb3I6IHBhcnQgZm9ybWF0IGlzIGJyb2tlbiFcIjtcbiAgICAgICAgfSovXG4gICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gcGFydElkKSB7XG4gICAgICAgICAgICBsZXQgYm9keSA9IHBhcnRzW2krMV07XG4gICAgICAgICAgICBpZiAoYm9keSAmJiBib2R5WzBdID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IGJvZHkuc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSAhPT0gcGFydHMubGVuZ3RoIC0gMyAmJiBib2R5ICYmIGJvZHkuc2xpY2UoLTEpID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IGJvZHkuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogU2hvdWxkIHRoZW9yZXRpY2FsbHkgYmVsb25nIGluIFNrLmZmaSwgYnV0IEkgcHV0IGl0IGhlcmUgaW5zdGVhZCB0byBub3QgbWVzcyB1cCB0aGUgc2t1bHB0IGZpbGVzXG4gKiBsaWtlIHRoZSBub3JtYWwgU2suZmZpLnJlbWFwVG9QeSwgaXQgZG9lc24ndCB3b3JrIGZvciBmdW5jdGlvbnMgb3IgbW9yZSBjb21wbGV4IG9iamVjdHMsIGJ1dCBpdCBoYW5kbGVzXG4gKiBjYXNlcyB3aGVyZSB0aGUgdHlwZXMgaW4gb2JqIGFyZSBhIG1peCBvZiBweXRob24gU0lNUExFIG9iamVjdHMgYW5kIFNJTVBMRSBub3JtYWwgamF2YXNjcmlwdCBvYmplY3RzXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gdGhlIG9iamVjdCB0byBiZSBjb252ZXJ0ZWRcbiAqIEByZXR1cm4ge1NrLmJ1aWx0aW4uPz8/fSAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcHl0aG9uIG9iamVjdCwgZHJvcHBpbmcgYWxsIGZ1bmN0aW9ucyBhbmQgdGhpbmdzIGl0IGNhbid0IGNvbnZlcnRcbioqL1xuZnVuY3Rpb24gbWl4ZWRSZW1hcFRvUHkob2JqKXtcbiAgICB2YXIgaztcbiAgICB2YXIga3ZzO1xuICAgIHZhciBpO1xuICAgIHZhciBhcnI7XG4gICAgLy9AVE9ETzogc2hvdWxkIHRoZW9yZXRpY2FsbHkgY2hlY2sgaWYgdGhlIG9iamVjdCBpcyBhIHB5aG9uIGRpY3Qgb3IgYXJyYXkgd2l0aCBqcyBvYmplY3RzXG4gICAgaWYgKGlzU2tCdWlsdGluKG9iaikpe1xuICAgICAgICAvL29iamVjdCBpcyBhbHJlYWR5IHB5dGhvbiByZWFkeVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgICAvL29iamVjdCBpcyBhY3R1YWxseSBhIGphdmFzY3JpcHQgYXJyYXlcbiAgICAgICAgYXJyID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIC8vZm9yIGVhY2ggb2JqZWN0LCBjb252ZXJ0IGl0IHRvIGEgcHl0aG9uIG9iamVjdCBpZiBpdCBpc24ndCBvbmUgYWxyZWFkeVxuICAgICAgICAgICAgdmFyIHN1YnZhbCA9IG9ialtpXTtcbiAgICAgICAgICAgIGlmKCFpc1NrQnVpbHRpbihzdWJ2YWwpKXtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChtaXhlZFJlbWFwVG9QeShzdWJ2YWwpKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKHN1YnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QoYXJyKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkgey8vbnVsbCBvYmplY3RcbiAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYoIWlzU2tCdWlsdGluKG9iaikpe1xuICAgICAgICAgICAgLy9hc3N1bWluZyBpdCdzIGEgc3RhbmRhcmQgZGljdGlvbmFyeVxuICAgICAgICAgICAga3ZzID0gW107Ly9Tay5idWlsdGluLmRpY3QgdXNlcyBhbiBhcnJheSBvZiBrZXktdmFsdWUsa2V5LXZhbHVlLi4uXG4gICAgICAgICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgLy9jb252ZXJ0IHRoZSBrZXkgaWYgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkXG4gICAgICAgICAgICAgICAga3ZzLnB1c2gobWl4ZWRSZW1hcFRvUHkoaykpO1xuICAgICAgICAgICAgICAgIC8vY292ZXJ0IGNvcnJlc3BvbmRpbmcgdmFsdWUgaWYgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkXG4gICAgICAgICAgICAgICAga3ZzLnB1c2gobWl4ZWRSZW1hcFRvUHkob2JqW2tdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGUgbmV3IGRpY3Rpb25hcnlcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5kaWN0KGt2cyk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKG9iaik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBTay5idWlsdGluLmFzc2skKG9iaik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uYm9vbChvYmopO1xuICAgIH0gZWxzZSBpZih0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLnN0cihvYmoubmFtZSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGggPSBNYXRoLmZsb29yKHRvZGF5LmdldEhvdXJzKCklMTIpO1xuICAgIGxldCBtID0gdG9kYXkuZ2V0TWludXRlcygpO1xuICAgIC8vbGV0IHMgPSB0b2RheS5nZXRTZWNvbmRzKCk7XG4gICAgaWYgKG0gPCAxMCkge20gPSBcIjBcIiArIG07fVxuICAgIC8vaWYgKHMgPCAxMCkge3MgPSBcIjBcIiArIHM7fVxuICAgIGxldCBwID0gXCJhbVwiO1xuICAgIGlmICh0b2RheS5nZXRIb3VycygpPj0xMikge1xuICAgICAgICBwID0gXCJwbVwiO1xuICAgIH1cbiAgICByZXR1cm4gYCR7aH06JHttfSR7cH1gO1xufVxuXG5leHBvcnQgY29uc3QgcHlJbnQgPSBTay5idWlsdGluLmludF87XG5leHBvcnQgY29uc3QgcHlOb25lID0gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuZXhwb3J0IGNvbnN0IHB5U3RyID0gU2suYnVpbHRpbi5zdHI7XG5leHBvcnQgY29uc3QgcHlUdXBsZSA9IFNrLmJ1aWx0aW4udHVwbGU7XG5leHBvcnQgY29uc3QgcHlDYWxsT3JTdXNwZW5kID0gU2subWlzY2V2YWwuY2FsbHNpbU9yU3VzcGVuZEFycmF5O1xuXG5leHBvcnQgY29uc3QgeyBpc1RydWUsIHJpY2hDb21wYXJlQm9vbCwgY2hhaW4gfSA9IFNrLm1pc2NldmFsO1xuZXhwb3J0IGNvbnN0IHsgdHlwZU5hbWUsIHNldFVwTW9kdWxlTWV0aG9kcywgYnVpbGROYXRpdmVDbGFzcyB9ID0gU2suYWJzdHI7XG5leHBvcnQgY29uc3QgeyBUeXBlRXJyb3IsIFZhbHVlRXJyb3IsIEtleUVycm9yLCBJbmRleEVycm9yLCBjaGVja1N0cmluZywgYXNudW0kIH0gPSBTay5idWlsdGluO1xuZXhwb3J0IGNvbnN0IHsgcmVtYXBUb1B5LCByZW1hcFRvSnMgfSA9IFNrLmZmaTtcbmV4cG9ydCBjb25zdCB7IGdldEF0dHIsIHNldEF0dHIgfSA9IFNrLmdlbmVyaWM7XG5leHBvcnQgY29uc3QgY2hhaW5PclN1c3BlbmQgPSBjaGFpbjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZmlsZXBvbmRfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfanF1ZXJ5X187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2tub2Nrb3V0X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8qKlxuICogQGZpbGVvdmVydmlldyBTdGFydGluZyBwb2ludCBvZiB0aGUgQmxvY2tQeSBhcHBsaWNhdGlvbiwgY29udGFpbmluZyB0aGUgbWFpblxuICogQmxvY2tQeSBjbGFzcy5cbiAqL1xuaW1wb3J0IFwiLi9jc3MvYmxvY2tweS5jc3NcIjtcbmltcG9ydCBcIi4vY3NzL2Jvb3RzdHJhcF9yZXRoZW1lLmNzc1wiO1xuaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xuaW1wb3J0IHskYnVpbHRpbm1vZHVsZSBhcyBpbWFnZU1vZHVsZX0gZnJvbSBcInNrdWxwdF9tb2R1bGVzL2ltYWdlXCI7XG5pbXBvcnQgeyRidWlsdGlubW9kdWxlIGFzIHdlYWtyZWZNb2R1bGV9IGZyb20gXCJza3VscHRfbW9kdWxlcy93ZWFrcmVmXCI7XG4vL2ltcG9ydCB7JGJ1aWx0aW5tb2R1bGUgYXMgbWF0cGxvdGxpYk1vZHVsZX0gZnJvbSBcInNrdWxwdF9tb2R1bGVzL21hdHBsb3RsaWIyXCI7XG5pbXBvcnQge0xvY2FsU3RvcmFnZVdyYXBwZXJ9IGZyb20gXCJzdG9yYWdlLmpzXCI7XG5pbXBvcnQge0VkaXRvcnNFbnVtfSBmcm9tIFwiZWRpdG9ycy5qc1wiO1xuaW1wb3J0IHtEaXNwbGF5TW9kZXN9IGZyb20gXCJlZGl0b3IvcHl0aG9uLmpzXCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwic2VydmVyLmpzXCI7XG5pbXBvcnQge21ha2VJbnRlcmZhY2UsIG1ha2VFeHRyYUludGVyZmFjZVN1YnNjcmlwdGlvbnMsIFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9uc30gZnJvbSBcImludGVyZmFjZS5qc1wiO1xuaW1wb3J0IHtFZGl0b3JzfSBmcm9tIFwiZWRpdG9ycy5qc1wiO1xuaW1wb3J0IHtcbiAgICBCbG9ja1B5RmlsZVN5c3RlbSxcbiAgICBsb2FkQ29uY2F0ZW5hdGVkRmlsZSxcbiAgICBtYWtlTW9kZWxGaWxlLFxuICAgIG9ic2VydmVDb25jYXRlbmF0ZWRGaWxlLFxuICAgIFVOREVMRVRBQkxFX0ZJTEVTLFxuICAgIFVOUkVOQU1BQkxFX0ZJTEVTXG59IGZyb20gXCIuL2ZpbGVzXCI7XG5pbXBvcnQge3VwbG9hZEZpbGUsIGRvd25sb2FkRmlsZX0gZnJvbSBcIi4vZWRpdG9yL2Fic3RyYWN0X2VkaXRvclwiO1xuaW1wb3J0IHtCbG9ja1B5RW5naW5lfSBmcm9tIFwiZW5naW5lLmpzXCI7XG5pbXBvcnQge0FTVF9ERVNDUklQVElPTlMsIEJsb2NrUHlUcmFjZX0gZnJvbSBcIi4vdHJhY2VcIjtcbmltcG9ydCB7QmxvY2tQeUNvbnNvbGV9IGZyb20gXCIuL2NvbnNvbGVcIjtcbmltcG9ydCB7QmxvY2tQeUZlZWRiYWNrfSBmcm9tIFwiZmVlZGJhY2suanNcIjtcbmltcG9ydCB7QmxvY2tQeVNlcnZlcn0gZnJvbSBcIi4vc2VydmVyXCI7XG5pbXBvcnQge0Jsb2NrUHlEaWFsb2d9IGZyb20gXCIuL2RpYWxvZ1wiO1xuaW1wb3J0IHtcbiAgICBBc3NpZ21lbnRUeXBlLFxuICAgIGxvYWRBc3NpZ25tZW50U2V0dGluZ3MsXG4gICAgbWFrZUFzc2lnbm1lbnRTZXR0aW5nc01vZGVsLFxuICAgIHNhdmVBc3NpZ25tZW50U2V0dGluZ3Ncbn0gZnJvbSBcIi4vZWRpdG9yL2Fzc2lnbm1lbnRfc2V0dGluZ3NcIjtcbmltcG9ydCB7QmxvY2tQeUNvcmdpcywgX0lNUE9SVEVEX0NPTVBMRVRFX0RBVEFTRVRTLCBfSU1QT1JURURfREFUQVNFVFN9IGZyb20gXCIuL2Nvcmdpc1wiO1xuaW1wb3J0IHtCbG9ja1B5SGlzdG9yeX0gZnJvbSBcIi4vaGlzdG9yeVwiO1xuaW1wb3J0IHtjYXBpdGFsaXplLCBleHRyYWN0UGFydCwgZ2V0Q3VycmVudFRpbWV9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuaW1wb3J0IHtTYW1wbGVTdWJtaXNzaW9uLCBTdWJtaXNzaW9uU3RhdHVzZXN9IGZyb20gXCIuL2VkaXRvci9zYW1wbGVfc3VibWlzc2lvbnNcIjtcbmltcG9ydCB7Zm9ybWF0UG9vbEluc3RydWN0aW9uc30gZnJvbSBcIi4vcG9vbHNcIjtcblxuZXhwb3J0IHtfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMsIF9JTVBPUlRFRF9EQVRBU0VUU307XG5cbmNvbnN0IEVESVRPUl9WRVJTSU9OID0gXCI1LjEuMlwiO1xuXG4vKipcbiAqIE1ham9yIGVudHJ5IHBvaW50IGZvciBjcmVhdGluZyBhIEJsb2NrUHkgaW5zdGFuY2UuXG4gKiBUd28gbW9zdCBpbXBvcnRhbnQgZmllbGRzIGFyZSBgbW9kZWxgIGFuZCBgY29tcG9uZW50c2AuXG4gKiBUaGUgYG1vZGVsYCBob2xkcyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIGludGVyZmFjZS5cbiAqIFRoZSBgY29tcG9uZW50c2AgYXJlIHJlZmVyZW5jZXMgdG8gdGhlIGRpc3BhcmF0ZSBwYXJ0cyBvZiBCbG9ja1B5LlxuICpcbiAqIE1vc3Qgb2YgdGhpcyBjbGFzc2VzIGRlZmluaXRpb24gaXMganVzdCBpbml0aWFsaXppbmcgdGhlIG1vZGVsIGFuZCB1cGRhdGluZ1xuICogaXQgb24gYW4gYXNzaWdubWVudCBzd2l0Y2guXG4gKi9cbmV4cG9ydCBjbGFzcyBCbG9ja1B5IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlndXJhdGlvbiAtIFVzZXIgbGV2ZWwgc2V0dGluZ3MgKGUuZy4sIHdoYXQgZWRpdG9yIG1vZGUsIHdoZXRoZXIgdG8gbXV0ZSBzZW1hbnRpYyBlcnJvcnMsIGV0Yy4pXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFzc2lnbm1lbnQgLSBBc3NpZ25tZW50IGxldmVsIHNldHRpbmdzIChkYXRhIGFib3V0IHRoZSBsb2FkZWQgYXNzaWdubWVudCwgdXNlciwgc3VibWlzc2lvbiwgZXRjLilcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3VibWlzc2lvbiAtIEluY2x1ZGVzIHRoZSBzb3VyY2UgY29kZSBvZiBhbnkgcHJvZ3JhbXMgdG8gYmUgbG9hZGVkXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgYXNzaWdubWVudCwgc3VibWlzc2lvbikge1xuICAgICAgICB0aGlzLmluaXRNb2RlbChjb25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRBc3NpZ25tZW50KGNvbmZpZ3VyYXRpb24sIGFzc2lnbm1lbnQsIHN1Ym1pc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdE1haW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQmxvY2tQeSBvYmplY3QgYnkgaW5pdGlhbGl6aW5nIGl0cyBpbnRlcmZhY2UsXG4gICAgICogbW9kZWwsIGFuZCBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICovXG4gICAgaW5pdE1haW4oKSB7XG4gICAgICAgIHRoaXMuaW5pdFV0aWxpdGllcygpO1xuICAgICAgICB0aGlzLmluaXRNb2RlbE1ldGhvZHMoKTtcbiAgICAgICAgdGhpcy50dXJuT25IYWNrcygpO1xuICAgICAgICB0aGlzLmluaXRJbnRlcmZhY2UoKTtcbiAgICAgICAgdGhpcy5hcHBseU1vZGVsKCk7XG4gICAgICAgIHRoaXMuaW5pdENvbXBvbmVudHMoKTtcbiAgICAgICAgdGhpcy5tYWtlRXh0cmFTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgZGVmYXVsdCB2YWx1ZSBvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IHRvIGxvb2sgdXAgYSB2YWx1ZSBmb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdFZhbHVlIC0gaWYgdGhlIGtleSBpcyBub3QgZm91bmQgYW55d2hlcmUsIHVzZSB0aGlzIHZhbHVlXG4gICAgICovXG4gICAgZ2V0U2V0dGluZyhrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBpZiAoa2V5IGluIHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl9ba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxvY2FsU2V0dGluZ3NfLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFNldHRpbmdzXy5nZXQoa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbW9kZWwgdG8gaXRzIGRlZmF1bHRzLlxuICAgICAqXG4gICAgICogQ2F0ZWdvcmllczpcbiAgICAgKiAgICogdXNlcjogdmFsdWVzIGZvciB0aGUgY3VycmVudCB1c2VyIChzdG9yZWQgdG8gc2VydmVyKVxuICAgICAqICAgKiBhc3NpZ25tZW50OiB2YWx1ZXMgZm9yIHRoZSBjdXJyZW50IGFzc2lnbm1lbnQgKHN0b3JlZCB0byBzZXJ2ZXIpXG4gICAgICogICAqIHN1Ym1pc3Npb246IHZhbHVlcyBmb3IgdGhlIGN1cnJlbnQgc3VibWlzc2lvbiAoc3RvcmVkIHRvIHNlcnZlcilcbiAgICAgKiAgICogZGlzcGxheTogZmxhZ3MgcmVsYXRlZCB0byBjdXJyZW50IHZpc2liaWxpdHkgKHN0b3JlZCB0byBsb2NhbFNldHRpbmdzKVxuICAgICAqICAgKiBzdGF0dXM6IG1lc3NhZ2VzIHJlbGF0ZWQgdG8gY3VycmVudCBzdGF0dXMgKG5vdCBzdG9yZWQpXG4gICAgICogICAqIGV4ZWN1dGlvbjogdmFsdWVzIHJlbGF0ZWQgdG8gbGFzdCBydW4gKG5vdCBzdG9yZWQpXG4gICAgICogICAqIGNvbmZpZ3VyYXRpb246IGNvbnN0YW50IHZhbHVlcyByZWxhdGVkIHRvIHNldHVwIChub3Qgc3RvcmVkKVxuICAgICAqL1xuICAgIGluaXRNb2RlbChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIC8vIENvbm5lY3QgdG8gbG9jYWwgc3RvcmFnZVxuICAgICAgICB0aGlzLmxvY2FsU2V0dGluZ3NfID0gbmV3IExvY2FsU3RvcmFnZVdyYXBwZXIoXCJsb2NhbFNldHRpbmdzXCIpO1xuICAgICAgICB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uXyA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIC8vY29uc29sZS5sb2coY29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbltcInN1Ym1pc3Npb24uY29kZVwiXSwgY29uZmlndXJhdGlvbltcInBhcnRJZFwiXSwgZXh0cmFjdFBhcnQoY29uZmlndXJhdGlvbltcInN1Ym1pc3Npb24uY29kZVwiXSB8fCBcIlwiLCBjb25maWd1cmF0aW9uW1wicGFydElkXCJdKSk7XG5cbiAgICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICBpZDoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1widXNlci5pZFwiXSksXG4gICAgICAgICAgICAgICAgbmFtZToga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1widXNlci5uYW1lXCJdKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIHlvdSBhcmUgYW4gT3duZXIgKGNhbiBtb2RpZnkgdGhlIGFzc2lnbm1lbnQpLCBHcmFkZXIgKGNhbiB2aWV3XG4gICAgICAgICAgICAgICAgICogdGhlIGFzc2lnbm1lbnRzJyBpbmZvcm1hdGlvbikgb3IgU3R1ZGVudCAoY2FuIG5vdCBzZWUgYW55IGluc3RydWN0b3Igc3R1ZmYpLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtib29sfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJvbGU6IGtvLm9ic2VydmFibGUodGhpcy5nZXRTZXR0aW5nKFwidXNlci5yb2xlXCIsIFwib3duZXJcIikpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEN1cnJlbnQgY291cnNlIGZvciB0aGlzIHVzZXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb3Vyc2VJZDoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1widXNlci5jb3Vyc2VfaWRcIl0pLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEN1cnJlbnQgYXNzaWdubWVudCBncm91cCB0aGF0IHRoaXMgdXNlciBpcyBpbnNpZGVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBncm91cElkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLmdyb3VwX2lkXCJdKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzc2lnbm1lbnQ6IHtcbiAgICAgICAgICAgICAgICBpZDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBuYW1lOiBrby5vYnNlcnZhYmxlKFwiU2NyYXRjaCBDYW52YXNcIiksXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50Lmluc3RydWN0aW9uc1wiXSB8fFxuICAgICAgICAgICAgICAgICAgICBcIldlbGNvbWUgdG8gQmxvY2tQeS4gVHJ5IGVkaXRpbmcgYW5kIHJ1bm5pbmcgdGhlIGNvZGUgYmVsb3cuXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBodW1hbi1mcmllbmRseSBVUkwgdG8gdXNlIGFzIGEgc2hvcnRjdXQgZm9yIHRoaXMgYXNzaWdubWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHVybDoga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB3YXJuaW5nIG1lc3NhZ2UgaWYgbWF6ZVxuICAgICAgICAgICAgICAgIHR5cGU6IGtvLm9ic2VydmFibGUoQXNzaWdtZW50VHlwZS5CTE9DS1BZKSxcbiAgICAgICAgICAgICAgICBwb2ludHM6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdDb2RlOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnN0YXJ0aW5nX2NvZGVcIl0gfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgb25SdW46IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQub25fcnVuXCJdIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50Lm9uX2NoYW5nZVwiXSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICBvbkV2YWw6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQub25fZXZhbFwiXSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICBleHRyYUluc3RydWN0b3JGaWxlczoga28ub2JzZXJ2YWJsZUFycmF5KGxvYWRDb25jYXRlbmF0ZWRGaWxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LmV4dHJhX2luc3RydWN0b3JfZmlsZXNcIl0pIHx8IFtdKSxcbiAgICAgICAgICAgICAgICBleHRyYVN0YXJ0aW5nRmlsZXM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgZm9ya2VkSWQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgZm9ya2VkVmVyc2lvbjoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBvd25lcklkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGNvdXJzZUlkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgdGFnczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICBzYW1wbGVTdWJtaXNzaW9uczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICByZXZpZXdlZDoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5yZXZpZXdlZFwiXSksXG4gICAgICAgICAgICAgICAgcHVibGljOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnB1YmxpY1wiXSksXG4gICAgICAgICAgICAgICAgaGlkZGVuOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LmhpZGRlblwiXSksXG4gICAgICAgICAgICAgICAgaXBSYW5nZXM6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuaXBfcmFuZ2VzXCJdKSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogbWFrZUFzc2lnbm1lbnRTZXR0aW5nc01vZGVsKGNvbmZpZ3VyYXRpb24pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgICAgICAgIGlkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGNvZGU6IGtvLm9ic2VydmFibGUoZXh0cmFjdFBhcnQoY29uZmlndXJhdGlvbltcInN1Ym1pc3Npb24uY29kZVwiXSB8fCBcIlwiLCBjb25maWd1cmF0aW9uW1wicGFydElkXCJdKSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgICBleHRyYUZpbGVzOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIHVybDoga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICBlbmRwb2ludDoga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICBzY29yZToga28ub2JzZXJ2YWJsZSgwKSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0OiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50SWQgaW5mZXJyZWQgZnJvbSBhc3NpZ25tZW50LmlkXG4gICAgICAgICAgICAgICAgLy8gY291cnNlSWQgaW5mZXJyZWQgZnJvbSB1c2VyLmNvdXJzZUlkXG4gICAgICAgICAgICAgICAgLy8gdXNlcklkIGluZmVycmVkIGZyb20gdXNlci5pZFxuICAgICAgICAgICAgICAgIC8vIGFzc2lnbm1lbnRWZXJzaW9uIGluZmVycmVkIGZyb20gYXNzaWdubWVudC52ZXJzaW9uXG4gICAgICAgICAgICAgICAgdmVyc2lvbjoga28ub2JzZXJ2YWJsZSgwKSxcbiAgICAgICAgICAgICAgICBzdWJtaXNzaW9uU3RhdHVzOiBrby5vYnNlcnZhYmxlKFwiU3RhcnRlZFwiKSxcbiAgICAgICAgICAgICAgICBncmFkaW5nU3RhdHVzOiBrby5vYnNlcnZhYmxlKFwiTm90UmVhZHlcIiksXG4gICAgICAgICAgICAgICAgb3duZXJJZDoga28ub2JzZXJ2YWJsZShudWxsKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDdXJyZW50bHkgdmlzaWJsZSBGaWxlLCBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmaWxlbmFtZToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBiZSBwcmVzZW50ZWQgd2l0aCB0aGUgaW5zdHJ1Y3RvciBzZXR0aW5ncyBhbmQgZmlsZXNcbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yOiBrby5vYnNlcnZhYmxlKFwiXCIrdGhpcy5nZXRTZXR0aW5nKFwiZGlzcGxheS5pbnN0cnVjdG9yXCIsIFwiZmFsc2VcIik9PT1cInRydWVcIiksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gcHJldmVudCB0aGUgcHJpbnRlciBmcm9tIHNob3dpbmcgdGhpbmdzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbXV0ZVByaW50ZXI6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIChQeXRob24gVmlld3MpIFRoZSBjdXJyZW50IGVkaXRvciBtb2RlLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtEaXNwbGF5TW9kZXN9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHl0aG9uTW9kZToga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJkaXNwbGF5LnB5dGhvbi5tb2RlXCIsIERpc3BsYXlNb2Rlcy5URVhUKSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgSGlzdG9yeSBtb2RlIGlzIGVuZ2FnZWQuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaGlzdG9yeU1vZGU6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGJlIGF1dG8tc2F2aW5nIGNoYW5nZXMgaW4gUHl0aG9uIGVkaXRvclxuICAgICAgICAgICAgICAgICAqIElmIGFuIGludGVnZXIsIHNwZWNpZmllcyB0aGUgZGVsYXkgdGhhdCBzaG91bGQgYmUgdXNlZCAobWljcm9zZWNvbmRzKS5cbiAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIG5ldmVyIG9uIGluIG5vbi1QeXRob24gZWRpdG9ycy5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbHxpbnR9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYXV0b1NhdmU6IGtvLm9ic2VydmFibGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGNvbnNvbGUgaXMgZnVsbCB3aWR0aCBhbmQgZmVlZGJhY2sgaXMgaGlkZGVuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYmlnQ29uc29sZToga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIGhlaWdodCB0byB1c2UgZm9yIHRoZSBjb25zb2xlLlxuICAgICAgICAgICAgICAgICAqICAgIElmIG51bGwsIHRoZW4gbGV0IHRoZSBoZWlnaHQgcmVtYWluIHVuY2hhbmdlZFxuICAgICAgICAgICAgICAgICAqICAgIElmIGEgbnVtYmVyLCB0aGVuIHRoZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29uc29sZUhlaWdodDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29uc29sZUhlaWdodDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGljaCBwYW5lbCB0byBzaG93IGluIHRoZSBzZWNvbmQgcm93J3Mgc2Vjb25kIGNvbHVtblxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2Vjb25kUm93U2Vjb25kUGFuZWw6IGtvLm9ic2VydmFibGUoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLkZFRURCQUNLKSxcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NlY29uZFJvd1NlY29uZFBhbmVsOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGJlIHRyYWNpbmcgdGhlIGNvZGUgcmlnaHQgbm93XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdHJhY2VFeGVjdXRpb246IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBsaXN0IG9mIHByb21pc2VzIHRvIHN0aWxsIHJlc29sdmUgd2hpbGUgbG9hZGluZyBkYXRhc2V0c1xuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtBcnJheTxQcm9taXNlPn1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBsb2FkaW5nRGF0YXNldHM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIHRlbXBvcmFyeSBjaGFuZ2VkIHZhbHVlIG9mIHRoZSBpbnN0cnVjdGlvbnMgaGF2ZSBiZWVuIGNoYW5nZWQgZnJvbSB3aGF0IGlzIGluIHRoZSBhc3NpZ25tZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2hhbmdlZEluc3RydWN0aW9uczoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBIGhvbGRlciBmb3IgdGhlIHRpbWVyIHRvIHRyaWdnZXIgb24tY2hhbmdlc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRyaWdnZXJPbkNoYW5nZTogbnVsbCxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIHRoZSBjdXJyZW50IGZlZWRiYWNrIGFuZCBvdXRwdXQgY29ycmVzcG9uZHMgdG8gdGhlIGN1cnJlbnQgc3VibWlzc2lvbi5cbiAgICAgICAgICAgICAgICAgKiBUaGlzIHdvdWxkIGJlIGZhbHNlIGlmIHRoZXJlIGlzIG5vIGZlZWRiYWNrL291dHB1dCAoaS5lLiwgY29kZSBoYXMgbm90IGJlZW4gcnVuKSxcbiAgICAgICAgICAgICAgICAgKiBvciBpZiB0aGUgdXNlciBoYXMgbW9kaWZpZWQgdGhlIHN1Ym1pc3Npb24gYWZ0ZXIgdGhlIGxhc3QgcnVuIChlLmcuLCBieSBlZGl0aW5nXG4gICAgICAgICAgICAgICAgICogdGhlIHRleHQpLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGRpcnR5U3VibWlzc2lvbjoga28ub2JzZXJ2YWJsZSh0cnVlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiAgV2hldGhlciBvciBub3QgdG8gbWFrZSB0aGUgQmxvY2tQeSBlbGVtZW50IGluIEZVTEwgU0NSRUVOIG1vZGUuIFNhZGx5LCBub3QgZnVsbHNjcmVlblxuICAgICAgICAgICAgICAgICAqICB3aXRoaW4gdGhlIHdpbmRvdywgYnV0IEZVTEwgU0NSRUVOLiBWZXJ5IGFnZ3Jlc3NpdmUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVsbHNjcmVlbjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVXNlci1zdXBwbGllZCBwYXNzY29kZSB0byBjb21wYXJlIG9uIHRoZSBzZXJ2ZXIgYWdhaW5zdCB0aGUgY3VycmVudCBwYXNzY29kZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwYXNzY29kZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBjbGVhciBvdXQgaW5wdXRzIGFmdGVyIGEgcnVuL29uX3J1biBjeWNsZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNsZWFySW5wdXRzOiBrby5vYnNlcnZhYmxlKHRydWUpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGltYWdlcyBzaG91bGQgYmUgcmVuZGVyZWQgKHRydWUpLCBvciBqdXN0IHN0YXkgYXMgdGV4dCBjb2RlIChmYWxzZSkuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmVuZGVySW1hZ2VzOiBrby5vYnNlcnZhYmxlKHRydWUpLFxuICAgICAgICAgICAgICAgIGVkaXRvclZlcnNpb246IEVESVRPUl9WRVJTSU9OLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcImRpc3BsYXkucmVhZF9vbmx5XCIsIFwiZmFsc2VcIikudG9TdHJpbmcoKT09PVwidHJ1ZVwiKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBVcGxvYWRlZCBmaWxlcyBhcmUgb25lcyB0aGF0IGhhdmUgYmVlbiBsaXN0ZWQgYnkgdGhlIHJlbW90ZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHVwbG9hZGVkRmlsZXM6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQmFja3VwIGNvcHkgb2YgdGhlIGxhdGVzdCBrbm93biBmdWxsIGNvZGUgZm9yIHRoZSBTdWJtaXNzaW9uLiBUaGlzIGlzIHJlbGV2YW50IGlmIHRoZXJlIHdhcyBhXG4gICAgICAgICAgICAgICAgICogUGFydElEIHNwZWNpZmllZCwgaW4gd2hpY2ggY2FzZSB0aGUgc3VibWlzc2lvbi5jb2RlIGluIHRoZSBtb2RlbCBpcyBvbmx5IHNob3dpbmcgd2hhdCB3ZSBrbm93XG4gICAgICAgICAgICAgICAgICogbG9jYWxseS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBiYWNrdXBTdWJtaXNzaW9uQ29kZToga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wic3VibWlzc2lvbi5jb2RlXCJdIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENvbnRyb2xzIHRoZSByYXRpbmcgc3lzdGVtXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2hvd1JhdGluZzoga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJkaXNwbGF5LnNob3dSYXRpbmdcIiwgXCJ0cnVlXCIpLnRvU3RyaW5nKCk9PT1cInRydWVcIiksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciB0aGUgc3R1ZGVudCBoYXMgcmF0ZWQgdGhpcyBjdXJyZW50IGZlZWRiYWNrXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaGFzUmF0ZWQ6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBzZWVkIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIHRoZSBwb29sOyBpZiBudWxsLCB0aGVuIHRoZSBzdWJtaXNzaW9uIGlkIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwb29sU2VlZDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxvYWRBc3NpZ25tZW50OiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsb2FkQXNzaWdubWVudE1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2FkSGlzdG9yeToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9hZEhpc3RvcnlNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbG9hZEZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxvYWRGaWxlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxvYWREYXRhc2V0OiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsb2FkRGF0YXNldE1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2dFdmVudDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9nRXZlbnRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgc2F2ZUltYWdlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBzYXZlSW1hZ2VNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgc2F2ZUZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIHNhdmVGaWxlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHNhdmVBc3NpZ25tZW50OiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBzYXZlQXNzaWdubWVudE1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHVwZGF0ZVN1Ym1pc3Npb25TdGF0dXM6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbGlzdFVwbG9hZGVkRmlsZXM6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxpc3RVcGxvYWRlZEZpbGVzTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGRvd25sb2FkRmlsZToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHVwbG9hZEZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZpbGVNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgcmVuYW1lRmlsZToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgcmVuYW1lRmlsZU1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBleHRlcm5hbEFQSToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxBUElNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgb25FeGVjdXRpb246IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4ZWN1dGlvbjoge1xuICAgICAgICAgICAgICAgIC8vIEluZm9ybWF0aW9uIGFib3V0IGluLXByb2dyZXNzIGV4ZWN1dGlvbnNcbiAgICAgICAgICAgICAgICByZXBvcnRzOiB7fSxcbiAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIE91dHB1dCBvYmplY3RzXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIC8vIExpc3Qgb2YgaW5wdXR0ZWQgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGlucHV0OiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIGlucHV0SW5kZXg6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgLy8gSW5mb3JtYXRpb24gcmVsYXRlZCB0byBhIHN0dWRlbnQgcnVuXG4gICAgICAgICAgICAgICAgc3R1ZGVudDoge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHI6IHRoZSBmaWxlbmFtZSB0aGF0IHdhcyBsYXN0IGV4ZWN1dGVkIGFuZCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlc2UgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBsYXN0U3RlcDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdExpbmU6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGFycmF5IG9mIHNpbXBsZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjZURhdGE6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNlU3RlcDoga28ub2JzZXJ2YWJsZSgwKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsIGV4ZWN1dGlvbiByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbHM6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGNhbGxzOiB7fVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzeXNtb2R1bGVzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHN0ZG91dDoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gZmVlZGJhY2sgZnJvbSB0aGUgaW5zdHJ1Y3RvciBydW5cbiAgICAgICAgICAgICAgICBmZWVkYmFjazoge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHIgKG1hcmtkb3duKVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiUmVhZHlcIiksXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgbGluZXNFcnJvcjoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICAgICAgbGluZXNVbmNvdmVyZWQ6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSByZXN1bHRzIG9mIHRoZSBsYXN0IGV4ZWN1dGlvblxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEZ1bmN0aW9ucyB0byBmaXJlIHdoZW4gY2VydGFpbiBldmVudHMgb2NjdXJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFdoZW4gdGhlIHN0dWRlbnQgZ2V0cyBhIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1tcImNhbGxiYWNrLnN1Y2Nlc3NcIl0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgc2VydmVyIGlzIGNvbm5lY3RlZC5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb25uZWN0ZWQ6IGtvLm9ic2VydmFibGUodGhpcy5nZXRTZXR0aW5nKFwic2VydmVyLmNvbm5lY3RlZFwiLCB0cnVlKSksXG4gICAgICAgICAgICAgICAgLy8gc3RyaW5nXG4gICAgICAgICAgICAgICAgYmxvY2tseVBhdGg6IHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW1wiYmxvY2tseS5wYXRoXCJdLFxuICAgICAgICAgICAgICAgIC8vIHN0cmluZ1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRQb2ludDogdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl9bXCJhdHRhY2htZW50LnBvaW50XCJdLFxuICAgICAgICAgICAgICAgIC8vIEpRdWVyeSBvYmplY3RcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgLy8gTWFwcyBjb2RlcyAoJ2xvZ19ldmVudCcsICdzYXZlX2NvZGUnKSB0byBVUkxzXG4gICAgICAgICAgICAgICAgdXJsczogdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl9bXCJ1cmxzXCJdIHx8IHt9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFVuaXF1ZSBQYXJ0IElEIHRoYXQgY2FuIGRpc3Rpbmd1aXNoIHRoaXMgZWRpdG9yIGluc3RhbmNlJ3MgcmVnaW9uIG9mIHRoZSBhc3NpZ25tZW50LlxuICAgICAgICAgICAgICAgICAqIEl0J3MgcG9zc2libGUgdGhhdCBvdGhlciBlZGl0b3JzIG1heSBiZSBhdHRhY2hlZCB0byBhIGRpZmZlcmVudCBQYXJ0IG9mIHRoZSBzYW1lIGFzc2lnbm1uZXQsIG9uIHRoZVxuICAgICAgICAgICAgICAgICAqIHNhbWUgcGFnZS5cbiAgICAgICAgICAgICAgICAgKiAqKi9cbiAgICAgICAgICAgICAgICBwYXJ0SWQ6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInBhcnRJZFwiXSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYWNjZXNzX3Rva2VuXCJdIHx8IHVuZGVmaW5lZCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGludGVyZmFjZVxuICAgICAqL1xuICAgIGluaXRJbnRlcmZhY2UoKSB7XG4gICAgICAgIGxldCBjb25zdGFudHMgPSB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb247XG4gICAgICAgIGxldCBndWkgPSBtYWtlSW50ZXJmYWNlKHRoaXMpO1xuICAgICAgICBjb25zdGFudHMuY29udGFpbmVyID0gJChjb25zdGFudHMuYXR0YWNobWVudFBvaW50KS5odG1sKCQoZ3VpKSk7XG4gICAgfTtcblxuICAgIGxvYWRBc3NpZ25tZW50KGFzc2lnbm1lbnRfaWQpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnNlcnZlci5sb2FkQXNzaWdubWVudChhc3NpZ25tZW50X2lkKTtcbiAgICB9XG5cbiAgICBsb2FkVGFncyh0YWdzKSB7XG4gICAgICAgIC8vIEFscmVhZHkgYSBKU09OIGxpc3QgcmVwcmVzZW50aW5nIHRhZ3NcbiAgICB9XG5cbiAgICBsb2FkU2FtcGxlU3VibWlzc2lvbnMoc2FtcGxlcykge1xuICAgICAgICAvLyBBbHJlYWR5IGEgSlNPTiBsaXN0IHJlcHJlc2VudGluZyBzYW1wbGVzXG4gICAgfVxuXG4gICAgbG9hZE5vU3VibWlzc2lvbihhc3NpZ25tZW50KSB7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5jb2RlKGFzc2lnbm1lbnQuc3RhcnRpbmdfY29kZSk7XG4gICAgICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlKGFzc2lnbm1lbnQuZXh0cmFfc3RhcnRpbmdfZmlsZXMsIHRoaXMubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKTtcbiAgICB9XG5cbiAgICBsb2FkU3VibWlzc2lvbihzdWJtaXNzaW9uLCBhc3NpZ25tZW50KSB7XG4gICAgICAgIGlmICghc3VibWlzc2lvbikge1xuICAgICAgICAgICAgLy8gVE9ETzogU2NhcmllciBcIllvdSBhcmUgbm90IGxvZ2dlZCBpbiBtZXNzYWdlXCJcbiAgICAgICAgICAgIHRoaXMubG9hZE5vU3VibWlzc2lvbihhc3NpZ25tZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBXaGF0IGlmIHN1Ym1pc3Npb25zJyBhc3NpZ25tZW50IHZlcnNpb24gYW5kIHRoZSBhc3NpZ25tZW50cycgdmVyc2lvbiBjb25mbGljdD9cbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmlkKHN1Ym1pc3Npb24uaWQpO1xuICAgICAgICB0aGlzLm1vZGVsLmRpc3BsYXkuYmFja3VwU3VibWlzc2lvbkNvZGUoc3VibWlzc2lvbi5jb2RlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoZXh0cmFjdFBhcnQoc3VibWlzc2lvbi5jb2RlLCB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24ucGFydElkKCkpIHx8IFwiXCIpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdChzdWJtaXNzaW9uLmNvcnJlY3QpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoc3VibWlzc2lvbi5zY29yZSk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5lbmRwb2ludChzdWJtaXNzaW9uLmVuZHBvaW50KTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLnVybChzdWJtaXNzaW9uLnVybCk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi52ZXJzaW9uKHN1Ym1pc3Npb24udmVyc2lvbik7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5ncmFkaW5nU3RhdHVzKHN1Ym1pc3Npb24uZ3JhZGluZ19zdGF0dXMgfHwgU3VibWlzc2lvblN0YXR1c2VzLlVOS05PV04pO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uc3VibWlzc2lvblN0YXR1cyhzdWJtaXNzaW9uLnN1Ym1pc3Npb25fc3RhdHVzIHx8IFN1Ym1pc3Npb25TdGF0dXNlcy5VTktOT1dOKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLm93bmVySWQoc3VibWlzc2lvbi51c2VyX2lkKTtcbiAgICAgICAgdGhpcy5tb2RlbC51c2VyLmNvdXJzZUlkKHN1Ym1pc3Npb24uY291cnNlX2lkKTtcbiAgICAgICAgbG9hZENvbmNhdGVuYXRlZEZpbGUoc3VibWlzc2lvbi5leHRyYV9maWxlcywgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMpO1xuICAgIH1cblxuICAgIGxvYWRBc3NpZ25tZW50RGF0YV8oZGF0YSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGRhdGEpO1xuICAgICAgICB0aGlzLnJlc2V0SW50ZXJmYWNlKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5maWxlU3lzdGVtLmRpc21vdW50RXh0cmFGaWxlcygpO1xuICAgICAgICBsZXQgd2FzU2VydmVyQ29ubmVjdGVkID0gdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLnNlcnZlckNvbm5lY3RlZCgpO1xuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uc2VydmVyQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgbGV0IGFzc2lnbm1lbnQgPSBkYXRhLmFzc2lnbm1lbnQ7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5pZChhc3NpZ25tZW50LmlkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnZlcnNpb24oYXNzaWdubWVudC52ZXJzaW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmNvdXJzZUlkKGFzc2lnbm1lbnQuY291cnNlX2lkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmZvcmtlZElkKGFzc2lnbm1lbnQuZm9ya2VkX2lkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmZvcmtlZFZlcnNpb24oYXNzaWdubWVudC5mb3JrZWRfdmVyc2lvbik7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5oaWRkZW4oYXNzaWdubWVudC5oaWRkZW4pO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQucmV2aWV3ZWQoYXNzaWdubWVudC5yZXZpZXdlZCk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5wdWJsaWMoYXNzaWdubWVudC5wdWJsaWMpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQudHlwZShhc3NpZ25tZW50LnR5cGUpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQudXJsKGFzc2lnbm1lbnQudXJsKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnBvaW50cyhhc3NpZ25tZW50LnBvaW50cyk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5pcFJhbmdlcyhhc3NpZ25tZW50LmlwX3Jhbmdlcyk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMoYXNzaWdubWVudC5pbnN0cnVjdGlvbnMpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQubmFtZShhc3NpZ25tZW50Lm5hbWUpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UoYXNzaWdubWVudC5vbl9jaGFuZ2UgfHwgbnVsbCk7XG4gICAgICAgIGlmIChhc3NpZ25tZW50Lm9uX2NoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShcIiFvbl9jaGFuZ2UucHlcIiwgYXNzaWdubWVudC5vbl9jaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoYXNzaWdubWVudC5vbl9ldmFsIHx8IG51bGwpO1xuICAgICAgICBpZiAoYXNzaWdubWVudC5vbl9ldmFsKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKFwiIW9uX2V2YWwucHlcIiwgYXNzaWdubWVudC5vbl9ldmFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQub25SdW4oYXNzaWdubWVudC5vbl9ydW4pO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlKGFzc2lnbm1lbnQuc3RhcnRpbmdfY29kZSk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5vd25lcklkKGFzc2lnbm1lbnQub3duZXJfaWQpO1xuICAgICAgICB0aGlzLmxvYWRUYWdzKGFzc2lnbm1lbnQudGFncyk7XG4gICAgICAgIHRoaXMubG9hZFNhbXBsZVN1Ym1pc3Npb25zKGFzc2lnbm1lbnQuc2FtcGxlX3N1Ym1pc3Npb25zKTtcbiAgICAgICAgbG9hZENvbmNhdGVuYXRlZEZpbGUoYXNzaWdubWVudC5leHRyYV9pbnN0cnVjdG9yX2ZpbGVzLCB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpO1xuICAgICAgICBsb2FkQ29uY2F0ZW5hdGVkRmlsZShhc3NpZ25tZW50LmV4dHJhX3N0YXJ0aW5nX2ZpbGVzLCB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzKTtcbiAgICAgICAgbG9hZEFzc2lnbm1lbnRTZXR0aW5ncyh0aGlzLm1vZGVsLCBhc3NpZ25tZW50LnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5sb2FkU3VibWlzc2lvbihkYXRhLnN1Ym1pc3Npb24sIGFzc2lnbm1lbnQpO1xuICAgICAgICB0aGlzLm1vZGVsLmRpc3BsYXkuZGlydHlTdWJtaXNzaW9uKHRydWUpO1xuICAgICAgICB0aGlzLm1vZGVsLmRpc3BsYXkuY2hhbmdlZEluc3RydWN0aW9ucyhudWxsKTtcbiAgICAgICAgdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLnNlcnZlckNvbm5lY3RlZCh3YXNTZXJ2ZXJDb25uZWN0ZWQpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMuY29yZ2lzLmxvYWREYXRhc2V0cyh0cnVlKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5maWxlU3lzdGVtLmxvYWRSZW1vdGVGaWxlcygpO1xuXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXJ2ZXIuc2V0U3RhdHVzKFwic2F2ZUZpbGVcIiwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgIH1cblxuICAgIGluaXRNb2RlbE1ldGhvZHMoKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tb2RlbDtcbiAgICAgICAgbW9kZWwudWkgPSB7XG4gICAgICAgICAgICBzbWFsbExheW91dDoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAhbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgJiYgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5zbWFsbExheW91dCgpKSxcbiAgICAgICAgICAgIHJvbGU6IHtcbiAgICAgICAgICAgICAgICBpc0dyYWRlcjoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwudXNlci5yb2xlKCkgPT09IFwib3duZXJcIiB8fCBtb2RlbC51c2VyLnJvbGUoKSA9PT0gXCJncmFkZXJcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMoKSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY3VycmVudDoga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhdyA9IG1vZGVsLnVpLmluc3RydWN0aW9ucy5pc0NoYW5nZWQoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5pbnN0cnVjdGlvbnNQb29sKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdyA9IGZvcm1hdFBvb2xJbnN0cnVjdGlvbnMocmF3LCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYudXRpbGl0aWVzLm1hcmtkb3duKHJhdyk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgcmVzZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuY2hhbmdlZEluc3RydWN0aW9ucyhudWxsKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSB8fCAhbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5vbmx5SW50ZXJhY3RpdmUoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGV4dEZ1bGxzY3JlZW46IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAobW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKCkpID8gXCJmYS1jb21wcmVzcy1hcnJvd3MtYWx0XCIgOiBcImZhLWV4cGFuZC1hcnJvd3MtYWx0XCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGNsaWNrRnVsbHNjcmVlbjogKCkgPT57XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbighbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWRpdElucHV0czogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGlhbG9nLkVESVRfSU5QVVRTKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b2dnbGVJbWFnZXM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmRpc3BsYXkucmVuZGVySW1hZ2VzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0udGV4dEVkaXRvci5kaXNhYmxlSW1hZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLnRleHRFZGl0b3IuZW5hYmxlSW1hZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5yZW5kZXJJbWFnZXMoIW1vZGVsLmRpc3BsYXkucmVuZGVySW1hZ2VzKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuTWFya1N1Ym1pdHRlZDoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCkgfHwgbW9kZWwuYXNzaWdubWVudC5yZXZpZXdlZCgpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuY2FuQ2xvc2UoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGV4dE1hcmtTdWJtaXR0ZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC51aS5tZW51LmlzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbC51c2VyLmdyb3VwSWQoKSA/IFwiUHJvYmxlbSBjbG9zZWRcIiA6IFwiQXNzaWdubWVudCBjbG9zZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC51aS5tZW51LmlzU3VibWl0dGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlJlb3BlbiBmb3IgZWRpdGluZ1wiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLmRpc3BsYXkuZGlydHlTdWJtaXNzaW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlJ1blwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpICYmIG1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3VibWl0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlN1Ym1pdCBlYXJseVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2xpY2tNYXJrU3VibWl0dGVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC51aS5tZW51LmlzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbm5vdCByZW9wZW4gY2xvc2VkIGFzc2lnbm1lbnRzLiBDb250YWN0IGEgZ3JhZGVyIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC51aS5tZW51LmlzU3VibWl0dGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvblN0YXR1cyhcImluUHJvZ3Jlc3NcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVuZ2luZS5kZWxheWVkUnVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb25TdGF0dXMoXCJTdWJtaXR0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlzU3VibWl0dGVkOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKG1vZGVsLmFzc2lnbm1lbnQucmV2aWV3ZWQoKSB8fCBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmNhbkNsb3NlKCkpICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uc3VibWlzc2lvblN0YXR1cygpLnRvTG93ZXJDYXNlKCkgPT09IFwic3VibWl0dGVkXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGVkOiBrby5wdXJlQ29tcHV0ZWQoKCk9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMoKS50b0xvd2VyQ2FzZSgpID09PSBcImNvbXBsZXRlZFwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBzaG93UXVldWVkSW5wdXRzOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZVF1ZXVlZElucHV0cygpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBzaG93Q2xvY2s6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oYXNDbG9jaygpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjYW5TaGFyZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tcInNoYXJlVXJsXCJdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGdldFNoYXJlVXJsOiAod2FzUHJvbXB0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBbXCJncm91cFwiLCBtb2RlbC51c2VyLmNvdXJzZUlkKCksIG1vZGVsLnVzZXIuZ3JvdXBJZCgpLCBtb2RlbC5hc3NpZ25tZW50LmlkKCksIG1vZGVsLnVzZXIuaWQoKV07XG4gICAgICAgICAgICAgICAgICAgIC8qY29uc3QgaW50ZXJlc3RpbmdEZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aGVuXCI6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiZmVlZGJhY2tcIjogbW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KCkgKyBcInxcIiArIG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJ3YXNQcm9tcHRlZFwiOiB3YXNQcm9tcHRlZFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGJ0b2EoSlNPTi5zdHJpbmdpZnkoaW50ZXJlc3RpbmdEZXRhaWxzKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbnRlcmVzdGluZ0RldGFpbHMpOyovXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gobmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBCYXNlNjQgZW5jb2RlIHRoZSBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVkID0gYnRvYShwYXJ0cy5qb2luKFwiX1wiKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgdGFyZ2V0IFVSTCB1c2luZyBtb2RlbC5jb25maWd1cmF0aW9uLnVybHNbXCJzaGFyZVVybFwiXVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlVXJsID0gbW9kZWwuY29uZmlndXJhdGlvbi51cmxzW1wic2hhcmVVcmxcIl07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVXJsICsgKGJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpID8gXCJcIiA6IFwiL1wiKSArIGVuY29kZWQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGFydFNoYXJlOiAod2FzUHJvbXB0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRpYWxvZy5TVEFSVF9TSEFSRShcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLm1lbnUuZ2V0U2hhcmVVcmwod2FzUHJvbXB0ZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzUHJvbXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWVkOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgIW1vZGVsLmRpc3BsYXkucG9vbFNlZWQoKSAmJiAobW9kZWwuZGlzcGxheS5wb29sU2VlZCgpICE9PSAwKSA/IG1vZGVsLnN1Ym1pc3Npb24uaWQoKSA6IG1vZGVsLmRpc3BsYXkucG9vbFNlZWQoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2Vjb25kUm93OiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpIHx8ICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnNtYWxsTGF5b3V0KCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2wtbWQtMTJcIiA6IFwiY29sLW1kLTVcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaGlkZVRyYWNlQnV0dG9uOiBrby5wdXJlQ29tcHV0ZWQoKCk9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgJiYgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlVHJhY2VCdXR0b24oKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNBbGxWaXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZU1pZGRsZVBhbmVsKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGlzRmVlZGJhY2tWaXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbCgpID09PSBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuRkVFREJBQ0tcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGlzVHJhY2VWaXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbCgpID09PSBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuVFJBQ0VcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGlzQ29uc29sZVNob3dWaXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkuc2Vjb25kUm93LmlzRmVlZGJhY2tWaXNpYmxlKCkgfHwgbW9kZWwudWkuc2Vjb25kUm93LmlzVHJhY2VWaXNpYmxlKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHN3aXRjaExhYmVsOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKSAhPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZpZXcgVHJhY2VcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFkdmFuY2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFBhbmVsID0gbW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYW5lbCgpID09PSBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuTk9ORSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmVsKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5GRUVEQkFDSyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5UUkFDRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmVsKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZWwoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLlRSQUNFKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lbChTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuTk9ORSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ha2VXaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lbCA9IG1vZGVsLmRpc3BsYXkuc2Vjb25kUm93U2Vjb25kUGFuZWw7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkucHJldmlvdXNTZWNvbmRSb3dTZWNvbmRQYW5lbChjdXJyZW50UGFuZWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lbChTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuTk9ORSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXN0b3JlUGFuZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRQYW5lbCA9IG1vZGVsLmRpc3BsYXkucHJldmlvdXNTZWNvbmRSb3dTZWNvbmRQYW5lbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFBhbmVsKCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuc2Vjb25kUm93U2Vjb25kUGFuZWwob2xkUGFuZWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRQYW5lbChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25zb2xlOiB7XG4gICAgICAgICAgICAgICAgc2l6ZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICghbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgJiYgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5zbWFsbExheW91dCgpKSB8fFxuICAgICAgICAgICAgICAgICAgICAobW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbCgpID09PSBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuTk9ORSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2wtbWQtMTJcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbC1tZC02XCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGhpZGVFdmFsdWF0ZToga28ucHVyZUNvbXB1dGVkKCAoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUV2YWx1YXRlKCkgfHwgIW1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoKSB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oKSA9PT0gU3RhdHVzU3RhdGUuQUNUSVZFXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZlZWRiYWNrOiB7XG4gICAgICAgICAgICAgICAgYmFkZ2U6IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtbm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KCkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtbm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ1bnRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1ydW50aW1lLWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ludGF4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtc3ludGF4LWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtc3ludGF4LWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJuYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1pbnRlcm5hbC1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbWFudGljXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5hbHl6ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1zZW1hbnRpYy1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZlZWRiYWNrXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3RvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLWZlZWRiYWNrLWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1wcm9ibGVtLWNvbXBsZXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3Rpb25zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtaW5zdHJ1Y3Rpb25zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm8gZXJyb3JzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtbm8tZXJyb3JzXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeToga28ucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ1bnRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJSdW50aW1lIEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ludGF4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3ludGF4IEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRWRpdG9yIEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJuYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnRlcm5hbCBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbWFudGljXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5hbHl6ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJBbGdvcml0aG0gRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmZWVkYmFja1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0aW9uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkluc3RydWN0aW9uc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbmNvcnJlY3QgQW5zd2VyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJDb21wbGV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vIGVycm9yc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIGVycm9yc1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgcmVzZXRTY29yZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLnNjb3JlKDApO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3QoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb24obW9kZWwuc3VibWlzc2lvbi5zY29yZSgpLCBtb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3QoKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm92aWRlUmF0aW5nczoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICFtb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBmbGlwUmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gIW1vZGVsLmRpc3BsYXkuc2hvd1JhdGluZygpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnNob3dSYXRpbmcobmV3U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvY2FsU2V0dGluZ3NfLnNldChcImRpc3BsYXkuc2hvd1JhdGluZ1wiLCBuZXdTdGF0ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJhdGU6IChyYXRpbmcsIHN1Z2dlc3RTaGFyZT1mYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1SYXRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uZmVlZGJhY2subGFiZWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktcmF0aW5nXCIpLmZhZGVPdXQoNTAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmFkZUluKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmhhc1JhdGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhhbmtZb3UgPSBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stdGhhbmsteW91XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGFua1lvdS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhbmtZb3UucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmRpc3BsYXkuaGFzUmF0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLm1lbnUuc3RhcnRTaGFyZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYXNSYXRlZENsYXNzOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5oYXNSYXRlZCgpID8gXCJmYXJcIiA6IFwiZmFzXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFkZFBvc2l0aXZlRmVlZGJhY2s6ICh0ZXh0LCBpY29uLCBjb2xvciwgb25jbGljaywgdG9FbmQsIGluc3RydWN0b3JPbmx5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5zdHJ1Y3Rvck9ubHkgfHwgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5mZWVkYmFjay5hZGRQb3NpdGl2ZUZlZWRiYWNrKHRleHQsIGljb24sIGNvbG9yLCBvbmNsaWNrLCB0b0VuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNob3dJbnN0cnVjdG9yU3Rkb3V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5kaWFsb2cuVklFV19JTlNUUlVDVE9SX1NURE9VVCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFjZToge1xuICAgICAgICAgICAgICAgIGhhczoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWRMaW5lOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbCgpICE9PSBTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuVFJBQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RTdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlRGF0YSA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjZURhdGEgfHwgc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0ZXAgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJhY2VEYXRhW3N0ZXAtMV0ubGluZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBsaW5lOiBrby5wdXJlQ29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RTdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlRGF0YSA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjZURhdGEgfHwgc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTm8gdHJhY2VcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQmVmb3JlIHJ1blwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0ZXAgPT09IGxhc3RTdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaW5pc2hlZCBydW5cIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHdoeSBhcmUgdGhlc2UgbnVtYmVycyB3b25reT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkxpbmUgXCIrKHRyYWNlRGF0YVtzdGVwLTFdLmxpbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYXN0OiBrby5wdXJlQ29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RTdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlRGF0YSA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vdGhpbmcgdHJhY2VkLlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlN0YXJ0aW5nIGV4ZWN1dGlvblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBsYXN0U3RlcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLnN0dWRlbnQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFeGVjdXRpb24gaGFsdGVkIChlcnJvcilcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmluaXNoZWQgZXhlY3V0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkN1cnJlbnQgc3RlcDogXCIgKyBBU1RfREVTQ1JJUFRJT05TW3RyYWNlRGF0YVtzdGVwLTFdLmFzdF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBmaXJzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKDApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmFja3dhcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzID0gTWF0aC5tYXgoMCwgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZm9yd2FyZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IE1hdGgubWluKG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCksIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKG5leHQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YToga28ucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0U3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZURhdGEgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhY2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBsYXN0U3RlcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhY2VEYXRhW3N0ZXAgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYWNlRGF0YVtzdGVwXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGVzOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpIHx8ICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVGaWxlcygpIHx8IG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MucHJlbG9hZEFsbEZpbGVzKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFkZElzVmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpIHx8ICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVGaWxlcygpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB3aWR0aDoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Muc21hbGxMYXlvdXQoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbC1tZC0xMlwiIDogXCJjb2wtbWQtNlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBoYXNDb250ZW50czogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXIucHlcIjogcmV0dXJuIG1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFpbnN0cnVjdGlvbnMubWRcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2NoYW5nZS5weVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFvbl9ldmFsLnB5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50Lm9uRXZhbCgpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9tb2NrX3VybHMuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLnNvbWUoZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUoKSA9PT0gXCI/bW9ja191cmxzLmJsb2NrcHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VzLmJsb2NrcHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMoKS5zb21lKGZpbGUgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVuYW1lKCkgPT09IFwiaW1hZ2VzLmJsb2NrcHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIWFuc3dlcl9wcmVmaXgucHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMoKS5zb21lKGZpbGUgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVuYW1lKCkgPT09IFwiIWFuc3dlcl9wcmVmaXgucHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIWFuc3dlcl9zdWZmaXgucHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMoKS5zb21lKGZpbGUgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVuYW1lKCkgPT09IFwiIWFuc3dlcl9zdWZmaXgucHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP3Rvb2xib3guYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLnNvbWUoZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUoKSA9PT0gXCI/dG9vbGJveC5ibG9ja3B5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiF0YWdzLmJsb2NrcHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQudGFncygpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQuc2FtcGxlU3VibWlzc2lvbnMoKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZDogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI/bW9ja191cmxzLmJsb2NrcHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhYW5zd2VyX3ByZWZpeC5weVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFhbnN3ZXJfc3VmZml4LnB5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP3RhZ3MuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9zZXR0aW5ncy5ibG9ja3B5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbWFnZXMuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUocGF0aCwgXCJ7fVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI/dG9vbGJveC5ibG9ja3B5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vcm1hbFRvb2xib3ggPSBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLmJsb2NrRWRpdG9yLlRPT0xCT1hFU1tcIm5vcm1hbFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxUb29sYm94ID0gSlNPTi5zdHJpbmdpZnkobm9ybWFsVG9vbGJveCwgbnVsbCwgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoLCBub3JtYWxUb29sYm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNhbXBsZVN1Ym1pc3Npb25zKFtTYW1wbGVTdWJtaXNzaW9uLkJsYW5rKCldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFvbl9jaGFuZ2UucHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBmaXggZXh0cmFmaWxlcyBmb3IgaW5zdHJ1Y3RvciBhbmQgc3R1ZGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFvbl9ldmFsLnB5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5vbkV2YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0cnVjdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZURpYWxvZyhcImluc3RydWN0b3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0dWRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlRGlhbG9nKFwic3R1ZGVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3RhcnRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlRGlhbG9nKFwic3RhcnRpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUocGF0aCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uZGVsZXRlRmlsZShtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVuYW1lOiAobmV3TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ucmVuYW1lRmlsZShtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCksIG5ld05hbWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0U3R1ZGVudENvZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJlZml4UHkgPSBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5nZXRGaWxlKFwiIWFuc3dlcl9wcmVmaXgucHlcIik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWZmaXhQeSA9IHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLmdldEZpbGUoXCIhYW5zd2VyX3N1ZmZpeC5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBzZWxmLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJlZml4UHkgJiYgcHJlZml4UHkuaGFuZGxlICYmIHByZWZpeFB5LmhhbmRsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gcHJlZml4UHkuaGFuZGxlKCkgKyBjb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWZmaXhQeSAmJiBzdWZmaXhQeS5oYW5kbGUgJiYgc3VmZml4UHkuaGFuZGxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb2RlICsgc3VmZml4UHkuaGFuZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHRyYVN0dWRlbnRGaWxlczogb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKSxcbiAgICAgICAgICAgICAgICBleHRyYUluc3RydWN0b3JGaWxlczogb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyksXG4gICAgICAgICAgICAgICAgZXh0cmFTdGFydGluZ0ZpbGVzOiBvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZShtb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyksXG4gICAgICAgICAgICAgICAgZGlzcGxheUZpbGVuYW1lOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoID09PSBcIj9tb2NrX3VybHMuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJVUkwgRGF0YVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoID09PSBcImltYWdlcy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkltYWdlc1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoID09PSBcIiFhbnN3ZXJfcHJlZml4LnB5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkFuc3dlciBQcmVmaXhcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCA9PT0gXCIhYW5zd2VyX3N1ZmZpeC5weVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJBbnN3ZXIgU3VmZml4XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggPT09IFwiP3Rvb2xib3guYmxvY2tweVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJUb29sYm94XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aChcIiZcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWRpdG9yczoge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGtvLnB1cmVDb21wdXRlZCggKCk9PlxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZWRpdG9ycy5nZXRFZGl0b3IobW9kZWwuZGlzcGxheS5maWxlbmFtZSgpKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgd2lkdGg6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpIHx8ICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnNtYWxsTGF5b3V0KCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2wtbWQtMTJcIiA6IFwiY29sLW1kLTdcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdmlldzoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICghbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlRWRpdG9ycygpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLm9ubHlJbnRlcmFjdGl2ZSgpKSkgPyBcIk5vbmVcIiA6XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSA/IG1vZGVsLnVpLmVkaXRvcnMuY3VycmVudCgpIDogXCJOb25lXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5SZXNldFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcImFuc3dlci5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3VibWlzc2lvbi5jb2RlKG1vZGVsLmFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlKCkpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMobW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMoKS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWUgPSBmaWxlLmZpbGVuYW1lKCkuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9kZWxGaWxlKGZpbGVuYW1lLCBmaWxlLmNvbnRlbnRzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhblNhdmU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuZGlzcGxheS5hdXRvU2F2ZSgpKSxcbiAgICAgICAgICAgICAgICBjYW5EZWxldGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAoIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUZpbGVzKCkgfHwgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpICYmXG4gICAgICAgICAgICAgICAgICAgIFVOREVMRVRBQkxFX0ZJTEVTLmluZGV4T2YobW9kZWwuZGlzcGxheS5maWxlbmFtZSgpKSA9PT0gLTEpLFxuICAgICAgICAgICAgICAgIGNhblJlbmFtZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICghbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlRmlsZXMoKSB8fCBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgVU5SRU5BTUFCTEVfRklMRVMuaW5kZXhPZihtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpID09PSAtMSksXG4gICAgICAgICAgICAgICAgdXBsb2FkOiB1cGxvYWRGaWxlLmJpbmQoc2VsZiksXG4gICAgICAgICAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkRmlsZS5iaW5kKHNlbGYpLFxuICAgICAgICAgICAgICAgIGltcG9ydERhdGFzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmNvcmdpcy5vcGVuRGlhbG9nKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBweXRob246IHtcbiAgICAgICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGVNaXJyb3IgPSBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLnRleHRFZGl0b3IuY29kZU1pcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlTWlycm9yLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIWNvZGVNaXJyb3IuZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGU6IChuZXdNb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1WaWV3LkNoYW5nZVwiLCBcIlwiLCBcIlwiLCBuZXdNb2RlLCBtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5weXRob25Nb2RlKG5ld01vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3Iub2xkUHl0aG9uTW9kZSA9IG5ld01vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlzSGlzdG9yeUF2YWlsYWJsZToga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwibG9hZEhpc3RvcnlcIikpLFxuICAgICAgICAgICAgICAgICAgICB0dXJuT2ZmSGlzdG9yeU1vZGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3IudXBkYXRlRWRpdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLnNldFJlYWRPbmx5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0dXJuT25IaXN0b3J5TW9kZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2FkSGlzdG9yeSgocmVzcG9uc2UpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5oaXN0b3J5LmxvYWQocmVzcG9uc2UuaGlzdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3Iuc2V0UmVhZE9ubHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9MT0FESU5HX0hJU1RPUlkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlSGlzdG9yeU1vZGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5kaXNwbGF5Lmhpc3RvcnlNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5lZGl0b3JzLnB5dGhvbi50dXJuT2ZmSGlzdG9yeU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9uSGlzdG9yeU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6ICgpPT57IHNlbGYuY29tcG9uZW50cy5oaXN0b3J5Lm1vdmVUb1N0YXJ0KCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91czogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubW92ZVByZXZpb3VzKCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS5tb3ZlTmV4dCgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudDogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubW92ZVRvTW9zdFJlY2VudCgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlOiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS51c2UoKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbWFnZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkRmlsZTogKCkgPT4gc2VsZi5jb21wb25lbnRzLmVkaXRvcnMuYnlOYW1lKFwiaW1hZ2VcIikudXBsb2FkRmlsZSgpLFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVGaWxlOiAoZmlsZUluZm8pID0+IHNlbGYuY29tcG9uZW50cy5lZGl0b3JzLmJ5TmFtZShcImltYWdlXCIpLmRlbGV0ZUZpbGUoZmlsZUluZm8pLFxuICAgICAgICAgICAgICAgICAgICByZW5hbWVGaWxlOiAoZmlsZUluZm8pID0+IHNlbGYuY29tcG9uZW50cy5lZGl0b3JzLmJ5TmFtZShcImltYWdlXCIpLnJlbmFtZUZpbGUoZmlsZUluZm8pLFxuICAgICAgICAgICAgICAgICAgICByZWxvYWRJbWFnZXM6ICgpID0+IHNlbGYuY29tcG9uZW50cy5lZGl0b3JzLmJ5TmFtZShcImltYWdlXCIpLnJlbG9hZEltYWdlcygpLFxuICAgICAgICAgICAgICAgICAgICBjYW5DaG9vc2VQbGFjZW1lbnQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSksXG4gICAgICAgICAgICAgICAgICAgIGNhbk1vZGlmeTogKHBsYWNlbWVudCkgPT4gbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgcGxhY2VtZW50ID09PSBcInN1Ym1pc3Npb25cIiB8fCBwbGFjZW1lbnQgPT09IFwidXNlclwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZTogKCkgPT4gc2VsZi5jb21wb25lbnRzLnNlcnZlci5zYXZlQXNzaWdubWVudCgpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzYW1wbGVTdWJtaXNzaW9uczoge1xuICAgICAgICAgICAgICAgICAgICBidWlsZEVkaXRvcjogKG5ld0RPTSwgaW5kZXgsIG5ld0VsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlZGl0b3IgPSBzZWxmLmNvbXBvbmVudHMuZWRpdG9ycy5ieU5hbWUoXCJTYW1wbGUgU3VibWlzc2lvbnNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYnVpbGRFZGl0b3IobmV3RE9NLCBpbmRleCwgbmV3RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4ZWN1dGU6IHtcbiAgICAgICAgICAgICAgICBpc1J1bm5pbmc6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oKSA9PT0gU3RhdHVzU3RhdGUuQUNUSVZFXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBydW5MYWJlbDoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbigpID09PSBTdGF0dXNTdGF0ZS5BQ1RJVkUgPyBcIlN0b3BcIiA6IFwiUnVuXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJ1bjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKCkgPT09IFN0YXR1c1N0YXRlLkFDVElWRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBQeWdhbWVMaWIgIT09IFwidW5kZWZpbmVkXCIgJiYgUHlnYW1lTGliLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQeWdhbWVMaWIuU3RvcFB5Z2FtZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lbmdpbmUuZGVsYXllZFJ1bigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBydW5RdWlldGx5TGFiZWw6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbigpID09PSBTdGF0dXNTdGF0ZS5BQ1RJVkUgPyBcIlN0b3BcIiA6IFwiUnVuIHdpdGhvdXQgZmVlZGJhY2tcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcnVuUXVpZXRseTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKCkgPT09IFN0YXR1c1N0YXRlLkFDVElWRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBQeWdhbWVMaWIgIT09IFwidW5kZWZpbmVkXCIgJiYgUHlnYW1lTGliLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQeWdhbWVMaWIuU3RvcFB5Z2FtZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lbmdpbmUuZGVsYXllZFJ1bih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXZhbHVhdGU6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lbmdpbmUuZXZhbHVhdGUoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcnZlcjoge1xuICAgICAgICAgICAgICAgIHN0YXR1czogKGVuZHBvaW50ID0+XG4gICAgICAgICAgICAgICAgICAgIFwic2VydmVyLXN0YXR1cy1cIiArIG1vZGVsLnN0YXR1c1tlbmRwb2ludF0oKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNFbmRwb2ludENvbm5lY3RlZDogKGVuZHBvaW50KSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLnNlcnZlckNvbm5lY3RlZCgpICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24udXJscyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tlbmRwb2ludF0gIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIGNhcGl0YWxpemUobW9kZWwuc3RhdHVzLmxvYWRBc3NpZ25tZW50TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuc2F2ZUFzc2lnbm1lbnRNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5sb2FkSGlzdG9yeU1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLmxvYWRGaWxlTWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuc2F2ZUZpbGVNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5sb2FkRGF0YXNldE1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLmxvZ0V2ZW50TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuc2F2ZUltYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy51cGRhdGVTdWJtaXNzaW9uTWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMuZXh0ZXJuYWxBUEkoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLnVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNNZXNzYWdlKCkgfHwgXCJcIilcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZvcmNlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRBc3NpZ25tZW50OiAoZGF0YSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbGV0IGZpbGVIYW5kbGVyID0gJChcIi5ibG9ja3B5LWZvcmNlLWxvYWQtYXNzaWdubWVudC1maWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFzc2lnbm1lbnRGb3JjZUxvYWRCdXR0b24gPSAkKGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbGVIYW5kbGVyLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkucGFyZW50KCkuZmFkZU91dCgxMDApLmZhZGVJbigxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgdXNlciB0byB1cGxvYWQgYSBmaWxlIGNvbnRhaW5pbmcgYW4gYXNzaWdubWVudCBzdWJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVzID0gYXNzaWdubWVudEZvcmNlTG9hZEJ1dHRvblswXS5maWxlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXNzaWdubWVudFN1Ym1pc3Npb24gPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkQXNzaWdubWVudERhdGFfKGFzc2lnbm1lbnRTdWJtaXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBmci5maWxlTmFtZSA9IGZpbGVzWzBdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmci5yZWFkQXNUZXh0KGZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRGb3JjZUxvYWRCdXR0b24udmFsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uOiAoZGF0YSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvbihzZWxmLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5mYWRlT3V0KDEwMCkuZmFkZUluKDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9vdGVyOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZToga28ucHVyZUNvbXB1dGVkKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLnVpLnNtYWxsTGF5b3V0KClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtYWtlRXh0cmFJbnRlcmZhY2VTdWJzY3JpcHRpb25zKHNlbGYsIG1vZGVsKTtcbiAgICB9XG5cbiAgICB0dXJuT25IYWNrcygpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlRPRE9cIik7XG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvaW1hZ2UuanNcIl0gPSBpbWFnZU1vZHVsZS50b1N0cmluZygpO1xuICAgICAgICAvL1NrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvd2Vha3JlZi5qc1wiXSA9IHdlYWtyZWZNb2R1bGUudG9TdHJpbmcoKTtcbiAgICAgICAgLy9Tay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL21hdHBsb3RsaWIvcHlwbG90L19faW5pdF9fLmpzXCJdID0gbWF0cGxvdGxpYk1vZHVsZS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5cyB0aGUgS25vY2tvdXRKUyBiaW5kaW5ncyB0byB0aGUgbW9kZWwsIGluc3RhbnRpYXRpbmcgdGhlIHZhbHVlcyBpbnRvIHRoZVxuICAgICAqIEhUTUwuXG4gICAgICovXG4gICAgYXBwbHlNb2RlbCgpIHtcbiAgICAgICAga28uYXBwbHlCaW5kaW5ncyh0aGlzLm1vZGVsLCB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyWzBdKTtcbiAgICB9XG5cbiAgICBpbml0VXRpbGl0aWVzKCkge1xuICAgICAgICBsZXQgbWFpbiA9IHRoaXM7XG4gICAgICAgIHRoaXMudXRpbGl0aWVzID0ge1xuICAgICAgICAgICAgbWFya2Rvd246ICh0ZXh0KSA9PiB0ZXh0ID8gRWFzeU1ERS5wcm90b3R5cGUubWFya2Rvd24odGV4dCkgOiBcIjxwPjwvcD5cIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGluaXRDb21wb25lbnRzKCkge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lcjtcbiAgICAgICAgbGV0IGNvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMgPSB7fTtcbiAgICAgICAgbGV0IG1haW4gPSB0aGlzO1xuICAgICAgICAvLyBFYWNoIG9mIHRoZXNlIGNvbXBvbmVudHMgd2lsbCB0YWtlIHRoZSBCbG9ja1B5IGluc3RhbmNlLCBhbmQgcG9zc2libHkgYVxuICAgICAgICAvLyByZWZlcmVuY2UgdG8gdGhlIHJlbGV2YW50IEhUTUwgbG9jYXRpb24gd2hlcmUgaXQgd2lsbCBiZSBlbWJlZGRlZC5cbiAgICAgICAgY29tcG9uZW50cy5kaWFsb2cgPSBuZXcgQmxvY2tQeURpYWxvZyhtYWluLCBjb250YWluZXIuZmluZChcIi5ibG9ja3B5LWRpYWxvZ1wiKSk7XG4gICAgICAgIGNvbXBvbmVudHMuZmVlZGJhY2sgPSBuZXcgQmxvY2tQeUZlZWRiYWNrKG1haW4sIGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2tcIikpO1xuICAgICAgICBjb21wb25lbnRzLnRyYWNlID0gbmV3IEJsb2NrUHlUcmFjZShtYWluKTtcbiAgICAgICAgY29tcG9uZW50cy5jb25zb2xlID0gbmV3IEJsb2NrUHlDb25zb2xlKG1haW4sIGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktY29uc29sZVwiKSk7XG4gICAgICAgIGNvbXBvbmVudHMuZW5naW5lID0gbmV3IEJsb2NrUHlFbmdpbmUobWFpbik7XG4gICAgICAgIGNvbXBvbmVudHMuZmlsZVN5c3RlbSA9IG5ldyBCbG9ja1B5RmlsZVN5c3RlbShtYWluKTtcbiAgICAgICAgY29tcG9uZW50cy5lZGl0b3JzID0gbmV3IEVkaXRvcnMobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1lZGl0b3JcIikpO1xuICAgICAgICAvLyBDb252ZW5pZW50IHNob3J0Y3V0IGRpcmVjdGx5IHRvIFB5dGhvbkVkaXRvclxuICAgICAgICBjb21wb25lbnRzLnB5dGhvbkVkaXRvciA9IHRoaXMuY29tcG9uZW50cy5lZGl0b3JzLmJ5TmFtZShcInB5dGhvblwiKTtcbiAgICAgICAgY29tcG9uZW50cy5zZXJ2ZXIgPSBuZXcgQmxvY2tQeVNlcnZlcihtYWluKTtcbiAgICAgICAgY29tcG9uZW50cy5jb3JnaXMgPSBuZXcgQmxvY2tQeUNvcmdpcyhtYWluKTtcbiAgICAgICAgY29tcG9uZW50cy5oaXN0b3J5ID0gbmV3IEJsb2NrUHlIaXN0b3J5KG1haW4sIGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktaGlzdG9yeS10b29sYmFyXCIpKTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLnNob3coKTtcbiAgICAgICAgLy90aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1maWxlLWluc3RydWN0b3JcIikudG9nZ2xlKHRoaXMubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuaGlkZSgpO1xuICAgIH1cblxuICAgIG1ha2VFeHRyYVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zLnN1YnNjcmliZSgoY2hhbmdlZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtSW5zdHJ1Y3Rpb25zLkNoYW5nZVwiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkLCBcImluc3RydWN0aW9ucy5tZFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2xvY2sgPSBudWxsO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyO1xuICAgICAgICBjb25zdCB1cGRhdGVDbG9jayA9ICgpID0+IGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktbWVudS1jbG9ja1wiKS50ZXh0KGdldEN1cnJlbnRUaW1lKCkpO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC51aS5tZW51LnNob3dDbG9jaygpKSB7XG4gICAgICAgICAgICB0aGlzLmNsb2NrID0gc2V0SW50ZXJ2YWwodXBkYXRlQ2xvY2ssIDEwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb2RlbC51aS5tZW51LnNob3dDbG9jay5zdWJzY3JpYmUoKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLnVpLm1lbnUuc2hvd0Nsb2NrKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbG9jaykge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2xvY2spO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb2NrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jbG9jaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb2NrID0gc2V0SW50ZXJ2YWwodXBkYXRlQ2xvY2ssIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5maWxlbmFtZShcImFuc3dlci5weVwiKTtcbiAgICB9XG5cbiAgICByZXNldEludGVyZmFjZSgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmVuZ2luZS5yZXNldCgpO1xuICAgICAgICAvLyBEaXNhYmxlIGFueSBhbHRlcm5hdGl2ZSBsb2dFbnRyeSBmdW5jdGlvbnMgd2UgaGF2ZSBiZWVuIGdpdmVuXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXJ2ZXIuYWx0TG9nRW50cnkgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcXVlc3RQYXNzY29kZSgpIHtcbiAgICAgICAgbGV0IHVzZXJTdXBwbGllZFBhc3Njb2RlID0gcHJvbXB0KFwiUGxlYXNlIGVudGVyIHRoZSBwYXNzY29kZS5cIik7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5wYXNzY29kZSh1c2VyU3VwcGxpZWRQYXNzY29kZSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcblxuICAgIH1cblxuICAgIHNldHRpbmdzVG9Kc29uKCkge1xuICAgICAgICByZXR1cm4gc2F2ZUFzc2lnbm1lbnRTZXR0aW5ncyh0aGlzLm1vZGVsKTtcbiAgICB9XG5cbn1cblxuIl0sIm5hbWVzIjpbImVuY29kZUhUTUwiLCJTVEFSVF9FVkFMX0hUTUwiLCJORVdfQ09OU09MRV9MSU5FX0hUTUwiLCJDT05TT0xFX0hUTUwiLCJDb25zb2xlTGluZVR5cGUiLCJURVhUIiwiSFRNTCIsIlBMT1QiLCJJTUFHRSIsIlBZR0FNRSIsIkRSQUZURVIiLCJUVVJUTEUiLCJFVkFMIiwiU1RBUlRfRVZBTCIsIlZBTFVFIiwiSU5QVVQiLCJURVNUX0NBU0UiLCJDb25zb2xlTGluZSIsIm1haW4iLCJ0eXBlIiwiY29udGVudCIsIl9jbGFzc0NhbGxDaGVjayIsIm9yaWdpbiIsImZpbGVuYW1lIiwiU2siLCJjdXJyRmlsZW5hbWUiLCJzdGVwIiwiY29tcG9uZW50cyIsImVuZ2luZSIsImV4ZWN1dGlvbkJ1ZmZlciIsImxpbmUiLCJodG1sIiwiJCIsIm1vZGVsIiwiY29uZmlndXJhdGlvbiIsImF0dGFjaG1lbnRQb2ludCIsInZpc2libGUiLCJkaXNwbGF5IiwibXV0ZVByaW50ZXIiLCJpbmRleCIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwidG9Ta3VscHQiLCJmZmkiLCJyZW1hcFRvUHkiLCJkZWxldGUiLCJyZW1vdmUiLCJDb25zb2xlTGluZVR1cnRsZSIsIl9Db25zb2xlTGluZSIsIl90aGlzIiwiX2NhbGxTdXBlciIsImFkZENsYXNzIiwiX2luaGVyaXRzIiwicmVuZGVyIiwid2hlcmUiLCJwcmVwZW5kIiwidG9wIiwib2Zmc2V0Iiwic2Nyb2xsVG9wIiwiQ29uc29sZUxpbmVEcmFmdGVyIiwiX0NvbnNvbGVMaW5lMiIsInNpemUiLCJmdWxsc2NyZWVuIiwiX3RoaXMyIiwiY2xlYW51cCIsInN0b3AiLCJ1aSIsInNlY29uZFJvdyIsInJlc3RvcmVQYW5lbCIsIkNvbnNvbGVMaW5lUHlnYW1lIiwiX0NvbnNvbGVMaW5lMyIsInB5Z2FtZU9iaiIsIl90aGlzMyIsImluaXRpYWxpemVkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kIiwiZmluYWxpemUiLCJjbGVhbnVwRnVuY3Rpb24iLCJsaXN0ZW5lcnMiLCJfdGhpczQiLCJDb25zb2xlTGluZUltYWdlIiwiX0NvbnNvbGVMaW5lNCIsIl90aGlzNSIsImNvbnNvbGUiLCJsb2ciLCJDb25zb2xlTGluZVBsb3QiLCJfQ29uc29sZUxpbmU1IiwiX3RoaXM2IiwiQ29uc29sZUxpbmVUZXh0IiwiX0NvbnNvbGVMaW5lNiIsImFyZ3VtZW50cyIsImFkZENvbnRlbnQiLCJlbmNvZGVkVGV4dCIsInRyaW0iLCJsZW5ndGgiLCJsaW5lRGF0YSIsInRvb2x0aXAiLCJDb25zb2xlTGluZVZhbHVlIiwiX0NvbnNvbGVMaW5lNyIsIkNvbnNvbGVMaW5lSW5wdXQiLCJfQ29uc29sZUxpbmU4IiwicHJvbXB0TWVzc2FnZSIsIl90aGlzNyIsImlucHV0Rm9ybSIsImlucHV0QnRuIiwiaW5wdXRHcm91cCIsImlucHV0Qm94IiwiaW5wdXRNc2ciLCJtYWtlSW50ZXJhY3RpdmUiLCJpbnB1dCIsImJ1dHRvbiIsIl90aGlzOCIsInJlc29sdmVPbkNsaWNrIiwic3VibWl0dGVkUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW5wdXRJbmRleCIsImV4ZWN1dGlvbiIsInN1Ym1pdEZvcm0iLCJ1c2VySW5wdXR0ZWRWYWx1ZSIsInZhbCIsInF1ZXVlZElucHV0IiwicHVzaCIsInByb3AiLCJjbGljayIsImtleXVwIiwiZSIsImtleUNvZGUiLCJmb2N1cyIsIkNvbnNvbGVMaW5lRXZhbHVhdGUiLCJfQ29uc29sZUxpbmVJbnB1dCIsIkNvbnNvbGVMaW5lU3RhcnRFdmFsdWF0ZSIsIl9Db25zb2xlTGluZTkiLCJfdGhpczkiLCJleGVjdXRlIiwiZXZhbHVhdGUiLCJCbG9ja1B5Q29uc29sZSIsInRhZyIsInByaW50ZXJUYWciLCJmaW5kIiwiTUlOSU1VTV9XSURUSCIsIk1JTklNVU1fSEVJR0hUIiwiREVGQVVMVF9IRUlHSFQiLCJoZWlnaHQiLCJwcmV2aW91c0NvbnNvbGVIZWlnaHQiLCJvdXRwdXQiLCJzZXR0aW5ncyIsImNsZWFyIiwicmVtb3ZlQWxsIiwibGluZUJ1ZmZlciIsInBsb3RCdWZmZXIiLCJlbXB0eSIsInR1cnRsZUxpbmUiLCJUdXJ0bGVHcmFwaGljcyIsInRhcmdldCIsImdldFR1cnRsZUxpbmUiLCJiaW5kIiwid2lkdGgiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImFzc2V0cyIsImxvYWRBc3NldCIsInB5Z2FtZUxpbmUiLCJkcmFmdGVyTGluZSIsIm5hbWUiLCJjdXJyZW50UHJpbnRlckRpbWVuc2lvbiIsImhhbmRsZVB5Z2FtZVJlc2l6ZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwibWFrZVdpZGUiLCJmaW5pc2hUdXJ0bGVzIiwiYXNzaWdubWVudCIsInNhdmVUdXJ0bGVPdXRwdXQiLCJsYXN0IiwiZGF0YVVybCIsInRvRGF0YVVSTCIsInNlcnZlciIsInNhdmVJbWFnZSIsIm5ld1R1cnRsZSIsIk1hdGgiLCJtYXgiLCJpc011dGVkIiwic3RlcFByaW50ZXIiLCJwYWdlIiwiZWFjaCIsImF0dHIiLCJzaG93IiwiaGlkZSIsInByaW50IiwibGluZVRleHQiLCJmbHVzaCIsImNoYXJBdCIsInNwbGl0TGluZXMiLCJzcGxpdCIsImkiLCJwbG90IiwicGxvdHMiLCJweWdhbWUiLCJkcmFmdGVyIiwicHJpbnRQSUxJbWFnZSIsImltYWdlRGF0YSIsImltYWdlIiwiaW1hZ2VCdWZmZXIiLCJwcmludFZhbHVlIiwicHJpbnRlZFZhbHVlIiwiaW5wdXRCdWZmZXIiLCJiZWdpbkV2YWwiLCJzdGFydEV2YWx1YXRpb24iLCJzY3JvbGxUb0JvdHRvbSIsImFuaW1hdGUiLCJzbHVnIiwiX0lNUE9SVEVEX0RBVEFTRVRTIiwiX0lNUE9SVEVEX0NPTVBMRVRFX0RBVEFTRVRTIiwic2V0QnV0dG9uTG9hZGVkIiwiYnRuIiwicmVtb3ZlQ2xhc3MiLCJ0ZXh0IiwiQmxvY2tQeUNvcmdpcyIsImxvYWRlZERhdGFzZXRzIiwibG9hZERhdGFzZXRzIiwicHJvdG90eXBlIiwic2lsZW50bHkiLCJlZGl0b3IiLCJweXRob25FZGl0b3IiLCJpbXBvcnRzIiwiZGF0YXNldHMiLCJmb3JFYWNoIiwiQmxvY2tNaXJyb3JCbG9ja0VkaXRvciIsIkVYVFJBX1RPT0xTIiwiYXBwbHkiLCJpbXBvcnREYXRhc2V0Iiwid2hlbiIsImRvbmUiLCJibSIsImZvcmNlQmxvY2tSZWZyZXNoIiwiYmxvY2tFZGl0b3IiLCJyZW1ha2VUb29sYm94IiwiZmFpbCIsImVycm9yIiwiYWx3YXlzIiwiZmluYWxpemVTdWJzY3JpcHRpb25zIiwidXJsX3JldHJpZXZhbHMiLCJpc0VuZHBvaW50Q29ubmVjdGVkIiwicm9vdCIsInVybHMiLCJpbXBvcnREYXRhc2V0cyIsImxvYWRpbmdEYXRhc2V0cyIsImdldERhdGFzZXQiLCJnZXRTY3JpcHQiLCJnZXRDb21wbGV0ZSIsImdldFNrdWxwdCIsImdldCIsImRhdGEiLCJidWlsdGluRmlsZXMiLCJnZXRCbG9ja2x5IiwidGV4dFRvQmxvY2tzIiwiaGlkZGVuSW1wb3J0cyIsIm9wZW5EaWFsb2ciLCJnZXRKU09OIiwiYmxvY2tweSIsImRvY3VtZW50YXRpb24iLCJzdGFydCIsImNvbmNhdCIsImJvZHkiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsIm1hcCIsInNsdWdnZWROYW1lIiwidGl0bGVOYW1lIiwiaW1nU3JjIiwiaW5kZXhPZiIsInRpdGxlIiwib3ZlcnZpZXciLCJhcHBlbmRUbyIsImRpYWxvZyIsIkRJQUxPR19IVE1MIiwiQmxvY2tQeURpYWxvZyIsInRpdGxlVGFnIiwiYm9keVRhZyIsImZvb3RlclRhZyIsIm9rYXlCdXR0b24iLCJjbG9zZUJ1dHRvbiIsInllcyIsIm5vIiwibW9kYWwiLCJjbG9zZSIsIm9uY2xvc2UiLCJkcmFnZ2FibGUiLCJvbiIsInVuZGVmaW5lZCIsImNvbmZpcm0iLCJ5ZXNUZXh0IiwiQVNTSUdOTUVOVF9WRVJTSU9OX0NIQU5HRUQiLCJFUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UIiwicmVhc29uIiwiRVJST1JfTElTVElOR19VUExPQURFRF9GSUxFUyIsIkVSUk9SX1VQTE9BRElOR19GSUxFIiwiRVJST1JfRE9XTkxPQURJTkdfRklMRSIsIkVSUk9SX1JFTkFNSU5HX0ZJTEUiLCJFUlJPUl9ERUxFVElOR19GSUxFIiwiRVJST1JfU0FWSU5HX0FTU0lHTk1ORU5UIiwiRVJST1JfU0hPV19TVFVERU5UX0VSUk9SIiwiUE9TSVRJVkVfRkVFREJBQ0tfRlVMTCIsIm1lc3NhZ2UiLCJTQ1JFRU5TSE9UX0JMT0NLUyIsIkVSUk9SX1VQREFUSU5HX1NVQk1JU1NJT05fU1RBVFVTIiwiRVJST1JfTE9BRElOR19ISVNUT1JZIiwiT0ZGRVJfRk9SSyIsInNldHVwVXJsIiwiaW5zdHJ1Y3Rpb25zQXNzaWdubWVudFNldHVwIiwidXNlciIsImNvdXJzZUlkIiwiRURJVF9JTlBVVFMiLCJpbnB1dFRleHQiLCJqb2luIiwiY2xlYXJJbnB1dHMiLCJjaGVja2VkIiwiaW5wdXRzIiwiU1RBUlRfU0hBUkUiLCJ1cmwiLCJ3YXNQcm9tcHRlZCIsImluaXRpYWxNZXNzYWdlIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsInFyY29kZSIsIlFSQ29kZSIsImNvbG9yRGFyayIsImNvbG9yTGlnaHQiLCJjb3JyZWN0TGV2ZWwiLCJDb3JyZWN0TGV2ZWwiLCJIIiwid2FybiIsIlZJRVdfSU5TVFJVQ1RPUl9TVERPVVQiLCJzdGRvdXQiLCJpbnN0cnVjdG9yIiwiZm9ybWF0dGVkIiwiRWRpdG9ycyIsInVwbG9hZEZpbGUiLCJldmVudCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwiZmlsZXMiLCJvbmxvYWQiLCJlZGl0b3JzIiwiY3VycmVudCIsImZpbGVOYW1lIiwicmVhZEFzVGV4dCIsInNsdWdnaWZ5IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZG93bmxvYWRGaWxlIiwiX21vZGVsJHVpJGVkaXRvcnMkY3VyIiwiZXh0ZW5zaW9uIiwiY29udGVudHMiLCJtaW1ldHlwZSIsImJsb2IiLCJCbG9iIiwid2luZG93IiwibXNTYXZlT3JPcGVuQmxvYiIsIm1zU2F2ZUJsb2IiLCJ0ZW1wb3JhcnlEb3dubG9hZExpbmsiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwiQWJzdHJhY3RFZGl0b3IiLCJmaWxlU3lzdGVtIiwiZmlsZSIsImRlbGV0ZUZpbGUiLCJjaGFuZ2VFZGl0b3IiLCJvbkZpbGVEZWxldGVkIiwib25GaWxlVXBkYXRlZCIsInRyYWNrQ3VycmVudEZpbGUiLCJ3YXRjaEZpbGUiLCJ1cGRhdGVkIiwiZGVsZXRlZCIsImVudGVyIiwibmV3RmlsZW5hbWUiLCJvbGRFZGl0b3IiLCJnZXRGaWxlIiwiZXhpdCIsIm5ld0VkaXRvciIsInN0b3BXYXRjaGluZ0ZpbGUiLCJyZXN1bHQiLCJoYW5kbGUiLCJwYXJzZUZpbGVuYW1lIiwiRGlzcGxheU1vZGVzIiwiQVNTSUdOTUVOVF9TRVRUSU5HUyIsIkFzc2lnbWVudFR5cGUiLCJCTE9DS1BZIiwiTUFaRSIsIlFVSVoiLCJSRUFESU5HIiwiZ2V0RG9jdW1lbnRhdGlvbiIsIm1ha2VTdGFydFZpZXdUYWIiLCJpY29uIiwibW9kZSIsIkFTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUwiLCJmaWx0ZXIiLCJzZXR0aW5nIiwicHJldHR5TmFtZSIsIndvcmQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiQVNTSUdOTUVOVF9TRVRUSU5HU19FRElUT1JfSFRNTCIsIkJMT0NLIiwiU1BMSVQiLCJzYXZlQXNzaWdubWVudFNldHRpbmdzIiwiY2xpZW50TmFtZSIsInNlcnZlck5hbWUiLCJkZWZhdWx0VmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwibG9hZEFzc2lnbm1lbnRTZXR0aW5ncyIsInBhcnNlIiwic3RhcnRfdmlldyIsInB5dGhvbk1vZGUiLCJtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwiLCJmaWVsZFR5cGUiLCJrbyIsIm9ic2VydmFibGUiLCJjb25maWdWYWx1ZSIsInRvU3RyaW5nIiwiQXNzaWdubWVudFNldHRpbmdzVmlldyIsIl9BYnN0cmFjdEVkaXRvciIsImRpcnR5IiwiX3N1cGVyUHJvcEdldCIsImN1cnJlbnRMaXN0ZW5lciIsInVwZGF0ZUhhbmRsZSIsInVwZGF0ZUVkaXRvciIsIm5ld0NvbnRlbnRzIiwiQXNzaWdubWVudFNldHRpbmdzIiwiZXh0ZW5zaW9ucyIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGUiLCJkZWZhdWx0X2hlYWRlciIsIkZpbGVQb25kIiwiSU1BR0VfRURJVE9SX0hUTUwiLCJJbWFnZUVkaXRvclZpZXciLCJ0YWdVcGxvYWRGaWxlQnV0dG9uIiwidGFnVXBsb2FkRmlsZVBsYWNlbWVudCIsInRhZ1VwbG9hZEZpbGVOYW1lIiwidXBsb2FkZWRGaWxlcyIsInJlbG9hZEltYWdlcyIsImN1cnJlbnRTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJsaXN0VXBsb2FkZWRGaWxlcyIsInJlc3BvbnNlIiwic3VjY2VzcyIsImxvYWRSZW1vdGVGaWxlcyIsImdldFBsYWNlbWVudERpcmVjdG9yeSIsInBsYWNlbWVudCIsInN1Ym1pc3Npb24iLCJpZCIsImNvdXJzZSIsImZpbGVJbmZvIiwiX2ZpbGVJbmZvIiwiX3NsaWNlZFRvQXJyYXkiLCJxdWVyeVBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoUGFyYW1zIiwicmVuYW1lRmlsZSIsIl9maWxlSW5mbzIiLCJwcm9tcHQiLCJkaXNwb3NlIiwiSW1hZ2VFZGl0b3IiLCJKU09OX0VESVRPUl9IVE1MIiwiSnNvbkVkaXRvclZpZXciLCJjb2RlTWlycm9yIiwiQ29kZU1pcnJvciIsImZyb21UZXh0QXJlYSIsInNob3dDdXJzb3JXaGVuU2VsZWN0aW5nIiwibGluZU51bWJlcnMiLCJmaXJzdExpbmVOdW1iZXIiLCJpbmRlbnRVbml0IiwidGFiU2l6ZSIsImluZGVudFdpdGhUYWJzIiwiZXh0cmFLZXlzIiwiRXNjIiwiY20iLCJnZXRPcHRpb24iLCJzZXRPcHRpb24iLCJibHVyIiwiRjExIiwic2V0VGltZW91dCIsInJlZnJlc2giLCJzdGFydHNXaXRoIiwic2V0VmFsdWUiLCJnZXRWYWx1ZSIsIm9mZiIsIkpzb25FZGl0b3IiLCJNQVJLRE9XTl9FRElUT1JfSFRNTCIsIk1hcmtkb3duRWRpdG9yVmlldyIsIm1kZSIsIkVhc3lNREUiLCJlbGVtZW50IiwiYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWUiLCJmb3JjZVN5bmMiLCJtaW5IZWlnaHQiLCJyZW5kZXJpbmdDb25maWciLCJjb2RlU3ludGF4SGlnaGxpZ2h0aW5nIiwiY29kZW1pcnJvciIsIk1hcmtkb3duRWRpdG9yIiwiSElTVE9SWV9UT09MQkFSX0hUTUwiLCJTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMiLCJtYWtlVGFiIiwiUFlUSE9OX0VESVRPUl9IVE1MIiwiY29udmVydElweW5iVG9QeXRob24iLCJjb2RlIiwiaXB5bmIiLCJpc1VzYWJsZSIsImNlbGwiLCJjZWxsX3R5cGUiLCJzb3VyY2UiLCJtYWtlUHl0aG9uIiwiY2VsbHMiLCJQeXRob25FZGl0b3JWaWV3IiwiQmxvY2tseSIsInNldFBhcmVudENvbnRhaW5lciIsImNvbnRhaW5lciIsIkJsb2NrTWlycm9yIiwicnVuIiwiYmxvY2tseVBhdGgiLCJ0b29sYm94IiwiaW1hZ2VEb3dubG9hZEhvb2siLCJvbGRVcmwiLCJpbWFnZVVwbG9hZEhvb2siLCJyZWplY3QiLCJzdWJtaXNzaW9uSWQiLCJlbmRwb2ludCIsImltYWdlTGl0ZXJhbEhvb2siLCJyZWFkT25seSIsIm1ha2VTdWJzY3JpcHRpb25zIiwibGluZUVycm9yU3Vic2NyaXB0aW9uIiwibGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiIsImxpbmVUcmFjZVN1YnNjcmlwdGlvbiIsIm9sZFB5dGhvbk1vZGUiLCJtYWtlUGVyQXNzaWdubWVudFN1YnNjcmlwdGlvbnMiLCJjb25maWd1cmVFeHRyYUJsb2NrbHkiLCJ3b3Jrc3BhY2UiLCJjb25maWd1cmVDb250ZXh0TWVudSIsIm9wdGlvbnMiLCJlbmFibGVkIiwiY2FsbGJhY2siLCJvbGRGaWxlbmFtZSIsImN1cnJlbnRCTUxpc3RlbmVyIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJpc1BhcnNvbnMiLCJmZWVkYmFjayIsImxpbmVzRXJyb3IiLCJsaW5lcyIsInNldEhpZ2hsaWdodGVkTGluZXMiLCJsaW5lc1VuY292ZXJlZCIsInRyYWNlIiwiaGlnaGxpZ2h0ZWRMaW5lIiwiY2xlYXJIaWdobGlnaHRlZExpbmVzIiwiZGVsZXRlRmlsZUxvY2FsbHlfIiwic2V0Q29kZSIsImhpc3RvcnlNb2RlIiwiZ2V0Q29kZSIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwicHl0aG9uIiwidHVybk9mZkhpc3RvcnlNb2RlIiwiY2xlYXJMaW5lU3Vic2NyaXB0aW9ucyIsInNldE1vZGUiLCJlbmFibGVCbG9ja3MiLCJyZWxvYWRUb29sYm94IiwiZW5hYmxlSW1hZ2VzIiwiaW1hZ2VNb2RlIiwic2V0SW1hZ2VNb2RlIiwib2xkSGVpZ2h0Iiwic21hbGxMYXlvdXQiLCJ1c2VTbWFsbExheW91dCIsInRleHRFZGl0b3IiLCJyZXNpemVSZXNwb25zaXZlbHkiLCJ1cGRhdGVHdXR0ZXIiLCJpbmRlbnRTaWRlYmFyIiwiY3VzdG9tVG9vbGJveCIsImNoYW5nZWQiLCJzZXRSZWFkT25seSIsImRlY2lkZUlmTm90RWRpdGFibGUiLCJvbmx5VXBsb2FkcyIsInBhcnRJZCIsImlzUmVhZE9ubHkiLCJlbmRzV2l0aCIsImxvZ0V2ZW50IiwiUHl0aG9uRWRpdG9yIiwiUVVJWl9FRElUT1JfSFRNTCIsIlF1aXpFZGl0b3JWaWV3IiwiUXVpekVkaXRvciIsIlN1Ym1pc3Npb25TdGF0dXNlcyIsIlVOS05PV04iLCJQQVNTRUQiLCJGQUlMRUQiLCJFUlJPUiIsIlNLSVBQRUQiLCJTYW1wbGVTdWJtaXNzaW9uIiwic3RhdHVzIiwic2VyaWFsaXplIiwiQmxhbmsiLCJjb3VudCIsImRlc2VyaWFsaXplIiwiU0FNUExFX1NVQk1JU1NJT05TX0hUTUwiLCJiaW5kaW5nSGFuZGxlcnMiLCJjb2RlTWlycm9ySW5zdGFuY2UiLCJpbml0IiwidmFsdWVBY2Nlc3NvciIsImFsbEJpbmRpbmdzIiwidmlld01vZGVsIiwiYmluZGluZ0NvbnRleHQiLCJzZXRTaXplIiwidXBkYXRlIiwiU2FtcGxlU3VibWlzc2lvbnNWaWV3IiwiY29kZU1pcnJvcnMiLCJidWlsZEVkaXRvciIsIm5ld0RPTSIsIm5ld0VsZW1lbnQiLCJyZWJ1aWxkRWRpdG9ycyIsIlNhbXBsZVN1Ym1pc3Npb25zIiwiVEFHU19FRElUT1JfSFRNTCIsIlRhZ3NFZGl0b3JWaWV3IiwiVGFnc0VkaXRvciIsIlRFWFRfRURJVE9SX0hUTUwiLCJUZXh0RWRpdG9yVmlldyIsIlRleHRFZGl0b3IiLCJUT09MQk9YX0VESVRPUl9IVE1MIiwiVG9vbGJveEVkaXRvclZpZXciLCJUb29sYm94RWRpdG9yIiwiQXNzaWdubWVudFR5cGUiLCJFZGl0b3JzRW51bSIsIlNVQk1JU1NJT04iLCJBU1NJR05NRU5UIiwiSU5TVFJVQ1RJT05TIiwiT05fUlVOIiwiT05fQ0hBTkdFIiwiT05fRVZBTCIsIlNUQVJUSU5HX0NPREUiLCJTQU1QTEVfU1VCTUlTU0lPTlMiLCJJTlNUUlVDVE9SX0ZJTEUiLCJTUEVDSUFMX05BTUVTUEFDRVMiLCJBVkFJTEFCTEVfRURJVE9SUyIsIkVESVRPUlNfSFRNTCIsInJlZ2lzdGVyZWRfIiwiZXh0ZW5zaW9uc18iLCJieU5hbWVfIiwicmVnaXN0ZXJFZGl0b3IiLCJpbnN0YW5jZSIsImJ5TmFtZSIsImdldEVkaXRvciIsInBhdGgiLCJfRWRpdG9ycyRwYXJzZUZpbGVuYW0iLCJzcGFjZSIsImFzc2lnbm1lbnRUeXBlIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJTdGF0dXNTdGF0ZSIsIk9uUnVuQ29uZmlndXJhdGlvbiIsIlJ1bkNvbmZpZ3VyYXRpb24iLCJFdmFsQ29uZmlndXJhdGlvbiIsIlNhbXBsZUNvbmZpZ3VyYXRpb24iLCJPbkNoYW5nZUNvbmZpZ3VyYXRpb24iLCJPbkV2YWxDb25maWd1cmF0aW9uIiwiT25TYW1wbGVDb25maWd1cmF0aW9uIiwiQmxvY2tQeUVuZ2luZSIsImV4ZWN1dGlvbk1vZGVsIiwiY29uZmlndXJhdGlvbnMiLCJldmFsIiwib25SdW4iLCJvbkNoYW5nZSIsIm9uRXZhbCIsImNvbmZpZ3VyZSIsImdldFNrdWxwdE9wdGlvbnMiLCJvbkV4ZWN1dGlvbkJlZ2luIiwib25FeGVjdXRpb25FbmQiLCJyZXNldFJlcG9ydHMiLCJyZXBvcnQiLCJyZXBvcnRzIiwicmVzZXRTdHVkZW50TW9kZWwiLCJzdHVkZW50IiwiY2FsbHMiLCJjdXJyZW50U3RlcCIsImN1cnJlbnRUcmFjZVN0ZXAiLCJsYXN0U3RlcCIsImN1cnJlbnRMaW5lIiwiY3VycmVudFRyYWNlRGF0YSIsInJlc3VsdHMiLCJ0cmFjaW5nIiwicmVzZXRFeGVjdXRpb25CdWZmZXIiLCJyZXNldCIsImRlbGF5ZWRSdW4iLCJkaXNhYmxlRmVlZGJhY2siLCJ1c2UiLCJmYWlsdXJlIiwicHJvdmlkZVNlY3JldEVycm9yIiwic2hvd0Vycm9ycyIsImV4ZWN1dGlvbkVuZF8iLCJvbkV4ZWN1dGlvbiIsIkFDVElWRSIsImV2YWx1YXRpb25JbnB1dCIsInVzZXJJbnB1dCIsIm1pc2NldmFsIiwiYXN5bmNUb1Byb21pc2UiLCJpbXBvcnRNYWluV2l0aEJvZHkiLCJzeXNtb2R1bGVzIiwib25fY2hhbmdlIiwiRklMRU5BTUUiLCJwcm9ncmFtcyIsInNhdmVDb2RlIiwidmVyaWZ5Q29kZSIsInVwZGF0ZVBhcnNlIiwicnVuSW5zdHJ1Y3RvckNvZGUiLCJtb2R1bGUiLCJleGVjdXRpb25SZXBvcnRzIiwiY2F0ZWdvcnkiLCJsYWJlbCIsInByZXNlbnRGZWVkYmFjayIsIiRkIiwiZXhlY3V0aW9uQmVnaW5fIiwiRU1QVFlfTU9EVUxFIiwiQ29uZmlndXJhdGlvbiIsImluQnJvd3NlciIsIm9wZW5GaWxlIiwiZmlsZVRvVVJMIiwiZ2V0VXJsRnJvbUZpbGVuYW1lIiwicmVxdWVzdHNHZXQiLCJ0aW1lb3V0Iiwib3BlblVSTCIsInRpbWVvdXRIYW5kbGVyIiwidGltZVBhc3NlZCIsImV4ZWNMaW1pdCIsInByZXZpb3VzRXhlY0xpbWl0Q2hvaWNlIiwiZGlzYWJsZVRpbWVvdXQiLCJleGVjTGltaXRCYWNrdXAiLCJnZXRUaW1lb3V0UHJvbXB0IiwiZGVsYXkiLCJwYXJzZUludCIsImV4ZWNMaW1pdEZ1bmN0aW9uIiwiSW5maW5pdHkiLCJiZWZvcmVDYWxsIiwibG9uZ1RpbWVvdXQiLCJfX2Z1dHVyZV9fIiwicHl0aG9uMyIsInJlYWQiLCJpbXBvcnRGaWxlIiwiZmlsZXdyaXRlIiwid3JpdGVGaWxlIiwiaW5wdXRmdW4iLCJpbnB1dGZ1blRha2VzUHJvbXB0IiwiaW1hZ2VQcm94eSIsImdldEltYWdlUHJveHkiLCJlbW9qaVByb3h5IiwicGFydCIsInJldGFpbkdsb2JhbHMiLCJmb3VuZCIsImZpbGVzVG9VcmxzIiwiYnVpbHRpbiIsIk9TRXJyb3IiLCJtb2NrVXJsRGF0YSIsIklPRXJyb3IiLCJoYXNPd25Qcm9wZXJ0eSIsImZpbGVEYXRhIiwicmVhZEZpbGUiLCJjbGVhcklucHV0IiwiaXNGb3JiaWRkZW4iLCJFcnJvciIsImZpbmFsbHkiLCJkdW1teU91dFNhbmRib3giLCJmdW5jdGlvbk5hbWUiLCJwb3NhcmdzIiwia3dhcmdzIiwic3R1ZGVudE1vZGVsIiwiYXJncyIsImlucHV0TW9ja0Z1bmN0aW9uIiwicG9wIiwiU3R1ZGVudENvbmZpZ3VyYXRpb24iLCJCbG9ja1B5VHJhY2UiLCJfU3R1ZGVudENvbmZpZ3VyYXRpb24iLCJhZnRlclNpbmdsZUV4ZWN1dGlvbiIsImdsb2JhbHMiLCJSRUFEWSIsInJlbWFwVG9KcyIsIl8iLCIkciIsIngiLCJpc0RvY3N0cmluZyIsIiRza19tb2RfaW5zdHJ1Y3RvciIsIiRza19tb2RfY292ZXJhZ2UiLCIkcGVkYWxfdHJhY2VyIiwiY2hvbXBTcGVjaWFsRmlsZSIsIlVUSUxJVFlfTU9EVUxFX0NPREUiLCJDT1ZFUkFHRV9NT0RVTEVfQ09ERSIsIkluc3RydWN0b3JDb25maWd1cmF0aW9uIiwiX0NvbmZpZ3VyYXRpb24iLCJiZWZvcmVDYWxsQmFja3VwIiwiY2xlYXJFeGlzdGluZ1N0dWRlbnRJbXBvcnRzIiwiaW5mbyIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiZ2V0QWxsRmlsZW5hbWVzIiwiX3N0ZXAiLCJzIiwibiIsInNrRmlsZW5hbWUiLCJzdHIiLCJwb3AkaXRlbSIsImVyciIsImYiLCJnZXRBbGxTdHVkZW50RmlsZXMiLCJnZXRTdHVkZW50Q29kZSIsImV4dHJhSW5zdHJ1Y3RvckZpbGVzIiwiaW5jbHVkZXMiLCJleHRyYUZpbGVzIiwiY2xlYW4iLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzZWFyY2hGb3JGaWxlIiwidiIsIm9wZW5haVByb3h5IiwibmV4dElucHV0IiwiX0luc3RydWN0b3JDb25maWd1cmF0IiwiY2xlYXJUaW1lb3V0IiwidHJpZ2dlck9uQ2hhbmdlIiwiZmluZEFjdHVhbEluc3RydWN0b3JPZmZzZXQiLCJJTlNUUlVDVE9SX01BUktFUiIsIk5FV19MSU5FX1JFR0VYIiwiaW5kZW50IiwiV1JBUF9JTlNUUlVDVE9SX0NPREUiLCJzdHVkZW50Q29kZSIsImluc3RydWN0b3JDb2RlIiwicXVpY2siLCJpc1NhZmUiLCJzYWZlQ29kZSIsImRpc2FibGVUaWZhIiwic3R1ZGVudEZpbGVzIiwiZXZhbHVhdGlvbiIsImxpbmVPZmZzZXQiLCJvbl9ldmFsIiwiU1VDQ0VTUyIsImNvcnJlY3QiLCJzY29yZSIsIlNDT1JFIiwibWluIiwib2xkU2NvcmUiLCJISURFIiwidXBkYXRlU3VibWlzc2lvbiIsInNjcm9sbGluZyIsInRwJG5hbWUiLCJwcmVzZW50SW50ZXJuYWxFcnJvciIsImV4dHJhY3RGcm9tUG9vbCIsIlBPT0xfU0VQQVJBVE9SUyIsImJlZm9yZSIsIm1hdGNoIiwic2tpcF90aWZhIiwiZ2V0Q3VycmVudE9uUnVuIiwicmF3IiwiaW5zdHJ1Y3Rpb25zUG9vbCIsIlRFU1RTIiwibWVudSIsImN1cnJlbnRTZWVkIiwib25fcnVuIiwiX09uUnVuQ29uZmlndXJhdGlvbiIsImRpc2FibGVTdHVkZW50UnVuIiwic2F2ZUZpbGUiLCJCb29sZWFuIiwiZW52aXJvbiIsImRpY3QiLCJzZXQkaXRlbSIsImludF8iLCJyb3VuZCIsImRpcnR5U3VibWlzc2lvbiIsImhpZGVFdmFsdWF0ZSIsInBhcnNlciIsInZlcmlmaWVyIiwibG9jYWxzIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsImFzdE5hbWUiLCJwYXJzZUdsb2JhbHMiLCJfb2JqZWN0U3ByZWFkIiwicHJvcGVydGllcyIsIm1vZHVsZXMiLCJsYXN0TGluZSIsImdldExpbmVzIiwiYXN0IiwidmlzaXRlZExpbmVzIiwiU2V0IiwidmlzaXRCb2R5Iiwibm9kZSIsImxpbmVubyIsImFkZCIsInN0YXRlbWVudCIsIm9yZWxzZSIsImZpbmFsYm9keSIsIkFycmF5IiwiZnJvbSIsImFzdEZyb21QYXJzZSIsImNzdCIsImZsYWdzIiwicHJlc2VudFJ1bkVycm9yIiwiZXJyb3JCdXR0b24iLCJhcnJheU1vdmUiLCJjYXBpdGFsaXplIiwicHlTdHIiLCJGRUVEQkFDS19IVE1MIiwiQmxvY2tQeUZlZWRiYWNrIiwiZmVlZGJhY2tNb2RlbCIsImZlZWRiYWNrSGVhZGVyIiwicG9zaXRpdmUiLCJzY3JvbGxJbnRvVmlldyIsImlzRmVlZGJhY2tWaXNpYmxlIiwidmlzaWJpbGl0eUJ1ZmZlciIsInRvcE9mRWxlbWVudCIsImJvdHRvbU9mRWxlbWVudCIsImJvdHRvbU9mU2NyZWVuIiwidG9wT2ZTY3JlZW4iLCJoaWRkZW4iLCJjbGVhclBvc2l0aXZlRmVlZGJhY2siLCJoYXNSYXRlZCIsInVwZGF0ZVJlZ3VsYXJGZWVkYmFjayIsInVwZGF0ZUZlZWRiYWNrIiwiZXhlY3V0aW9uUmVzdWx0cyIsIk1FU1NBR0UiLCJDQVRFR09SWSIsIkxBQkVMIiwiREFUQSIsInBvc2l0aXZlcyIsIlBPU0lUSVZFIiwidXRpbGl0aWVzIiwibWFya2Rvd24iLCJibG9jayIsImhsanMiLCJoaWdobGlnaHRCbG9jayIsImZpbmRGaXJzdEVycm9yTGluZSIsInN0dWRlbnRSZXBvcnQiLCJ1bmNvdmVyZWRMaW5lcyIsIl9sb29wIiwicG9zaXRpdmVEYXRhIiwiYWRkUG9zaXRpdmVGZWVkYmFjayIsImNvbG9yIiwib25jbGljayIsInRvRW5kIiwiY3NzIiwiaG92ZXIiLCJ1cGRhdGVGdWxsRmVlZGJhY2siLCJub3RpZnlGZWVkYmFja1VwZGF0ZSIsInByb2Nlc3NTaW5nbGVGZWVkYmFjayIsInRwJGdldGF0dHIiLCJraW5kIiwiYWN0aXZlIiwiaXNUcnVlIiwidW51c2VkX21lc3NhZ2UiLCJqdXN0aWZpY2F0aW9uIiwicGFyZW50IiwiaGFzUGFyZW50IiwiY2hlY2tOb25lIiwibm9uZSIsIm5vbmUkIiwibWFpblJlcG9ydCIsIk1BSU5fUkVQT1JUIiwiZmVlZGJhY2tzIiwiaXRlckZvciIsInRwJGl0ZXIiLCJwYXJlbnRzIiwiTWFwIiwiX2ZlZWRiYWNrcyRpIiwiaGFzIiwic2V0IiwidW5zaGlmdCIsInZhbHVlcyIsImZsYXQiLCJ0b2dnbGVDbGFzcyIsImZhZGVPdXQiLCJzaG91bGRTY3JvbGxJbnRvVmlldyIsImp1c3RfcmV0dXJuIiwiY29udmVydFNrdWxwdEVycm9yIiwiYnVpbGRUcmFjZWJhY2siLCJmaWxlbmFtZUV4ZWN1dGVkIiwidHJhY2ViYWNrIiwiZnJhbWUiLCJzY29wZSIsImlzSW5zdHJ1Y3RvciIsImFsbEZyYW1lcyIsImZlZWRiYWNrRGF0YSIsInF1aWNrJGxvb2t1cCIsImZpcnN0RGVmaW5lZFZhbHVlIiwiZnJpZW5kbHlOYW1lIiwiaGlkZUlmRW1wdHkiLCJub3RJbnN0cnVjdG9yIiwiaW5zdHJ1Y3RvckZpbGVDbGFzcyIsImhpZGVJZk5vdEluc3RydWN0b3IiLCJGSUxFU19IVE1MIiwiTkVXX0lOU1RSVUNUT1JfRklMRV9ESUFMT0dfSFRNTCIsIlNUQVJUSU5HX0ZJTEVTIiwiQkFTSUNfTkVXX0ZJTEVTIiwiSU5TVFJVQ1RPUl9ESVJFQ1RPUlkiLCJTVFVERU5UX0RJUkVDVE9SWSIsIlNlYXJjaE1vZGVzIiwiRVZFUllXSEVSRSIsIlNUQVJUX1dJVEhfSU5TVFJVQ1RPUiIsIk9OTFlfU1RVREVOVF9GSUxFUyIsIkRFTEVUQUJMRV9TSU1QTEVfRklMRVMiLCJVTkRFTEVUQUJMRV9GSUxFUyIsIlVOUkVOQU1BQkxFX0ZJTEVTIiwiQmxvY2tQeUZpbGUiLCJvd25lciIsIm1ha2VNb2RlbEZpbGUiLCJtYWtlTW9ja01vZGVsRmlsZSIsIl9maWxlbmFtZSIsImxvYWRDb25jYXRlbmF0ZWRGaWxlIiwiY29uY2F0ZW5hdGVkRmlsZSIsIm1vZGVsRmlsZUxpc3QiLCJtb2RlbEZpbGVzIiwiY3JlYXRlQ29uY2F0ZW5hdGVkRmlsZSIsIm9ic2VydmVDb25jYXRlbmF0ZWRGaWxlIiwicHVyZUNvbXB1dGVkIiwiQmxvY2tQeUZpbGVTeXN0ZW0iLCJmaWxlc18iLCJtb3VudEZpbGVzIiwid2F0Y2hNb2RlbCIsIndhdGNoZXNfIiwicmVtb3RlRmlsZXNfIiwiZmlsZXN5c3RlbSIsImV4dHJhU3RhcnRpbmdGaWxlcyIsImZpbGVBcnJheSIsImNoYW5nZXMiLCJmaXJzdCIsInNlY29uZCIsImxvY2FsZUNvbXBhcmUiLCJjaGFuZ2UiLCJtb2RlbEZpbGUiLCJuZXdGaWxlIiwibm90aWZ5V2F0Y2hlcyIsIm9ic2VydmVGaWxlXyIsImluc3RydWN0aW9ucyIsInN0YXJ0aW5nQ29kZSIsIm9ic2VydmVJbkFycmF5XyIsInRhZ3MiLCJzYW1wbGVTdWJtaXNzaW9ucyIsImFycmF5IiwiY29kZUJ1bmRsZSIsImRpc21vdW50RXh0cmFGaWxlcyIsImV4aXN0aW5nRmlsZSIsImRlc3RpbmF0aW9uIiwic3R1ZGVudFNlYXJjaCIsInNlYXJjaE1vZGUiLCJleHRyYVN0dWRlbnRGaWxlcyIsInNwZWNpYWxGaWxlIiwic2VhcmNoRm9yU3BlY2lhbEZpbGVzXyIsInN0dWRlbnRWZXJzaW9uIiwic2VhcmNoRm9yRmlsZUluTGlzdF8iLCJnZW5lcmF0ZWRWZXJzaW9uIiwiZGVmYXVsdFZlcnNpb24iLCJoaWRkZW5WZXJzaW9uIiwicmVtb3RlVmVyc2lvbiIsImluc3RydWN0b3JWZXJzaW9uIiwic3RhcnRpbmdWZXJzaW9uIiwibW9kZWxMaXN0IiwibmV3RmlsZURpYWxvZyIsImZpbGV0eXBlIiwibmFtZXNwYWNlIiwiZXh0ZW5zaW9uUmVnZXgiLCJleGVjIiwicHJlZml4Iiwic3VibWl0IiwicHJldmVudERlZmF1bHQiLCJwcmVsb2FkRmlsZXMiLCJwcmVsb2FkQWxsRmlsZXMiLCJkb3dubG9hZFJlbW90ZUZpbGVzIiwicmVvcmdhbml6ZUZpbGVzIiwib3JnYW5pemVkIiwiZW50cmllcyIsIl9yZWYiLCJfcmVmMiIsInBsYWNlZEZpbGVzIiwiX3JlZjMiLCJfcmVmNCIsImRpcmVjdG9yeSIsIm9sZFJlbWFpbmluZ0ZpbGVzIiwiX3JlZjUiLCJfcmVmNiIsInBsYWNlbWVudERhdGEiLCJfcmVmNyIsIl9yZWY4IiwiZGlyZWN0b3J5RGF0YSIsIl9yZWY5IiwiX3JlZjEwIiwicmVuYW1lZEZpbGUiLCJGT09URVJfSFRNTCIsIkJsb2NrUHlIaXN0b3J5IiwiY3VycmVudElkIiwiaGlzdG9yeSIsImVkaXRFdmVudHMiLCJsb2FkIiwic2VsZWN0b3IiLCJlZGl0SWQiLCJlbnRyeSIsImZpbGVfcGF0aCIsImV2ZW50X3R5cGUiLCJSRU1BUF9FVkVOVF9UWVBFUyIsImRpc3BsYXllZCIsInByZXR0eVByaW50RGF0ZVRpbWUiLCJjbGllbnRfdGltZXN0YW1wIiwiZGlzYWJsZSIsIm9wdGlvbiIsImRpc2FibGVkIiwiaXNFZGl0RXZlbnQiLCJldnQiLCJtb3ZlVG9TdGFydCIsIm1vdmVQcmV2aW91cyIsIm1vdmVOZXh0IiwibW92ZVRvTW9zdFJlY2VudCIsIm1vbnRoTmFtZXMiLCJ3ZWVrRGF5cyIsImlzU2FtZURheSIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwidGltZVN0cmluZyIsIm5vdyIsIkRhdGUiLCJwYXN0IiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZGF5U3RyIiwiZ2V0RGF5IiwibW9udGhTdHIiLCJkYXRlIiwiZ2V0SGlzdG9yeSIsInJldmVyc2UiLCJyZWR1Y2UiLCJjb21wbGV0ZSIsImVsZW0iLCJjb21wbGV0ZV9zdHIiLCJ0aW1lIiwibmV3X2xpbmUiLCJUUkFDRV9IVE1MIiwiRkVFREJBQ0siLCJUUkFDRSIsIk5PTkUiLCJtYWtlRXh0cmFJbnRlcmZhY2VTdWJzY3JpcHRpb25zIiwic2VsZiIsImhpZ2hsaWdodFRpbWVvdXQiLCJpc0Z1bGxzY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsImFsZXJ0IiwiZXhpdEZ1bGxzY3JlZW4iLCJtYWtlSW50ZXJmYWNlIiwiY2FsY3VsYXRlUG9vbEluZGV4IiwicG9vbHMiLCJzZWVkIiwicG9vbCIsInNwbGl0dGVyIiwiY2hvc2VuUG9vbCIsInBvb2xQYXJ0cyIsImNvdW50UG9vbHMiLCJmb3JtYXRQb29sSW5zdHJ1Y3Rpb25zIiwiTG9jYWxTdG9yYWdlV3JhcHBlciIsIlJFVFJZSU5HIiwiT0ZGTElORSIsIkJsb2NrUHlTZXJ2ZXIiLCJzdG9yYWdlIiwicXVldWUiLCJnZXREZWZhdWx0IiwiTUFYX1FVRVVFX1NJWkUiLCJUSU1FUl9ERUxBWSIsIkZBSUxfREVMQVkiLCJ0aW1lcnMiLCJvdmVybGF5IiwiYmxvY2tpbmdBdHRlbXB0cyIsImNhY2hlZEZpbGVuYW1lcyIsImNyZWF0ZVN1YnNjcmlwdGlvbnMiLCJjaGVja0NhY2hlcyIsImFsdExvZ0VudHJ5IiwiY2hlY2tJUCIsIm9sZElQIiwiaXAiLCJfcG9zdExhdGVzdFJldHJ5IiwicHVzaEFueVF1ZXVlZCIsIl9wb3N0UmV0cnkiLCJjcmVhdGVGaWxlU3Vic2NyaXB0aW9uIiwiYXV0b1NhdmUiLCJjcmVhdGVFdmVudExvZ3MiLCJvbmJsdXIiLCJvbmZvY3VzIiwiYXV0aG9yaXplSGVhZGVyIiwiY3VycmVudFNldHRpbmdzIiwiYWNjZXNzVG9rZW4iLCJoZWFkZXJzIiwiY3JlYXRlU2VydmVyRGF0YSIsIm1pY3Jvc2Vjb25kcyIsImdldFRpbWUiLCJncm91cElkIiwidmVyc2lvbiIsImdldFRpbWV6b25lT2Zmc2V0IiwicGFzc2NvZGUiLCJzZXRTdGF0dXMiLCJzaG93T3ZlcmxheSIsImF0dGVtcHQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaGlkZU92ZXJsYXkiLCJfZW5xdWV1ZURhdGEiLCJjYWNoZSIsIl9kZXF1ZXVlRGF0YSIsInNwbGljZSIsInBvc3RSZXF1ZXN0IiwiYWpheCIsInRleHRTdGF0dXMiLCJmYWlsdXJlRnVuY3Rpb24iLCJkb25lRnVuY3Rpb24iLCJyZXF1ZXN0IiwiY2FjaGVkVGltZSIsIl9wb3N0QmxvY2tpbmciLCJhdHRlbXB0cyIsImV4dHJhU2V0dGluZ3MiLCJlcnJvclRocm93biIsImxvYWRBc3NpZ25tZW50IiwiYXNzaWdubWVudF9pZCIsImxvYWRBc3NpZ25tZW50RGF0YV8iLCJzYXZlQXNzaWdubWVudCIsInJldmlld2VkIiwicG9pbnRzIiwiaXBSYW5nZXMiLCJzdGFydFBvc3NpYmxlRm9yayIsImxvYWRIaXN0b3J5IiwiX3RoaXMxMCIsIl90aGlzMTEiLCJkZWxldGVJbnN0ZWFkIiwiZmQiLCJkIiwiRm9ybURhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwiX3RoaXMxMiIsImRhdGFUeXBlIiwib2xkX2ZpbGVuYW1lIiwibmV3X2ZpbGVuYW1lIiwiX3RoaXMxMyIsInVwZGF0ZVN1Ym1pc3Npb25TdGF0dXMiLCJuZXdTdGF0dXMiLCJfdGhpczE0IiwicG9zdFN0YXR1c0NoYW5nZSIsInN1Ym1pc3Npb25TdGF0dXMiLCJsb2FkRmlsZSIsImVycm9yQ2FsbGJhY2siLCJsb2FkX2ZpbGUiLCJmb3JrYWJsZSIsImhpZGRlbk92ZXJyaWRlIiwiZm9yY2VVcGRhdGUiLCJfdGhpczE1IiwiY2FsbGJhY2tzIiwiZ2V0UG5nRnJvbUJsb2NrcyIsInBuZ0RhdGEiLCJpbWciLCJvcGVuYWlfZGF0YSIsIm9wZW5haV9wcm94eSIsIiRidWlsdGlubW9kdWxlIiwibW9kIiwic2FtcGxlV3JhcHBlciIsIl9fbmFtZV9fIiwiUElMIiwiSW5zdGFudFByb21pc2UiLCJsYXN0UmVzdWx0IiwibGFzdEVycm9yIiwiY2IiLCJidWlsZEltYWdlIiwiZ2V0QXNzZXQiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25lcnJvciIsInNyYyIsIiRnYmwiLCIkbG9jIiwiX19pbml0X18iLCJmdW5jIiwiZmlsZV9vcl91cmwiLCJweUNoZWNrQXJncyIsInB5Q2hlY2tUeXBlIiwiY2hlY2tTdHJpbmciLCJpbWFnZVByb21pc2UiLCJzdXNwIiwiU3VzcGVuc2lvbiIsInJlc3VtZSIsInByb21pc2UiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiTmFtZUVycm9yIiwiY29uc29sZURhdGEiLCJmbGlwIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJidWlsZENsYXNzIiwicHJpb3IiLCJ0aW1laXQiLCJkaWZmZXJlbmNlIiwiY29uc29sZV9sb2ciLCJzdHJBcmdzIiwiY2FsbCIsImFyZyIsImNvbnNvbGVfZGVidWciLCJnZXRfb3V0cHV0IiwiaXRlbSIsImxpc3QiLCJyZXNldF9vdXRwdXQiLCJnZXRfcHJvZ3JhbSIsImdldF9ldmFsdWF0aW9uIiwidHJhY2VfbGluZXMiLCJyZWFsTGluZXMiLCJ0cmFjZV9jYWxscyIsInN0YXJ0X3RyYWNlIiwic3RvcF90cmFjZSIsImdldF9zdHVkZW50X2Vycm9yIiwidHVwbGUiLCJwb3NpdGlvbiIsImhhZF9leGVjdXRpb25fdGltZV9lcnJvciIsImJhY2t1cFRpbWUiLCJsaW1pdF9leGVjdXRpb25fdGltZSIsImV4ZWNTdGFydCIsInVubGltaXRfZXhlY3V0aW9uX3RpbWUiLCJzdXBwcmVzc19zY3JvbGxpbmciLCJnZXRfcGxvdHMiLCJvdXRwdXRzIiwiZ3JhcGgiLCJuZXdQbG90IiwieSIsIlN0dWRlbnREYXRhIiwibmV3RGljdCIsImFic3RyIiwic2F0dHIiLCJvYmplY3RTZXRJdGVtIiwidW5maXhSZXNlcnZlZCIsImNhbGxfZiIsImt3YSIsInB5Q2hlY2tBcmdzTGVuIiwiYnVpbHRpbnMiLCJtcCRsb29rdXAiLCJmdW5jdGlvbk9iamVjdCIsInRwJGNhbGwiLCJjb19rd2FyZ3MiLCJjb19uYW1lIiwiZ2V0X25hbWVzX2J5X3R5cGUiLCJleGNsdWRlX2J1aWx0aW5zIiwiY2hlY2tCb29sIiwicHJvcGVydHkiLCJnZXRfdmFsdWVzX2J5X3R5cGUiLCJjYWxsc2ltT3JTdXNwZW5kIiwiZ2V0X3N0dWRlbnRfZGF0YSIsInNldF9pbnN0cnVjdGlvbnMiLCJuZXdJbnN0cnVjdGlvbnMiLCJjaGFuZ2VkSW5zdHJ1Y3Rpb25zIiwiZ2V0X21vZGVsX2luZm8iLCJjbGVhcl9leGlzdGluZ19zdHVkZW50X2ltcG9ydHMiLCJkb3dubG9hZF9maWxlIiwiZG93bmxvYWRGaWxlVXJsIiwiY29tYmluZXIiLCJwcm9tIiwieG1saHR0cCIsIlhNTEh0dHBSZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZW5kIiwicmVzb2x1dGlvbiIsIldlYWtTZXQiLCJjaGVja0l0ZXJhYmxlIiwiaXRlciIsIm5leHQiLCJpdGVybmV4dCIsIldlYWtSZWYiLCJfX2l0ZXJfXyIsInZpZXdPZkRhdGEiLCJkZXJlZiIsIkxPQ0FMX1NUT1JBR0VfUkVGIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJfZGF0YSIsIlN0cmluZyIsImdldEl0ZW0iLCJpc19uZXciLCJzZXJ2ZXJfdGltZSIsInN0b3JlZF90aW1lIiwiQVNUX0RFU0NSSVBUSU9OUyIsIklHTk9SRURfR0xPQkFMUyIsInZhcmlhYmxlcyIsInRyYWNlRXhlY3V0aW9uIiwicGFyc2VkIiwicGFyc2VWYWx1ZSIsIl91bnVzZWQiLCJmdWxsTGVuZ3RoIiwiZnVuY19jb2RlIiwiY29fdmFybmFtZXMiLCJzcSRsZW5ndGgiLCJib29sIiwibm1iZXIiLCJza1R5cGUiLCJmbG9hdF8iLCJOdW1iZXIiLCJhcnIiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwiaXRlbVRvTW92ZSIsImFjYyIsImFycmF5Q29udGFpbnMiLCJuZWVkbGUiLCJoYXlzdGFjayIsImFycmF5VW5pcXVlIiwiYSIsImoiLCJleHBhbmRBcnJheSIsImFkZEFycmF5IiwicmVtb3ZlQXJyYXkiLCJjb3B5QXJyYXkiLCJjbG9uZU5vZGUiLCJjbG9uZSIsIm5vZGVUeXBlIiwiY3JlYXRlVGV4dE5vZGUiLCJub2RlVmFsdWUiLCJjaGlsZCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsInJhbmRvbUludGVnZXIiLCJmbG9vciIsInJhbmRvbSIsIldvcmtzcGFjZVN2ZyIsInNodWZmbGUiLCJtZXRyaWNzIiwiZ2V0TWV0cmljcyIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJibG9ja3MiLCJnZXRUb3BCbG9ja3MiLCJtYXhpbWFsX2luY3JlYXNlIiwiZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSIsIm1vdmVCeSIsIm1vdmVFbGVtZW50cyIsIm1vdmVDaGVjayIsImlzU2tCdWlsdGluIiwib2JqIiwibG5nIiwiaXNBc3ROb2RlIiwiREVGQVVMVF9TRUNUSU9OX1BBVFRFUk4iLCJleHRyYWN0UGFydCIsInBhcnRzIiwibWl4ZWRSZW1hcFRvUHkiLCJrIiwia3ZzIiwic3VidmFsIiwiX3R5cGVvZiIsImFzc2skIiwiZ2V0Q3VycmVudFRpbWUiLCJ0b2RheSIsImgiLCJnZXRIb3VycyIsIm0iLCJnZXRNaW51dGVzIiwicCIsInB5SW50IiwicHlOb25lIiwicHlUdXBsZSIsInB5Q2FsbE9yU3VzcGVuZCIsImNhbGxzaW1PclN1c3BlbmRBcnJheSIsIl9TayRtaXNjZXZhbCIsInJpY2hDb21wYXJlQm9vbCIsImNoYWluIiwiX1NrJGFic3RyIiwidHlwZU5hbWUiLCJzZXRVcE1vZHVsZU1ldGhvZHMiLCJidWlsZE5hdGl2ZUNsYXNzIiwiX1NrJGJ1aWx0aW4iLCJUeXBlRXJyb3IiLCJWYWx1ZUVycm9yIiwiS2V5RXJyb3IiLCJJbmRleEVycm9yIiwiYXNudW0kIiwiX1R5cGVFcnJvciIsIl9TayRmZmkiLCJfU2skZ2VuZXJpYyIsImdlbmVyaWMiLCJnZXRBdHRyIiwic2V0QXR0ciIsImNoYWluT3JTdXNwZW5kIiwiaW1hZ2VNb2R1bGUiLCJ3ZWFrcmVmTW9kdWxlIiwiRURJVE9SX1ZFUlNJT04iLCJCbG9ja1B5IiwiaW5pdE1vZGVsIiwic2V0QXNzaWdubWVudCIsImluaXRNYWluIiwiaW5pdFV0aWxpdGllcyIsImluaXRNb2RlbE1ldGhvZHMiLCJ0dXJuT25IYWNrcyIsImluaXRJbnRlcmZhY2UiLCJhcHBseU1vZGVsIiwiaW5pdENvbXBvbmVudHMiLCJtYWtlRXh0cmFTdWJzY3JpcHRpb25zIiwiZ2V0U2V0dGluZyIsImluaXRpYWxDb25maWd1cmF0aW9uXyIsImxvY2FsU2V0dGluZ3NfIiwicm9sZSIsIm9ic2VydmFibGVBcnJheSIsImZvcmtlZElkIiwiZm9ya2VkVmVyc2lvbiIsIm93bmVySWQiLCJncmFkaW5nU3RhdHVzIiwiYmlnQ29uc29sZSIsImN1cnJlbnRDb25zb2xlSGVpZ2h0Iiwic2Vjb25kUm93U2Vjb25kUGFuZWwiLCJwcmV2aW91c1NlY29uZFJvd1NlY29uZFBhbmVsIiwicmVuZGVySW1hZ2VzIiwiZWRpdG9yVmVyc2lvbiIsImJhY2t1cFN1Ym1pc3Npb25Db2RlIiwic2hvd1JhdGluZyIsInBvb2xTZWVkIiwibG9hZEFzc2lnbm1lbnRNZXNzYWdlIiwibG9hZEhpc3RvcnlNZXNzYWdlIiwibG9hZEZpbGVNZXNzYWdlIiwibG9hZERhdGFzZXQiLCJsb2FkRGF0YXNldE1lc3NhZ2UiLCJsb2dFdmVudE1lc3NhZ2UiLCJzYXZlSW1hZ2VNZXNzYWdlIiwic2F2ZUZpbGVNZXNzYWdlIiwic2F2ZUFzc2lnbm1lbnRNZXNzYWdlIiwidXBkYXRlU3VibWlzc2lvbk1lc3NhZ2UiLCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzTWVzc2FnZSIsImxpc3RVcGxvYWRlZEZpbGVzTWVzc2FnZSIsImRvd25sb2FkRmlsZU1lc3NhZ2UiLCJ1cGxvYWRGaWxlTWVzc2FnZSIsInJlbmFtZUZpbGVNZXNzYWdlIiwiZXh0ZXJuYWxBUEkiLCJleHRlcm5hbEFQSU1lc3NhZ2UiLCJzZXJ2ZXJDb25uZWN0ZWQiLCJjb25zdGFudHMiLCJndWkiLCJsb2FkVGFncyIsImxvYWRTYW1wbGVTdWJtaXNzaW9ucyIsInNhbXBsZXMiLCJsb2FkTm9TdWJtaXNzaW9uIiwic3RhcnRpbmdfY29kZSIsImV4dHJhX3N0YXJ0aW5nX2ZpbGVzIiwibG9hZFN1Ym1pc3Npb24iLCJncmFkaW5nX3N0YXR1cyIsInN1Ym1pc3Npb25fc3RhdHVzIiwidXNlcl9pZCIsImNvdXJzZV9pZCIsImV4dHJhX2ZpbGVzIiwiZGVidWciLCJyZXNldEludGVyZmFjZSIsIndhc1NlcnZlckNvbm5lY3RlZCIsImZvcmtlZF9pZCIsImZvcmtlZF92ZXJzaW9uIiwiaXBfcmFuZ2VzIiwib3duZXJfaWQiLCJzYW1wbGVfc3VibWlzc2lvbnMiLCJleHRyYV9pbnN0cnVjdG9yX2ZpbGVzIiwiY29yZ2lzIiwiaXNHcmFkZXIiLCJpc0NoYW5nZWQiLCJvbmx5SW50ZXJhY3RpdmUiLCJ0ZXh0RnVsbHNjcmVlbiIsImNsaWNrRnVsbHNjcmVlbiIsImVkaXRJbnB1dHMiLCJ0b2dnbGVJbWFnZXMiLCJkaXNhYmxlSW1hZ2VzIiwiY2FuTWFya1N1Ym1pdHRlZCIsImNhbkNsb3NlIiwidGV4dE1hcmtTdWJtaXR0ZWQiLCJpc0NvbXBsZXRlZCIsImlzU3VibWl0dGVkIiwiY2xpY2tNYXJrU3VibWl0dGVkIiwic2hvd1F1ZXVlZElucHV0cyIsImhpZGVRdWV1ZWRJbnB1dHMiLCJzaG93Q2xvY2siLCJoYXNDbG9jayIsImNhblNoYXJlIiwiZ2V0U2hhcmVVcmwiLCJ0b0lTT1N0cmluZyIsImVuY29kZWQiLCJidG9hIiwiYmFzZVVybCIsInN0YXJ0U2hhcmUiLCJoaWRlVHJhY2VCdXR0b24iLCJpc0FsbFZpc2libGUiLCJoaWRlTWlkZGxlUGFuZWwiLCJpc1RyYWNlVmlzaWJsZSIsImlzQ29uc29sZVNob3dWaXNpYmxlIiwic3dpdGNoTGFiZWwiLCJhZHZhbmNlU3RhdGUiLCJjdXJyZW50UGFuZWwiLCJvbGRQYW5lbCIsImJhZGdlIiwicmVzZXRTY29yZSIsInByb3ZpZGVSYXRpbmdzIiwiZmxpcFJhdGluZyIsIm5ld1N0YXRlIiwicmF0ZSIsInJhdGluZyIsInN1Z2dlc3RTaGFyZSIsImZhZGVJbiIsInRoYW5rWW91IiwiaGFzUmF0ZWRDbGFzcyIsImluc3RydWN0b3JPbmx5Iiwic2hvd0luc3RydWN0b3JTdGRvdXQiLCJ0cmFjZURhdGEiLCJiYWNrd2FyZCIsInByZXZpb3VzIiwiZm9yd2FyZCIsImhpZGVGaWxlcyIsImFkZElzVmlzaWJsZSIsImhhc0NvbnRlbnRzIiwic29tZSIsIm5vcm1hbFRvb2xib3giLCJUT09MQk9YRVMiLCJyZW5hbWUiLCJuZXdOYW1lIiwicHJlZml4UHkiLCJzdWZmaXhQeSIsImRpc3BsYXlGaWxlbmFtZSIsInZpZXciLCJoaWRlRWRpdG9ycyIsImNhblNhdmUiLCJjYW5EZWxldGUiLCJjYW5SZW5hbWUiLCJ1cGxvYWQiLCJ1cGRhdGVNb2RlIiwibmV3TW9kZSIsImlzSGlzdG9yeUF2YWlsYWJsZSIsInR1cm5Pbkhpc3RvcnlNb2RlIiwidG9nZ2xlSGlzdG9yeU1vZGUiLCJtb3N0UmVjZW50IiwiaW1hZ2VzIiwiY2FuQ2hvb3NlUGxhY2VtZW50IiwiY2FuTW9kaWZ5Iiwic2F2ZSIsImlzUnVubmluZyIsInJ1bkxhYmVsIiwiUHlnYW1lTGliIiwicnVubmluZyIsIlN0b3BQeWdhbWUiLCJydW5RdWlldGx5TGFiZWwiLCJydW5RdWlldGx5IiwibWVzc2FnZXMiLCJmb3JjZSIsImFzc2lnbm1lbnRGb3JjZUxvYWRCdXR0b24iLCJmciIsImFzc2lnbm1lbnRTdWJtaXNzaW9uIiwiZm9vdGVyIiwiYXBwbHlCaW5kaW5ncyIsImNsb2NrIiwidXBkYXRlQ2xvY2siLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZXF1ZXN0UGFzc2NvZGUiLCJ1c2VyU3VwcGxpZWRQYXNzY29kZSIsImRlc3Ryb3kiLCJzZXR0aW5nc1RvSnNvbiJdLCJzb3VyY2VSb290IjoiIn0=