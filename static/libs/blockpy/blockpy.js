(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("FilePond"), require("jQuery"), require("ko"));
	else if(typeof define === 'function' && define.amd)
		define("blockpy", ["FilePond", "jQuery", "ko"], factory);
	else if(typeof exports === 'object')
		exports["blockpy"] = factory(require("FilePond"), require("jQuery"), require("ko"));
	else
		root["blockpy"] = factory(root["FilePond"], root["jQuery"], root["ko"]);
})(typeof self !== 'undefined' ? self : this, (__WEBPACK_EXTERNAL_MODULE_filepond__, __WEBPACK_EXTERNAL_MODULE_jquery__, __WEBPACK_EXTERNAL_MODULE_knockout__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/console.js":
/*!************************!*\
  !*** ./src/console.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyConsole: () => (/* binding */ BlockPyConsole),
/* harmony export */   CONSOLE_HTML: () => (/* binding */ CONSOLE_HTML),
/* harmony export */   ConsoleLineType: () => (/* binding */ ConsoleLineType)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }


/**
 * Evaluate button HTML template
 * @type {string}
 */
var START_EVAL_HTML = "\n<button type=\"button\" class=\"btn btn-sm btn-outline float-right blockpy-btn-eval\">\n    Evaluate\n</button>";

/**
 * HTML template for a new line in the console.
 * @type {string}
 */
var NEW_CONSOLE_LINE_HTML = "<div></div>";

/**
 * HTML template for the entire console area
 * @type {string}
 */
var CONSOLE_HTML = "\n    <div class='blockpy-panel blockpy-console'\n          role=\"region\" aria-label=\"Console\"\n          data-bind=\"class: ui.console.size\">\n          \n        <!-- Feedback/Trace Visibility Control -->\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-show-feedback'\n                data-bind=\"hidden: ui.secondRow.isConsoleShowVisible, click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span>\n        </button>\n          \n        <strong>Console:</strong>\n        \n        <div class='blockpy-printer blockpy-printer-default'>\n        </div>\n        \n     </div>";

/**
 * All the possible types for a line in the console.
 * @enum
 */
var ConsoleLineType = {
  TEXT: "text",
  HTML: "html",
  PLOT: "plot",
  IMAGE: "image",
  PYGAME: "pygame",
  DRAFTER: "drafter",
  TURTLE: "turtle",
  EVAL: "eval",
  START_EVAL: "start_eval",
  VALUE: "value",
  INPUT: "input",
  TEST_CASE: "test_case"
};

/**
 * Abstract version of a line in the console. All other console lines
 * should extend this class. Critically, they need to implement a render function.
 */
var ConsoleLine = /*#__PURE__*/function () {
  function ConsoleLine(main, type, content) {
    _classCallCheck(this, ConsoleLine);
    /**
     * Reference back to the main BlockPy instance.
     * @const
     * @type {BlockPy}
     */
    this.main = main;
    /**
     * Categorizes what kind of line this is (text/html/plot/etc.)
     * @type {ConsoleLineType}
     */
    this.type = type;
    /**
     * The actual data stored on this line.
     * @type {string}
     */
    this.content = content;
    /**
     * Metadata about where the line originated from in the code.
     * @type {{filename: string, line: number, step: number}}
     */
    this.origin = {
      filename: Sk.currFilename,
      step: main.components.engine.executionBuffer.step,
      line: main.components.engine.executionBuffer.line
    };
    /**
     * The HTML content stored on this line, meant to be rendered
     * to the user.
     * @type {*|jQuery.fn.init|jQuery|HTMLElement}
     */
    this.html = $("<div></div>", {
      "class": "blockpy-printer-output",
      "data-container": main.model.configuration.attachmentPoint,
      "data-toggle": "tooltip",
      "data-placement": "auto",
      "data-step": this.origin.step,
      "title": "Step " + this.origin.step + ", Line " + this.origin.line
    });
    /**
     * Whether or not this line should be visible
     * @type {boolean}
     */
    this.visible = !main.model.display.mutePrinter();
    /**
     *
     * @type {number}
     */
    this.index = 0;
  }

  /**
   * Create a Skulpt representation of this console line's content.
   * @returns {*}
   */
  return _createClass(ConsoleLine, [{
    key: "toSkulpt",
    value: function toSkulpt() {
      return Sk.ffi.remapToPy(this.content);
    }

    /**
     * Remove this console line by deleting its HTML representation.
     */
  }, {
    key: "delete",
    value: function _delete() {
      this.html.remove();
    }
  }]);
}();
var ConsoleLineTurtle = /*#__PURE__*/function (_ConsoleLine) {
  // TODO: Capture turtle commands for tracing purposes
  function ConsoleLineTurtle(main) {
    var _this;
    _classCallCheck(this, ConsoleLineTurtle);
    _this = _callSuper(this, ConsoleLineTurtle, [main, ConsoleLineType.TURTLE]);
    _this.html.addClass("blockpy-console-turtle-output");
    return _this;
  }
  _inherits(ConsoleLineTurtle, _ConsoleLine);
  return _createClass(ConsoleLineTurtle, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.prepend(this.html);
        //this.html[0].scrollIntoView({ behavior: "smooth" });
        var top = this.html.offset().top;
        //$('html').scrollTop(top);
        $("html").scrollTop(top);
        //this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineDrafter = /*#__PURE__*/function (_ConsoleLine2) {
  function ConsoleLineDrafter(main, size, fullscreen) {
    var _this2;
    _classCallCheck(this, ConsoleLineDrafter);
    _this2 = _callSuper(this, ConsoleLineDrafter, [main, ConsoleLineType.DRAFTER]);
    _this2.html.addClass("blockpy-console-drafter-output");
    _this2.size = size;
    _this2.fullscreen = fullscreen;
    return _this2;
  }
  _inherits(ConsoleLineDrafter, _ConsoleLine2);
  return _createClass(ConsoleLineDrafter, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.prepend(this.html);
        var top = this.html.offset().top;
        $("html").scrollTop(top);
      }
    }
  }, {
    key: "cleanup",
    value: function cleanup() {
      // Starts off as a no-op
    }
  }, {
    key: "stop",
    value: function stop() {
      this.main.model.ui.secondRow.restorePanel();
    }
  }]);
}(ConsoleLine);
var ConsoleLinePygame = /*#__PURE__*/function (_ConsoleLine3) {
  function ConsoleLinePygame(main, size, fullscreen, pygameObj) {
    var _this3;
    _classCallCheck(this, ConsoleLinePygame);
    _this3 = _callSuper(this, ConsoleLinePygame, [main, ConsoleLineType.PYGAME]);
    _this3.html.addClass("blockpy-console-pygame-output");
    _this3.size = size;
    _this3.fullscreen = fullscreen;
    _this3.pygameObj = pygameObj;
    _this3.initialized = false;
    _this3.canvas = document.createElement("canvas");
    //Sk.main_canvas = document.getElementById("myCanvas");
    return _this3;
  }
  _inherits(ConsoleLinePygame, _ConsoleLine3);
  return _createClass(ConsoleLinePygame, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        this.html.append(this.canvas);
        where.prepend(this.html);
        var top = this.html.offset().top;
        $("html").scrollTop(top);
      }
    }
  }, {
    key: "cleanup",
    value: function cleanup() {
      // Starts off as a no-op
    }
  }, {
    key: "stop",
    value: function stop() {
      this.cleanup = function () {};
      this.main.model.ui.secondRow.restorePanel();
    }
  }, {
    key: "finalize",
    value: function finalize(cleanupFunction, listeners) {
      var _this4 = this;
      this.initialized = true;
      this.cleanup = function () {
        return cleanupFunction(_this4.pygameObj, listeners);
      };
    }
  }]);
}(ConsoleLine);
var ConsoleLineImage = /*#__PURE__*/function (_ConsoleLine4) {
  function ConsoleLineImage(main, content) {
    var _this5;
    _classCallCheck(this, ConsoleLineImage);
    _this5 = _callSuper(this, ConsoleLineImage, [main, ConsoleLineType.IMAGE, content]);
    _this5.html.addClass("blockpy-console-image-output");
    return _this5;
  }
  _inherits(ConsoleLineImage, _ConsoleLine4);
  return _createClass(ConsoleLineImage, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        console.log(this.content);
        this.html.append(this.content);
        where.append(this.html);
        //this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLinePlot = /*#__PURE__*/function (_ConsoleLine5) {
  function ConsoleLinePlot(main, content) {
    var _this6;
    _classCallCheck(this, ConsoleLinePlot);
    _this6 = _callSuper(this, ConsoleLinePlot, [main, ConsoleLineType.PLOT, content]);
    _this6.html.addClass("blockpy-console-plot-output");
    return _this6;
  }
  _inherits(ConsoleLinePlot, _ConsoleLine5);
  return _createClass(ConsoleLinePlot, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        where.append(this.html);
        //this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineText = /*#__PURE__*/function (_ConsoleLine6) {
  function ConsoleLineText() {
    _classCallCheck(this, ConsoleLineText);
    return _callSuper(this, ConsoleLineText, arguments);
  }
  _inherits(ConsoleLineText, _ConsoleLine6);
  return _createClass(ConsoleLineText, [{
    key: "addContent",
    value: function addContent(content) {
      this.content = this.content + content;
    }
  }, {
    key: "render",
    value: function render(where) {
      if (this.visible) {
        var encodedText = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.encodeHTML)(this.content);
        if (!encodedText || encodedText.trim().length <= 0) {
          encodedText = "\n";
        }
        var lineData = $("<samp></samp>", {
          "html": encodedText
        });
        this.html.append(lineData);
        where.append(this.html);
        this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineValue = /*#__PURE__*/function (_ConsoleLine7) {
  function ConsoleLineValue(main, content) {
    _classCallCheck(this, ConsoleLineValue);
    return _callSuper(this, ConsoleLineValue, [main, ConsoleLineType.VALUE, content]);
  }
  _inherits(ConsoleLineValue, _ConsoleLine7);
  return _createClass(ConsoleLineValue, [{
    key: "render",
    value: function render(where) {
      if (this.visible) {
        var encodedText = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.encodeHTML)(this.content);
        var lineData = $("<code></code>", {
          "html": encodedText
        });
        this.html.append(lineData);
        where.append(this.html);
        this.html.tooltip();
      }
    }
  }]);
}(ConsoleLine);
var ConsoleLineInput = /*#__PURE__*/function (_ConsoleLine8) {
  function ConsoleLineInput(main, promptMessage) {
    var _this7;
    _classCallCheck(this, ConsoleLineInput);
    _this7 = _callSuper(this, ConsoleLineInput, [main, ConsoleLineType.INPUT, promptMessage]);
    _this7.visible = true;
    return _this7;
  }

  /**
   * Creates an Input box for receiving input() from the user.
   *
   */
  _inherits(ConsoleLineInput, _ConsoleLine8);
  return _createClass(ConsoleLineInput, [{
    key: "render",
    value: function render(where) {
      // Perform any necessary cleaning
      if (this.visible) {
        // Input form
        var inputForm = $("<input type='text' />");
        // Enter button
        var inputBtn = $("<button></button>", {
          "html": "Enter"
        });
        // Group form and button
        var inputGroup = $("<div></div>", {
          "class": "blockpy-console-input"
        });
        inputGroup.append(inputForm);
        inputGroup.append(inputBtn);
        // Prompt box, new line, input group
        var inputBox = $("<div></div>");
        if (this.content !== "\n") {
          var encodedText = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.encodeHTML)(this.content);
          var inputMsg = $("<samp></samp>", {
            "html": encodedText
          });
          inputBox.append(inputMsg);
        }
        inputBox.append($("<br>")).append(inputGroup);
        // Render
        this.html.append(inputBox);
        where.append(this.html);
        // Make it interactive
        return this.makeInteractive(inputForm, inputBtn);
      }
      return "";
    }
  }, {
    key: "makeInteractive",
    value: function makeInteractive(input, button) {
      var _this8 = this;
      var resolveOnClick;
      var submittedPromise = new Promise(function (resolve) {
        resolveOnClick = resolve;
      });
      var inputIndex = this.main.model.execution.inputIndex();
      var submitForm = function submitForm() {
        var userInputtedValue = input.val();
        Sk.queuedInput.push(userInputtedValue);
        _this8.main.model.execution.inputIndex(inputIndex + 1);
        _this8.main.model.execution.input().push(userInputtedValue);
        resolveOnClick(userInputtedValue);
        input.prop("disabled", true);
        button.prop("disabled", true);
        _this8.html.tooltip();
      };
      button.click(submitForm);
      input.keyup(function (e) {
        if (e.keyCode === 13) {
          submitForm();
        }
      });
      input.focus();
      console.log(inputIndex, this.main.model.execution.input().length);
      if (inputIndex < this.main.model.execution.input().length) {
        var userInputtedValue = this.main.model.execution.input()[inputIndex];
        input.val(userInputtedValue);
        this.main.model.execution.inputIndex(inputIndex + 1);
        return new Promise(function (resolve) {
          input.prop("disabled", true);
          button.prop("disabled", true);
          _this8.html.tooltip();
          resolve(userInputtedValue);
        });
      }
      return submittedPromise;
    }
  }]);
}(ConsoleLine);
var ConsoleLineEvaluate = /*#__PURE__*/function (_ConsoleLineInput) {
  function ConsoleLineEvaluate(main) {
    _classCallCheck(this, ConsoleLineEvaluate);
    return _callSuper(this, ConsoleLineEvaluate, [main, "Evaluate:"]);
  }
  _inherits(ConsoleLineEvaluate, _ConsoleLineInput);
  return _createClass(ConsoleLineEvaluate);
}(ConsoleLineInput);
var ConsoleLineStartEvaluate = /*#__PURE__*/function (_ConsoleLine9) {
  function ConsoleLineStartEvaluate(main) {
    var _this9;
    _classCallCheck(this, ConsoleLineStartEvaluate);
    _this9 = _callSuper(this, ConsoleLineStartEvaluate, [main, ConsoleLineType.START_EVAL]);
    _this9.html.append($(START_EVAL_HTML));
    _this9.html.click(function () {
      _this9.main.model.ui.execute.evaluate();
      _this9["delete"]();
    });
    return _this9;
  }
  _inherits(ConsoleLineStartEvaluate, _ConsoleLine9);
  return _createClass(ConsoleLineStartEvaluate, [{
    key: "render",
    value: function render(where) {
      where.append(this.html);
    }
  }]);
}(ConsoleLine);
var BlockPyConsole = /*#__PURE__*/function () {
  /**
   * An object for managing the console, with features for things like printing, plotting, evaling, inputing.
   * The "printer" is the region where we put things, as opposed to the console as a whole.
   *
   * @constructor
   * @param {Object} main - The main BlockPy instance
   * @param {HTMLElement} tag - The HTML object this is attached to.
   */
  function BlockPyConsole(main, tag) {
    _classCallCheck(this, BlockPyConsole);
    this.main = main;
    this.tag = tag;
    this.printerTag = tag.find(".blockpy-printer");
    this.MINIMUM_WIDTH = 200;
    this.MINIMUM_HEIGHT = 200;
    this.DEFAULT_HEIGHT = this.printerTag.height(); // Let CSS define this
    this.main.model.display.previousConsoleHeight(this.DEFAULT_HEIGHT);
    this.output = this.main.model.execution.output;
    //this.input = this.main.model.execution.input;
    this.settings = {};
    this.clear();

    // TODO: If the user modifies a file, then make the console look faded a little
  }
  return _createClass(BlockPyConsole, [{
    key: "clear",
    value:
    /**
     * Reset the status of the printer, including removing any text in it and
     * fixing its size.
     */
    function clear() {
      this.output.removeAll();
      this.lineBuffer = null;
      this.plotBuffer = null;
      this.printerTag.empty();
      // If the user hasn't changed the console size, we'll reset it
      if (this.main.model.display.previousConsoleHeight() === this.printerTag.height()) {
        this.printerTag.height(this.DEFAULT_HEIGHT);
        this.main.model.display.previousConsoleHeight(this.printerTag.height());
      }
      this.turtleLine = null;
      Sk.TurtleGraphics = {
        target: this.getTurtleLine.bind(this),
        width: this.getWidth(),
        height: this.getHeight(),
        assets: this.loadAsset.bind(this)
      };
      this.pygameLine = null;
      this.drafterLine = null;
    }
  }, {
    key: "loadAsset",
    value: function loadAsset(name) {
      return name;
    }
  }, {
    key: "getTurtleLine",
    value: function getTurtleLine() {
      if (this.turtleLine === null) {
        this.turtleLine = new ConsoleLineTurtle(this.main);
        this.turtleLine.render(this.printerTag);
        // If the user hasn't changed the console size, we'll do so
        if (this.main.model.display.previousConsoleHeight() === this.printerTag.height()) {
          var currentPrinterDimension = this.printerTag.width();
          this.printerTag.height(currentPrinterDimension);
          this.main.model.display.previousConsoleHeight(this.printerTag.height());
          Sk.TurtleGraphics.height = currentPrinterDimension - 40;
        }
      }
      return this.turtleLine.html[0];
    }
  }, {
    key: "handlePygameResize",
    value: function handlePygameResize(newWidth, newHeight) {
      // If the user hasn't changed the console size, and the newHeight is bigger than default, we'll change it
      if (this.main.model.display.previousConsoleHeight() === this.printerTag.height() && newHeight > this.DEFAULT_HEIGHT) {
        this.printerTag.height(30 + newHeight);
        this.main.model.display.previousConsoleHeight(this.printerTag.height());
      }
      // If the pygame window is wider than the console, we'll expand temporarily.
      if (newWidth > this.printerTag.width()) {
        this.main.model.ui.secondRow.makeWide();
      }
    }
  }, {
    key: "finishTurtles",
    value: function finishTurtles() {
      if (this.main.model.assignment.settings.saveTurtleOutput()) {
        if (this.turtleLine) {
          var canvas = this.turtleLine.html.find("canvas").last()[0];
          var dataUrl = canvas.toDataURL("image/png");
          this.main.components.server.saveImage("turtle_output", dataUrl);
        } else if (this.pygameLine) {
          var _canvas = this.pygameLine.canvas;
          var _dataUrl = _canvas.toDataURL("image/png");
          this.main.components.server.saveImage("turtle_output", _dataUrl);
        } else {
          // TODO: What if there are no turtles to save?
        }
      }
    }

    // TODO: turtles should be based on the current width
  }, {
    key: "newTurtle",
    value: function newTurtle() {
      return this;
    }
  }, {
    key: "getWidth",
    value: function getWidth() {
      return Math.max(this.MINIMUM_WIDTH, this.printerTag.width() - 40);
    }
  }, {
    key: "getHeight",
    value: function getHeight() {
      return Math.max(this.MINIMUM_HEIGHT, this.printerTag.height() + 40);
    }
  }, {
    key: "isMuted",
    value: function isMuted() {
      return this.main.model.display.mutePrinter();
    }

    /**
     * Updates each printed element in the printer and makes it hidden
     * or visible, depending on what step we're on.
     *
     * @param {Number} step - The current step of the executed program that we're on; each element in the printer must be marked with a "data-step" property to resolve this.
     * @param {Number} page - Deprecated, not sure what this even does.
     */
  }, {
    key: "stepPrinter",
    value: function stepPrinter(step, page) {
      this.printerTag.find(".blockpy-printer-output").each(function () {
        if ($(this).attr("data-step") <= step) {
          $(this).show();
        } else {
          $(this).hide();
        }
      });
    }
  }, {
    key: "print",
    value:
    /**
     * Print a line to the on-screen printer.
     * @param {String} lineText - A line of text to be printed out.
     */
    function print(lineText) {
      // Empty strings means do nothing.
      // print("", end="")
      if (!lineText) {
        return;
      }
      var flush = false;
      if (lineText.charAt(lineText.length - 1) === "\n") {
        flush = true;
      }
      var splitLines = lineText.split("\n");
      if (this.lineBuffer === null) {
        this.lineBuffer = new ConsoleLineText(this.main, ConsoleLineType.TEXT, splitLines[0]);
      } else {
        this.lineBuffer.addContent(splitLines[0]);
      }
      for (var i = 1; i < splitLines.length - 1; i++) {
        this.output.push(this.lineBuffer);
        this.lineBuffer.render(this.printerTag);
        this.lineBuffer = new ConsoleLineText(this.main, ConsoleLineType.TEXT, splitLines[i]);
      }
      if (flush) {
        this.output.push(this.lineBuffer);
        this.lineBuffer.render(this.printerTag);
        this.lineBuffer = null;
      }
    }
  }, {
    key: "plot",
    value: function plot(plots) {
      this.plotBuffer = new ConsoleLinePlot(this.main, plots);
      this.plotBuffer.render(this.printerTag);
      return this.plotBuffer;
    }
  }, {
    key: "pygame",
    value: function pygame(size, fullscreen, pygameObj) {
      if (this.pygameLine === null) {
        this.pygameLine = new ConsoleLinePygame(this.main, size, fullscreen, pygameObj);
        this.pygameLine.render(this.printerTag);
      }
      return this.pygameLine;
    }
  }, {
    key: "drafter",
    value: function drafter(size, fullscreen) {
      if (this.drafterLine === null) {
        this.drafterLine = new ConsoleLineDrafter(this.main, size, fullscreen);
        this.drafterLine.render(this.printerTag);
      }
      return this.drafterLine;
    }
  }, {
    key: "printPILImage",
    value: function printPILImage(imageData) {
      console.log("TEST", imageData.image);
      this.imageBuffer = new ConsoleLineImage(this.main, imageData.image);
      this.imageBuffer.render(this.printerTag);
      return this.imageBuffer;
    }
  }, {
    key: "printValue",
    value: function printValue(value) {
      var printedValue = new ConsoleLineValue(this.main, value);
      printedValue.render(this.printerTag);
      return printedValue;
    }

    /**
     * Creates and registers a Promise from the Input box
     * @param {String} promptMessage - Message to display to the user.
     *
     */
  }, {
    key: "input",
    value: function input(promptMessage) {
      this.inputBuffer = new ConsoleLineInput(this.main, promptMessage);
      return this.inputBuffer.render(this.printerTag);
    }
  }, {
    key: "evaluate",
    value: function evaluate() {
      this.inputBuffer = new ConsoleLineEvaluate(this.main);
      return this.inputBuffer.render(this.printerTag);
    }
  }, {
    key: "beginEval",
    value: function beginEval() {
      var startEvaluation = new ConsoleLineStartEvaluate(this.main);
      return startEvaluation.render(this.printerTag);
    }

    /**
     * Unconditionally scroll to the bottom of the window.
     *
     */
  }, {
    key: "scrollToBottom",
    value: function scrollToBottom() {
      this.tag.animate({
        scrollTop: this.tag.prop("scrollHeight") - this.tag.prop("clientHeight")
      }, 500);
    }
  }]);
}();

/***/ }),

/***/ "./src/corgis.js":
/*!***********************!*\
  !*** ./src/corgis.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyCorgis: () => (/* binding */ BlockPyCorgis),
/* harmony export */   _IMPORTED_COMPLETE_DATASETS: () => (/* binding */ _IMPORTED_COMPLETE_DATASETS),
/* harmony export */   _IMPORTED_DATASETS: () => (/* binding */ _IMPORTED_DATASETS)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");


// TODO: editor.bm.blockEditor.extraTools[]

var _IMPORTED_DATASETS = {};
var _IMPORTED_COMPLETE_DATASETS = {};

/**
 * This is a very simplistic helper function that will transform
 * a given button into a "Loaded" state (disabled, pressed state, etc.).
 *
 * @param {HTMLElement} btn - An HTML element to change the text of.
 */
var setButtonLoaded = function setButtonLoaded(btn) {
  btn.addClass("active").addClass("btn-success").removeClass("btn-primary").prop("disabled", true).text("Loaded").attr("aria-pressed", "true");
};

/**
 * Module that connects to the CORGIS datasets and manages interactions
 * with them. This includes loading in datasets at launch and on-the-fly.
 * Note that this has no presence on screen, so it does not have a tag.
 *
 * @constructor
 * @this {BlockPyCorgis}
 * @param {Object} main - The main BlockPy instance
 */
function BlockPyCorgis(main) {
  this.main = main;
  this.loadedDatasets = [];
  this.loadDatasets();
}
BlockPyCorgis.prototype.loadDatasets = function (silently) {
  var _this = this;
  // Load in each the datasets
  var model = this.main.model,
    editor = this.main.components.pythonEditor,
    server = this.main.components.server;
  var imports = [];
  model.assignment.settings.datasets().split(",").forEach(function (name) {
    if (name && !(name in BlockMirrorBlockEditor.EXTRA_TOOLS)) {
      imports.push.apply(imports, _this.importDataset((0,_utilities__WEBPACK_IMPORTED_MODULE_0__.slug)(name), name, silently));
    }
  });

  // When datasets are loaded, update the toolbox.
  $.when.apply($, imports).done(function () {
    //console.log("TRIGGERED");
    editor.bm.forceBlockRefresh();
    editor.bm.blockEditor.remakeToolbox();
  }).fail(function (e) {
    console.log(arguments);
    console.error(e);
  }).always(function () {
    server.finalizeSubscriptions();
  });
};

/**
 * Loads the definitions for a dataset into the environment, including
 * the dataset (as a JS file), the skulpt bindings, and the blockly
 * bindings. This requires access to a CORGIS server, and occurs
 * asynchronously. The requests are fired and their deferred objects
 * are returned - callers can use this information to perform an action
 * on completion of the import.
 *
 * @param {String} slug - The URL safe version of the dataset name
 * @param {String} name - The user-friendly version of the dataset name.
 * @returns {Array.<Deferred>} - Returns the async requests as deferred objects.
 */
BlockPyCorgis.prototype.importDataset = function (slug, name) {
  var _this2 = this;
  var url_retrievals = [];
  if (this.main.model.ui.server.isEndpointConnected("importDatasets")) {
    var root = this.main.model.configuration.urls.importDatasets + "blockpy/" + slug + "/" + slug;
    this.main.model.display.loadingDatasets.push(name);
    // Actually get data
    var getDataset = $.getScript(root + "_dataset.js");
    // Load getComplete silently in the background because its big :(
    var getComplete = $.getScript(root + "_complete.js");
    var getSkulpt = $.get(root + "_skulpt.js", function (data) {
      Sk.builtinFiles["files"]["src/lib/" + slug + "/__init__.js"] = data;
    });
    var getBlockly = $.getScript(root + "_blockly.js");
    // On completion, update menus.
    $.when(getDataset, getSkulpt, getBlockly).done(function () {
      _this2.loadedDatasets.push(slug);
      _this2.main.components.pythonEditor.bm.textToBlocks.hiddenImports.push(slug);
      _this2.main.components.pythonEditor.bm.forceBlockRefresh();
      _this2.main.components.pythonEditor.bm.blockEditor.remakeToolbox();
      _this2.main.model.display.loadingDatasets.remove(name);
    });
    url_retrievals.push(getDataset, getSkulpt, getBlockly);
  }
  return url_retrievals;
};

/**
 * Opens a dialog box to present the user with the datasets available
 * through the CORGIS server. This requires a call, so this method
 * completes asynchronously. The dialog is composed of a table with
 * buttons to load the datasets (More than one dataset can be loaded
 * from within the dialog at a time).
 */
BlockPyCorgis.prototype.openDialog = function () {
  var _this3 = this;
  if (this.main.model.ui.server.isEndpointConnected("importDatasets")) {
    var root = this.main.model.configuration.urls.importDatasets;
    $.getJSON(root + "index.json", function (data) {
      // Make up the Body
      var datasets = data.blockpy;
      var documentation = root + "blockpy/index.html";
      var start = $("<p>Documentation is available at <a href='".concat(documentation, "' target=_blank>url</a></p>"));
      var body = $("<table></table>", {
        "class": "table table-bordered table-sm table-striped"
      });
      Object.keys(datasets).sort().map(function (name) {
        var sluggedName = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.slug)(datasets[name].name);
        var titleName = name;
        var btn = $('<button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off">Load</button>');
        var imgSrc = root + "../images/datasets/" + name + "-icon.png";
        if (_this3.loadedDatasets.indexOf(sluggedName) > -1) {
          setButtonLoaded(btn);
        } else {
          btn.click(function () {
            _this3.importDataset(sluggedName, "Data - " + datasets[name].title);
            setButtonLoaded(btn);
          });
        }
        //let img = `<img src='${imgSrc}' class="corgis-icon">`;
        $("<tr></tr>")
        //.append($("<td>" + img + "</td>"))
        .append($("<td>" + datasets[name].title + "</td>")).append($("<td>" + datasets[name].overview + "</td>")).append($("<td></td>").append(btn)).appendTo(body);
      });
      body.appendTo(start);
      // Show the actual dialog
      _this3.main.components.dialog.show("Import Datasets", start, null);
    });
  }
};

/***/ }),

/***/ "./src/css/blockpy.css":
/*!*****************************!*\
  !*** ./src/css/blockpy.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/css/bootstrap_retheme.css":
/*!***************************************!*\
  !*** ./src/css/bootstrap_retheme.css ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/dialog.js":
/*!***********************!*\
  !*** ./src/dialog.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyDialog: () => (/* binding */ BlockPyDialog),
/* harmony export */   DIALOG_HTML: () => (/* binding */ DIALOG_HTML)
/* harmony export */ });
// TODO: Dyanmically populate aria-labelledby in this and other places

var DIALOG_HTML = "\n    <div class='blockpy-dialog modal hidden'\n         role=\"dialog\"\n         aria-label='Dialog'\n         aria-hidden=\"true\"\n         aria-modal=\"true\">\n        <div class='modal-dialog modal-lg' role=\"document\">\n            <div class='modal-content' role='region' aria-label='Dialog content'>\n                <div class='modal-header'>\n                    <h4 class='modal-title'>Dynamic Content</h4>\n                    <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class='modal-body' style='max-width:100%; max-height:400px'>\n                </div>\n                <div class='modal-footer'>\n                    <button type='button' class='btn btn-white modal-close' data-dismiss='modal'>Close</button>\n                    <button type='button' class='btn btn-success modal-okay' data-dismiss='modal'>Okay</button>\n                </div>    \n            </div>\n        </div>\n    </div>\n";

/**
 * A utility object for quickly and conveniently generating dialog boxes.
 * Unfortunately, this doesn't dynamically create new boxes; it reuses the same one
 * over and over again. It turns out dynamically generating new dialog boxes
 * is a pain! So we can't stack them.
 *
 * @constructor
 * @this {BlockPyDialog}
 * @param {Object} main - The main BlockPy instance
 * @param {HTMLElement} tag - The HTML object this is attached to.
 */
function BlockPyDialog(main, tag) {
  var _this = this;
  this.main = main;
  this.tag = tag;
  this.titleTag = tag.find(".modal-title");
  this.bodyTag = tag.find(".modal-body");
  this.footerTag = tag.find(".modal-footer");
  this.okayButton = tag.find(".modal-okay");
  this.closeButton = tag.find(".modal-close");
  this.yes = function () {};
  this.no = function () {};
  this.okayButton.click(function () {
    _this.yes();
    _this.tag.modal("hide");
  });
  this.closeButton.click(function () {
    _this.no();
    //this.tag.modal("hide");
  });
}
BlockPyDialog.prototype.close = function () {
  this.tag.modal("hide");
};

/**
 * A simple externally available function for popping up a dialog
 * message. This menu will be draggable by its title.
 *
 * @param {String} title - The title of the message dialog. Can have HTML.
 * @param {String} body - The body of the message dialog. Can have HTML.
 * @param {function} onclose - A function to be run when the user closes the dialog.
 */
BlockPyDialog.prototype.show = function (title, body, onclose) {
  this.titleTag.html(title);
  this.bodyTag.html(body);
  this.tag.modal("show");
  this.okayButton.hide();
  this.tag.draggable({
    "handle": ".modal-title"
  });
  this.tag.on("hidden.bs.modal", function (e) {
    if (onclose !== undefined && onclose !== null) {
      onclose();
    }
  });
};
BlockPyDialog.prototype.confirm = function (title, body, yes, no, yesText) {
  if (yesText === undefined) {
    yesText = "Okay";
  }
  this.show(title, body, no);
  this.yes = yes;
  this.no = no;
  this.okayButton.show().html(yesText);
  // TODO: add okay button and cancel button
};
BlockPyDialog.prototype.ASSIGNMENT_VERSION_CHANGED = function () {
  this.confirm("Assignment Changed", "Your instructor has made changes to this assignment. Would you like to reload? All your work has been saved.");
};
BlockPyDialog.prototype.ERROR_LOADING_ASSIGNMNENT = function (reason) {
  this.show("Error Loading Assignment", "BlockPy encountered an error while loading the assignment.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_LISTING_UPLOADED_FILES = function (reason) {
  this.show("Error Listing Uploaded Files", "BlockPy encountered an error while listing the uploaded files.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_UPLOADING_FILE = function (reason, context) {
  this.show("Error Uploaded File", "BlockPy encountered an error while uploading the file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "\n{context}</pre>"));
};
BlockPyDialog.prototype.ERROR_DOWNLOADING_FILE = function (reason) {
  this.show("Error Downloading File", "BlockPy encountered an error while downloading a file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_RENAMING_FILE = function (reason) {
  this.show("Error Renaming File", "BlockPy encountered an error while renaming a file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_DELETING_FILE = function (reason) {
  this.show("Error Deleting File", "BlockPy encountered an error while deleting a file.<br>\nPlease try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_SAVING_ASSIGNMNENT = function (reason) {
  this.show("Error Saving Assignment", "BlockPy encountered an error while saving the assignment.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(reason, "</pre>"));
};
BlockPyDialog.prototype.ERROR_SHOW_STUDENT_ERROR = function (error) {
  this.show("Original Error", "When I ran your code, I encountered an error:\n\n<div class=\"blockpy-dialog-student-error-message\">".concat(error, "</div>"));
};
BlockPyDialog.prototype.POSITIVE_FEEDBACK_FULL = function (title, message) {
  this.show(title, message);
};
BlockPyDialog.prototype.SCREENSHOT_BLOCKS = function () {
  // TODO
};
BlockPyDialog.prototype.ERROR_UPDATING_SUBMISSION_STATUS = function () {
  this.show("Error Updating Submission Status", "BlockPy encountered an error while updating your submission status.<br>\nPlease reload the page and try again.");
};
BlockPyDialog.prototype.ERROR_LOADING_HISTORY = function () {
  this.show("Error Loading History", "BlockPy encountered an error while loading your history.<br>\nPlease reload the page and try again.");
};
BlockPyDialog.prototype.OFFER_FORK = function () {
  var setupUrl = this.main.model.configuration.urls.instructionsAssignmentSetup;
  setupUrl = setupUrl ? " (<a href=\"".concat(setupUrl, "\" target=\"_blank\">How do I do that?</a>)") : "";
  this.show("Assignment Not Owned; Fork?", "\n    <div class=\"mb-4\">\n        It looks like you want to edit this assignment, but you are not an instructor\n    or designer in the course that owns it (\"Course Name\"). Would you like to fork\n    this assignment (or its entire group) so that you can save your modifications?\n    </div>\n    \n    <div class=\"mb-4\">\n        Remember to update the Launch URL in the assignments' settings on Canvas!".concat(setupUrl, "\n    </div>\n    \n    <div><button type='button' class='btn btn-white'>Fork entire assignment group</button></div>\n    <div><button type='button' class='btn btn-white'>Fork just this assignment</button></div>\n    <div><button type='button' class='btn btn-danger'>Reset my local changes</button></div>\n    \n    <div class=\"form-check\">\n        <input type=\"checkbox\" class=\"form-check-input\"\n                name=\"blockpy-transfer-submissions\">\n        <label class=\"form-check-label\" for=\"blockpy-transfer-submissions\">Transfer Student Submissions for this course</label>\n    </div>\n    \n    <div class=\"form-check\">\n    <label class=\"form-text\" for=\"blockpy-course-id\">New owning course id: </label>\n        <input type=\"text\" name=\"blockpy-course-id\" value=\"").concat(this.main.model.user.courseId(), "\">\n    </div>\n    "));
};
BlockPyDialog.prototype.EDIT_INPUTS = function () {
  var _this2 = this;
  var inputText = this.main.model.execution.input().join("\n");
  var clearInputs = this.main.model.display.clearInputs() ? "" : "checked";
  var yes = function yes() {
    var checked = _this2.tag.find(".blockpy-remember-inputs").prop("checked");
    var inputs = _this2.tag.find(".blockpy-input-list").val().split("\n");
    _this2.main.model.display.clearInputs(!checked);
    _this2.main.model.execution.input(inputs);
  };
  this.confirm("Edit Remembered Inputs", "\n\n<div class=\"form-check\">\n<input type=\"checkbox\" class=\"blockpy-remember-inputs form-check-input\"\n        name=\"blockpy-remember-inputs\" ".concat(clearInputs, ">\n<label class=\"form-check-label\" for=\"blockpy-remember-inputs\">Reuse inputs for next execution</label>\n</div>\n\n<textarea class=\"blockpy-input-list form-control\" rows=\"4\">").concat(inputText, "</textarea><br>\nEdit the inputs above to store and reuse them across multiple executions.\nEach input should be put on its own line.\nYou do not need quotes; the text will be entered literally.\n \n"), yes, this.no, "Save");
  // TODO: Allow user to specify the infinite string to keep giving when the others run out
};
BlockPyDialog.prototype.START_SHARE = function (url, wasPrompted) {
  var _this3 = this;
  var initialMessage = wasPrompted ? "\n    It looks like you are having some trouble with this problem, your code, or this feedback.\n    If you plan to reach out for help from the course staff, then we recommend you include this link\n    in your message. It will make it much easier for them to help you quickly. \n    " : "You can quickly share your code with instructors and TAs by providing them with this link:";
  this.show("Share Your Code", "\n    <div class=\"mb-4\">\n        ".concat(initialMessage, "\n    </div>\n    <div class=\"mb-4\">\n        <pre class=\"blockpy-copy-share-link-area\">").concat(url, "</pre>\n        <button type='button' class='btn btn-outline-secondary blockpy-copy-share-link'>Copy Link</button>\n    </div>\n    <div class=\"mb-4\">\n        Note that you CANNOT share this link with other students, or access it yourself.\n        This is strictly for sharing with the course staff when something goes wrong or you need help with your code.\n    </div>\n    <div class=\"mb-4\">\n        The link is also available through this QR code. Do not share this QR code unless your instructor or TA asks you to.\n        <div class=\"blockpy-copy-share-qrcode\"></div>\n    </div>\n    "));
  this.tag.find(".blockpy-copy-share-link").on("click", function () {
    // Copy the URL to the clipboard
    navigator.clipboard.writeText(url).then(function () {
      _this3.tag.find(".blockpy-copy-share-link").html("Copied!");
    });
  });
  try {
    var qrcode = new QRCode(this.tag.find(".blockpy-copy-share-qrcode")[0], {
      text: url,
      width: 128,
      height: 128,
      colorDark: "#000000",
      colorLight: "#ffffff",
      correctLevel: QRCode.CorrectLevel.H
    });
  } catch (e) {
    console.warn("Error creating QR code", e);
    this.tag.find(".blockpy-copy-share-qrcode").html("QR code generation failed.");
  }
};
BlockPyDialog.prototype.VIEW_INSTRUCTOR_STDOUT = function () {
  var stdout = this.main.model.execution.instructor.stdout();
  var formatted = stdout.join("");
  var body = stdout.length > 0 ? "<pre class=\"blockpy-instructor-stdout\">".concat(formatted, "</pre>") : "The instructor script did not print anything to the console.";
  this.show("Instructor Stdout", "\n    <div class=\"mb-4\">\n        The instructor <code>on_run.py</code> script has printed the following output:\n    </div>\n    ".concat(body, "\n    "));
};

/***/ }),

/***/ "./src/editor/abstract_editor.js":
/*!***************************************!*\
  !*** ./src/editor/abstract_editor.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractEditor: () => (/* binding */ AbstractEditor),
/* harmony export */   downloadFile: () => (/* binding */ downloadFile),
/* harmony export */   sluggify: () => (/* binding */ sluggify),
/* harmony export */   uploadFile: () => (/* binding */ uploadFile)
/* harmony export */ });
/* harmony import */ var _editors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../editors */ "./src/editors.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }

function uploadFile(model, event) {
  var fileReader = new FileReader();
  var files = event.target.files;
  fileReader.onload = function (e) {
    return model.ui.editors.current().uploadFile(e);
  };
  fileReader.fileName = files[0].name;
  fileReader.readAsText(files[0]);
  event.target.value = "";
}
function sluggify(text) {
  return text.replace(/[^a-z0-9]/gi, "_").toLowerCase();
}
function downloadFile(model, event) {
  var _model$ui$editors$cur = model.ui.editors.current().downloadFile(),
    name = _model$ui$editors$cur.name,
    extension = _model$ui$editors$cur.extension,
    contents = _model$ui$editors$cur.contents,
    mimetype = _model$ui$editors$cur.mimetype;
  // Make safe
  name = sluggify(name);
  name = name + extension;
  // Make the data download as a file
  var blob = new Blob([contents], {
    type: mimetype
  });
  if (window.navigator.msSaveOrOpenBlob) {
    window.navigator.msSaveBlob(blob, name);
  } else {
    var temporaryDownloadLink = window.document.createElement("a");
    temporaryDownloadLink.href = window.URL.createObjectURL(blob);
    temporaryDownloadLink.download = name;
    document.body.appendChild(temporaryDownloadLink);
    temporaryDownloadLink.click();
    document.body.removeChild(temporaryDownloadLink);
  }
}
var AbstractEditor = /*#__PURE__*/function () {
  function AbstractEditor(main, tag) {
    _classCallCheck(this, AbstractEditor);
    this.main = main;
    this.tag = tag;
    this.fileSystem = main.components.fileSystem;
    this.filename = null;
    this.file = null;
  }
  return _createClass(AbstractEditor, [{
    key: "deleteFile",
    value: function deleteFile() {
      this.fileSystem.deleteFile(this.filename);
      this.main.model.display.filename("answer.py");
      this.main.components.editors.changeEditor("answer.py");
    }
  }, {
    key: "onFileDeleted",
    value: function onFileDeleted() {
      // TODO: Switch to the previous file instead of a default file
      this.main.model.display.filename("answer.py");
      this.main.components.editors.changeEditor("answer.py");
    }
  }, {
    key: "onFileUpdated",
    value: function onFileUpdated(file) {
      if (file.filename === this.filename) {
        //this.file = file;
        this.main.components.editors.changeEditor(this.filename);
        //this.fileSystem.stopWatchingFile(this.filename);
        //this.trackCurrentFile();
      }
    }
  }, {
    key: "trackCurrentFile",
    value: function trackCurrentFile() {
      this.fileSystem.watchFile(this.filename, {
        updated: this.onFileUpdated.bind(this),
        deleted: this.onFileDeleted.bind(this)
      });
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      this.filename = newFilename;
      this.file = this.fileSystem.getFile(newFilename);
      this.trackCurrentFile();
    }

    /**
     *
     * @param newFilename - the filename that the other editor will be switching to
     * @param oldEditor
     * @param newEditor
     */
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      this.fileSystem.stopWatchingFile(this.filename);
      this.file = null;
      this.filename = null;
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var filename = event.target.fileName;
      var contents = event.target.result;
      this.file.handle(contents);
    }
  }, {
    key: "downloadFile",
    value: function downloadFile() {
      var filename = _editors__WEBPACK_IMPORTED_MODULE_0__.Editors.parseFilename(this.filename);
      return {
        name: filename.name,
        extension: filename.type,
        contents: this.file.handle(),
        mimetype: "text/plain"
      };
    }
  }]);
}();

/***/ }),

/***/ "./src/editor/assignment_settings.js":
/*!*******************************************!*\
  !*** ./src/editor/assignment_settings.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ASSIGNMENT_SETTINGS_EDITOR_HTML: () => (/* binding */ ASSIGNMENT_SETTINGS_EDITOR_HTML),
/* harmony export */   AssigmentType: () => (/* binding */ AssigmentType),
/* harmony export */   AssignmentSettings: () => (/* binding */ AssignmentSettings),
/* harmony export */   loadAssignmentSettings: () => (/* binding */ loadAssignmentSettings),
/* harmony export */   makeAssignmentSettingsModel: () => (/* binding */ makeAssignmentSettingsModel),
/* harmony export */   saveAssignmentSettings: () => (/* binding */ saveAssignmentSettings)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _python__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./python */ "./src/editor/python.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var ASSIGNMENT_SETTINGS = [["toolbox", "toolbox", "normal", "toolbox", "Which version of the toolbox to present to the user."], ["type", "type", "blockpy", "type", "The type of question; BlockPy programming problems are the default, but we also support static readings, quiz questions, and a Maze game."], ["passcode", "passcode", "", "string", "A string that the user must enter to access the problem. If blank, then no passcode is prompted."],
//["toolboxLevel", "toolbox_level", "normal", "toolbox", "INCOMPLETE: What level of toolbox to present to the user (hiding and showing categories)."],
["startView", "start_view", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.TEXT, _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes, "The Python editor mode to start in when the student starts the problem."], ["datasets", "datasets", "", "string", "The current list of datasets available on load as a comma-separated string."], ["disableTimeout", "disable_timeout", false, "bool", "If checked, then students code is allowed to run without timeouts (potentially allowing infinite loops)."], ["partId", "part_id", "", "string", "The Part ID of an Assignment that this editor is responsible for. Assignments can have regions (\"Parts\") that behave independently to the user but all correspond to the same assignment on the backend. Blank corresponds to the full document. Note that most assignment settings will apply UNIVERSALLY across all parts, including the on_run.py and the other settings on this page."], ["isParsons", "is_parsons", false, "bool", "If checked, then this is a parson's style question (jumbled)."], ["saveTurtleOutput", "save_turtle_output", false, "bool", "If checked, then turtle (and pygame) output is saved whenever the program uses it."], ["disableFeedback", "disable_feedback", false, "bool", "If checked, then no instructor scripts are run (e.g., on_run and on_eval)."], ["disableInstructorRun", "disable_instructor_run", false, "bool", "If checked, then the instructor on_run will not automatically run the students' code. This still runs the students' code once beforehand, but the output/data will not be available to the instructor's on_run.py script."], ["disableStudentRun", "disable_student_run", false, "bool", "If checked, then the run button no longer run the students' code. This still runs the instructor's feedback on_run script."], ["disableTifa", "disable_tifa", false, "bool", "If checked, then do not automatically run Tifa (which can be slow)."], ["disableTrace", "disable_trace", false, "bool", "If checked, then the students code will not have its execution traced (no variables recorded, no coverage tracked)."], ["disableEdit", "disable_edit", false, "bool", "If checked, then the students' file will not be editable."], ["preloadAllFiles", "preload_all_files", false, "bool", "If checked, then the students can upload and use images and other files. This preloads all available files and images. You can filter them using the Preloaded Files setting."], ["enableImages", "can_image", false, "bool", "If checked, then users can copy/paste images directly into the text editor."], ["enableBlocks", "can_blocks", true, "bool", "If checked, then the student can edit the block interface (if not, then it is visible but not editable)."], ["canClose", "can_close", false, "bool", "If checked, then the student should mark their submission closed when they are done. There is no way to force a student to do so. Unlike Reviewed, this still submits the correctness."], ["onlyInteractive", "only_interactive", false, "bool", "If checked, the editors are hidden, the program is automatically run, and then the console enters Eval mode (interactive)."], ["onlyUploads", "only_uploads", false, "bool", "If checked, then the students' file will not be directly editable (they will have to upload submissions)."],
// What menus/feedback to show and hide
["hideSubmission", "hide_submission", false, "bool", "If checked, then students will not be able to see their submission's code or history on Canvas."], ["hideFiles", "hide_files", true, "bool", "If checked, then students will not see the View Files toolbar."], ["hideQueuedInputs", "hide_queued_inputs", false, "bool", "If checked, then the students cannot access the queued inputs box (makes repeated debugging easier for the input function)."], ["hideEditors", "hide_editors", false, "bool", "If checked, then all of the editors are hidden."], ["hideMiddlePanel", "hide_middle_panel", false, "bool", "If checked, then the console and feedback areas is hidden."], ["hideAll", "hide_all", false, "bool", "INCOMPLETE: If checked, then the entire interface is hidden."], ["hideEvaluate", "hide_evaluate", false, "bool", "If checked, then the Evaluate button is not shown on the console."], ["hideImportDatasetsButton", "hide_import_datasets_button", false, "bool", "If checked, then students cannot see the import datasets button."],
// TODO: Fix this one to be settable
["hideImportStatements", "hide_import_statements", false, "bool", "INCOMPLETE: If checked, certain kinds of import statements (matplotlib, turtle, datasets) are not shown in the block interface."], ["hideCoverageButton", "hide_coverage_button", false, "bool", "INCOMPLETE: If checked, the coverage button is not shown."], ["hideTraceButton", "hide_trace_button", false, "bool", "If checked, then the Trace button is not shown."], ["smallLayout", "small_layout", false, "bool", "If checked, then the interface fits into a smaller region."], ["hasClock", "has_clock", false, "bool", "If checked, then a clock is shown in the top right corner."], ["preloadFiles", "preload_files", "", "string", "A JSON structure representing the files that should be loaded on start from the remote, as if they were local."], ["instructionsPool", "instructions_pool", false, "bool", "If checked, then the instructions will be interpreted as being from a pool. One of the prompts will be chosen from the pool based on the random seed."]];
var AssigmentType = {
  BLOCKPY: "blockpy",
  MAZE: "maze",
  QUIZ: "quiz",
  READING: "reading"
};
function getDocumentation(name) {
  for (var i = 0; i < ASSIGNMENT_SETTINGS.length; i++) {
    if (ASSIGNMENT_SETTINGS[i][0] === name) {
      return ASSIGNMENT_SETTINGS[i][4];
    }
  }
  return "Documentation not found for field";
}
function makeStartViewTab(name, icon, mode) {
  return "<label class=\"btn btn-outline-secondary blockpy-mode-set-blocks\"\n                data-bind=\"css: {active: assignment.settings.startView() === '".concat(mode, "'},\n                           click: assignment.settings.startView.bind($data, '").concat(mode, "')\">\n                <span class='fas fa-").concat(icon, "'></span>\n                <input type=\"radio\" name=\"blockpy-start-view-set\" autocomplete=\"off\" checked> ").concat(name, "\n            </label>");
}
var ASSIGNMENT_SETTINGS_BOOLEAN_COMPONENTS_HTML = ASSIGNMENT_SETTINGS
// Only handle the simple booleans this way
.filter(function (setting) {
  return setting[3] === "bool";
}).map(function (setting) {
  var prettyName = setting[1].split("_").map(function (word) {
    return word.charAt(0).toUpperCase() + word.slice(1);
  }).join(" ");
  return "\n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-".concat(setting[0], "\">").concat(prettyName, "</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-").concat(setting[0], "\"\n                    data-bind=\"checked: assignment.settings.").concat(setting[0], "\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    ").concat(setting[4], "\n                </small>\n            </div>\n        </div>\n        ");
}).join("\n\n");
var ASSIGNMENT_SETTINGS_EDITOR_HTML = "\n    <div class=\"blockpy-view-settings\">\n    \n    <form>\n\n        <div class=\"form-group row\">\n            <div class=\"col-sm-12 mx-auto\">\n                <button type=\"button\" class=\"btn btn-success\"\n                    data-bind=\"click: ui.editors.settings.save\">Save changes</button>\n            </div>\n        </div>\n    \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-name\" class=\"col-sm-2 col-form-label text-right\">Name:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-name\"\n                data-bind=\"value: assignment.name\">\n                <small class=\"form-text text-muted\">\n                    The student-facing name of the assignment. Assignments within a group are ordered alphabetically\n                    by their name, so you may want to use a naming scheme like \"#43.5) Whatever\".\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-url\" class=\"col-sm-2 col-form-label text-right\">URL:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-url\"\n                data-bind=\"value: assignment.url\">\n                <small class=\"form-text text-muted\">\n                    The course-unique URL that can be used to consistently refer to this assignment. \n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-public\">Public:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-public\"\n                    data-bind=\"checked: assignment.public\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If not public, users outside of the course will not be able to see the assignment in course listings.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-hidden\">Hidden:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-hidden\"\n                    data-bind=\"checked: assignment.hidden\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If hidden, students will not be able to see their grade while working on the assignment.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-reviewed\">Reviewed:</label>\n            </div>\n            <div class=\"col-sm-1\">\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"blockpy-settings-reviewed\"\n                    data-bind=\"checked: assignment.reviewed\">\n                </div>  \n            </div>            \n            <div class=\"col-sm-9\">\n                <small class=\"form-text text-muted\">\n                    If reviewed, the assignment need to be commented upon and regraded by the staff after submission.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-points\" class=\"col-sm-2 col-form-label text-right\">Points:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"number\" class=\"form-control\" id=\"blockpy-settings-points\"\n                data-bind=\"value: assignment.points\">\n                <small class=\"form-text text-muted\">\n                    The number of points this assignment is worth; defaults to 1 point. \n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-check-label\" for=\"blockpy-settings-reviewed\">Starting View:</label>\n            </div>\n            <div class=\"col-sm-3\">\n                <div class=\"btn-group btn-group-toggle mr-2\" data-toggle=\"buttons\">\n                    ".concat(makeStartViewTab("Blocks", "th-large", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.BLOCK), "\n                    ").concat(makeStartViewTab("Split", "columns", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.SPLIT), "\n                    ").concat(makeStartViewTab("Text", "align-left", _python__WEBPACK_IMPORTED_MODULE_1__.DisplayModes.TEXT), "\n                 </div>\n            </div>            \n            <div class=\"col-sm-7\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("startView"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-ip-ranges\" class=\"col-sm-2 col-form-label text-right\">IP Ranges:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-ip-ranges\"\n                data-bind=\"value: assignment.ipRanges\">\n                <small class=\"form-text text-muted\">\n                    Provide a comma-separated list of IP Addresses that will be explicitly allowed. If blank,\n                    then all addresses are allowed. If an address starts with <code>^</code> then it it is explicitly\n                    blacklisted, but that can be overridden in turn with a <code>!</code>. Addresses can also\n                    include a bit mask to allow a range of addresses.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-passcode\" class=\"col-sm-2 col-form-label text-right\">Passcode:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-passcode\"\n                data-bind=\"value: assignment.settings.passcode\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("passcode"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-datasets\" class=\"col-sm-2 col-form-label text-right\">Preloaded Datasets:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-datasets\"\n                data-bind=\"value: assignment.settings.datasets\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("datasets"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-preload-files\" class=\"col-sm-2 col-form-label text-right\">Preloaded Files:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-preload-files\"\n                data-bind=\"value: assignment.settings.preloadFiles\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("preloadFiles"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-toolbox\" class=\"col-sm-2 col-form-label text-right\">Block Toolbox:</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" id=\"blockpy-settings-toolbox\"\n                       data-bind=\"value: assignment.settings.toolbox\">\n                   <option value=\"normal\">Normal Toolbox</option>\n                   <option value=\"ct\">CT@VT Toolbox</option>\n                   <option value=\"ct2\">CT@VT Toolbox V2</option>\n                   <option value=\"minimal\">Minimal Set</option>\n                   <option value=\"full\">All Blocks</option>\n                   <option value=\"custom\">Custom</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("toolbox"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-type\" class=\"col-sm-2 col-form-label text-right\">Problem Type:</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" id=\"blockpy-settings-type\"\n                       data-bind=\"value: assignment.type\">\n                   <option value=\"blockpy\">BlockPy</option>\n                   <option value=\"maze\">Maze</option>\n                   <option value=\"quiz\">Quiz Question</option>\n                   <option value=\"reading\">Reading</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("type"), "\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <label for=\"blockpy-settings-part-id\" class=\"col-sm-2 col-form-label text-right\">Part ID:</label>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"blockpy-settings-part-id\"\n                data-bind=\"value: configuration.partId\">\n                <small class=\"form-text text-muted\">\n                    ").concat(getDocumentation("partId"), "\n                </small>\n            </div>\n        </div>\n        \n        ").concat(ASSIGNMENT_SETTINGS_BOOLEAN_COMPONENTS_HTML, "\n    </form>\n    \n    </div>\n");
function saveAssignmentSettings(model) {
  var settings = {};
  ASSIGNMENT_SETTINGS.forEach(function (setting) {
    var clientName = setting[0],
      serverName = setting[1],
      defaultValue = setting[2];
    var value = model.assignment.settings[clientName]();
    // Only store this setting if its different from the default
    if (value !== defaultValue) {
      settings[serverName] = value;
    }
  });
  return JSON.stringify(settings);
}
function loadAssignmentSettings(model, settings) {
  if (settings) {
    settings = JSON.parse(settings);
    ASSIGNMENT_SETTINGS.forEach(function (setting) {
      var clientName = setting[0],
        serverName = setting[1];
      if (serverName in settings) {
        model.assignment.settings[clientName](settings[serverName]);
      } else {
        model.assignment.settings[clientName](setting[2]);
      }
    });
    if (settings.start_view) {
      model.display.pythonMode(settings.start_view);
    }
  }
}
function makeAssignmentSettingsModel(configuration) {
  console.log(configuration);
  var settings = {};
  ASSIGNMENT_SETTINGS.forEach(function (setting) {
    var clientName = setting[0],
      serverName = setting[1],
      defaultValue = setting[2],
      fieldType = setting[3];
    if (configuration["assignment.settings." + serverName] === undefined) {
      settings[clientName] = ko.observable(defaultValue);
    } else {
      var configValue = configuration["assignment.settings." + serverName];
      if (fieldType === "bool") {
        configValue = configValue.toString().toLowerCase() === "true";
      }
      settings[clientName] = ko.observable(configValue);
    }
  });
  return settings;
}
var AssignmentSettingsView = /*#__PURE__*/function (_AbstractEditor) {
  function AssignmentSettingsView(main, tag) {
    var _this;
    _classCallCheck(this, AssignmentSettingsView);
    _this = _callSuper(this, AssignmentSettingsView, [main, tag]);
    _this.dirty = false;
    return _this;
  }
  _inherits(AssignmentSettingsView, _AbstractEditor);
  return _createClass(AssignmentSettingsView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(AssignmentSettingsView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      //TODO: this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      // this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);

      //TODO: this.codeMirror.on("change", this.currentListener);
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        // TODO: Do update

        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        //this.file.handle(this.codeMirror.value());
        // TODO: Update
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      //this.currentSubscription.dispose();
      // TODO: update
      //this.codeMirror.off("change", this.currentListener);
      _superPropGet(AssignmentSettingsView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var AssignmentSettings = {
  name: "Assignment Settings",
  extensions: ["!assignment_settings.blockpy"],
  constructor: AssignmentSettingsView,
  template: ASSIGNMENT_SETTINGS_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/default_header.js":
/*!**************************************!*\
  !*** ./src/editor/default_header.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   default_header: () => (/* binding */ default_header)
/* harmony export */ });
var default_header = "\n<div class=\"blockpy-python-toolbar col-md-12 btn-toolbar\"\n     role=\"toolbar\" aria-label=\"Python Toolbar\">\n     <div class=\"btn-group mr-2\">\n        <label class=\"btn btn-outline-secondary\">\n            <span class=\"fas fa-file-upload\"></span> Upload\n            <input class=\"blockpy-toolbar-upload\" type=\"file\"\n                hidden\n                data-bind=\"event: {change: ui.editors.upload}\">\n         </label>\n\n        <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n            data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            <span class=\"caret\"></span>\n            <span class=\"sr-only\">Toggle Dropdown</span>\n        </button>\n        \n        <div class=\"dropdown-menu dropdown-menu-right\">\n            <a class='dropdown-item blockpy-toolbar-download'\n                data-bind=\"click: ui.editors.download\">\n            <span class='fas fa-download'></span> Download\n            </a>\n        </div>\n    </div>\n    \n    <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Delete Group\"\n        data-bind=\"visible: ui.editors.canDelete\">\n        <button type=\"button\" class=\"btn btn-outline-secondary\",\n            data-bind=\"click: ui.files.delete\">\n            <span class=\"fas fa-trash\"></span> Delete\n         </button>\n     </div>\n </div>\n";

/***/ }),

/***/ "./src/editor/images.js":
/*!******************************!*\
  !*** ./src/editor/images.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IMAGE_EDITOR_HTML: () => (/* binding */ IMAGE_EDITOR_HTML),
/* harmony export */   ImageEditor: () => (/* binding */ ImageEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var filepond__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! filepond */ "filepond");
/* harmony import */ var filepond__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(filepond__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var IMAGE_EDITOR_HTML = "\n     <div>\n        <strong>Available Files</strong><br>\n            All the files available to open with <code>PIL</code> for this assignment:\n            <button data-bind=\"click: ui.editors.images.reloadImages\"\n                class=\"btn btn-outline-secondary float-right\"\n            >Reload Available Images</button>\n        <!-- ko if: display.uploadedFiles() !== null -->\n            <ul>\n                <!-- ko foreach: { data: Object.keys(display.uploadedFiles()), as: 'placement' } -->\n                <li>\n                    <strong data-bind=\"text: $data[0].toUpperCase() + $data.slice(1)\"></strong>:\n                    <table class=\"table table-striped table-bordered table-hover table-sm\">\n                        <thead>\n                            <tr>\n                                <th>Filename</th>\n                                <th>Preview</th>\n                                <th>Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                    <!-- ko foreach: { data: $root.display.uploadedFiles()[placement], as: 'filename' } -->\n                        <tr>\n                            <td>\n                                <code data-bind=\"text: filename[0]\"></code>\n                            </td>\n                            <td>\n                                <details>\n                                    <summary><img data-bind=\"attr: { src: filename[1], alt: filename[1] }\"\n                                        width=\"30px\" height=\"30px\" onerror=\"this.style.display='none'\"/>\n                                    </summary>\n                                    <img data-bind=\"attr: { src: filename[1], alt: filename[1] }\"\n                                        onerror=\"this.style.display='none'\"/>\n                                </details>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-danger\" \n                                    data-bind=\"click: $root.ui.editors.images.deleteFile.bind(filename[0]),\n                                               visible: $root.ui.editors.images.canModify(placement)\">Delete</button>\n                                <button class=\"btn btn-danger\" \n                                    data-bind=\"click: $root.ui.editors.images.renameFile.bind(filename[0]),\n                                               visible: $root.ui.editors.images.canModify(placement)\">Rename</button>\n                            </td>\n                        </tr>\n                    <!-- /ko -->\n                    </table>\n                </li>\n                <!-- /ko -->\n            </ul>\n        <!-- /ko -->\n        \n        <strong>Add more files</strong><br>\n        Upload more files using the forms below:\n                \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-label\" for=\"blockpy-editor-images-upload-file\">File:</label>\n            </div>\n            <div class=\"col-sm-10\">\n                <input type=\"file\" class=\"form-control blockpy-editor-images-upload-file\" id=\"blockpy-editor-images-upload-file\"\n            name=\"blockpy-editor-images-upload-file\">\n                <small class=\"form-text text-muted\">\n                    The file to make available in your code\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\" data-bind=\"visible: ui.editors.images.canChoosePlacement()\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-label\" for=\"blockpy-editor-images-upload-placement\">Placement:</label>\n            </div>\n            <div class=\"col-sm-10\">\n                <select id=\"blockpy-editor-images-upload-placement\" name=\"blockpy-editor-images-upload-placement\"\n                    class=\"form-control blockpy-editor-images-upload-placement\">\n                    <option value=\"submission\" selected>Only your submission</option>\n                    <option value=\"assignment\">For all submissions of this assignment</option>\n                    <option value=\"course\">Across the entire course</option>\n                    <option value=\"user\">For just your user account</option>\n                </select>\n                <small class=\"form-text text-muted\">\n                    The placement of the file in the system. This controls whether other users can see the file.\n                    If you want to provide a file to all students for just this specific problem, then you should\n                    use <code>For all submissions of this assignment</code>. If you want to use this same image\n                    across other assignments (including assignments within this assignment group), then you should\n                    use <code>Across the entire course</code>.\n                </small>\n            </div>\n        </div>\n        \n        <div class=\"form-group row\">\n            <div class=\"col-sm-2 text-right\">\n                <label class=\"form-label\" for=\"blockpy-editor-images-upload-filename\">Filename:</label>\n            </div>\n            <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control blockpy-editor-images-upload-filename\" id=\"blockpy-editor-images-upload-filename\"\n                             name=\"blockpy-editor-images-upload-filename\">\n                <small class=\"form-text text-muted\">\n                    The filename that will be made available in the code. This should be a valid filename for the\n                    system, and should not contain spaces or special characters. It should also have a valid file\n                    extension (e.g., <code>.png</code>, <code>.jpg</code>, <code>.txt</code>).\n                </small>\n            </div>\n        </div>\n        <div class=\"form-group row\">\n            <button data-bind=\"click: ui.editors.images.uploadFile\" class=\"btn btn-success\">Upload</button>\n        </div>\n    </div>\n";
var ImageEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function ImageEditorView(main, tag) {
    var _this;
    _classCallCheck(this, ImageEditorView);
    _this = _callSuper(this, ImageEditorView, [main, tag]);
    _this.tagUploadFileButton = _this.tag.find(".blockpy-editor-images-upload-file");
    _this.tagUploadFilePlacement = _this.tag.find(".blockpy-editor-images-upload-placement");
    _this.tagUploadFileName = _this.tag.find(".blockpy-editor-images-upload-filename");
    _this.tagUploadFileButton.on("change", function (event) {
      _this.tagUploadFileName.val(event.target.files[0].name);
    });
    return _this;
  }
  _inherits(ImageEditorView, _AbstractEditor);
  return _createClass(ImageEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(ImageEditorView, "enter", this, 3)([newFilename, oldEditor]);
      var uploadedFiles = this.main.model.display.uploadedFiles();
      if (uploadedFiles === null) {
        this.reloadImages();
      }
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));

      // const target = this.tag.find(".blockpy-editor-images-filepond")[0];
      //console.log(target);
      /*const uploadUrl = new URL(this.main.model.configuration.urls["uploadFile"]);
      uploadUrl.searchParams.set("directory", this.main.model.assignment.id());
      uploadUrl.searchParams.set("placement", "submission");*/
      // this.filepond = FilePond.create(target, {
      //     //files: [],
      //     allowMultiple: true,
      //     server: {
      //         url: this.main.model.configuration.urls["downloadFile"],
      //         load: (source, load) => {
      //             const params = new URL(source, window.location.origin).searchParams;
      //             this.main.components.server.downloadFile(
      //                 params.get("placement"),
      //                 params.get("directory"),
      //                 params.get("filename"),
      //                 (response) => {
      //                     load(new File([response], params.get("filename")));
      //                 }
      //             );
      //             console.log(source, load);
      //         },
      //         process: {
      //             url: this.main.model.configuration.urls["uploadFile"],
      //             // url: "blockpy/upload_file?placement=assignment&directory="+this.main.model.assignment.id(),
      //         }
      //     }
      // });
      // console.log(this.filepond);
      /*
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
        // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);*/
    }
  }, {
    key: "reloadImages",
    value: function reloadImages() {
      var _this2 = this;
      this.main.components.server.listUploadedFiles(function (response) {
        if (response.success) {
          _this2.main.model.display.uploadedFiles(response.files);
          _this2.main.components.fileSystem.loadRemoteFiles(response.files);
          // const allFiles = [];
          // Object.entries(response.files).forEach(([group, files]) => {
          //     files.forEach(([filename, url]) => allFiles.push({
          //         source: url,
          //         options: {
          //             type: "local"
          //         }
          //     }));
          // });
          // this.filepond.addFiles(allFiles);
        } else {
          _this2.main.components.dialog.ERROR_LISTING_UPLOADED_FILES(response.message);
        }
      });
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {}
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      /*this.dirty = !this.dirty;
      if (this.dirty) {
          this.dirty = true;
          this.file.handle(this.codeMirror.getValue());
          this.dirty = false;
      }*/
    }
  }, {
    key: "getPlacementDirectory",
    value: function getPlacementDirectory(placement) {
      switch (placement) {
        case "submission":
          return this.main.model.submission.id();
        case "assignment":
          return this.main.model.assignment.id();
        case "course":
          return this.main.model.course.id();
        case "user":
          return this.main.model.user.id();
        default:
          return null;
      }
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var _this3 = this;
      this.main.components.server.uploadFile(this.tagUploadFilePlacement.val(), this.getPlacementDirectory(this.tagUploadFilePlacement.val()), this.tagUploadFileName.val(), this.tagUploadFileButton[0].files[0], function (response) {
        if (response.success) {
          _this3.reloadImages();
        } else {
          _this3.main.components.dialog.ERROR_UPLOADING_FILE(response.message);
        }
      });
    }
  }, {
    key: "deleteFile",
    value: function deleteFile(fileInfo) {
      var _this4 = this;
      var _fileInfo = _slicedToArray(fileInfo, 2),
        filename = _fileInfo[0],
        url = _fileInfo[1];
      var queryParams = new URL(url, window.location.origin).searchParams;
      this.main.components.server.uploadFile(queryParams.get("placement"), queryParams.get("directory"), filename, "", function (response) {
        if (response.success) {
          _this4.reloadImages();
        } else {
          _this4.main.components.dialog.ERROR_DELETING_FILE(response.message);
        }
      }, true);
    }
  }, {
    key: "renameFile",
    value: function renameFile(fileInfo) {
      var _this5 = this;
      var _fileInfo2 = _slicedToArray(fileInfo, 2),
        filename = _fileInfo2[0],
        url = _fileInfo2[1];
      var queryParams = new URL(url, window.location.origin).searchParams;
      var newFilename = prompt("Enter the new filename for this file:", filename);
      if (newFilename) {
        this.main.components.server.renameFile(queryParams.get("placement"), queryParams.get("directory"), filename, newFilename, function (response) {
          if (response.success) {
            _this5.reloadImages();
          } else {
            _this5.main.components.dialog.ERROR_RENAMING_FILE(response.message);
          }
        });
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      _superPropGet(ImageEditorView, "exit", this, 3)([newFilename, oldEditor]);
      // if (this.filepond) {
      //     this.filepond.destroy();
      // }
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var ImageEditor = {
  name: "Image",
  extensions: ["images.blockpy"],
  constructor: ImageEditorView,
  template: IMAGE_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/json.js":
/*!****************************!*\
  !*** ./src/editor/json.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JSON_EDITOR_HTML: () => (/* binding */ JSON_EDITOR_HTML),
/* harmony export */   JsonEditor: () => (/* binding */ JsonEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _default_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default_header */ "./src/editor/default_header.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var JSON_EDITOR_HTML = "\n    ".concat(_default_header__WEBPACK_IMPORTED_MODULE_1__.default_header, "\n     <div>\n        <textarea class=\"blockpy-editor-json\"></textarea>\n    </div>\n");
var JsonEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function JsonEditorView(main, tag) {
    var _this;
    _classCallCheck(this, JsonEditorView);
    _this = _callSuper(this, JsonEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-json")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      mode: "json",
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(JsonEditorView, _AbstractEditor);
  return _createClass(JsonEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(JsonEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(JsonEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var JsonEditor = {
  name: "JSON",
  extensions: [".json"],
  constructor: JsonEditorView,
  template: JSON_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/markdown.js":
/*!********************************!*\
  !*** ./src/editor/markdown.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MARKDOWN_EDITOR_HTML: () => (/* binding */ MARKDOWN_EDITOR_HTML),
/* harmony export */   MarkdownEditor: () => (/* binding */ MarkdownEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _default_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default_header */ "./src/editor/default_header.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var MARKDOWN_EDITOR_HTML = "\n    ".concat(_default_header__WEBPACK_IMPORTED_MODULE_1__.default_header, "\n    <textarea class=\"blockpy-editor-markdown\"></textarea>    \n");
var MarkdownEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function MarkdownEditorView(main, tag) {
    var _this;
    _classCallCheck(this, MarkdownEditorView);
    _this = _callSuper(this, MarkdownEditorView, [main, tag]);
    _this.mde = new EasyMDE({
      element: tag.find(".blockpy-editor-markdown")[0],
      autoDownloadFontAwesome: false,
      forceSync: true,
      minHeight: "300px",
      //scrollbarStyle: "native",
      // TODO: imageUploadFunction
      renderingConfig: {
        codeSyntaxHighlighting: true
      },
      indentWithTabs: false,
      tabSize: 4
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(MarkdownEditorView, _AbstractEditor);
  return _createClass(MarkdownEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(MarkdownEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.mde.codemirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.mde.codemirror.refresh.bind(this.mde.codemirror), 1);
      }
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.mde.value(newContents);
        this.mde.codemirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.mde.value());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.mde.codemirror.off("change", this.currentListener);
      _superPropGet(MarkdownEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var MarkdownEditor = {
  name: "Markdown",
  extensions: [".md"],
  constructor: MarkdownEditorView,
  template: MARKDOWN_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/python.js":
/*!******************************!*\
  !*** ./src/editor/python.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayModes: () => (/* binding */ DisplayModes),
/* harmony export */   PYTHON_EDITOR_HTML: () => (/* binding */ PYTHON_EDITOR_HTML),
/* harmony export */   PythonEditor: () => (/* binding */ PythonEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../history */ "./src/history.js");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../interface */ "./src/interface.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
/**
 * TODO: rename files, manual save, tags, sample_submissions, on_eval, non-builtin files
 * TODO: import data, history, run, url_data, assignment_settings, parsons_mode
 * TODO: delete becomes "clear" for instructor files
 */

/**
 *
 * @enum {str}
 */



var DisplayModes = {
  BLOCK: "block",
  SPLIT: "split",
  TEXT: "text"
};
function makeTab(name, icon, mode) {
  return "<label class=\"btn btn-outline-secondary blockpy-mode-set-blocks\"\n                data-bind=\"css: {active: display.pythonMode() === '".concat(mode, "'},\n                           click: ui.editors.python.updateMode.bind($data, '").concat(mode, "')\">\n                <span class='fas fa-").concat(icon, "'></span>\n                <input type=\"radio\" name=\"blockpy-mode-set\" autocomplete=\"off\" checked> ").concat(name, "\n            </label>");
}
var PYTHON_EDITOR_HTML = "\n\n    <div class=\"blockpy-python-toolbar col-md-12 btn-toolbar\"\n         role=\"toolbar\" aria-label=\"Python Toolbar\">\n\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Run Group\">         \n            <button type=\"button\" class=\"btn blockpy-run notransition\"\n                data-bind=\"click: ui.execute.run,\n                            css: {'blockpy-run-running': ui.execute.isRunning}\">\n                <span class=\"fas fa-play\"></span> <span data-bind=\"text: ui.execute.runLabel\"></span>\n             </button>\n         </div>\n         \n         <div class=\"btn-group btn-group-toggle mr-2\" data-toggle=\"buttons\">\n            <!-- ko if: $root.assignment.settings.enableBlocks() -->\n            ".concat(makeTab("Blocks", "th-large", DisplayModes.BLOCK), "\n            ").concat(makeTab("Split", "columns", DisplayModes.SPLIT), "\n            ").concat(makeTab("Text", "align-left", DisplayModes.TEXT), "\n            <!-- /ko -->\n         </div>\n\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Reset Group\">\n             <button type=\"button\" class=\"btn btn-outline-secondary\"\n                 data-bind=\"click: ui.editors.reset\">\n                 <span class=\"fas fa-sync\"></span> Reset\n              </button>\n         </div>\n         \n         <!-- ko if: !assignment.settings.hideImportDatasetsButton() && !ui.smallLayout()-->\n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Import Group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                data-bind=\"click: ui.editors.importDataset\">\n                <span class=\"fas fa-cloud-download-alt\"></span> Import datasets\n             </button>\n         </div>\n         <!-- /ko -->\n         \n         <div class=\"btn-group mr-2\" data-bind=\"hidden: ui.smallLayout\">\n                <label class=\"btn btn-outline-secondary\">\n                    <span class=\"fas fa-file-upload\"></span> Upload\n                    <input class=\"blockpy-toolbar-upload\" type=\"file\"\n                        hidden\n                        data-bind=\"event: {change: ui.editors.upload}\">\n                 </label>\n\n                <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span class=\"caret\"></span>\n                    <span class=\"sr-only\">Toggle Dropdown</span>\n                </button>\n                \n                <div class=\"dropdown-menu dropdown-menu-right\">\n                    <a class='dropdown-item blockpy-toolbar-download'\n                        data-bind=\"click: ui.editors.download\">\n                    <span class='fas fa-download'></span> Download\n                    </a>\n                </div>\n            </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"History Group\" data-bind=\"hidden: ui.smallLayout\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                aria-pressed=\"false\"\n                data-bind=\"click: ui.editors.python.toggleHistoryMode,\n                           enable: ui.editors.python.isHistoryAvailable,\n                           css: { active: display.historyMode },\n                           attr: { 'aria-pressed': display.historyMode }\">\n                <span class=\"fas fa-history\"></span> History\n             </button>\n         </div>\n         \n         <!-- Fully functional, but a little too.. Invasive \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Fullscreen Group\"\n            data-bind=\"visible: display.pythonMode() === 'text'\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\n                data-bind=\"click: ui.editors.python.fullscreen\">\n                <span class=\"fas fa-expand-arrows-alt\"></span> Fullscreen\n             </button>\n         </div>\n         -->\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Save Group\"\n            data-bind=\"visible: ui.editors.canSave\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\">\n                <span class=\"fas fa-save\"></span> Save\n             </button>\n         </div>\n         \n         <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Delete Group\"\n            data-bind=\"visible: ui.editors.canDelete\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\",\n                data-bind=\"click: ui.files.delete\">\n                <span class=\"fas fa-trash\"></span> Delete\n             </button>\n         </div>\n         \n         <div class=\"btn-group mr-2\">\n                <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\"\n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span class=\"fas fa-ellipsis-v\"></span>\n                    <span class=\"sr-only\">Toggle Extra Features</span>\n                </button>\n                \n                <div class=\"dropdown-menu dropdown-menu-right\">\n                    <a class='dropdown-item blockpy-toolbar-run-quietly notransition' role=\"button\"\n                        href=\"\"\n                        data-bind=\"click: ui.execute.runQuietly,\n                                    css: {'blockpy-run-running': ui.execute.isRunning}\">\n                        <span class=\"fas fa-comment-slash\"></span> <span data-bind=\"text: ui.execute.runQuietlyLabel\"></span>\n                    </a>\n                </div>\n            </div>\n         \n         <!--<div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Rename Group\"\n            data-bind=\"visible: ui.editors.canRename\">\n             <button type=\"button\" class=\"btn btn-outline-secondary\">\n                <span class=\"fas fa-file-signature\"></span> Rename\n             </button>\n         </div>-->\n         \n    </div>\n    \n    ").concat(_history__WEBPACK_IMPORTED_MODULE_1__.HISTORY_TOOLBAR_HTML, "\n\n\n    <div class=\"blockpy-python-blockmirror\"\n        data-bind=\"hidden: ui.menu.isSubmitted\">\n    </div>\n");
function convertIpynbToPython(code) {
  var ipynb = JSON.parse(code);
  var isUsable = function isUsable(cell) {
    if (cell.cell_type === "code") {
      return cell.source.length > 0 && !cell.source[0].startsWith("%");
    } else {
      return cell.cell_type === "markdown" || cell.cell_type === "raw";
    }
  };
  var makePython = function makePython(cell) {
    if (cell.cell_type === "code") {
      return cell.source.join("\n");
    } else if (cell.cell_type === "markdown" || cell.cell_type === "raw") {
      return "'''" + cell.source.join("\n") + "'''";
    }
  };
  return ipynb.cells.filter(isUsable).map(makePython).join("\n");
}
var PythonEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function PythonEditorView(main, tag) {
    var _this;
    _classCallCheck(this, PythonEditorView);
    _this = _callSuper(this, PythonEditorView, [main, tag.find(".blockpy-python-blockmirror")]);
    Blockly.setParentContainer(main.model.configuration.container[0]);
    _this.bm = new BlockMirror({
      "container": _this.tag[0],
      "run": main.components.engine.run.bind(main.components.engine),
      "skipSkulpt": true,
      "blocklyMediaPath": main.model.configuration.blocklyPath,
      "toolbox": main.model.assignment.settings.toolbox(),
      "imageMode": true,
      imageDownloadHook: function imageDownloadHook(oldUrl) {
        return oldUrl;
      },
      imageUploadHook: function imageUploadHook(blob) {
        //const uuid = window.URL.createObjectURL(new Blob([])).substring(31);
        return new Promise(function (resolve, reject) {
          var submissionId = main.model.submission.id();
          main.components.server.uploadFile("submission", submissionId, blob.name, blob, function (response) {
            resolve(JSON.stringify(response.endpoint));
            //resolve(JSON.stringify(main.model.configuration.urls["downloadFile"] + `?placement=submission&directory=${submissionId}&filename=${blob.name}`));
          });
          //return Promise.resolve("Image("+JSON.stringify(URL.createObjectURL(blob))+")");
          //return Promise.resolve(JSON.stringify(URL.createObjectURL(blob)));
        });
      },
      imageLiteralHook: function imageLiteralHook(oldUrl) {
        //return `Image("${oldUrl}")`;
        return "\"".concat(oldUrl, "\"");
      }
      //'height': '2000px'
    });
    // TODO: Prevent INS and OVR mode (... this.bm.textEditor.codeMirror.

    _this.dirty = false;
    _this.readOnly = false;
    _this.makeSubscriptions();
    _this.lineErrorSubscription = null;
    _this.lineUncoveredSubscription = null;
    _this.lineTraceSubscription = null;
    _this.oldPythonMode = _this.main.model.display.pythonMode();
    _this.makePerAssignmentSubscriptions();
    return _this;
  }
  _inherits(PythonEditorView, _AbstractEditor);
  return _createClass(PythonEditorView, [{
    key: "configureExtraBlockly",
    value: function configureExtraBlockly() {
      var _this2 = this;
      this.bm.blockEditor.workspace.configureContextMenu = function (options) {
        options.push({
          enabled: true,
          text: "Screenshot",
          callback: function callback() {
            return _this2.main.components.dialog.SCREENSHOT_BLOCKS;
          }
        });
      };
    }
  }, {
    key: "handlePasteEvent",
    value: function handlePasteEvent(cm, event) {
      var characters = 0;
      try {
        var _characters = event.clipboardData.getData('Text').length;
      } catch (e) {
        console.error(e);
      }
      this.main.components.server.logEvent("X-Editor.Paste", "", "", JSON.stringify({
        characters: characters
      }), this.filename);
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      var _this3 = this;
      var oldFilename = this.filename;
      _superPropGet(PythonEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      if (newFilename !== "answer.py") {
        if (oldFilename === "answer.py") {
          this.oldPythonMode = this.main.model.display.pythonMode();
        }
        this.main.model.display.pythonMode(DisplayModes.TEXT);
      } else {
        this.main.model.display.pythonMode(this.oldPythonMode);
      }
      this.updateEditor(this.file.handle());

      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));

      // Notify relevant file of changes to BM
      this.currentBMListener = this.updateHandle.bind(this);
      this.bm.addChangeListener(this.currentBMListener);
      this.currentCMPasteListener = this.handlePasteEvent.bind(this);
      this.bm.textEditor.codeMirror.on("paste", this.currentCMPasteListener);
      if (newFilename !== "answer.py") {
        this.bm.isParsons = function () {
          return false;
        };
      } else {
        this.bm.isParsons = this.main.model.assignment.settings.isParsons;
        this.lineErrorSubscription = this.main.model.execution.feedback.linesError.subscribe(function (lines) {
          return _this3.bm.setHighlightedLines(lines, "editor-error-line");
        });
        this.lineUncoveredSubscription = this.main.model.execution.feedback.linesUncovered.subscribe(function (lines) {
          return _this3.bm.setHighlightedLines(lines, "editor-uncovered-line");
        });
        this.lineTraceSubscription = this.main.model.ui.trace.highlightedLine.subscribe(function (lines) {
          _this3.bm.clearHighlightedLines("editor-traced-line");
          _this3.bm.setHighlightedLines(lines, "editor-traced-line");
        });
      }

      //this.bm.blockEditor.workspace.render();
      //this.bm.refresh();
      // TODO: Figure out why this doesn't end up looking right (go to a different editor, come back, and it'll be squished)
      //this.bm.refresh();
      setTimeout(function () {
        return _this3.bm.refresh();
      }, 0);
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      if (newContents === undefined) {
        if (this.file !== null) {
          newContents = this.file.handle();
        } else {
          // Doesn't matter, file was already shut down.
          newContents = "";
        }
      } else if (newContents === null) {
        // We're closing this file
        this.main.components.fileSystem.deleteFileLocally_(this.filename);
        return;
      }
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.bm.setCode(newContents);
        // Delay so that everything is rendered
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.bm.clearHighlightedLines();
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        if (!this.main.model.display.historyMode()) {
          this.file.handle(this.bm.getCode());
        }
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.dirty = false;
      this.currentSubscription.dispose();
      this.bm.removeChangeListener(this.currentBMListener);
      this.bm.textEditor.codeMirror.off("paste", this.currentCMPasteListener);
      if (this.main.model.display.historyMode()) {
        this.main.model.ui.editors.python.turnOffHistoryMode();
      }
      this.clearLineSubscriptions();
      _superPropGet(PythonEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }, {
    key: "clearLineSubscriptions",
    value: function clearLineSubscriptions() {
      this.bm.clearHighlightedLines();
      if (this.lineErrorSubscription) {
        this.lineErrorSubscription.dispose();
        this.lineErrorSubscription = null;
      }
      if (this.lineUncoveredSubscription) {
        this.lineUncoveredSubscription.dispose();
        this.lineUncoveredSubscription = null;
      }
      if (this.lineTraceSubscription) {
        this.lineTraceSubscription.dispose();
        this.lineTraceSubscription = null;
      }
    }
  }, {
    key: "makeSubscriptions",
    value: function makeSubscriptions() {
      var _this4 = this;
      this.bm.setMode(this.main.model.display.pythonMode());
      this.main.model.display.pythonMode.subscribe(function (mode) {
        _this4.bm.setMode(mode);
      });
      this.main.model.assignment.settings.enableBlocks.subscribe(function (enabled) {
        if (!enabled) {
          _this4.bm.setMode(DisplayModes.TEXT);
        } else {
          _this4.bm.setMode(_this4.main.model.display.pythonMode());
        }
      });
      this.main.model.assignment.settings.toolbox.subscribe(this.reloadToolbox.bind(this));
      this.main.model.assignment.settings.enableImages.subscribe(function (imageMode) {
        _this4.bm.setImageMode(imageMode);
      });

      // Small Layout Stuff
      this.oldHeight = null;
      if (this.main.model.ui.smallLayout()) {
        this.useSmallLayout();
      }
      this.main.model.ui.smallLayout.subscribe(function (useSmallLayout) {
        if (useSmallLayout) {
          _this4.useSmallLayout();
        } else if (_this4.oldHeight !== null) {
          _this4.bm.configuration.height = _this4.oldHeight;
          _this4.bm.textEditor.resizeResponsively();
          _this4.oldHeight = null;
        }
      });
    }
  }, {
    key: "useSmallLayout",
    value: function useSmallLayout() {
      this.bm.textEditor.updateGutter({
        indentSidebar: false
      });
      this.oldHeight = this.bm.configuration.height;
      this.bm.configuration.height = 300; // TODO: Parameterize this
      this.bm.textEditor.resizeResponsively();
    }
  }, {
    key: "reloadToolbox",
    value: function reloadToolbox(toolbox) {
      if (toolbox === "custom") {
        var customToolbox = this.main.components.fileSystem.getFile("?toolbox.blockpy");
        if (customToolbox == null) {
          toolbox = "empty";
        } else {
          try {
            toolbox = JSON.parse(customToolbox.handle());
          } catch (e) {
            console.error(e); // TODO: Improve error message for instructor
            toolbox = "minimal";
          }
        }
      }
      this.bm.configuration.toolbox = toolbox;
      // TODO: Handle invalid toolbox better
      try {
        this.bm.blockEditor.remakeToolbox();
      } catch (e) {
        console.error(e);
        this.bm.configuration.toolbox = "empty";
        this.bm.blockEditor.remakeToolbox();
      }
    }
  }, {
    key: "makePerAssignmentSubscriptions",
    value: function makePerAssignmentSubscriptions() {
      var _this5 = this;
      this.main.model.display.instructor.subscribe(function (changed) {
        _this5.setReadOnly(_this5.decideIfNotEditable());
      });
      this.main.model.assignment.settings.onlyUploads.subscribe(function (changed) {
        _this5.setReadOnly(_this5.decideIfNotEditable());
      });
      this.main.model.configuration.partId.subscribe(function (changed) {
        // TODO: Handle part id changing after everything is loaded
      });
    }
  }, {
    key: "decideIfNotEditable",
    value: function decideIfNotEditable() {
      var model = this.main.model;
      return model.display.historyMode() || model.assignment.settings.onlyUploads() && !model.display.instructor();
    }
  }, {
    key: "setReadOnly",
    value: function setReadOnly(isReadOnly) {
      this.readOnly = isReadOnly;
      this.bm.setReadOnly(isReadOnly);
    }
  }, {
    key: "uploadFile",
    value: function uploadFile(event) {
      var filename = event.target.fileName;
      var code = event.target.result;
      if (filename.endsWith(".ipynb")) {
        code = convertIpynbToPython(code);
      }
      this.main.components.server.logEvent("X-File.Upload", "", "", code, this.filename);
      this.file.handle(code);
      this.main.components.engine.run();
      // TODO: Run code
    }
  }, {
    key: "downloadFile",
    value: function downloadFile() {
      var result = _superPropGet(PythonEditorView, "downloadFile", this, 3)([]);
      if (result.name === "answer" && result.extension === ".py") {
        result.name = (0,_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.sluggify)(this.main.model.assignment.name());
      }
      result.mimetype = "text/x-python";
      this.main.components.server.logEvent("X-File.Download", "", "", "", result.name);
      return result;
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var PythonEditor = {
  name: "Python",
  extensions: [".py", ".reading"],
  constructor: PythonEditorView,
  template: PYTHON_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/quiz.js":
/*!****************************!*\
  !*** ./src/editor/quiz.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QUIZ_EDITOR_HTML: () => (/* binding */ QUIZ_EDITOR_HTML),
/* harmony export */   QuizEditor: () => (/* binding */ QuizEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var QUIZ_EDITOR_HTML = "\n    <div>\n    <textarea class=\"blockpy-editor-quiz\"></textarea>\n    </div>\n";
var QuizEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function QuizEditorView(main, tag) {
    var _this;
    _classCallCheck(this, QuizEditorView);
    _this = _callSuper(this, QuizEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-quiz")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(QuizEditorView, _AbstractEditor);
  return _createClass(QuizEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(QuizEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(QuizEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var QuizEditor = {
  name: "Quiz",
  extensions: [".quiz"],
  constructor: QuizEditorView,
  template: QUIZ_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/sample_submissions.js":
/*!******************************************!*\
  !*** ./src/editor/sample_submissions.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SAMPLE_SUBMISSIONS_HTML: () => (/* binding */ SAMPLE_SUBMISSIONS_HTML),
/* harmony export */   SampleSubmission: () => (/* binding */ SampleSubmission),
/* harmony export */   SampleSubmissions: () => (/* binding */ SampleSubmissions),
/* harmony export */   SubmissionStatuses: () => (/* binding */ SubmissionStatuses)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Panel for editing the set of Sample Submissions.
 * These are not provided at all to students without the Grader role.
 */


var SubmissionStatuses = {
  UNKNOWN: "unknown",
  PASSED: "passed",
  FAILED: "failed",
  ERROR: "error",
  SKIPPED: "skipped"
};
var SampleSubmission = /*#__PURE__*/function () {
  function SampleSubmission(name, status, code) {
    _classCallCheck(this, SampleSubmission);
    this.name = name;
    this.status = status;
    this.code = code;
  }
  return _createClass(SampleSubmission, [{
    key: "serialize",
    value: function serialize() {
      return {
        name: this.name,
        status: this.status,
        code: this.code
      };
    }
  }], [{
    key: "Blank",
    value: function Blank(count) {
      return new SampleSubmission("Untitled" + (count || 1), SubmissionStatuses.UNKNOWN, "a=0");
    }
  }, {
    key: "deserialize",
    value: function deserialize(data) {
      return new SampleSubmission(data.name, data.status, data.code);
    }
  }]);
}();
var SAMPLE_SUBMISSIONS_HTML = "\n<div>\n    <div data-bind=\"foreach: {data: assignment.sampleSubmissions}\"\n        class=\"row\">\n        <div class=\"col-md-6\">\n            <span data-bind=\"text: name\"></span>\n            <textarea class=\"blockpy-editor-sample-submissions-code\"\n                data-bind=\"codeMirrorInstance: code\"></textarea>\n        </div>\n        <div class=\"col-md-6\">\n            <span data-bind=\"text: status\"></span>        \n        </div>\n    </div>\n</div>\n";
ko.bindingHandlers.codeMirrorInstance = {
  init: function init(element, valueAccessor, allBindings, viewModel, bindingContext) {
    // This will be called when the binding is first applied to an element
    // Set up any initial state, event handlers, etc. here
    console.log("INIT");
    var cm = CodeMirror.fromTextArea(element, {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    cm.setSize("100%", "100px");
    return cm;
  },
  update: function update(element, valueAccessor, allBindings, viewModel, bindingContext) {
    // This will be called once when the binding is first applied to an element,
    // and again whenever any observables/computeds that are accessed change
    // Update the DOM element based on the supplied values here.
    console.log("UPDATE");
  }
};
var SampleSubmissionsView = /*#__PURE__*/function (_AbstractEditor) {
  function SampleSubmissionsView(main, tag) {
    var _this;
    _classCallCheck(this, SampleSubmissionsView);
    _this = _callSuper(this, SampleSubmissionsView, [main, tag]);
    _this.tag = tag;
    _this.codeMirrors = [];
    _this.dirty = false;
    return _this;
  }
  _inherits(SampleSubmissionsView, _AbstractEditor);
  return _createClass(SampleSubmissionsView, [{
    key: "buildEditor",
    value: function buildEditor(newDOM, index, newElement) {}
  }, {
    key: "rebuildEditors",
    value: function rebuildEditors() {
      console.log("Rebuilding editors");
    }
  }, {
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      var _this2 = this;
      _superPropGet(SampleSubmissionsView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      //this.rebuildEditors();
      //this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        console.log(this.tag);
        console.log(this.tag.find(".CodeMirror"));
        console.log(this.tag.find(".CodeMirror").map(function (i, cm) {
          return console.log("+++", cm.CodeMirror);
        }));
        this.tag.find(".CodeMirror").map(function (i, cm) {
          return cm.CodeMirror.refresh();
        });
        console.log("REFRESH");
        // Delay so that everything is rendered
        setTimeout(function () {
          return _this2.tag.find(".CodeMirror").map(function (i, cm) {
            return cm.CodeMirror.refresh();
          });
        }, 1);
      }
      // TODO: update dynamically when changing instructor status
      //this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        console.log(this.codeMirrors);
        //this.codeMirrors.each( (i, cm) => cm.setValue(newContents.join("\n")));
        //this.codeMirrors.each( (i, cm) => cm.refresh());
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirrors.map(function (cm) {
          return cm.getValue();
        }));
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirrors = [];
      //this.codeMirrors.off("change", this.currentListener);
      //this.codeMirror.setOption("readOnly", false);
      _superPropGet(SampleSubmissionsView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var SampleSubmissions = {
  name: "Sample Submissions",
  extensions: ["!sample_submissions.blockpy"],
  constructor: SampleSubmissionsView,
  template: SAMPLE_SUBMISSIONS_HTML
};

/***/ }),

/***/ "./src/editor/tags.js":
/*!****************************!*\
  !*** ./src/editor/tags.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TAGS_EDITOR_HTML: () => (/* binding */ TAGS_EDITOR_HTML),
/* harmony export */   TagsEditor: () => (/* binding */ TagsEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var TAGS_EDITOR_HTML = "\nCreate new\nImport by name\nFind by owner/course/kind\n\nTags:\n    Data:\n        Name\n        Kind\n        Level\n        Version\n        Description\n    Controls:\n        Edit\n        Remove\n        Delete \n";
var TagsEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function TagsEditorView(main, tag) {
    _classCallCheck(this, TagsEditorView);
    return _callSuper(this, TagsEditorView, [main, tag.find(".blockpy-editor-tags")]);
  }
  _inherits(TagsEditorView, _AbstractEditor);
  return _createClass(TagsEditorView);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var TagsEditor = {
  name: "Tags",
  extensions: ["!tags.blockpy"],
  constructor: TagsEditorView,
  template: TAGS_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/text.js":
/*!****************************!*\
  !*** ./src/editor/text.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TEXT_EDITOR_HTML: () => (/* binding */ TEXT_EDITOR_HTML),
/* harmony export */   TextEditor: () => (/* binding */ TextEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var _default_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default_header */ "./src/editor/default_header.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var TEXT_EDITOR_HTML = "\n    ".concat(_default_header__WEBPACK_IMPORTED_MODULE_1__.default_header, "\n    <div>\n    <textarea class=\"blockpy-editor-text\"></textarea>\n    </div>\n");
var TextEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function TextEditorView(main, tag) {
    var _this;
    _classCallCheck(this, TextEditorView);
    _this = _callSuper(this, TextEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-text")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(TextEditorView, _AbstractEditor);
  return _createClass(TextEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(TextEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(TextEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var TextEditor = {
  name: "Text",
  extensions: [".txt"],
  constructor: TextEditorView,
  template: TEXT_EDITOR_HTML
};

/***/ }),

/***/ "./src/editor/toolbox.js":
/*!*******************************!*\
  !*** ./src/editor/toolbox.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TOOLBOX_EDITOR_HTML: () => (/* binding */ TOOLBOX_EDITOR_HTML),
/* harmony export */   ToolboxEditor: () => (/* binding */ ToolboxEditor)
/* harmony export */ });
/* harmony import */ var _abstract_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract_editor */ "./src/editor/abstract_editor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var TOOLBOX_EDITOR_HTML = "\n    <div>\n        <div class=\"col-md-12\"\n         role=\"toolbar\" aria-label=\"Toolbox Toolbar\">\n             <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Save Group\">         \n                <button type=\"button\" class=\"btn btn-outline-secondary btn-editor-json-save\">\n                    <span class=\"fas fa-save\"></span> Save\n                 </button>\n             </div>\n         </div>\n        <textarea class=\"blockpy-editor-toolbox\"></textarea>\n    </div>\n";
var ToolboxEditorView = /*#__PURE__*/function (_AbstractEditor) {
  function ToolboxEditorView(main, tag) {
    var _this;
    _classCallCheck(this, ToolboxEditorView);
    _this = _callSuper(this, ToolboxEditorView, [main, tag]);
    _this.codeMirror = CodeMirror.fromTextArea(tag.find(".blockpy-editor-toolbox")[0], {
      showCursorWhenSelecting: true,
      lineNumbers: true,
      firstLineNumber: 1,
      indentUnit: 4,
      tabSize: 4,
      indentWithTabs: false,
      mode: "json",
      extraKeys: {
        "Tab": "indentMore",
        "Shift-Tab": "indentLess",
        "Esc": function Esc(cm) {
          if (cm.getOption("fullScreen")) {
            cm.setOption("fullScreen", false);
          } else {
            cm.display.input.blur();
          }
        },
        "F11": function F11(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        }
      }
    });
    _this.dirty = false;
    return _this;
  }
  _inherits(ToolboxEditorView, _AbstractEditor);
  return _createClass(ToolboxEditorView, [{
    key: "enter",
    value: function enter(newFilename, oldEditor) {
      _superPropGet(ToolboxEditorView, "enter", this, 3)([newFilename, oldEditor]);
      this.dirty = false;
      this.updateEditor(this.file.handle());
      // Subscribe to the relevant File
      this.currentSubscription = this.file.handle.subscribe(this.updateEditor.bind(this));
      // Notify relevant file of changes to BM
      this.currentListener = this.updateHandle.bind(this);
      this.tag.find(".btn-editor-json-save").on("click", this.currentListener);
      //this.codeMirror.on("change", this.currentListener);
      if (oldEditor !== this) {
        // Delay so that everything is rendered
        setTimeout(this.codeMirror.refresh.bind(this.codeMirror), 1);
      }
      // TODO: update dynamically when changing instructor status
      this.codeMirror.setOption("readOnly", newFilename.startsWith("&") && !this.main.model.display.instructor());
    }
  }, {
    key: "updateEditor",
    value: function updateEditor(newContents) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.codeMirror.setValue(newContents);
        this.codeMirror.refresh();
        this.dirty = false;
      }
    }
  }, {
    key: "updateHandle",
    value: function updateHandle(event) {
      this.dirty = !this.dirty;
      if (this.dirty) {
        this.dirty = true;
        this.file.handle(this.codeMirror.getValue());
        if (this.main.model.assignment.settings.toolbox() === "custom") {
          this.main.components.pythonEditor.reloadToolbox("custom");
        }
        this.dirty = false;
      }
    }
  }, {
    key: "exit",
    value: function exit(newFilename, oldEditor, newEditor) {
      // Remove subscriber
      this.currentSubscription.dispose();
      this.tag.find(".btn-editor-toolbox-save").off("click", this.currentListener);
      //this.codeMirror.off("change", this.currentListener);
      this.codeMirror.setOption("readOnly", false);
      _superPropGet(ToolboxEditorView, "exit", this, 3)([newFilename, oldEditor]);
    }
  }]);
}(_abstract_editor__WEBPACK_IMPORTED_MODULE_0__.AbstractEditor);
var ToolboxEditor = {
  name: "Toolbox",
  extensions: ["?toolbox.blockpy"],
  constructor: ToolboxEditorView,
  template: TOOLBOX_EDITOR_HTML
};

/***/ }),

/***/ "./src/editors.js":
/*!************************!*\
  !*** ./src/editors.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EDITORS_HTML: () => (/* binding */ EDITORS_HTML),
/* harmony export */   Editors: () => (/* binding */ Editors),
/* harmony export */   EditorsEnum: () => (/* binding */ EditorsEnum)
/* harmony export */ });
/* harmony import */ var _editor_python__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor/python */ "./src/editor/python.js");
/* harmony import */ var _editor_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/text */ "./src/editor/text.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* harmony import */ var _editor_tags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor/tags */ "./src/editor/tags.js");
/* harmony import */ var _editor_markdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editor/markdown */ "./src/editor/markdown.js");
/* harmony import */ var _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./editor/sample_submissions */ "./src/editor/sample_submissions.js");
/* harmony import */ var _editor_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editor/json */ "./src/editor/json.js");
/* harmony import */ var _editor_toolbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./editor/toolbox */ "./src/editor/toolbox.js");
/* harmony import */ var _editor_quiz__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editor/quiz */ "./src/editor/quiz.js");
/* harmony import */ var _editor_images__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./editor/images */ "./src/editor/images.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Editors are inferred from Filenames.
 *
 * The editor is based on the extension:
 *  .blockpy: Special editor (will be chosen by filename)
 *  .py: Python Editor
 *  .md: Markdown Editor
 *  .txt: Text Editor (also used for other types)
 *  .peml: PEML Editor
 *  .png, .gif, .jpeg, .jpg, .bmp: Image Editor
 *  .json: JSON Editor
 *  .yaml: YAML Editor
 */












/**
 * The different possible editors available
 * @enum {string}
 */
var EditorsEnum = {
  SUBMISSION: "submission",
  ASSIGNMENT: "assignment",
  INSTRUCTIONS: "instructions",
  ON_RUN: "on_run",
  ON_CHANGE: "on_change",
  ON_EVAL: "on_eval",
  STARTING_CODE: "starting_code",
  SAMPLE_SUBMISSIONS: "sample_submissions",
  INSTRUCTOR_FILE: "instructor_file"
};
var SPECIAL_NAMESPACES = ["!", "^", "?", "$"];
var AVAILABLE_EDITORS = [_editor_text__WEBPACK_IMPORTED_MODULE_1__.TextEditor, _editor_python__WEBPACK_IMPORTED_MODULE_0__.PythonEditor, _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__.AssignmentSettings, _editor_tags__WEBPACK_IMPORTED_MODULE_3__.TagsEditor, _editor_markdown__WEBPACK_IMPORTED_MODULE_4__.MarkdownEditor, _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_5__.SampleSubmissions, _editor_json__WEBPACK_IMPORTED_MODULE_6__.JsonEditor, _editor_toolbox__WEBPACK_IMPORTED_MODULE_7__.ToolboxEditor, _editor_quiz__WEBPACK_IMPORTED_MODULE_8__.QuizEditor, _editor_images__WEBPACK_IMPORTED_MODULE_9__.ImageEditor];
var EDITORS_HTML = AVAILABLE_EDITORS.map(function (editor) {
  return "\n<div class=\"blockpy-panel blockpy-editor\" \n     data-bind=\"visible: ui.editors.view().name === '".concat(editor.name, "', class: ui.editors.width\">\n    <div>\n    ").concat(editor.template, "\n    </div>\n</div>\n");
}
/*
`
<!-- ko if: ui.editors.view().name === '${editor.name}' -->
${editor.template}
<!-- /ko -->`*/).join("\n");
var Editors = /*#__PURE__*/function () {
  function Editors(main, tag) {
    var _this = this;
    _classCallCheck(this, Editors);
    this.main = main;
    this.tag = tag;
    this.current = null;
    this.registered_ = [];
    this.extensions_ = {};
    this.byName_ = {};
    AVAILABLE_EDITORS.forEach(function (editor) {
      return _this.registerEditor(editor);
    });
    this.main.model.display.filename.subscribe(this.changeEditor, this);
  }
  return _createClass(Editors, [{
    key: "registerEditor",
    value: function registerEditor(data) {
      var extensions = data.extensions;
      var instance = new data.constructor(this.main, this.tag);
      instance.name = data.name;
      this.registered_.push(instance);
      this.byName_[data.name.toLowerCase()] = instance;
      for (var i = 0; i < extensions.length; i++) {
        this.extensions_[extensions[i]] = instance;
      }
    }
  }, {
    key: "byName",
    value: function byName(name) {
      return this.byName_[name.toLowerCase()];
    }
  }, {
    key: "changeEditor",
    value: function changeEditor(newFilename) {
      var oldEditor = this.current;
      var newEditor = this.getEditor(newFilename, oldEditor);
      if (oldEditor !== null) {
        oldEditor.exit(newFilename, oldEditor, newEditor);
      }
      this.current = newEditor;
      this.current.enter(newFilename, oldEditor);
    }
  }, {
    key: "getEditor",
    value: function getEditor(path) {
      var _Editors$parseFilenam = Editors.parseFilename(path),
        space = _Editors$parseFilenam.space,
        name = _Editors$parseFilenam.name,
        type = _Editors$parseFilenam.type;
      if (type === ".blockpy" && path in this.extensions_) {
        return this.extensions_[path];
      }
      var assignmentType = this.main.model.assignment.type();
      if (assignmentType !== _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_2__.AssigmentType.BLOCKPY) {
        if (name === "answer" && type === ".py") {
          if ("." + assignmentType in this.extensions_) {
            return this.extensions_["." + assignmentType];
          } else {
            console.error("No editor registered for assignment type:", assignmentType);
            return this.registered_[0];
          }
        }
      }
      if (type in this.extensions_) {
        return this.extensions_[type];
      } else {
        return this.registered_[0];
      }
      //console.log(this.main.model.assignment.type(), space, name, type);
    }
  }], [{
    key: "parseFilename",
    value: function parseFilename(path) {
      var space = path.charAt(0);
      if (SPECIAL_NAMESPACES.indexOf(space) !== -1) {
        path = path.substr(1);
      } else {
        space = "";
      }
      var name = path.substr(0, path.lastIndexOf("."));
      var type = path.substr(path.lastIndexOf("."));
      return {
        "space": space,
        "name": name,
        "type": type
      };
    }
  }]);
}();

/***/ }),

/***/ "./src/engine.js":
/*!***********************!*\
  !*** ./src/engine.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyEngine: () => (/* binding */ BlockPyEngine)
/* harmony export */ });
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server */ "./src/server.js");
/* harmony import */ var _engine_on_run__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./engine/on_run */ "./src/engine/on_run.js");
/* harmony import */ var _engine_run__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./engine/run */ "./src/engine/run.js");
/* harmony import */ var _engine_eval__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./engine/eval */ "./src/engine/eval.js");
/* harmony import */ var _engine_sample__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./engine/sample */ "./src/engine/sample.js");
/* harmony import */ var _engine_on_change__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./engine/on_change */ "./src/engine/on_change.js");
/* harmony import */ var _engine_on_eval__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./engine/on_eval */ "./src/engine/on_eval.js");
/* harmony import */ var _engine_on_sample__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./engine/on_sample */ "./src/engine/on_sample.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }









/**
 * An object for executing Python code and passing the results along to interested components.
 *
 * Interesting components:
 *  Execution Buffer: Responsible for collecting the trace during program execution.
 *                    This prevents Knockoutjs from updating the editor during execution.
 *
 * @constructor
 * @this {BlockPyEditor}
 * @param {Object} main - The main BlockPy instance
 * @param {HTMLElement} tag - The HTML object this is attached to.
 */
var BlockPyEngine = /*#__PURE__*/function () {
  function BlockPyEngine(main) {
    _classCallCheck(this, BlockPyEngine);
    this.main = main;
    this.executionModel = this.main.model.execution;
    this.configurations = {
      run: new _engine_run__WEBPACK_IMPORTED_MODULE_2__.RunConfiguration(main),
      eval: new _engine_eval__WEBPACK_IMPORTED_MODULE_3__.EvalConfiguration(main),
      onRun: new _engine_on_run__WEBPACK_IMPORTED_MODULE_1__.OnRunConfiguration(main),
      onChange: new _engine_on_change__WEBPACK_IMPORTED_MODULE_5__.OnChangeConfiguration(main),
      onEval: new _engine_on_eval__WEBPACK_IMPORTED_MODULE_6__.OnEvalConfiguration(main)
    };

    // Preconfigure skulpt so we can parse
    Sk.configure(this.configurations.run.getSkulptOptions());

    // Keeps track of the tracing while the program is executing
    this.executionBuffer = {};

    /**
     * Definable function to be run when execution has fully ended,
     * whether it succeeds or fails.
     */
    this.onExecutionBegin = null;
    this.onExecutionEnd = null;
  }

  /**
   * Reset reports
   */
  return _createClass(BlockPyEngine, [{
    key: "resetReports",
    value: function resetReports() {
      var report = this.executionModel.reports;
      report["verifier"] = {};
      report["parser"] = {};
      report["student"] = {};
      report["instructor"] = {};
      report["model"] = this.main.model;
    }
  }, {
    key: "resetStudentModel",
    value: function resetStudentModel() {
      var student = this.executionModel.student;
      student.calls = {};
      student.currentStep(null);
      student.currentTraceStep(0);
      student.lastStep(0);
      student.currentLine(null);
      student.currentTraceData.removeAll();
      student.results = null;
      student.tracing = [];
    }
  }, {
    key: "resetExecutionBuffer",
    value: function resetExecutionBuffer() {
      this.executionBuffer = {
        "trace": [],
        "step": 0,
        "line": 0
      };
    }
  }, {
    key: "reset",
    value:
    /**
     * Remove all interface aspects of the previous Run.
     */
    function reset() {
      // TODO: Clear out any coverage/trace/error highlights in editors
      // Reset execution in model
      this.resetStudentModel();
      // Get reports ready
      this.resetReports();
      // Clear out the execution buffer
      this.resetExecutionBuffer();
      // Clear out the console of printed stuff
      this.main.components.console.clear();
      // Clear out any old feedback
      this.main.components.feedback.clear();
    }
  }, {
    key: "delayedRun",
    value: function delayedRun() {
      var disableFeedback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      //this.main.model.status.onExecution(StatusState.ACTIVE);
      //$(".blockpy-run").addClass("blockpy-run-running");
      this.run(disableFeedback);
      //setTimeout(this.run.bind(this), 1);
    }
  }, {
    key: "stop",
    value: function stop() {}
  }, {
    key: "run",
    value: function run() {
      var _this = this;
      var disableFeedback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      this.configuration = this.configurations.run.use(this);
      var execution = this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration));
      if (!this.main.model.assignment.settings.disableFeedback() && !disableFeedback) {
        execution.then(function () {
          _this.configuration.provideSecretError();
          return _this.onRun();
        });
      } else {
        execution.then(this.configuration.showErrors.bind(this.configuration));
      }
      execution.then(this.configuration["finally"].bind(this.configuration));
    }
  }, {
    key: "onRun",
    value: function onRun() {
      this.configuration = this.configurations.onRun.use(this);
      this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration)).then(this.configuration["finally"].bind(this.configuration)).then(this.executionEnd_.bind(this));
    }
  }, {
    key: "evaluate",
    value: function evaluate() {
      var _this2 = this;
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_0__.StatusState.ACTIVE);
      var evaluationInput = this.main.components.console.evaluate();
      console.log(evaluationInput);
      evaluationInput.then(function (userInput) {
        _this2.configuration = _this2.configurations.eval.use(_this2, userInput);
        var execution = _this2.execute().then(_this2.configuration.success.bind(_this2.configuration), _this2.configuration.failure.bind(_this2.configuration));
        if (!_this2.main.model.assignment.settings.disableFeedback() && _this2.main.model.assignment.onEval()) {
          _this2.configuration.provideSecretError();
          execution.then(_this2.onEval.bind(_this2));
        } else {
          execution.then(_this2.configuration.showErrors.bind(_this2.configuration)).then(_this2.evaluate.bind(_this2));
        }
        execution.then(_this2.configuration["finally"].bind(_this2.configuration));
      });
    }
  }, {
    key: "onEval",
    value: function onEval() {
      this.configuration = this.configurations.onEval.use(this);
      this.execute().then(this.configuration.success.bind(this.configuration), this.configuration.failure.bind(this.configuration)).then(this.evaluate.bind(this)).then(this.configuration["finally"].bind(this.configuration));
    }
  }, {
    key: "onChange",
    value: function onChange() {
      this.configuration = this.configurations.onChange.use(this);
    }
  }, {
    key: "execute",
    value: function execute() {
      var _this3 = this;
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_0__.StatusState.ACTIVE);
      return Sk.misceval.asyncToPromise(function () {
        return Sk.importMainWithBody(_this3.configuration.filename, false, _this3.configuration.code, true, _this3.configuration.sysmodules);
      });
    }

    /**
     * Activated whenever the Python code changes
     */
  }, {
    key: "on_change",
    value: function on_change() {
      var FILENAME = "on_change";
      // Skip if the instructor has not defined anything
      if (!this.main.model.programs[FILENAME]().trim()) {
        return false;
      }
      this.main.model.execution.status("changing");
      this.main.components.server.saveCode();
      // On step does not perform parse analysis by default or run student code
      var engine = this;
      var feedback = this.main.components.feedback;
      engine.resetReports();
      engine.verifyCode();
      engine.updateParse();
      engine.runInstructorCode(FILENAME, true, function (module) {
        if (Sk.executionReports["instructor"]["success"]) {
          // SUCCESS, SCORE, CATEGORY, LABEL, MESSAGE, DATA, HIDE
          // TODO: only show under certain circumstances
          if (!success && !(category === "Instructor" && label === "No errors")) {
            feedback.presentFeedback(category, label, message, line);
          }
          engine.main.components.feedback.presentFeedback(module.$d);
          engine.main.model.execution.status("complete");
        }
      });
      engine.main.components.server.logEvent("engine", "on_change");
    }
  }, {
    key: "executionEnd_",
    value:
    /**
     * Helper function that will attempt to call the defined onExecutionEnd,
     * but will do nothing if there is no function defined.
     */
    function executionEnd_() {
      if (this.onExecutionEnd !== null) {
        this.onExecutionEnd();
      }
    }

    /**
     *
     */
  }, {
    key: "executionBegin_",
    value: function executionBegin_() {
      if (this.onExecutionBegin !== null) {
        this.onExecutionBegin();
      }
    }
  }]);
}();

/***/ }),

/***/ "./src/engine/configurations.js":
/*!**************************************!*\
  !*** ./src/engine/configurations.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Configuration: () => (/* binding */ Configuration),
/* harmony export */   EMPTY_MODULE: () => (/* binding */ EMPTY_MODULE)
/* harmony export */ });
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var EMPTY_MODULE = "let $builtinmodule = function(mod){ return mod; }";

/**
 * A container for holding settings of a particular run configuration.
 * This is the root class for all other configurations.
 */
var Configuration = /*#__PURE__*/function () {
  function Configuration(main) {
    _classCallCheck(this, Configuration);
    this.main = main;
    this.filename = null;
    this.code = null;
    this.sysmodules = undefined;
  }
  return _createClass(Configuration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      // Access point for instructor data
      this.engine = engine;
      Sk.executionReports = this.main.model.execution.reports;
      Sk.console = this.main.components.console;
      Sk.queuedInput = [];
      Sk.configure(this.getSkulptOptions());
      // Set openFile as mechanism to read files
      Sk.inBrowser = this.openFile.bind(this);
      // Function to convert filenames to URLs
      Sk.fileToURL = this.getUrlFromFilename.bind(this);
      // Proxy requests
      Sk.requestsGet = function (url, data, timeout) {
        return _this.openURL(url, data, timeout);
      };
      // Configure a "do you want to wait? prompt"
      Sk.timeoutHandler = function (timePassed, execLimit) {
        console.log("CONSIDERING TIME OUT", timePassed, execLimit, Sk.previousExecLimitChoice, _this);
        if (_this.main.model.assignment.settings.disableTimeout()) {
          return null;
        }
        if (Sk.previousExecLimitChoice === "stop execution") {
          Sk.previousExecLimitChoice = undefined;
          Sk.execLimit = Sk.execLimitBackup;
          return null;
        }
        var promptMessage = _this.getTimeoutPrompt(timePassed / 1000 > 30);
        var defaultValue = Sk.previousExecLimitChoice === undefined ? "stop execution" : Sk.previousExecLimitChoice; //["stop execution", Sk.execLimit/1000];
        console.log(Sk.previousExecLimitChoice, defaultValue);
        // TODO: Make this more intelligent
        var delay = prompt(promptMessage, defaultValue);
        if (delay === "stop execution" || delay === null) {
          if (delay === "stop execution") {
            Sk.previousExecLimitChoice = "stop execution";
            Sk.execLimitBackup = Sk.execLimit;
            Sk.execLimit = 2000;
          }
          return null;
        }
        if (delay !== null || delay == 0) {
          delay = Sk.execLimit + parseInt(delay, 10) * 1000;
          Sk.execLimit = delay;
          Sk.execLimitFunction = function () {
            return _this.main.model.assignment.settings.disableTimeout() ? Infinity : delay;
          };
        }
        return delay;
        // if (this.main.model.assignment.settings.disableTimeout()) {
        //     return null;
        // }
        // let promptMessage = this.getTimeoutPrompt(timePassed/1000 > 30);
        // let delay = prompt(promptMessage, Sk.execLimit/1000);
        // console.log("TIMING UOT", delay, Sk.execLimit);
        // if (delay !== null || delay==0) {
        //     delay = Sk.execLimit + parseInt(delay, 10) * 1000;
        //     Sk.execLimit = delay;
        //     Sk.execLimitFunction = () =>
        //         this.main.model.assignment.settings.disableTimeout() ? Infinity : delay;
        // }
        // console.log("TIMING UOT: FINAL", delay, Sk.execLimit);
        // return delay;
      };
      // Attach beforeCall
      Sk.beforeCall = this.beforeCall.bind(this);
      return this;
    }
  }, {
    key: "getTimeoutPrompt",
    value: function getTimeoutPrompt(longTimeout) {
      if (longTimeout) {
        return "The program has taken a REALLY long time to run (30 or more seconds). You might want to cancel and check your code. Or, you can add more seconds to wait below.";
      } else {
        return "The program is taking a while to run. It might have an infinite loop. Type 'stop execution' to try and completely stop the execution. Press Cancel to stop the execution of just your code (will not interrupt instructor grading scripts); or enter a number to wait for that many additional seconds for your code to terminate.";
      }
    }
  }, {
    key: "getSkulptOptions",
    value: function getSkulptOptions() {
      return {
        __future__: Sk.python3,
        // import
        read: this.importFile.bind(this),
        // open
        //fileopen: this.openFile.bind(this),
        // file.write
        filewrite: this.writeFile.bind(this),
        // print
        output: this.print.bind(this),
        // input
        inputfun: this.input.bind(this),
        inputfunTakesPrompt: true,
        // Media Image Proxy URL
        imageProxy: this.getImageProxy.bind(this),
        // TODO: Make this set by the system so we can use our own servers in practice
        emojiProxy: function emojiProxy(part) {
          return "https://twemoji.maxcdn.com/v/13.1.0/svg/".concat(part.toLowerCase(), ".svg");
        },
        // Whether or not to keep the globals
        retainGlobals: true
      };
    }
  }, {
    key: "getUrlFromFilename",
    value: function getUrlFromFilename(filename) {
      var found = this.main.components.fileSystem.filesToUrls[filename];
      if (found === undefined) {
        throw new Sk.builtin.OSError("File not found: " + filename);
      }
      return found;
    }

    /**
     * Used to access Skulpt built-ins. This is pretty generic, taken
     * almost directly from the Skulpt docs.
     *
     * @param {String} filename - The python filename (e.g., "os" or "pprint") that will be loaded.
     * @returns {String} The JavaScript source code of the file (weird, right?)
     * @throws Will throw an error if the file isn't found.
     */
  }, {
    key: "importFile",
    value: function importFile(filename) {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "openURL",
    value: function openURL(url, data, timeout) {
      //return new Promise((resolve, reject) => {
      var mockUrlData = this.main.components.fileSystem.getFile("?mock_urls.blockpy");
      if (mockUrlData == null) {
        throw new Sk.builtin.IOError("Cannot access url: URL Data was not made available for this assignment");
      }
      mockUrlData = JSON.parse(mockUrlData.handle());
      for (var filename in mockUrlData) {
        if (mockUrlData.hasOwnProperty(filename)) {
          for (var i = 0; i < mockUrlData[filename].length; i += 1) {
            if (mockUrlData[filename][i] === url) {
              var fileData = this.main.components.fileSystem.readFile(filename);
              return fileData;
            }
          }
        }
      }
      //reject(new Sk.builtin.IOError("Cannot access url: "+url+" was not made available for this assignment"));
      throw new Sk.builtin.IOError("Cannot access url: " + url + " was not made available for this assignment");
      //});
    }
  }, {
    key: "openFile",
    value: function openFile() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "writeFile",
    value: function writeFile() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "print",
    value: function print(value) {
      this.main.components.console.print(value);
    }
  }, {
    key: "input",
    value: function input() {
      console.warn("Unimplemented method!");
      // TODO
    }
  }, {
    key: "clearInput",
    value: function clearInput() {
      if (this.main.model.display.clearInputs()) {
        this.main.model.execution.input([]);
      }
      this.main.model.execution.inputIndex(0);
    }
  }, {
    key: "getImageProxy",
    value: function getImageProxy(url) {
      // TODO
      return url;
    }
  }, {
    key: "step",
    value: function step() {}
  }, {
    key: "lastStep",
    value: function lastStep() {}
  }, {
    key: "isForbidden",
    value: function isForbidden(filename) {
      return false;
    }
  }, {
    key: "success",
    value: function success(module) {
      throw new Error("Abstract success execution");
    }
  }, {
    key: "failure",
    value: function failure(error) {
      throw new Error("Abstract failure execution");
    }
  }, {
    key: "finally",
    value: function _finally(result) {
      // Force Pygame to stop trapping keyboard events
      if (this.main.components.console.pygameLine) {
        this.main.components.console.pygameLine.cleanup();
        this.main.components.console.pygameLine.stop();
      }
    }
  }, {
    key: "dummyOutSandbox",
    value: function dummyOutSandbox() {
      //Sk.builtinFiles.files["src/lib/pedal/sandbox/sandbox.py"] = "class Sandbox: pass\ndef run(): pass\ndef reset(): pass\n";
    }
  }, {
    key: "beforeCall",
    value: function beforeCall(functionName, posargs, kwargs) {
      //console.log("TRACKING CALL", functionName, posargs, kwargs);
      // TODO: Handle fastcall too? Check how that works in Skulpt side
      var studentModel = this.main.model.execution.reports.student;
      if (!("calls" in studentModel)) {
        studentModel.calls = {};
      }
      if (!(functionName in studentModel.calls)) {
        studentModel.calls[functionName] = [];
      }
      var args = {};
      // Get actual parameter names!!
      for (var i = 0; i < posargs.length; i += 1) {
        args["__ARG" + i] = posargs[i];
      }
      if (kwargs && kwargs[0] != null) {
        args["__ARGS"] = kwargs[0];
      }
      if (kwargs && kwargs[1] != null) {
        args["__KWARGS"] = kwargs[1];
      }
      //console.log(args);
      studentModel.calls[functionName].push(args);
    }
  }], [{
    key: "inputMockFunction",
    value: function inputMockFunction() {
      if (Sk.queuedInput.length) {
        return Sk.queuedInput.pop();
      } else {
        return "";
      }
    }
  }]);
}();

/***/ }),

/***/ "./src/engine/eval.js":
/*!****************************!*\
  !*** ./src/engine/eval.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EvalConfiguration: () => (/* binding */ EvalConfiguration)
/* harmony export */ });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _trace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../trace */ "./src/trace.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }



var EvalConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  function EvalConfiguration() {
    _classCallCheck(this, EvalConfiguration);
    return _callSuper(this, EvalConfiguration, arguments);
  }
  _inherits(EvalConfiguration, _StudentConfiguration);
  return _createClass(EvalConfiguration, [{
    key: "use",
    value: function use(engine, code) {
      // TODO: fix to be currently added line
      this.main.model.execution.feedback.message("Running...");
      this.filename = "answer";
      this.code = "_ = " + code;
      Sk.afterSingleExecution = null;
      Sk.beforeCall = null;
      _superPropGet(EvalConfiguration, "use", this, 3)([engine]);
      Sk.retainGlobals = true;
      Sk.globals = this.main.model.execution.student.globals();
      this.main.components.server.logEvent("X-File.Add", "", "", code, "evaluations");
      this.main.components.server.logEvent("Compile", "", "", this.code, "evaluations");
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      var _this = this;
      console.log("Eval success");
      this.main.components.server.logEvent("X-Evaluate.Program", "", "", "", "evaluations");
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      this.main.model.execution.student.globals(Sk.globals);
      Sk.globals = {};
      var report = this.main.model.execution.reports;
      var filename = this.filename;
      this.main.model.execution.student.results = module;
      this.main.components.console.printValue(Sk.ffi.remapToJs(module.$d._.$r()));
      return new Promise(function (resolve, reject) {
        //this.step(module.$d, module.$d,-1, 0, filename + ".py");
        _this.lastStep();
        report["student"] = {
          "success": true,
          "trace": _this.engine.executionBuffer.trace,
          "lines": _this.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "results": module,
          "output": _this.main.model.execution.output,
          "evaluation": _this.code,
          "calls": _this.main.model.execution.student.calls,
          "tracing": []
        };
        resolve();
      });
    }
  }, {
    key: "failure",
    value: function failure(error) {
      var _this2 = this;
      console.log("Eval failure", error);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
      var report = this.main.model.execution.reports;
      this.main.components.server.logEvent("Compile.Error", "", "", error.toString(), "evaluations");
      return new Promise(function (resolve, reject) {
        report["student"] = {
          "success": false,
          "error": error,
          "evaluation": _this2.code,
          "tracing": []
        };
        resolve();
      });
    }
  }]);
}(_student__WEBPACK_IMPORTED_MODULE_0__.StudentConfiguration);

/***/ }),

/***/ "./src/engine/instructor.js":
/*!**********************************!*\
  !*** ./src/engine/instructor.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstructorConfiguration: () => (/* binding */ InstructorConfiguration)
/* harmony export */ });
/* harmony import */ var _configurations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configurations.js */ "./src/engine/configurations.js");
/* harmony import */ var _skulpt_modules_sk_mod_instructor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../skulpt_modules/sk_mod_instructor */ "./src/skulpt_modules/sk_mod_instructor.js");
/* harmony import */ var _skulpt_modules_coverage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../skulpt_modules/coverage */ "./src/skulpt_modules/coverage.js");
/* harmony import */ var _skulpt_modules_pedal_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../skulpt_modules/pedal_tracer */ "./src/skulpt_modules/pedal_tracer.js");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../files */ "./src/files.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }





var UTILITY_MODULE_CODE = "var $builtinmodule = " + _skulpt_modules_sk_mod_instructor__WEBPACK_IMPORTED_MODULE_1__.$sk_mod_instructor.toString();
var COVERAGE_MODULE_CODE = _skulpt_modules_coverage__WEBPACK_IMPORTED_MODULE_2__.$sk_mod_coverage;
var InstructorConfiguration = /*#__PURE__*/function (_Configuration) {
  function InstructorConfiguration() {
    _classCallCheck(this, InstructorConfiguration);
    return _callSuper(this, InstructorConfiguration, arguments);
  }
  _inherits(InstructorConfiguration, _Configuration);
  return _createClass(InstructorConfiguration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      _superPropGet(InstructorConfiguration, "use", this, 3)([engine]);
      // Instructors get 4 seconds
      Sk.execLimitFunction = function () {
        return _this.main.model.assignment.settings.disableTimeout() ? Infinity : 7000;
      };
      Sk.execLimit = Sk.execLimitFunction();
      // Stepper! Executed after every statement.
      Sk.afterSingleExecution = null; // 10 *1000
      // Mute everything
      this.main.model.display.mutePrinter(true);
      // Capture any additional stdout to a buffer
      this.main.model.execution.instructor.stdout.removeAll();
      // Disable input box
      Sk.queuedInput = [];
      // TODO Sk.inputfun = BlockPyEngine.inputMockFunction;
      // TODO: Allow input function to disable the timer, somehow
      // Disable the beforeCall checker unless specifically requested
      Sk.beforeCallBackup = Sk.beforeCall;
      Sk.beforeCall = null;
      // Enable utility mode
      Sk.builtinFiles.files["src/lib/utility/__init__.js"] = UTILITY_MODULE_CODE;
      Sk.builtinFiles.files["src/lib/coverage.py"] = COVERAGE_MODULE_CODE;
      // TODO: Check if this needs to be optimized
      //const PEDAL_TRACER_MODULE_CODE = Sk.compile($pedal_tracer, "tracer.py", "exec", true, false);
      Sk.builtinFiles.files["src/lib/pedal/sandbox/tracer.py"] = _skulpt_modules_pedal_tracer__WEBPACK_IMPORTED_MODULE_3__.$pedal_tracer;
      delete Sk.builtinFiles.files["src/lib/pedal/sandbox/tracer.js"];
      // TODO: Mock Pedal's tracer module with the appropriate version
      Sk.builtinFiles.files["./_instructor/__init__.js"] = _configurations_js__WEBPACK_IMPORTED_MODULE_0__.EMPTY_MODULE;
      // Reuse any existing sysmodules that we previously found, but not __main__ modules
      this.sysmodules = this.clearExistingStudentImports();
      // Horrific hack, to prevent Tifa from caching a bad version of the students' import
      Sk.clearExistingStudentImports = this.clearExistingStudentImports;
      return this;
    }
  }, {
    key: "print",
    value: function print(value) {
      _superPropGet(InstructorConfiguration, "print", this, 3)([value]);
      console.info("Printed:", value);
      this.main.model.execution.instructor.stdout.push(value);
    }
  }, {
    key: "clearExistingStudentImports",
    value: function clearExistingStudentImports() {
      var sysmodules = this.main.model.execution.instructor.sysmodules;
      // Remove any existing __main__ modules
      if (sysmodules !== undefined) {
        var _iterator = _createForOfIteratorHelper(this.getAllFilenames()),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var filename = _step.value;
            var skFilename = new Sk.builtin.str(filename);
            /*if (sysmodules.quick$lookup(skFilename)) {
                sysmodules.pop$item(skFilename);
            }*/
            sysmodules.pop$item(skFilename);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      return sysmodules;
    }
  }, {
    key: "getAllStudentFiles",
    value: function getAllStudentFiles() {
      var files = {
        "answer.py": this.main.model.ui.files.getStudentCode()
      };
      // Skip special instructor files
      this.main.model.assignment.extraInstructorFiles().forEach(function (file) {
        if (!"!^$#".includes(file.filename()[0])) {
          files[(0,_files__WEBPACK_IMPORTED_MODULE_4__.chompSpecialFile)(file.filename())] = file.contents();
        }
      });
      // Include normal student extra files
      this.main.model.submission.extraFiles().forEach(function (file) {
        files[file.filename()] = file.contents();
      });
      return files;
    }
  }, {
    key: "getAllFilenames",
    value: function getAllFilenames() {
      function clean(filename) {
        filename = (0,_files__WEBPACK_IMPORTED_MODULE_4__.chompSpecialFile)(filename);
        if (filename.endsWith(".py")) {
          filename = filename.slice(0, -3);
        }
        return filename;
      }
      return ["__main__", "_instructor"].concat(_toConsumableArray(this.main.model.assignment.extraInstructorFiles().map(function (file) {
        return "_instructor." + clean(file.filename());
      })), _toConsumableArray(this.main.model.submission.extraFiles().map(function (file) {
        return clean(file.filename());
      })));
    }
  }, {
    key: "getTimeoutPrompt",
    value: function getTimeoutPrompt(longTimeout) {
      if (longTimeout) {
        return "The instructor code has taken a REALLY long time to check your code (30 or more seconds). You might want to cancel and check your code (or get help from an instructor). Or, you can add more seconds to wait below.";
      } else {
        return "The instructor code is taking a little while to check your code; it might just need a little more time. How many more seconds would you like to wait? Use Cancel to abort entirely (or type 'stop execution').";
      }
    }
  }, {
    key: "openFile",
    value: function openFile(filename) {
      var found = this.main.components.fileSystem.searchForFile(filename, false);
      if (found === undefined) {
        throw new Sk.builtin.OSError("File not found: " + filename);
      } else {
        return found.contents();
      }
    }
  }, {
    key: "openURL",
    value: function openURL(url, data, timeout) {
      console.log(this, url, data, timeout);
      // TODO: Figure out why parameters are misaligned..?
      if (data.v === "OPENAI") {
        return this.main.components.server.openaiProxy(data, timeout && timeout.v);
      } else {
        return _superPropGet(InstructorConfiguration, "openURL", this, 3)([url, data, timeout]);
      }
    }
  }, {
    key: "importFile",
    value: function importFile(filename) {
      if (filename === "./answer.py") {
        return this.main.model.submission.code();
      } else if (filename === "./_instructor/on_run.py") {
        return this.main.model.assignment.onRun();
      } else if (filename === "./_instructor/on_eval.py") {
        return this.main.model.assignment.onEval() || "";
      } else if (filename === "./_instructor/__init__.js") {
        return _configurations_js__WEBPACK_IMPORTED_MODULE_0__.EMPTY_MODULE;
      } else if (Sk.builtinFiles === undefined) {
        throw new Sk.builtin.OSError("Built-in modules not accessible.");
      } else if (Sk.builtinFiles["files"][filename] !== undefined) {
        return Sk.builtinFiles["files"][filename];
      } else {
        var found = this.main.components.fileSystem.searchForFile(filename, false);
        if (found === undefined) {
          throw new Sk.builtin.OSError("File not found: '" + filename + "'");
        } else {
          return found.contents();
        }
      }
    }
  }, {
    key: "input",
    value: function input(promptMessage) {
      //return "ApplePie";
      console.log(">>>", this.main.model.execution.input(), this.main.model.execution.inputIndex());
      if (this.main.model.execution.inputIndex() < this.main.model.execution.input().length) {
        var inputIndex = this.main.model.execution.inputIndex();
        var nextInput = this.main.model.execution.input()[inputIndex];
        this.main.model.execution.inputIndex(inputIndex + 1);
        return nextInput;
      } else {
        return "ApplePie";
      }
      /*return new Promise((resolve) => {
          resolve(Sk.queuedInput.pop());
      });*/
    }
  }, {
    key: "beforeCall",
    value: function beforeCall(functionName, posargs, kwargs) {
      var studentModel = this.main.model.execution.reports.student;
      //console.log("HEY INSTRUCTOR CALL", functionName, studentModel.tracing);
      if (studentModel.tracing && studentModel.tracing.length) {
        _superPropGet(InstructorConfiguration, "beforeCall", this, 3)([functionName, posargs, kwargs]);
      }
    }
  }]);
}(_configurations_js__WEBPACK_IMPORTED_MODULE_0__.Configuration);

/***/ }),

/***/ "./src/engine/on_change.js":
/*!*********************************!*\
  !*** ./src/engine/on_change.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnChangeConfiguration: () => (/* binding */ OnChangeConfiguration)
/* harmony export */ });
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var OnChangeConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  function OnChangeConfiguration() {
    _classCallCheck(this, OnChangeConfiguration);
    return _callSuper(this, OnChangeConfiguration, arguments);
  }
  _inherits(OnChangeConfiguration, _InstructorConfigurat);
  return _createClass(OnChangeConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(OnChangeConfiguration, "use", this, 3)([engine]);
      this.filename = "on_change.py";
      this.code = this.main.model.assignment.onChange();
      clearTimeout(this.main.model.display.triggerOnChange);
      return this;
    }
  }]);
}(_instructor__WEBPACK_IMPORTED_MODULE_0__.InstructorConfiguration);

/***/ }),

/***/ "./src/engine/on_eval.js":
/*!*******************************!*\
  !*** ./src/engine/on_eval.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnEvalConfiguration: () => (/* binding */ OnEvalConfiguration),
/* harmony export */   WRAP_INSTRUCTOR_CODE: () => (/* binding */ WRAP_INSTRUCTOR_CODE)
/* harmony export */ });
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _on_run__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./on_run */ "./src/engine/on_run.js");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities */ "./src/utilities.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }





/**
 * @return {string}
 */
var WRAP_INSTRUCTOR_CODE = function WRAP_INSTRUCTOR_CODE(studentCode, instructorCode, quick, isSafe) {
  var safeCode = JSON.stringify(studentCode);
  return "\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\n# Backup the feedback\non_run_feedback = []\nfor feedback in MAIN_REPORT.feedback:\n    on_run_feedback.append(feedback)\nMAIN_REPORT.feedback.clear()\n\nfrom pedal.environments.blockpy import setup_environment\n# Add in evaluated stuff from last time\nstudent = get_sandbox()\n# TODO: What about new inputs since we last ran/evaled?\n# MAIN_REPORT.submission.files['evaluation'] = ".concat(safeCode, "\nevaluate(").concat(safeCode, "['evaluation'])\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n").concat(_on_run__WEBPACK_IMPORTED_MODULE_2__.INSTRUCTOR_MARKER, "\n").concat(instructorCode, "\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        \"title\": positive.title,\n        \"label\": positive.label,\n        \"message\": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == 'log':\n        console_log(system.title, system.message);\n    if system.label == 'debug':\n        console_debug(system.title, system.message);\n\n");
};
var OnEvalConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  function OnEvalConfiguration() {
    _classCallCheck(this, OnEvalConfiguration);
    return _callSuper(this, OnEvalConfiguration, arguments);
  }
  _inherits(OnEvalConfiguration, _InstructorConfigurat);
  return _createClass(OnEvalConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(OnEvalConfiguration, "use", this, 3)([engine]);
      this.filename = "_instructor.on_eval";
      this.code = this.main.model.assignment.onEval() || "";
      var disableTifa = this.main.model.assignment.settings.disableTifa();
      var report = this.main.model.execution.reports;
      //let studentCodeSafe = this.main.model.execution.reports.student.evaluation || "None";
      var studentFiles = this.getAllStudentFiles();
      studentFiles["evaluation"] = this.main.model.execution.reports.student.evaluation || "None";
      this.dummyOutSandbox();
      var instructorCode = this.code;
      var isSafe = !report["parser"].empty && report["verifier"].success;
      instructorCode = WRAP_INSTRUCTOR_CODE(studentFiles, instructorCode, disableTifa, isSafe);
      console.log(">>>", instructorCode);
      var lineOffset = (0,_on_run__WEBPACK_IMPORTED_MODULE_2__.findActualInstructorOffset)(instructorCode); //instructorCode.split(NEW_LINE_REGEX).length;
      report["instructor"] = {
        "compliments": [],
        "filename": "./_instructor/on_eval.py",
        "code": instructorCode,
        "lineOffset": lineOffset
        //'complete': false // Actually, let's use undefined for now.
      };
      this.code = instructorCode;
      _superPropGet(OnEvalConfiguration, "use", this, 3)([engine]);

      //Sk.retainGlobals = false;
      Sk.globals = this.main.model.execution.instructor.globals;
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      console.log("OnEval success");
      // TODO: Actually parse results
      this.main.model.execution.instructor.globals = Sk.globals;
      this.main.model.execution.instructor.sysmodules = Sk.sysmodules;
      console.log(module);
      var results = module.$d.on_eval.$d;
      console.log(module.$d);
      this.main.components.feedback.presentFeedback(results);
      this.main.model.execution.reports["instructor"]["success"] = true;
      var success = Sk.ffi.remapToJs(results.SUCCESS);
      this.main.model.submission.correct(success || this.main.model.submission.correct());
      // Cannot exceed 1 point, cannot go below 0 points
      var score = Sk.ffi.remapToJs(results.SCORE);
      score = Math.max(0.0, Math.min(1.0, score));
      var oldScore = this.main.model.submission.score();
      this.main.model.submission.score(Math.max(oldScore, score));
      // Hide status
      var hide = Sk.ffi.remapToJs(results.HIDE);
      // And fire the result!
      this.main.components.server.updateSubmission(score, success, hide, false);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      //after(module);

      /*if (success && this.main.model.configuration.callbacks.success) {
          this.main.model.configuration.callbacks.success(this.main.model.assignment.id());
      }*/

      if (!Sk.executionReports.instructor.scrolling) {
        try {
          this.main.components.console.scrollToBottom();
        } catch (e) {}
      }
    }
  }, {
    key: "failure",
    value: function failure(error) {
      console.log("OnEval failure", error);
      var report = this.main.model.execution.reports;
      if (error.tp$name === "GracefulExit") {
        report["instructor"]["success"] = true;
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      } else {
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
        //console.log(report["instructor"]["code"]);
        this.main.components.feedback.presentInternalError(error, this.filename);
        //report["instructor"]["success"] = false;
        //report["instructor"]["error"] = error;
        //TODO: report["instructor"]["line_offset"] = lineOffset;
      }
      //TODO: after(error);
    }
  }]);
}(_instructor__WEBPACK_IMPORTED_MODULE_0__.InstructorConfiguration);

/***/ }),

/***/ "./src/engine/on_run.js":
/*!******************************!*\
  !*** ./src/engine/on_run.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INSTRUCTOR_MARKER: () => (/* binding */ INSTRUCTOR_MARKER),
/* harmony export */   NEW_LINE_REGEX: () => (/* binding */ NEW_LINE_REGEX),
/* harmony export */   OnRunConfiguration: () => (/* binding */ OnRunConfiguration),
/* harmony export */   WRAP_INSTRUCTOR_CODE: () => (/* binding */ WRAP_INSTRUCTOR_CODE),
/* harmony export */   findActualInstructorOffset: () => (/* binding */ findActualInstructorOffset)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ "./src/utilities.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
/* harmony import */ var _instructor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./instructor */ "./src/engine/instructor.js");
/* harmony import */ var _pools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pools */ "./src/pools.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }




function findActualInstructorOffset(instructorCode) {
  var index = instructorCode.indexOf(INSTRUCTOR_MARKER);
  var before = instructorCode.slice(0, index);
  var match = before.match(NEW_LINE_REGEX);
  return match ? 1 + match.length : 0;
}
var INSTRUCTOR_MARKER = "###Run the actual instructor code###";
var NEW_LINE_REGEX = /\n/g;
/**
 * @return {string}
 */
var WRAP_INSTRUCTOR_CODE = function WRAP_INSTRUCTOR_CODE(studentFiles, instructorCode, quick, isSafe) {
  var safeCode = JSON.stringify(studentFiles);
  var skip_tifa = quick ? "True" : "False";

  // TODO: Add in Sk.queuedInput to be passed in

  return "\n# Support our sysmodules hack by clearing out any lingering old data\nfrom pedal.core.report import MAIN_REPORT\nMAIN_REPORT.clear()\n\nfrom bakery import student_tests\nstudent_tests.reset()\n\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\nfrom pedal.environments.blockpy import setup_environment\n# Do we execute student's code?\nskip_run = get_model_info('assignment.settings.disableInstructorRun')\ninputs = None if skip_run else get_model_info('execution.input')\n\n# Set the seed to the submission ID by default?\nfrom pedal.questions import set_seed\nset_seed(str(get_model_info(\"submission.id\")))\n\n# Initialize the BlockPy environment\npedal = setup_environment(skip_tifa=".concat(skip_tifa, ",\n                          skip_run=skip_run,\n                          inputs=inputs,\n                          main_file='answer.py',\n                          files=").concat(safeCode, ")\nstudent = pedal.fields['student']\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n").concat(INSTRUCTOR_MARKER, "\n").concat(instructorCode, "\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        \"title\": positive.title,\n        \"label\": positive.label,\n        \"message\": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == 'log':\n        console_log(system.title, system.message);\n    if system.label == 'debug':\n        console_debug(system.title, system.message);\n\n");
};
var OnRunConfiguration = /*#__PURE__*/function (_InstructorConfigurat) {
  function OnRunConfiguration() {
    _classCallCheck(this, OnRunConfiguration);
    return _callSuper(this, OnRunConfiguration, arguments);
  }
  _inherits(OnRunConfiguration, _InstructorConfigurat);
  return _createClass(OnRunConfiguration, [{
    key: "getCurrentOnRun",
    value: function getCurrentOnRun() {
      var raw = this.main.model.assignment.onRun();
      if (this.main.model.assignment.settings.instructionsPool()) {
        return (0,_pools__WEBPACK_IMPORTED_MODULE_3__.extractFromPool)(raw, _pools__WEBPACK_IMPORTED_MODULE_3__.POOL_SEPARATORS.TESTS, this.main.model.ui.menu.currentSeed());
      } else {
        return raw;
      }
    }
  }, {
    key: "use",
    value: function use(engine) {
      _superPropGet(OnRunConfiguration, "use", this, 3)([engine]);
      this.filename = "_instructor.on_run";
      this.code = this.getCurrentOnRun();
      // console.log(this.code);

      var disableTifa = this.main.model.assignment.settings.disableTifa();
      // Put the input index back to the front, so we can replay inputs
      this.main.model.execution.inputIndex(1);
      var report = this.main.model.execution.reports;
      //let studentCodeSafe = this.main.model.submission.code();
      var studentFiles = this.getAllStudentFiles();
      this.dummyOutSandbox();
      var instructorCode = this.code;
      var isSafe = !report["parser"].empty && report["verifier"].success;
      instructorCode = WRAP_INSTRUCTOR_CODE(studentFiles, instructorCode, disableTifa, isSafe);
      var lineOffset = findActualInstructorOffset(instructorCode); //instructorCode.split(NEW_LINE_REGEX).length;
      //lineOffset = 0; //instructorCode.split(NEW_LINE_REGEX).length - lineOffset - 4;
      report["instructor"] = {
        "compliments": [],
        "filename": "./_instructor/on_run.py",
        "code": instructorCode,
        "lineOffset": lineOffset
        //'complete': false // Actually, let's use undefined for now.
      };
      /*
      TODO: Interesting situation. If you have an instructor-file (not a student-file),
      then it gets imported into sysmodules as `_instructor.MODULE_NAME`. But the instructor
      script will attempt to import it as `MODULE_NAME`, and fail. UNLESS the *student* has
      previously imported that module successfully. So there's a common case here where the
      students' code fails to import the module THEREBY breaking the instructor code.
       */

      this.code = instructorCode;
      Sk.retainGlobals = false;
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      // TODO Logging!!!!
      //console.log("OnRun success");
      // TODO: Actually parse results
      this.main.model.execution.instructor.globals = Sk.globals;
      this.main.model.execution.instructor.sysmodules = Sk.sysmodules;
      Sk.globals = {};
      var results = module.$d.on_run.$d;
      this.main.components.feedback.presentFeedback(results);
      this.main.model.execution.reports["instructor"]["success"] = true;
      var success = Sk.ffi.remapToJs(results.SUCCESS);
      this.main.model.submission.correct(success || this.main.model.submission.correct());
      // Cannot exceed 1 point, cannot go below 0 points
      var score = Sk.ffi.remapToJs(results.SCORE);
      score = Math.max(0, Math.min(1, score));
      var oldScore = this.main.model.submission.score();
      score = Math.max(oldScore, score);
      this.main.model.submission.score(score);
      // Hide status
      var hide = Sk.ffi.remapToJs(results.HIDE);
      // And fire the result!
      this.main.components.server.updateSubmission(score, success, hide, false);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      //after(module);

      /*if (success && this.main.model.configuration.callbacks.success) {
          this.main.model.configuration.callbacks.success(this.main.model.assignment.id());
      }*/

      if (!Sk.executionReports.instructor.scrolling) {
        try {
          this.main.components.console.scrollToBottom();
        } catch (e) {}
      }
    }
  }, {
    key: "failure",
    value: function failure(error) {
      console.error("OnRun failure", error);
      var report = this.main.model.execution.reports;
      if (error.tp$name === "GracefulExit") {
        report["instructor"]["success"] = true;
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      } else {
        this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
        //console.log(report["instructor"]["code"]);
        this.main.components.feedback.presentInternalError(error, this.filename);
        //report["instructor"]["success"] = false;
        //report["instructor"]["error"] = error;
        //TODO: report["instructor"]["line_offset"] = lineOffset;
      }
      //TODO: after(error);
    }
  }]);
}(_instructor__WEBPACK_IMPORTED_MODULE_2__.InstructorConfiguration);

/*
# The following is the old instructor code, leaving it here for now.

from pedal.core.report import MAIN_REPORT
# Support our sysmodules hack by clearing out any lingering old data
MAIN_REPORT.clear()
from pedal.core.commands import contextualize_report
contextualize_report(${safeCode}, "answer.py")
${tifaAnalysis}
from pedal.sandbox.sandbox import Sandbox
from pedal.sandbox import compatibility
from utility import *
student = MAIN_REPORT['sandbox']['run'] = Sandbox()
student.report_exceptions_mode = True
log(get_model_info('execution.input'))
student.set_input(get_model_info('execution.input'))
if not get_model_info('assignment.settings.disableInstructorRun'):
    compatibility.run_student(raise_exceptions=False)
#log(student.data)
#student = get_student_data()
#error, position = get_student_error()
#compatibility.raise_exception(error, position)
run_student = compatibility.run_student
reset_output = compatibility.reset_output
queue_input = compatibility.queue_input
get_output = compatibility.get_output
get_plots = compatibility.get_plots
compatibility.trace_lines = trace_lines
from pedal import questions
questions.show_question = set_instructions
# TODO: Remove the need for this hack!
def capture_output(func, *args):
   reset_output()
   student.call(func.__name__, *args)
   return get_output()
compatibility.capture_output = capture_output

from pedal.cait.cait_api import parse_program
${instructorCode}
from pedal.resolvers import simple
final = simple.resolve()
SUCCESS = final.success
SCORE = final.score
CATEGORY = final.category
LABEL = final.title
MESSAGE = final.message
DATA = final.data
HIDE = final.hide_correctness

 */

/***/ }),

/***/ "./src/engine/on_sample.js":
/*!*********************************!*\
  !*** ./src/engine/on_sample.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OnSampleConfiguration: () => (/* binding */ OnSampleConfiguration)
/* harmony export */ });
/* harmony import */ var _on_run__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./on_run */ "./src/engine/on_run.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var OnSampleConfiguration = /*#__PURE__*/function (_OnRunConfiguration) {
  function OnSampleConfiguration() {
    _classCallCheck(this, OnSampleConfiguration);
    return _callSuper(this, OnSampleConfiguration, arguments);
  }
  _inherits(OnSampleConfiguration, _OnRunConfiguration);
  return _createClass(OnSampleConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(OnSampleConfiguration, "use", this, 3)([engine]);
      this.filename = "on_run.py";
      this.code = this.main.model.assignment.onRun();
      return this;
    }
  }]);
}(_on_run__WEBPACK_IMPORTED_MODULE_0__.OnRunConfiguration);

/***/ }),

/***/ "./src/engine/run.js":
/*!***************************!*\
  !*** ./src/engine/run.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RunConfiguration: () => (/* binding */ RunConfiguration)
/* harmony export */ });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server */ "./src/server.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }


var RunConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  function RunConfiguration() {
    _classCallCheck(this, RunConfiguration);
    return _callSuper(this, RunConfiguration, arguments);
  }
  _inherits(RunConfiguration, _StudentConfiguration);
  return _createClass(RunConfiguration, [{
    key: "use",
    value: function use(engine) {
      this.main.model.execution.feedback.message("Running...");
      this.filename = "answer";
      this.code = this.main.model.ui.files.getStudentCode();
      if (this.main.model.assignment.settings.disableStudentRun()) {
        this.code = "";
      }
      //this.code = this.main.model.submission.code();
      this.main.components.server.saveFile("answer.py", this.main.model.submission.code(), null);
      this.main.components.server.logEvent("Compile", "", "", "", "answer.py");
      //console.log(this.code);
      _superPropGet(RunConfiguration, "use", this, 3)([engine]);
      engine.reset();
      this.updateParse();
      this.main.model.execution.reports["verifier"] = {
        "success": Boolean(this.code.trim()),
        "code": this.code
      };
      if (typeof Sk.environ == "undefined") {
        Sk.environ = new Sk.builtin.dict();
      }
      var printerTag = this.main.components.console.printerTag,
        width = printerTag.width() - 50,
        height = Math.max(300, printerTag.height() - 50);
      Sk.environ.set$item(new Sk.builtin.str("DESIGNER_WINDOW_WIDTH"), new Sk.builtin.int_(Math.round(width)));
      Sk.environ.set$item(new Sk.builtin.str("DESIGNER_WINDOW_HEIGHT"), new Sk.builtin.int_(Math.round(height)));
      Sk.retainGlobals = false;
      this.clearInput();
      return this;
    }
  }, {
    key: "success",
    value: function success(module) {
      var _this = this;
      console.log("Run success");
      var message = {
        "inputs": this.main.model.execution.input().join("\n"),
        "outputs": this.main.model.execution.output().map(function (line) {
          return line.content;
        }).join("\n")
      };
      this.main.components.server.logEvent("Run.Program", "", "", JSON.stringify(message), "answer.py");
      this.main.model.display.dirtySubmission(false);
      this.main.components.console.finishTurtles();
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.READY);
      this.main.model.execution.student.globals(Sk.globals);
      Sk.globals = {};
      var report = this.main.model.execution.reports;
      var filename = this.filename;
      this.main.model.execution.student.results = module;
      if (!this.main.model.assignment.settings.hideEvaluate()) {
        this.main.components.console.beginEval();
      }
      return new Promise(function (resolve, reject) {
        _this.step(module.$d, module.$d, -1, 0, filename + ".py");
        _this.lastStep();
        report["student"] = {
          "success": true,
          "trace": _this.engine.executionBuffer.trace,
          "lines": _this.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "results": module,
          "output": _this.main.model.execution.output,
          "input": _this.main.model.execution.input,
          "calls": _this.main.model.execution.student.calls,
          "tracing": []
        };
        resolve();
      });
    }
  }, {
    key: "failure",
    value: function failure(error) {
      var _this2 = this;
      console.error("Run failure", error);
      this.main.model.status.onExecution(_server__WEBPACK_IMPORTED_MODULE_1__.StatusState.FAILED);
      var report = this.main.model.execution.reports;
      if (report.parser.success && report.verifier.success) {
        this.main.components.server.logEvent("Run.Program", "ProgramErrorOutput", "", error.toString(), "answer.py");
      } else {
        this.main.components.server.logEvent("Compile.Error", "", "", error.toString(), "answer.py");
      }
      this.lastStep();
      return new Promise(function (resolve, reject) {
        report["student"] = {
          "success": false,
          "error": error,
          "trace": _this2.engine.executionBuffer.trace,
          "lines": _this2.engine.executionBuffer.trace.map(function (x) {
            return x.line;
          }),
          "realLines": _this2.engine.executionBuffer.trace.filter(function (x) {
            return !x.isDocstring;
          }).map(function (x) {
            return x.line;
          }),
          "input": _this2.main.model.execution.input,
          "calls": _this2.main.model.execution.student.calls,
          "tracing": []
        };
        resolve();
      });
    }
  }]);
}(_student__WEBPACK_IMPORTED_MODULE_0__.StudentConfiguration);

/***/ }),

/***/ "./src/engine/sample.js":
/*!******************************!*\
  !*** ./src/engine/sample.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SampleConfiguration: () => (/* binding */ SampleConfiguration)
/* harmony export */ });
/* harmony import */ var _student__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./student */ "./src/engine/student.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var SampleConfiguration = /*#__PURE__*/function (_StudentConfiguration) {
  function SampleConfiguration() {
    _classCallCheck(this, SampleConfiguration);
    return _callSuper(this, SampleConfiguration, arguments);
  }
  _inherits(SampleConfiguration, _StudentConfiguration);
  return _createClass(SampleConfiguration, [{
    key: "use",
    value: function use(engine) {
      _superPropGet(SampleConfiguration, "use", this, 3)([engine]);
      // TODO: Fix to be the current sample submission
      this.filename = "answer.py";
      this.code = "print('Not ready yet!')";
      return this;
    }
  }]);
}(_student__WEBPACK_IMPORTED_MODULE_0__.StudentConfiguration);

/***/ }),

/***/ "./src/engine/student.js":
/*!*******************************!*\
  !*** ./src/engine/student.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StudentConfiguration: () => (/* binding */ StudentConfiguration)
/* harmony export */ });
/* harmony import */ var _configurations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configurations */ "./src/engine/configurations.js");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
function _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }
function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }
function _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }
function _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }
function _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }
function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }
function _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }

var StudentConfiguration = /*#__PURE__*/function (_Configuration) {
  function StudentConfiguration() {
    _classCallCheck(this, StudentConfiguration);
    return _callSuper(this, StudentConfiguration, arguments);
  }
  _inherits(StudentConfiguration, _Configuration);
  return _createClass(StudentConfiguration, [{
    key: "use",
    value: function use(engine) {
      var _this = this;
      _superPropGet(StudentConfiguration, "use", this, 3)([engine]);
      // Limit execution to 4 seconds
      var settings = this.main.model.settings;
      Sk.execLimitFunction = function () {
        return _this.main.model.assignment.settings.disableTimeout() ? Infinity : 5000;
      };
      Sk.execLimit = Sk.execLimitFunction();
      // Stepper! Executed after every statement.
      Sk.afterSingleExecution = this.step.bind(this);

      // Unmute everything
      this.main.model.display.mutePrinter(false);

      // Function to call after each step
      // afterSingleExecution

      Sk.builtinFiles.files["src/lib/utility/__init__.js"] = _configurations__WEBPACK_IMPORTED_MODULE_0__.EMPTY_MODULE;
      return this;
    }
  }, {
    key: "openFile",
    value: function openFile(filename) {
      var found = this.main.components.fileSystem.searchForFile(filename, true);
      //console.log(filename, found);
      if (found === undefined) {
        if (Sk.builtinFiles && Sk.builtinFiles["files"][filename] !== undefined) {
          return Sk.builtinFiles["files"][filename];
        } else {
          throw new Sk.builtin.OSError("File not found: " + filename);
        }
      } else {
        return found.contents();
      }
    }
  }, {
    key: "importFile",
    value: function importFile(filename) {
      if (this.isForbidden(filename)) {
        throw "File not accessible: '" + filename + "'";
      } else if (filename === "./answer.py") {
        return this.main.model.submission.code();
      } else if (Sk.builtinFiles === undefined) {
        throw new Sk.builtin.OSError("Built-in modules not accessible.");
      } else if (Sk.builtinFiles["files"][filename] !== undefined) {
        return Sk.builtinFiles["files"][filename];
      } else {
        var found = this.main.components.fileSystem.searchForFile(filename, true);
        if (found === undefined) {
          throw new Sk.builtin.OSError("File not found: '" + filename + "'");
        } else {
          return found.contents();
        }
      }
    }
  }, {
    key: "input",
    value: function input(promptMessage) {
      return this.main.components.console.input(promptMessage);
    }
  }, {
    key: "isForbidden",
    value: function isForbidden(filename) {
      return filename.startsWith("src/lib/utility/") || filename.startsWith("src/lib/pedal/") || filename.startsWith("./_instructor/");
    }

    /**
     * "Steps" the execution of the code, meant to be used as a callback to the Skulpt
     * environment.
     *
     * @param {Object} globals - Hash that maps the names of global variables (Strings) to their Skulpt representation.
     * @param {Object} locals - Hash that maps the names of local variables (Strings) to their Skulpt representation.
     * @param {Number} lineNumber - The corresponding line number in the source code that is being executed.
     * @param {Number} columnNumber - The corresponding column number in the source code that is being executed.
     *                                Think of it as the "X" position to the lineNumber's "Y" position.
     * @param {String} filename - The name of the python file being executed (e.g., "__main__.py").
     * @param {Boolean} isDocstring - Whether or not this is an actual line or a docstring.
     */
  }, {
    key: "step",
    value: function step(globals, locals, lineNumber, columnNumber, filename, isDocstring, astName) {
      if (filename === "answer.py") {
        /*if (execStack) {
            console.log(execStack.map(([n, o]) => [n, {...o}]));
        }*/
        var currentStep = this.engine.executionBuffer.step;
        globals = this.main.components.trace.parseGlobals(_objectSpread(_objectSpread({}, globals), locals));
        // TODO: Trace local variables properly
        //let locals = this.main.components.trace.parseGlobals(locals);
        //Object.assign(globals, locals);
        this.engine.executionBuffer.trace.push({
          "step": currentStep,
          "filename": filename,
          //'block': highlightMap[lineNumber-1],
          "line": lineNumber,
          "column": columnNumber,
          "properties": globals.properties,
          "modules": globals.modules,
          "isDocstring": isDocstring,
          "ast": astName
        });
        this.engine.executionBuffer.step = currentStep + 1;
        this.engine.executionBuffer.line = lineNumber;
      }
    }
  }, {
    key: "lastStep",
    value:
    /**
     * Called at the end of the Skulpt execution to terminate the executionBuffer
     * and hand it off to the execution trace in the model.
     */
    function lastStep() {
      var execution = this.main.model.execution;
      execution.student.currentTraceData(this.engine.executionBuffer.trace);
      execution.student.currentStep(this.engine.executionBuffer.step);
      execution.student.lastStep(this.engine.executionBuffer.step);
      execution.student.currentLine(this.engine.executionBuffer.line);
      execution.student.lastLine(this.engine.executionBuffer.line);
      execution.student.currentTraceStep(this.engine.executionBuffer.step);
    }
  }, {
    key: "getLines",
    value: function getLines(ast) {
      var visitedLines = new Set();
      var _visitBody = function visitBody(node) {
        if (node.lineno !== undefined) {
          visitedLines.add(node.lineno);
        }
        if (node.body) {
          node.body.forEach(function (statement) {
            return _visitBody(statement);
          });
        }
        if (node.orelse) {
          node.orelse.forEach(function (statement) {
            return _visitBody(statement);
          });
        }
        if (node.finalbody) {
          node.finalbody.forEach(function (statement) {
            return _visitBody(statement);
          });
        }
      };
      _visitBody(ast);
      return Array.from(visitedLines);
    }

    /**
     * Ensure that the parse information is up-to-date
     */
  }, {
    key: "updateParse",
    value: function updateParse() {
      var report = this.main.model.execution.reports;
      // Hold all the actually discovered lines from the parse
      var lines = [];
      // Attempt a parse
      var ast;
      try {
        var parse = Sk.parse(this.filename, this.code);
        ast = Sk.astFromParse(parse.cst, this.filename, parse.flags);
        lines = this.getLines(ast);
      } catch (error) {
        // Report the error
        report["parser"] = {
          "success": false,
          "error": error,
          "empty": true,
          "lines": lines
        };
        console.error(error);
        console.log(this.filename, this.code);
        return false;
      }
      // Successful parse
      report["parser"] = {
        "success": true,
        "ast": ast,
        "empty": ast.body.length === 0,
        "lines": lines
      };
      return true;
    }
  }, {
    key: "showErrors",
    value: function showErrors() {
      var report = this.main.model.execution.reports;
      if (report["student"].success) {
        this.main.components.feedback.clear("Execution finished. No errors to report.");
      } else {
        this.main.components.feedback.presentRunError(report.student.error);
      }
    }
  }, {
    key: "provideSecretError",
    value: function provideSecretError() {
      var _this2 = this;
      var report = this.main.model.execution.reports;
      var feedback = this.main.components.feedback;
      if (!report["student"].success) {
        var errorButton = this.main.model.configuration.container.find(".blockpy-student-error");
        var message = feedback.presentRunError(report.student.error, true);
        errorButton.attr("title", "Click to see Original Error");
        errorButton.tooltip({
          "trigger": "hover",
          "container": this.main.model.configuration.attachmentPoint
        });
        errorButton.click(function () {
          return _this2.main.components.dialog.ERROR_SHOW_STUDENT_ERROR(message);
        });
        errorButton.show();
      }
    }
  }]);
}(_configurations__WEBPACK_IMPORTED_MODULE_0__.Configuration);

/***/ }),

/***/ "./src/feedback.js":
/*!*************************!*\
  !*** ./src/feedback.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyFeedback: () => (/* binding */ BlockPyFeedback),
/* harmony export */   FEEDBACK_HTML: () => (/* binding */ FEEDBACK_HTML),
/* harmony export */   py_category: () => (/* binding */ py_category),
/* harmony export */   py_kind: () => (/* binding */ py_kind),
/* harmony export */   py_message: () => (/* binding */ py_message),
/* harmony export */   py_resolved_score: () => (/* binding */ py_resolved_score),
/* harmony export */   py_title: () => (/* binding */ py_title),
/* harmony export */   py_unused_message: () => (/* binding */ py_unused_message)
/* harmony export */ });
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }

var FEEDBACK_HTML = "\n\n<span class='blockpy-floating-feedback text-muted-less pull-right position-sticky sticky-top'\n    aria-hidden=\"true\" role=\"presentation\" aria-label=\"New Feedback Alert\">\n    New feedback &uarr;\n</span>\n\n<div class='blockpy-feedback blockpy-panel'\n            role=\"region\" aria-label=\"Feedback\"\n            aria-live=\"polite\"\n            data-bind=\"class: ui.console.size\">\n\n    <div>\n    <!-- Feedback/Trace Visibility Control -->\n    <!-- ko ifnot: ui.secondRow.hideTraceButton -->\n    <button type='button'\n            class='btn btn-sm btn-outline-secondary float-right'\n            data-bind=\"click: ui.secondRow.advanceState\">\n        <span class='fas fa-eye'></span>\n        <span data-bind=\"text: ui.secondRow.switchLabel\"></span>\n    </button>\n    <!-- /ko -->\n\n    <!-- Actual Feedback Region -->    \n    <div>\n        <strong class=\"feedback-header\">Feedback: </strong>\n        <span class='badge blockpy-feedback-category feedback-badge'\n            data-bind=\"css: ui.feedback.badge,\n                       text: ui.feedback.category\">Feedback Kind</span>\n        <small data-bind=\"text: (100*submission.score())+'%',\n                          visible: display.instructor() && execution.feedback.label()\"\n            class=\"text-muted\"></small>\n        <small data-bind=\"click: ui.feedback.resetScore,\n                          visible: display.instructor() && execution.feedback.label() && submission.score() > 0\"\n            class=\"text-muted\" style=\"cursor: pointer\"><u>(reset)</u></small>\n    </div>\n    <div>\n        <strong class=\"blockpy-feedback-label\"\n            data-bind=\"text: execution.feedback.label\"></strong>\n        <div class=\"blockpy-feedback-message\"\n            data-bind=\"html: execution.feedback.message\"></div>\n    </div>\n    </div>\n    <div style=\"position: relative;\">\n        <!-- The thank you message will appear above the span -->\n        <span class=\"blockpy-feedback-thank-you\">Thank you!</span>\n    </div>\n    <small class=\"blockpy-feedback-response-full\" style=\"text-align: right\"\n        data-bind=\"visible: ui.feedback.provideRatings() && execution.feedback.label() && display.showRating()\">\n        <span style=\"cursor: pointer;\" class=\"far fa-minus-square\"\n            data-bind=\"click: ui.feedback.flipRating\"></span>\n        Rate this Feedback:\n        <span style=\"cursor: pointer; font-size: 20px\" class=\"blockpy-rating fa-thumbs-up\"\n            data-bind=\"click: ()=>ui.feedback.rate('thumbs-up'),\n                        css: ui.feedback.hasRatedClass\"></span>\n<!--        <span style=\"cursor: pointer; font-size: 20px\" class=\"blockpy-rating fa-meh\"-->\n<!--            data-bind=\"click: ()=>ui.feedback.rate('meh'),-->\n<!--                        css: ui.feedback.hasRatedClass\"></span>-->\n        <span style=\"cursor: pointer; font-size: 20px\" class=\"blockpy-rating fa-thumbs-down\"\n            data-bind=\"click: ()=>ui.feedback.rate('thumbs-down', true),\n                        css: ui.feedback.hasRatedClass\"></span>\n    </small>\n    <!-- Positive Feedback Region -->\n    <div class=\"blockpy-feedback-positive\" style=\"text-align: right\">\n    </div>\n    <small class=\"blockpy-feedback-response-collapsed\" \n        style=\"position: absolute; right: 0; bottom: 0\"\n        data-bind=\"visible: execution.feedback.label() && !display.showRating()\">\n        <span style=\"cursor: pointer; vertical-align: middle\" class=\"far fa-plus-square\"\n            data-bind=\"click: ui.feedback.flipRating\"></span> Rate\n    </small>\n</div>            \n";
var py_title = new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("title");
var py_category = new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("category");
var py_kind = new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("kind");
var py_message = new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("message");
var py_unused_message = new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("unused_message");
var py_resolved_score = new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("resolved_score");
var BlockPyFeedback = /*#__PURE__*/function () {
  /**
   * An object that manages the feedback area, where users are told the state of their
   * program's execution and given guidance. Also manages the creation of the Trace Table.
   *
   * @constructor
   * @this {BlockPyFeedback}
   * @param {Object} main - The main BlockPy instance
   * @param {HTMLElement} tag - The HTML object this is attached to.
   */
  function BlockPyFeedback(main, tag) {
    var _this = this;
    _classCallCheck(this, BlockPyFeedback);
    this.main = main;
    this.tag = tag;
    this.feedbackModel = this.main.model.execution.feedback;
    this.category = this.tag.find(".blockpy-feedback-category");
    this.feedbackHeader = this.tag.find(".feedback-header");
    this.label = this.tag.find(".blockpy-feedback-label");
    this.message = this.tag.find(".blockpy-feedback-message");
    this.positive = this.tag.find(".blockpy-feedback-positive");

    // TODO: If they change the student extra files, also update the dirty flag
    this.main.model.submission.code.subscribe(function () {
      return _this.main.model.display.dirtySubmission(true);
    });
  }
  return _createClass(BlockPyFeedback, [{
    key: "scrollIntoView",
    value:
    /**
     * Moves the screen (takes 1 second) to make the Feedback area visible.
     */
    function scrollIntoView() {
      $("html, body").animate({
        scrollTop: this.tag.offset().top
      }, 700);
    }
  }, {
    key: "isFeedbackVisible",
    value:
    /**
     * Determines if the feedback area is currently visible
     * @returns {boolean}
     */
    function isFeedbackVisible() {
      var visibilityBuffer = 100;
      var topOfElement = this.tag.offset().top;
      //let bottomOfElement = this.tag.offset().top + this.tag.outerHeight();
      var bottomOfElement = topOfElement + visibilityBuffer;
      var bottomOfScreen = $(window).scrollTop() + $(window).height();
      var topOfScreen = $(window).scrollTop();
      //bottom_of_element -= 40; // User friendly padding
      return topOfElement < bottomOfScreen && topOfScreen < bottomOfElement;
    }
  }, {
    key: "clear",
    value:
    /**
     * Clears any output currently in the feedback area. Also resets the printer and
     * any highlighted lines in the editor.
     */
    function clear() {
      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "Ready";
      this.feedbackModel.message(message);
      this.feedbackModel.category(null);
      this.feedbackModel.label(null);
      this.feedbackModel.hidden(false);
      this.feedbackModel.linesError.removeAll();
      this.feedbackModel.linesUncovered.removeAll();
      this.clearPositiveFeedback();
      this.feedbackHeader.off("click");
      this.main.model.display.hasRated(false);
    }
  }, {
    key: "updateRegularFeedback",
    value: function updateRegularFeedback() {}

    /**
     * Updates the model with these new execution results
     * @param executionResults
     */
  }, {
    key: "updateFeedback",
    value: function updateFeedback(executionResults, feedbacks) {
      var _this2 = this;
      // Parse out data
      var message = Sk.ffi.remapToJs(executionResults.MESSAGE);
      var category = Sk.ffi.remapToJs(executionResults.CATEGORY);
      var label = Sk.ffi.remapToJs(executionResults.LABEL);
      var hide = Sk.ffi.remapToJs(executionResults.HIDE);
      var data = executionResults.DATA;
      var positives = Sk.ffi.remapToJs(executionResults.POSITIVE);

      // Override based on assignments' settings
      // NOTE: We used to hide the completion if the assignment was hidden, but this is no longer the case.
      // Now the hidden status controls whether the student can see detailed feedback and stuff when they look at it
      // in the grade view, and whether TAs can see the submission.
      // let hideScore = this.main.model.assignment.hidden();
      // if (hideScore && category.toLowerCase() === "complete") {
      //     category = "no errors";
      //     label = "No errors";
      //     message = "No errors reported.";
      // }

      // Remap to expected BlockPy labels
      if (category.toLowerCase() === "instructor" && label.toLowerCase() === "explain") {
        label = "Instructor Feedback";
      }

      // Don't present a lack of error as being incorrect
      if (category === "Instructor" && label === "No errors") {
        category = "no errors";
      }

      // Update model accordingly
      message = this.main.utilities.markdown(message).replace(/<pre>\n/g, "<pre>\n\n");
      this.feedbackModel.message(message);
      this.feedbackModel.category(category);
      this.feedbackModel.label(label);
      //let highlightTimeout = setTimeout(() => {
      this.message.find("pre code").map(function (i, block) {
        window.hljs.highlightBlock(block);
      });
      //}, 400);
      // TODO: Instead of tracking student file, let's track the instructor file
      var fullPayload = JSON.stringify({
        message: message,
        syntaxError: category.toLowerCase() === "syntax",
        runtimeError: category.toLowerCase() === "runtime",
        unitTests: this.countTestCases(feedbacks)
      });
      console.log(fullPayload);
      this.main.components.server.logEvent("Intervention", category, label, fullPayload, "answer.py", true);
      /*
          Example bits of data we want to track:
          - Number of lines uncovered
          - SyntaxError
          - Unit tests passed/failed
       */

      // Clear out any previously highlighted lines
      this.main.components.pythonEditor.bm.clearHighlightedLines();

      // Find the first error on a line and report that
      var line = BlockPyFeedback.findFirstErrorLine(data);
      this.feedbackModel.linesError.removeAll();
      if (line !== null && line !== undefined) {
        this.feedbackModel.linesError.push(line);
      }

      // Invert the set of traced lines
      var studentReport = this.main.model.execution.reports.student;
      this.feedbackModel.linesUncovered.removeAll();
      if (studentReport.success) {
        var uncoveredLines = [];
        this.main.model.execution.reports.parser.lines.forEach(function (line) {
          if (studentReport.lines.indexOf(line) === -1) {
            uncoveredLines.push(line);
          }
        });
        this.feedbackModel.linesUncovered(uncoveredLines);
      }
      var _loop = function _loop() {
        var positiveData = positives[i];
        _this2.addPositiveFeedback(positiveData.message, "star", "green", function () {
          return _this2.main.components.dialog.POSITIVE_FEEDBACK_FULL(positiveData.title, positiveData.message);
        });
      };
      for (var i = 0; i < positives.length; i += 1) {
        _loop();
      }
    }
  }, {
    key: "clearPositiveFeedback",
    value: function clearPositiveFeedback() {
      this.positive.empty();
      this.main.model.configuration.container.find(".blockpy-student-error").hide();
    }
  }, {
    key: "addPositiveFeedback",
    value: function addPositiveFeedback(text, icon, color, onclick, toEnd) {
      var _this3 = this;
      var positive = $("<span></span>");
      positive.addClass("blockpy-feedback-positive-icon fas fa-" + icon);
      positive.css("color", color);
      positive.attr("title", text);
      if (toEnd) {
        this.positive.append(positive);
      } else {
        this.positive.prepend(positive);
      }
      positive.tooltip({
        "trigger": "hover",
        "container": this.main.model.configuration.attachmentPoint
      });
      if (onclick !== undefined) {
        positive.click(onclick);
      }
      positive.hover(function () {
        _this3.main.components.server.logEvent("X-Feedback", "positive", "hover", text, "");
      });
    }

    /**
     * Present any accumulated feedback
     */
  }, {
    key: "presentFeedback",
    value: function presentFeedback(executionResults) {
      var feedbacks = this.getAllFeedbacks(executionResults);
      this.updateFeedback(executionResults, feedbacks);
      this.feedbackHeader.off("click");
      if (this.main.model.display.instructor()) {
        console.log(executionResults);
        this.updateFullFeedback(feedbacks);
      }

      // TODO: Logging
      //this.main.components.server.logEvent("feedback", category+"|"+label, message);

      this.notifyFeedbackUpdate();
    }
  }, {
    key: "processSingleFeedback",
    value: function processSingleFeedback(element) {
      var title = element.tp$getattr(py_title).toString();
      var category = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.capitalize)(element.tp$getattr(py_category).toString());
      var kind = element.tp$getattr(py_kind).toString();
      var active = Sk.misceval.isTrue(element);
      var message = element.tp$getattr(py_message).toString();
      var unused_message = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("unused_message")).toString();
      message = message === "None" ? unused_message : message;
      var justification = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("justification")).toString();
      var parent = element.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("parent"));
      var hasParent = !Sk.builtin.checkNone(parent);
      var score = element.tp$getattr(py_resolved_score);
      score = score === Sk.builtin.none.none$ ? "" : score.tp$name === "float" ? "+" + Math.round(score.v * 100).toString() + "%" : score.toString();
      return [element, parent, "\n        <div class=\"list-group-item flex-column align-items-start\" ".concat(hasParent ? "style='margin-left: 50px;'" : "", ">\n            <div class=\"d-flex w-100 justify-content-between align-items-center\">\n                <span><strong class=\"mb-1\" style=\"").concat(active ? "" : "text-decoration: line-through;", "\">").concat(title, "</strong> (").concat(category, " - ").concat(kind, ")</span>\n                <span class=\"badge badge-info badge-pill\">").concat(score, "</span>\n            </div>\n            ").concat(active ? "" : "<div>(Muted - Not shown to student)</div>", "\n            <div class=\"mb-1 p-1 feedback-expand-on-click feedback-shrunk\">\n                ").concat(message, "\n            </div>\n            <small style=\"white-space: pre\">").concat(justification, "</small>\n        </div>\n        ")];
    }
  }, {
    key: "countTestCases",
    value: function countTestCases(feedbacks) {
      var testCaseCount = 0;
      var feedbackCount = feedbacks.length;
      var successes = 0;
      var feedbackSuccess = 0;
      feedbacks.forEach(function (element) {
        var category = element.tp$getattr(py_category).toString();
        if (category === "specification") {
          testCaseCount += 1;
        }
        var active = Sk.misceval.isTrue(element);
        var score = element.tp$getattr(py_resolved_score);
        score = score === Sk.builtin.none.none$ ? 0 : score.tp$name === "float" ? Math.round(score.v * 100).toString() : score;
        if (category === "specification") {
          successes += !active;
        }
        feedbackSuccess += !active;
      });
      return {
        tests: testCaseCount,
        feedbacks: feedbackCount,
        successes: successes,
        feedbackSuccess: feedbackSuccess
      };
    }
  }, {
    key: "getAllFeedbacks",
    value: function getAllFeedbacks(executionResults) {
      if (!("MAIN_REPORT" in executionResults)) {
        return [];
      }
      var mainReport = executionResults.MAIN_REPORT;
      var feedback = mainReport.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("feedback"));
      if (!feedback) {
        return [];
      }
      var feedbacks = [];
      Sk.misceval.iterFor(feedback.tp$iter(), function (element) {
        feedbacks.push(element);
      });
      Sk.misceval.iterFor(mainReport.tp$getattr(new _utilities__WEBPACK_IMPORTED_MODULE_0__.pyStr("ignored_feedback")).tp$iter(), function (element) {
        feedbacks.push(element);
      });
      return feedbacks;
    }
  }, {
    key: "updateFullFeedback",
    value: function updateFullFeedback(feedbacks) {
      var _this4 = this;
      feedbacks = feedbacks.map(function (element) {
        return _this4.processSingleFeedback(element);
      });
      var parents = new Map();
      for (var i = 0; i < feedbacks.length; i += 1) {
        var _feedbacks$i = _slicedToArray(feedbacks[i], 3),
          element = _feedbacks$i[0],
          parent = _feedbacks$i[1],
          text = _feedbacks$i[2];
        var hasParent = !Sk.builtin.checkNone(parent);
        if (hasParent) {
          if (!parents.has(parent)) {
            parents.set(parent, []);
          }
          parents.get(parent).push(text);
        } else {
          if (!parents.has(element)) {
            parents.set(element, []);
          }
          parents.get(element).unshift(text);
        }
      }
      feedbacks = _toConsumableArray(parents.values()).flat();
      this.feedbackHeader.on("click", function () {
        _this4.main.components.dialog.show("Full Feedback Information", '<div class="list-group">' + feedbacks.join("\n") + "</div>");
        $(".feedback-expand-on-click").on("click", function (event) {
          $(event.target).toggleClass("feedback-shrunk");
        });
      });
    }
  }, {
    key: "notifyFeedbackUpdate",
    value: function notifyFeedbackUpdate() {
      if (!this.isFeedbackVisible()) {
        this.tag.find(".blockpy-floating-feedback").show().fadeOut(7000);
        if (this.shouldScrollIntoView()) {
          this.scrollIntoView();
        }
      }
    }
  }, {
    key: "shouldScrollIntoView",
    value: function shouldScrollIntoView() {
      return !this.main.model.ui.smallLayout();
    }
  }, {
    key: "presentRunError",
    value: function presentRunError(error, just_return) {
      if (just_return === undefined) {
        just_return = false;
      }
      var message, label, category, lineno;
      label = error.tp$name;
      category = "runtime";
      message = this.convertSkulptError(error);
      if (just_return) {
        return message;
      }
      this.feedbackModel.message(message);
      this.feedbackModel.category(category);
      this.feedbackModel.label(label);
      this.feedbackModel.linesError.removeAll();
      if (lineno !== undefined && lineno !== null) {
        this.feedbackModel.linesError.push(lineno);
      }
    }
  }, {
    key: "buildTraceback",
    value: function buildTraceback(error, filenameExecuted) {
      var _this5 = this;
      return error.traceback.map(function (frame) {
        if (!frame) {
          return "??";
        }
        var lineno = frame.lineno;
        if (frame.filename.slice(0, -3) === filenameExecuted) {
          lineno -= _this5.main.model.execution.reports.instructor.lineOffset;
        }
        var file = "File <code class=\"filename\">\"".concat(frame.filename, "\"</code>, ");
        var line = "on line <code class=\"lineno\">".concat(lineno, "</code>, ");
        var scope = frame.scope !== "<module>" && frame.scope !== undefined ? "in scope ".concat(frame.scope) : "";
        var source = undefined;
        if (frame.source !== undefined) {
          source = frame.source;
        } else if (frame.filename && frame.lineno) {
          source = Sk.getSourceLine(frame.filename, frame.lineno);
        }
        source = source ? "\n<pre><code>".concat(source, "</code></pre>") : "";
        return file + line + scope + source;
      });
    }
  }, {
    key: "convertSkulptError",
    value: function convertSkulptError(error, filenameExecuted, isInstructor) {
      var name = error.tp$name;
      var args = Sk.ffi.remapToJs(error.args);
      var top = "".concat(name, ": ").concat(args[0], "\n<br>\n<br>");
      var traceback = "";
      if (name === "TimeoutError") {
        if (error.err && error.err.traceback && error.err.traceback.length) {
          var allFrames = this.buildTraceback(error.err, filenameExecuted);
          var result = ["Traceback:"];
          if (allFrames.length > 5) {
            result.push.apply(result, _toConsumableArray(allFrames.slice(0, 3)).concat(["... Hiding ".concat(allFrames.length - 3, " other stack frames ...,")], _toConsumableArray(allFrames.slice(-3, -2))));
          } else {
            result.push.apply(result, _toConsumableArray(allFrames));
          }
          traceback = result.join("\n<br>");
        }
      } else {
        if (isInstructor) {
          top = "Error in instructor feedback. Please show the following to an instructor:<br>\n" + top;
        }
        if (error.traceback && error.traceback.length) {
          traceback = "Traceback:<br>\n" + this.buildTraceback(error, filenameExecuted).join("\n<br>");
        }
      }
      return top + "\n" + traceback;
    }
  }, {
    key: "presentInternalError",
    value: function presentInternalError(error, filenameExecuted) {
      if (error.tp$name === "TimeoutError") {
        this.main.model.execution.feedback.category("runtime");
        this.main.model.execution.feedback.label("Timeout Error");
      } else {
        this.main.model.execution.feedback.category("internal");
        this.main.model.execution.feedback.label("Internal Error");
      }
      var message = this.convertSkulptError(error, filenameExecuted, true);
      this.main.model.execution.feedback.message(message);
      this.notifyFeedbackUpdate();
      this.main.components.server.logEvent("X-System.Error", "internal", "Internal Error", message, filenameExecuted);
    }
  }], [{
    key: "findFirstErrorLine",
    value: function findFirstErrorLine(feedbackData) {
      if (feedbackData.quick$lookup) {
        var location = feedbackData.quick$lookup(new Sk.builtin.str("location"));
        if (location) {
          var line = location.tp$getattr(new Sk.builtin.str("line"));
          if (line) {
            return Sk.ffi.remapToJs(line);
          }
        }
      }
      return null;
      /*for (let i = feedbackData.length-1; i >= 0; i-= 1) {
          if ("position" in feedbackData[i]) {
              return feedbackData[i].position.line;
          }
      }
      return null;*/
    }
  }]);
}();

/***/ }),

/***/ "./src/files.js":
/*!**********************!*\
  !*** ./src/files.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BASIC_NEW_FILES: () => (/* binding */ BASIC_NEW_FILES),
/* harmony export */   BlockPyFileSystem: () => (/* binding */ BlockPyFileSystem),
/* harmony export */   FILES_HTML: () => (/* binding */ FILES_HTML),
/* harmony export */   STARTING_FILES: () => (/* binding */ STARTING_FILES),
/* harmony export */   UNDELETABLE_FILES: () => (/* binding */ UNDELETABLE_FILES),
/* harmony export */   UNRENAMABLE_FILES: () => (/* binding */ UNRENAMABLE_FILES),
/* harmony export */   chompSpecialFile: () => (/* binding */ chompSpecialFile),
/* harmony export */   createConcatenatedFile: () => (/* binding */ createConcatenatedFile),
/* harmony export */   loadConcatenatedFile: () => (/* binding */ loadConcatenatedFile),
/* harmony export */   makeModelFile: () => (/* binding */ makeModelFile),
/* harmony export */   observeConcatenatedFile: () => (/* binding */ observeConcatenatedFile)
/* harmony export */ });
/* harmony import */ var utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! utilities.js */ "./src/utilities.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }


// ${makeTab("?mock_urls.blockpy", "URL Data", true)}

var makeTab = function makeTab(filename, friendlyName, hideIfEmpty, notInstructor) {
  if (friendlyName === undefined) {
    friendlyName = filename;
  }
  var instructorFileClass = "";
  var hideIfNotInstructor = "true";
  if (!notInstructor) {
    instructorFileClass = "blockpy-file-instructor";
    hideIfNotInstructor = "display.instructor()";
  }
  return "\n    <li class=\"nav-item ".concat(instructorFileClass, "\">\n        <a class=\"nav-link\" href=\"#\"\n            data-toggle=\"tab\"\n            data-bind=\"css: {active: display.filename() === '").concat(filename, "'},\n                click: display.filename.bind($data, '").concat(filename, "'),\n                visible: (!").concat(hideIfEmpty, " || ui.files.hasContents('").concat(filename, "')) && ").concat(hideIfNotInstructor, "\">\n            ").concat(friendlyName, "</a>\n    </li>");
};
var FILES_HTML = "\n<div class=\"blockpy-panel blockpy-files\"\n    data-bind=\"visible: ui.files.visible, class: ui.files.width\">\n<ul class=\"nav nav-tabs\" role=\"tablist\">\n\n    <li class=\"nav-item\">\n        <strong>View: </strong>\n    </li>\n\n    ".concat(makeTab("answer.py", undefined, undefined, true), "\n    ").concat(makeTab("!instructions.md", "Instructions"), "\n    ").concat(makeTab("!assignment_settings.blockpy", "Settings"), "\n    ").concat(makeTab("^starting_code.py", "Starting Code"), "\n    ").concat(makeTab("!on_run.py", "On Run"), "\n    ").concat(makeTab("!on_change.py", "On Change", true), "\n    ").concat(makeTab("!on_eval.py", "On Eval", true), "\n    ").concat(makeTab("!sample_submissions.blockpy", "Sample Submissions", true), "\n    ").concat(makeTab("!tags.blockpy", "Tags", true), "\n    \n    <!-- ko foreach: assignment.extraInstructorFiles -->\n        <li class=\"nav-item\"\n            data-bind=\"css: {'blockpy-file-instructor': !filename().startsWith('&')},\n                       visible: filename().startsWith('&') || $root.display.instructor() \">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename(),\n                                 uneditable: filename().startsWith('&')},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())\">\n            </a>        \n        </li>\n    <!-- /ko -->\n    <!-- ko foreach: assignment.extraStartingFiles -->\n        <li class=\"nav-item blockpy-file-instructor\"\n            data-bind=\"visible: $root.display.instructor()\">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: filename\">\n            </a>        \n        </li>\n    <!-- /ko -->\n    \n    <!-- ko foreach: submission.extraFiles -->\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"\n                data-toggle=\"tab\"\n                data-bind=\"css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())\">\n            </a>\n        </li>\n    <!-- /ko -->\n  \n    <li class=\"nav-item dropdown\" data-bind=\"visible: ui.files.addIsVisible\">\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" data-toggle=\"dropdown\"\n         role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Add New</a>\n        <!-- ko if: $root.display.instructor() -->\n        <div class=\"dropdown-menu dropdown-menu-right\">\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?mock_urls.blockpy'),\n                           click: ui.files.add.bind($data, '?mock_urls.blockpy')\">URL Data</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('images.blockpy'),\n                           click: ui.files.add.bind($data, 'images.blockpy')\">Images</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('?toolbox.blockpy'),\n                           click: ui.files.add.bind($data, '?toolbox.blockpy')\">Toolbox</a>\n            \n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!tags.blockpy')\">Tags</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!sample_submissions.blockpy'),\n                           click: ui.files.add.bind($data, '!sample_submissions.blockpy')\">Sample Submissions</a>\n            <div class=\"dropdown-divider\"></div>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: assignment.onChange,\n                           click: ui.files.add.bind($data, '!on_change.py')\">On Change</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: assignment.onEval,\n                           click: ui.files.add.bind($data, '!on_eval.py')\">On Eval</a>\n            <div class=\"dropdown-divider\"></div>\n           <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!answer_prefix.py'),\n                           click: ui.files.add.bind($data, '!answer_prefix.py')\">Answer Prefix</a>\n           <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"hidden: ui.files.hasContents('!answer_suffix.py'),\n                           click: ui.files.add.bind($data, '!answer_suffix.py')\">Answer Suffix</a>\n            <div class=\"dropdown-divider\"></div>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'starting')\">Starting File</a>\n            <a class=\"dropdown-item blockpy-file-instructor\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'instructor')\">Instructor File</a>\n            <a class=\"dropdown-item\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'student')\">Student File</a>\n        </div>\n        <!-- /ko -->\n        <!-- ko ifnot: $root.display.instructor() -->\n        <div class=\"dropdown-menu dropdown-menu-right\">\n        <a class=\"dropdown-item\" href=\"#\"\n                data-bind=\"click: ui.files.add.bind($data, 'student')\">Student File</a>\n        </div>\n        <!-- /ko -->\n    </li>\n  \n</ul>\n</div>\n");
var NEW_INSTRUCTOR_FILE_DIALOG_HTML = "\n<form>\n<div class=\"form-group row\">\n    <div>\n        <p>This dialog box is for creating text files (e.g., Python code, Markdown, etc.) that will be\n        accessible from Python. If you want to upload a binary file (e.g., an image, a sqlite database),\n        then you should use the \"Images\" or \"URL Data\" options.</p>\n        \n        <p>Students will not be able to see file tabs unless you change the \"Hide Files\" setting to be unchecked.</p>\n    </div>\n    <!-- Filename -->\n    <div class=\"col-sm-2 text-right\">\n        <label for=\"blockpy-instructor-file-dialog-filename\">Filename:</label>\n    </div>\n    <div class=\"col-sm-10\">\n        <input type=\"text\" class=\"form-control blockpy-instructor-file-dialog-filename\"\n            id=\"blockpy-instructor-file-dialog-filename\">    \n    </div>\n    <!-- Filetype -->\n    <div class=\"col-sm-2 text-right mt-2\">\n        <label for=\"blockpy-instructor-file-dialog-filetype\">Filetype: </label>\n    </div>\n    <div class=\"col-sm-10\">\n        <span class=\"blockpy-instructor-file-dialog-filetype\"\n            id=\"blockpy-instructor-file-dialog-filetype\"></span>    \n    </div>\n    <!-- Inaccessible to student? -->\n    <div class=\"col-sm-2 text-right mt-2\">\n        <label for=\"blockpy-instructor-file-dialog-namespace\">Namespace: </label>\n    </div>\n    <div class=\"col-sm-4\">\n        <select class=\"form-control blockpy-instructor-file-dialog-namespace\"\n            id=\"blockpy-instructor-file-dialog-namespace\">\n            <option value=\"!\">Completely inaccessible</option>\n            <option value=\"?\">Hidden from student, accessible programatically</option>\n            <option value=\"&\">Visible to student, but not editable</option>\n        </select>\n    </div>\n</div>\n</form>\n";

/**
 * Filenames live in one of five possible namespaces:
 *  Instructor (!): Invisible to the student under all circumstances
 *  Start Space (^): Used to reset the student namespace
 *  Student Space (): Visible to the student when display.hideFiles is not true, able to be edited
 *  Hidden Space (?): Not directly visible to the student, but accessible programmatically
 *  Read-only Space (&): An instructor file type visible to the student, but is uneditable by them
 *  Secret Space ($): Not visible from the menu at all, some other mechanism controls it
 *  Generated Space (*): Visible to the student, but destroyed after Engine.Clear. Can shadow an actual file.
 *  Concatenated Space (#): Used when bundling a space for the server.
 */

var STARTING_FILES = [
// Submission
"answer.py",
// Instructor files
"!instructions.md", "!assignment_settings.blockpy", "^starting_code.py", "!on_run.py", "$settings.blockpy"];
var BASIC_NEW_FILES = ["!on_change.py", "!on_eval.py", "?mock_urls.blockpy", "?toolbox.blockpy", "!tags.blockpy", "!sample_submissions.blockpy", "!answer_prefix.py", "!answer_suffix.py"];
function chompSpecialFile(filename) {
  if ("!^?&$*#".includes(filename[0])) {
    return filename.slice(1);
  } else {
    return filename;
  }
}
var INSTRUCTOR_DIRECTORY = "_instructor/";
var STUDENT_DIRECTORY = "_student/";
var SearchModes = {
  EVERYWHERE: "EVERYWHERE",
  START_WITH_INSTRUCTOR: "START_WITH_INSTRUCTOR",
  ONLY_STUDENT_FILES: "ONLY_STUDENT_FILES"
};
var DELETABLE_SIMPLE_FILES = ["!on_change.py", "!on_eval.py"];
var UNDELETABLE_FILES = ["answer.py", "!instructions.md", "!assignment_settings.py", "^starting_code.py", "!on_run.py", "$settings.blockpy"];
var UNRENAMABLE_FILES = ["answer.py", "!instructions.md", "!assignment_settings.py", "^starting_code.py", "!on_run.py", "$settings.blockpy", "!on_change.py", "!on_eval.py", "?mock_urls.blockpy", "?toolbox.blockpy", "!tags.blockpy", "!sample_submissions.blockpy", "!answer_prefix.py", "!answer_suffix.py"];
var BlockPyFile = /*#__PURE__*/_createClass(function BlockPyFile(main, filename, contents) {
  _classCallCheck(this, BlockPyFile);
  this.main = main;
  this.filename = filename;
  this.contents = contents || "";
  this.owner = null;
  this.handle = null;
});
function makeModelFile(filename, contents) {
  return {
    "filename": ko.observable(filename),
    contents: ko.observable(contents || "")
  };
}
function makeMockModelFile(filename, _contents) {
  return {
    filename: function (_filename) {
      function filename() {
        return _filename.apply(this, arguments);
      }
      filename.toString = function () {
        return _filename.toString();
      };
      return filename;
    }(function () {
      return filename;
    }),
    contents: function contents() {
      return _contents;
    }
  };
}
function loadConcatenatedFile(concatenatedFile, modelFileList) {
  if (concatenatedFile) {
    var files = JSON.parse(concatenatedFile);
    var modelFiles = [];
    for (var _filename2 in files) {
      if (files.hasOwnProperty(_filename2)) {
        modelFiles.push(makeModelFile(_filename2, files[_filename2]));
      }
    }
    //files = files.map(file => makeModelFile(file.filename, file.contents));
    if (modelFileList) {
      modelFileList(modelFiles);
    } else {
      return modelFiles;
    }
  } else {
    if (modelFileList) {
      modelFileList([]);
    } else {
      return [];
    }
  }
}
function createConcatenatedFile(modelFileList) {
  return JSON.stringify(modelFileList().map(function (file) {
    return {
      filename: file.filename(),
      contents: file.contents()
    };
  }));
}
function observeConcatenatedFile(modelFileList) {
  return ko.pureComputed(function () {
    var result = {};
    modelFileList().forEach(function (file) {
      return result[file.filename()] = file.contents();
    });
    return JSON.stringify(result);
  });
}

/**
 * Abstracts away database logic
 */
var BlockPyFileSystem = /*#__PURE__*/function () {
  function BlockPyFileSystem(main) {
    _classCallCheck(this, BlockPyFileSystem);
    this.main = main;
    this.files_ = {};
    this.mountFiles();
    this.watchModel();
    this.watches_ = {};
    this.remoteFiles_ = {};
    this.filesToUrls = {};

    /*main.model.configuration.container.find(".blockpy-file-instructor").toggle(this.main.model.display.instructor());
    this.main.model.display.instructor.subscribe((visiblity)=> {
        main.model.configuration.container.find(".blockpy-file-instructor").toggle(visiblity);
    });*/
  }
  return _createClass(BlockPyFileSystem, [{
    key: "watchFile",
    value: function watchFile(filename, callback) {
      if (!(filename in this.watches_)) {
        this.watches_[filename] = [];
      }
      this.watches_[filename].push(callback);
    }
  }, {
    key: "stopWatchingFile",
    value: function stopWatchingFile(filename) {
      delete this.watches_[filename];
    }
  }, {
    key: "watchModel",
    value: function watchModel() {
      var _this = this;
      var filesystem = this;
      [this.main.model.submission.extraFiles, this.main.model.assignment.extraStartingFiles, this.main.model.assignment.extraInstructorFiles].forEach(function (fileArray) {
        return fileArray.subscribe(function (changes) {
          changes.sort(function (first, second) {
            return second.status.localeCompare(first.status);
          }).forEach(function (change) {
            var modelFile = change.value;
            if (change.status === "added") {
              // Track new file
              var file = filesystem.newFile(modelFile.filename(), modelFile.contents(), modelFile.contents);
              filesystem.notifyWatches(file);
            } else if (change.status === "deleted") {
              // Delete file
              var _file = filesystem.deleteFileLocally_(modelFile.filename());
              if (filesystem.main.model.display.filename() === modelFile.filename()) {
                filesystem.main.model.display.filename("answer.py");
              }
            }
          });
        }, _this, "arrayChange");
      });
    }

    // answer.py
    //   => subscribe to first element of submission.code)
    // !on_run.py, !on_change.py, !on_eval.py
    //   => subscribe to relevant assignment.<whatever>
    // ^starting_code.py
    //   => subscribe to first element of assignment.startingCode
    // ^whatever
    //   => subscribe to rest of the elements of assignment.startingCode
    // !whatever or ?whatever
    //   => subscribe to elements of assignment.extraFiles
    // Otherwise:
    //   => subscribe to rest of the elements of submission.code
    /**
     * New special files need to be registered here
     * @param file {BlockPyFile}
     * @private
     */
  }, {
    key: "observeFile_",
    value: function observeFile_(file) {
      if (file.filename === "answer.py") {
        file.handle = this.main.model.submission.code;
      } else if (file.filename === "!on_run.py") {
        file.handle = this.main.model.assignment.onRun;
      } else if (file.filename === "!on_change.py") {
        file.handle = this.main.model.assignment.onChange;
      } else if (file.filename === "!on_eval.py") {
        file.handle = this.main.model.assignment.onEval;
      } else if (file.filename === "!instructions.md") {
        file.handle = this.main.model.assignment.instructions;
      } else if (file.filename === "^starting_code.py") {
        file.handle = this.main.model.assignment.startingCode;
      } else if (file.filename === "?mock_urls.blockpy") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "?toolbox.blockpy") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!answer_prefix.py") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!answer_suffix.py") {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else if (file.filename === "!tags.blockpy") {
        file.handle = this.main.model.assignment.tags;
      } else if (file.filename === "!assignment_settings.blockpy") {
        file.handle = this.main.model.assignment.settings;
      } else if (file.filename === "!sample_submissions.blockpy") {
        file.handle = this.main.model.assignment.sampleSubmissions;
      } else if (file.filename === "$settings.blockpy") {
        file.handle = this.main.model.display;
      } else if (file.filename.startsWith("^")) {
        this.observeInArray_(file, this.main.model.assignment.extraStartingFiles);
      } else if (file.filename.startsWith("!") || file.filename.startsWith("?") || file.filename.startsWith("&")) {
        this.observeInArray_(file, this.main.model.assignment.extraInstructorFiles);
      } else {
        this.observeInArray_(file, this.main.model.submission.extraFiles);
      }
    }
  }, {
    key: "observeInArray_",
    value: function observeInArray_(file, array) {
      file.owner = array;
      var codeBundle = file.owner();
      for (var i = 0; i < codeBundle.length; i++) {
        if (codeBundle[i].filename() === file.filename) {
          file.handle = codeBundle[i].contents;
        }
      }
      if (file.handle === null) {
        var newFile = makeModelFile(file.filename);
        file.handle = newFile.contents;
        array.push(newFile);
      }
    }
  }, {
    key: "mountFiles",
    value: function mountFiles() {
      this.newFile("answer.py");
      this.newFile("^starting_code.py");
      this.newFile("!on_run.py");
      this.newFile("!instructions.md");
      this.newFile("!assignment_settings.blockpy");
    }
  }, {
    key: "dismountExtraFiles",
    value: function dismountExtraFiles() {
      for (var name in this.files_) {
        if (this.files_.hasOwnProperty(name)) {
          if (UNDELETABLE_FILES.indexOf(name) === -1) {
            delete this.files_[name];
            delete this.watches_[name];
          }
        }
      }
      // submission.codeTODO: Shouldn't we notify the UI that the file was deleted?
    }
  }, {
    key: "newFile",
    value: function newFile(filename, contents, modelFile) {
      if (filename in this.files_) {
        // File already exists! Just update its handle
        var existingFile = this.files_[filename];
        if (modelFile === undefined) {
          this.observeFile_(existingFile);
        } else {
          existingFile.handle = modelFile;
        }
        existingFile.handle(contents || "");
        return existingFile;
      } else {
        // File does not exist
        var _newFile = new BlockPyFile(this.main, filename);
        this.files_[filename] = _newFile;
        if (modelFile === undefined) {
          this.observeFile_(_newFile);
        } else {
          _newFile.handle = modelFile;
        }
        if (contents !== undefined) {
          _newFile.handle(contents);
        }
        return _newFile;
      }
    }
  }, {
    key: "writeFile",
    value: function writeFile(filename, contents) {
      contents = contents || "";
      this.files_[filename].handle(contents);
    }
  }, {
    key: "readFile",
    value: function readFile(filename) {
      return this.files_[filename].handle();
    }
  }, {
    key: "getFile",
    value: function getFile(filename) {
      return this.files_[filename];
    }

    /**
     *
     * @param filename
     * @returns {boolean|object} The info about the file, or false if it could not be deleted
     */
  }, {
    key: "deleteFile",
    value: function deleteFile(filename) {
      if (DELETABLE_SIMPLE_FILES.indexOf(filename) !== -1) {
        var file = this.deleteFileLocally_(filename);
        file.handle(null);
        return true;
      } else if (this.files_[filename].owner === null) {
        return false;
      } else {
        // Triggers a callback to eventually call deleteFileLocally_
        var found = this.files_[filename].owner.remove(function (modelFile) {
          return modelFile.filename() === filename;
        });
        return found || false;
      }
    }
  }, {
    key: "deleteFileLocally_",
    value: function deleteFileLocally_(filename) {
      var file = this.files_[filename];
      delete this.files_[filename];
      if (filename in this.watches_) {
        this.watches_[filename].forEach(function (callback) {
          return callback.deleted();
        });
      }
      return file;
    }
  }, {
    key: "renameFile",
    value: function renameFile(source, destination) {
      if (UNRENAMABLE_FILES.indexOf(source) !== -1) {
        return false;
      } else if (this.files_[filename].owner === null) {
        return false;
      } else {
        // Triggers a callback to eventually call deleteFileLocally_
        var found = this.files_[filename].owner.remove(function (modelFile) {
          return modelFile.filename() === filename;
        });
        return found || false;
      }
    }
  }, {
    key: "notifyWatches",
    value: function notifyWatches(file) {
      if (file.filename in this.watches_) {
        this.watches_[file.filename].forEach(function (callback) {
          return callback.updated(file);
        });
      }
    }
  }, {
    key: "searchForFile",
    value: function searchForFile(name, studentSearch) {
      /*
      TODO: This is called quite a bit by the Import mechanism, might need
            to optimize it some more. Do timing tests.
       files.*
      _instructor/files.*
      _student/files.*
       If a student searches for a file, it checks the "?", "&", "*", "" namespaces
          import helper => "./helper.py"
          open("external.json") => "external.json"
      If an instructor searches for a file, it checks "!", "^", "?", "&", "*", "" namespaces
          To explicitly search instructor namespaces first
              import _instructor.helper => "./instructor/helper.py"
              open("_instructor/external.json") => "_instructor/external.json"
          to allow student files to override:
              import helper => "./helper.py"
              open("external.json") => "external.json"
          to only check student files, prepend with _student
       */
      // Chop off starting "./"
      if (name.startsWith("./")) {
        name = name.slice(2);
      }
      var searchMode = SearchModes.EVERYWHERE;
      // Should the search be start with instructor side?
      if (name.startsWith(INSTRUCTOR_DIRECTORY)) {
        name = name.slice(INSTRUCTOR_DIRECTORY.length);
        searchMode = SearchModes.START_WITH_INSTRUCTOR;
      }
      // Should the search be limited to the student mode?
      if (name.startsWith(STUDENT_DIRECTORY)) {
        name = name.slice(STUDENT_DIRECTORY.length);
        searchMode = SearchModes.ONLY_STUDENT_FILES;
      } else if (studentSearch) {
        searchMode = SearchModes.ONLY_STUDENT_FILES;
      }
      // Shortcut for instructor versions
      var extraStudentFiles = this.main.model.submission.extraFiles();
      var extraInstructorFiles = this.main.model.assignment.extraInstructorFiles();
      var extraStartingFiles = this.main.model.assignment.extraStartingFiles();
      // Check special files (TODO: how would an instructor access "./_instructor/answer.py"?
      var specialFile = this.searchForSpecialFiles_(name, searchMode);
      if (specialFile !== undefined) {
        return specialFile;
      }
      // Start looking through possible files
      var studentVersion = this.searchForFileInList_(extraStudentFiles, name);
      var generatedVersion = this.searchForFileInList_(extraStudentFiles, "*" + name);
      var defaultVersion = this.searchForFileInList_(extraInstructorFiles, "&" + name);
      var hiddenVersion = this.searchForFileInList_(extraInstructorFiles, "?" + name);
      var remoteVersion = this.remoteFiles_[name];
      if (searchMode === SearchModes.ONLY_STUDENT_FILES) {
        return (0,utilities_js__WEBPACK_IMPORTED_MODULE_0__.firstDefinedValue)(hiddenVersion, defaultVersion, studentVersion, generatedVersion, remoteVersion);
      }
      var instructorVersion = this.searchForFileInList_(extraInstructorFiles, "!" + name);
      var startingVersion = this.searchForFileInList_(extraStartingFiles, "^" + name);
      if (searchMode === SearchModes.START_WITH_INSTRUCTOR) {
        return (0,utilities_js__WEBPACK_IMPORTED_MODULE_0__.firstDefinedValue)(instructorVersion, hiddenVersion, startingVersion, defaultVersion, studentVersion, generatedVersion, remoteVersion);
      } else if (searchMode === SearchModes.EVERYWHERE) {
        return (0,utilities_js__WEBPACK_IMPORTED_MODULE_0__.firstDefinedValue)(defaultVersion, studentVersion, generatedVersion, instructorVersion, hiddenVersion, startingVersion, remoteVersion);
      }
    }
  }, {
    key: "searchForFileInList_",
    value: function searchForFileInList_(modelList, filename) {
      for (var i = 0; i < modelList.length; i++) {
        if (modelList[i].filename() === filename) {
          return modelList[i];
        }
      }
      return undefined;
    }
  }, {
    key: "searchForSpecialFiles_",
    value: function searchForSpecialFiles_(filename, searchMode) {
      if (searchMode === SearchModes.ONLY_STUDENT_FILES) {
        if (filename === "answer.py") {
          return makeMockModelFile("_instructor/answer.py", this.main.model.submission.code());
        }
        return undefined;
      }
      switch (filename) {
        case "answer.py":
          return makeMockModelFile("_instructor/answer.py", this.main.model.submission.code());
        case "on_run.py":
          return makeMockModelFile("_instructor/on_run.py", this.main.model.assignment.onRun());
        case "on_change.py":
          return makeMockModelFile("_instructor/on_change.py", this.main.model.assignment.onChange());
        case "on_eval.py":
          return makeMockModelFile("_instructor/on_eval.md", this.main.model.assignment.onEval());
        case "instructions.md":
          return makeMockModelFile("_instructor/instructions.md", this.main.model.assignment.instructions());
        case "starting_code.py":
          return makeMockModelFile("_instructor/starting_code.py", this.main.model.assignment.startingCode());
      }
      return undefined;
    }
  }, {
    key: "newFileDialog",
    value: function newFileDialog(kind) {
      var _this2 = this;
      var body = $(NEW_INSTRUCTOR_FILE_DIALOG_HTML);
      var filename = body.find(".blockpy-instructor-file-dialog-filename");
      var filetype = body.find(".blockpy-instructor-file-dialog-filetype");
      var namespace = body.find(".blockpy-instructor-file-dialog-namespace");
      var extensionRegex = /(?:\.([^.]+))?$/;
      filename.on("input", function () {
        var extension = extensionRegex.exec(filename.val())[1];
        extension = extension === undefined ? "No extension" : extension;
        //TODO: this.main.components.editors.getEditorFromExtension(extension);
        filetype.text(extension);
      });
      var yes = function yes() {
        var prefix = "";
        if (kind === "instructor") {
          prefix = namespace.val();
        } else if (kind === "starting") {
          prefix = "^";
        }
        if (filename.val()) {
          filename = prefix + filename.val();
          _this2.newFile(filename);
        }
      };
      body.submit(function (e) {
        e.preventDefault();
        yes();
        _this2.main.components.dialog.close();
      });
      this.main.components.dialog.confirm("Make New File", body, yes, function () {}, "Add");
    }
  }, {
    key: "loadRemoteFiles",
    value: function loadRemoteFiles() {
      var _this3 = this;
      var files = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      // Clear existing remote files (?)
      /*
      Object.getOwnPropertyNames(this.remoteFiles_).forEach(function (prop) {
          delete this.remoteFiles_[prop];
      });*/
      var model = this.main.model;
      var preloadFiles = model.assignment.settings.preloadFiles() || model.assignment.settings.preloadAllFiles();
      if (!preloadFiles && !files) {
        return null;
      }
      if (model.assignment.settings.preloadFiles()) {
        try {
          files = JSON.parse(preloadFiles);
        } catch (e) {
          console.error("Failed to preload files, invalid structure: ", e);
          return null;
        }
        this.downloadRemoteFiles(files);
      } else if (files) {
        this.downloadRemoteFiles(this.reorganizeFiles(files));
      } else {
        this.main.components.server.listUploadedFiles(function (data) {
          _this3.downloadRemoteFiles(_this3.reorganizeFiles(data.files));
        });
      }
    }
  }, {
    key: "reorganizeFiles",
    value: function reorganizeFiles(files) {
      var _this4 = this;
      var organized = {};
      Object.entries(files).forEach(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
          placement = _ref2[0],
          placedFiles = _ref2[1];
        placedFiles.forEach(function (_ref3) {
          var _ref4 = _slicedToArray(_ref3, 2),
            filename = _ref4[0],
            url = _ref4[1];
          var searchParams = new URL(url, window.location.origin).searchParams;
          var directory = searchParams.get("directory");
          var placement = searchParams.get("placement");
          if (!(placement in organized)) {
            organized[placement] = {};
          }
          if (!(directory in organized[placement])) {
            organized[placement][directory] = {};
          }
          organized[placement][directory][filename] = true;
          _this4.filesToUrls[filename] = url;
        });
      });
      return organized;
    }
  }, {
    key: "downloadRemoteFiles",
    value: function downloadRemoteFiles(files) {
      var _this5 = this;
      var oldRemainingFiles = Object.keys(this.remoteFiles_);
      Object.entries(files).forEach(function (_ref5) {
        var _ref6 = _slicedToArray(_ref5, 2),
          placement = _ref6[0],
          placementData = _ref6[1];
        Object.entries(placementData).forEach(function (_ref7) {
          var _ref8 = _slicedToArray(_ref7, 2),
            directory = _ref8[0],
            directoryData = _ref8[1];
          Object.entries(directoryData).forEach(function (_ref9) {
            var _ref10 = _slicedToArray(_ref9, 2),
              filename = _ref10[0],
              renamedFile = _ref10[1];
            if (renamedFile === true) {
              renamedFile = filename;
            }
            if (!(renamedFile in _this5.remoteFiles_)) {
              _this5.main.components.server.downloadFile(placement, directory, filename, function (data) {
                _this5.newFile("images.blockpy", "{}");
                _this5.remoteFiles_[renamedFile] = makeMockModelFile(renamedFile, data);
                delete oldRemainingFiles[renamedFile];
              });
            }
          });
        });
      });
      // TODO: Clean up the old files after all the new ones are loaded
    }
  }]);
}();

/***/ }),

/***/ "./src/footer.js":
/*!***********************!*\
  !*** ./src/footer.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FOOTER_HTML: () => (/* binding */ FOOTER_HTML)
/* harmony export */ });
//TODO: Move get link down to footer, remove vertical bar from quick-menu
var FOOTER_HTML = "\n<div class=\"col-md-12 blockpy-panel blockpy-status\">\n    <div>\n        <label class=\"badge\" data-bind=\"class: ui.server.status('loadAssignment')\">Load Assignment\n            <!-- ko if: display.instructor -->\n            <input type=\"file\"\n            class=\"blockpy-force-load-assignment-file blockpy-hidden-file\"\n            accept=\"application/JSON\"\n            data-bind=\"event: {change: ui.server.force.loadAssignment}\">\n            <!-- /ko -->\n        </label>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('saveAssignment')\">Save Assignment</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadFile')\">Load File</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('saveFile')\">Save File</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('loadDataset')\">Load Dataset</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('logEvent')\">Log Event</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('updateSubmission'),\n                                        click: ui.server.force.updateSubmission\">Update Submission</span>, \n        <span class=\"badge\" data-bind=\"class: ui.server.status('onExecution')\">Execution</span>\n    </div>\n    <div\n        <span data-bind=\"text: ui.server.messages\"></span>\n    </div>\n    <div>\n        <span>User: <span data-bind=\"text: user.id\"></span> (<span data-bind=\"text: user.name\"></span>, <span data-bind=\"text: user.role\"></span>)</span>, \n        <span>Course: <span data-bind=\"text: user.courseId\"></span></span>,\n        <span>Group: <span data-bind=\"text: user.groupId\"></span></span>,\n        <span>Assignment: <span data-bind=\"text: assignment.id\"></span></span>,\n        <span>Assignment Version: <span data-bind=\"text: assignment.version\"></span></span>,\n        <span>Submission: \n            <span data-bind=\"text: submission.id\"></span>\n            <span data-bind=\"if: submission.ownerId() != user.id()\">\n                (Owner ID: <span data-bind=\"text: submission.ownerId()\"></span>)\n            </span>\n        </span>, \n        <span>Submission Version: <span data-bind=\"text: submission.version\"></span></span>,\n        <span>Editor Version: <span data-bind=\"text: display.editorVersion\"></span></span>\n    </div>\n</div>\n";

/***/ }),

/***/ "./src/history.js":
/*!************************!*\
  !*** ./src/history.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyHistory: () => (/* binding */ BlockPyHistory),
/* harmony export */   HISTORY_TOOLBAR_HTML: () => (/* binding */ HISTORY_TOOLBAR_HTML)
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
// TODO: Should disable buttons if we can't activate them.

var HISTORY_TOOLBAR_HTML = "\n<div class=\"blockpy-history-toolbar col-md-12\" data-bind=\"visible: display.historyMode\">\n\n    <form class=\"form-inline\">\n        <button class=\"blockpy-history-start btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.start\">\n            <span class='fas fa-step-backward'></span> Start\n        </button>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.previous\">\n            <span class='fas fa-backward'></span> Previous\n        </button>\n        <select class=\"blockpy-history-selector form-control custom-select mr-2\" aria-title=\"History Selector\">\n        </select>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.use\">\n            <span class='fas fa-file-import'></span> Use\n        </button>\n        <button class=\"btn btn-outline-secondary mr-2\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.next\">\n            <span class='fas fa-forward'></span> Next\n        </button>\n        <button class=\"btn btn-outline-secondary\" type=\"button\"\n            data-bind=\"click: ui.editors.python.history.mostRecent\">\n            <span class='fas fa-step-forward'></span> Most Recent\n        </button>\n    </form>\n</div>\n";

/**
 * An object for displaying the user's coding logs (their history).
 * A lightweight component, its only job is to open a dialog.
 *
 * @constructor
 * @this {BlockPyHistory}
 * @param {Object} main - The main BlockPy instance
 */
var BlockPyHistory = /*#__PURE__*/function () {
  function BlockPyHistory(main, tag) {
    _classCallCheck(this, BlockPyHistory);
    this.main = main;
    this.tag = tag;
    this.currentId = null;
    this.history = [];
    this.editEvents = [];
  }
  return _createClass(BlockPyHistory, [{
    key: "load",
    value: function load(history) {
      var _this = this;
      this.history = history;
      this.editEvents = [];
      this.selector = $(".blockpy-history-selector").empty();
      var editId = 0;
      history.filter(function (entry) {
        return !entry.file_path.startsWith("_instructor.") && entry.event_type !== "Compile" && entry.event_type !== "Intervention" && (!_this.main.model.assignment.hidden() || entry.event_type !== "X-Submission.LMS");
      }).forEach(function (entry, index) {
        var event_type = REMAP_EVENT_TYPES[entry.event_type] || entry.event_type;
        var displayed = prettyPrintDateTime(entry.client_timestamp) + " - " + event_type;
        var disable = entry.event_type !== "File.Edit";
        var option = $("<option></option>", {
          text: displayed,
          disabled: disable
        });
        if (_this.isEditEvent(entry)) {
          option.attr("value", editId);
          _this.editEvents.push(entry);
          editId += 1;
        }
        _this.selector.append(option);
      });
      this.selector.val(Math.max(0, editId - 1));
      this.selector.change(function (evt) {
        _this.updateEditor();
      });
    }
  }, {
    key: "moveToStart",
    value: function moveToStart() {
      this.selector.val(0);
      this.updateEditor();
    }
  }, {
    key: "movePrevious",
    value: function movePrevious() {
      var currentId = parseInt(this.selector.val(), 10);
      this.selector.val(Math.max(0, currentId - 1));
      this.updateEditor();
    }
  }, {
    key: "moveNext",
    value: function moveNext() {
      var currentId = parseInt(this.selector.val(), 10);
      this.selector.val(Math.min(this.editEvents.length - 1, currentId + 1));
      this.updateEditor();
    }
  }, {
    key: "moveToMostRecent",
    value: function moveToMostRecent() {
      this.selector.val(this.editEvents.length - 1);
      this.updateEditor();
    }
  }, {
    key: "updateEditor",
    value: function updateEditor() {
      if (this.editEvents.length) {
        var currentId = parseInt(this.selector.val(), 10);
        this.main.components.pythonEditor.bm.setCode(this.editEvents[currentId].message);
      }
    }
  }, {
    key: "use",
    value: function use() {
      if (this.editEvents.length) {
        var currentId = parseInt(this.selector.val(), 10);
        var code = this.editEvents[currentId].message;
        this.main.model.ui.editors.python.turnOffHistoryMode();
        this.main.components.pythonEditor.file.handle(code);
      }
    }
  }, {
    key: "isEditEvent",
    value: function isEditEvent(entry) {
      return (entry.event_type === "File.Edit" || entry.event_type === "File.Create") && this.main.model.display.filename() === entry.file_path;
    }
  }]);
}();
var REMAP_EVENT_TYPES = {
  "Session.Start": "Began session",
  "X-IP.Change": "Changed IP address",
  "File.Edit": "Edited code",
  "File.Create": "Started assignment",
  "Run.Program": "Ran program",
  "Compile.Error": "Syntax error",
  "X-Submission.LMS": "Updated grade"
};
var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
var weekDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
function isSameDay(first, second) {
  return first.getDate() === second.getDate() && first.getMonth() === second.getMonth() && first.getFullYear() === second.getFullYear();
}

/**
 * Helper function to parse a date/time string and rewrite it as something
 * more human readable.
 * @param {String} timeString - the string representation of time ("YYYYMMDD HHMMSS")
 * @returns {String} - A human-readable time string.
 */
function prettyPrintDateTime(timeString) {
  /*let year = timeString.slice(0, 4),
      month = parseInt(timeString.slice(4, 6), 10)-1,
      day = timeString.slice(6, 8),
      hour = timeString.slice(9, 11),
      minutes = timeString.slice(11, 13),
      seconds = timeString.slice(13, 15);*/
  // TODO: Handle timezones correctly
  if (timeString === undefined) {
    return "Undefined Time";
  }
  var now = new Date();
  var past = new Date(parseInt(timeString, 10));
  if (isSameDay(now, past)) {
    return "Today at " + past.toLocaleTimeString();
  } else {
    var dayStr = weekDays[past.getDay()];
    var monthStr = monthNames[past.getMonth()];
    var date = dayStr + ", " + monthStr + " " + past.getDate();
    if (now.getFullYear() === past.getFullYear()) {
      return date + " at " + past.toLocaleTimeString();
    } else {
      return date + ", " + past.getFullYear() + " at " + past.toLocaleTimeString();
    }
  }
}

/**
 * Opens the history dialog box. This requires a trip to the server and
 * occurs asynchronously. The users' code is shown in preformatted text
 * tags (no code highlighting currently) along with the timestamp.
 */
BlockPyHistory.prototype.openDialog = function () {
  var dialog = this.main.components.dialog;
  var body = "<pre>a = 0</pre>";
  this.main.components.server.getHistory(function (data) {
    body = data.reverse().reduce(function (complete, elem) {
      var complete_str = prettyPrintDateTime(elem.time);
      var new_line = "<b>" + complete_str + "</b><br><pre>" + elem.code + "</pre>";
      return complete + "\n" + new_line;
    }, "");
    dialog.show("Work History", body, function () {});
  });
};

/***/ }),

/***/ "./src/interface.js":
/*!**************************!*\
  !*** ./src/interface.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SecondRowSecondPanelOptions: () => (/* binding */ SecondRowSecondPanelOptions),
/* harmony export */   makeExtraInterfaceSubscriptions: () => (/* binding */ makeExtraInterfaceSubscriptions),
/* harmony export */   makeInterface: () => (/* binding */ makeInterface)
/* harmony export */ });
/* harmony import */ var trace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! trace.js */ "./src/trace.js");
/* harmony import */ var dialog_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dialog.js */ "./src/dialog.js");
/* harmony import */ var feedback_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! feedback.js */ "./src/feedback.js");
/* harmony import */ var files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! files.js */ "./src/files.js");
/* harmony import */ var footer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! footer.js */ "./src/footer.js");
/* harmony import */ var editors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! editors.js */ "./src/editors.js");
/* harmony import */ var console_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! console.js */ "./src/console.js");
/**
 * @fileoverview Contains main HTML of BlockPy interface, and helper functions.
 * Combines a lot of HTML from components.
 *
 * Here's the layout:
 *  Row 1: Header and Quick Menu
 *  Row 2: Console and Feedback
 *  Row 3: File Navigation
 *  Row 4: View Row
 *  Row 5: Footer Row
 */









/**
 * The different layout options of the panes in the second row of the layout.
 * @enum {String}
 */
var SecondRowSecondPanelOptions = {
  FEEDBACK: "feedback",
  TRACE: "trace",
  NONE: "none"
};

/**
 * Setup any additional Knockout subscriptions to fire on interface changes.
 * @param self
 * @param model
 */
function makeExtraInterfaceSubscriptions(self, model) {
  // Highlight Markdown when instructions update
  var highlightTimeout = null;
  model.ui.instructions.current.subscribe(function () {
    if (highlightTimeout !== null) {
      clearTimeout(highlightTimeout);
    }
    highlightTimeout = setTimeout(function () {
      model.configuration.container.find(".blockpy-instructions pre code").map(function (i, block) {
        window.hljs.highlightBlock(block);
      });
    }, 400);
  });
  // Provide Fullscreen support
  model.display.fullscreen.subscribe(function (isFullscreen) {
    self.components.server.logEvent("X-Display.Fullscreen.Request", "", "", isFullscreen.toString(), "");
    if (isFullscreen) {
      // NOTE: navigationUI could allow us to force controls to show
      model.configuration.container.parent()[0].requestFullscreen()["catch"](function (err) {
        var message = "Error attempting to enable full-screen mode: ".concat(err.message, " (").concat(err.name, ")");
        self.components.server.logEvent("X-Display.Fullscreen.Error", "", "", message, "");
        alert(message);
      }).then(function () {
        self.components.server.logEvent("X-Display.Fullscreen.Success", "", "", "", "");
        model.display.fullscreen(true);
        model.configuration.container.css("overflow-y", "auto");
      });
    } else {
      document.exitFullscreen().then(function () {
        self.components.server.logEvent("X-Display.Fullscreen.Exit", "", "", isFullscreen.toString(), "");
        model.display.fullscreen(false);
      });
    }
  });
}

// TODO: Get shareable link button

function makeInterface(main) {
  return "\n<div class='blockpy-content container-fluid'>\n\n    <!-- Dialog -->\n    ".concat(dialog_js__WEBPACK_IMPORTED_MODULE_1__.DIALOG_HTML, "\n    \n    <!-- Hidden Capture Canvas -->\n    <canvas id='capture-canvas' class='d-none' role=\"presentation\" aria-hidden=\"true\"></canvas>\n    \n    <!-- Row 1: Header and Quick Menu -->\n    <div class='row' data-bind=\"hidden: ui.smallLayout()\">\n         \n         <!-- Description -->\n         <div class='col-md-9 blockpy-panel blockpy-header'\n               role='heading' aria-label='Assignment Description'>\n         \n            <!-- Assignment Name -->\n            <span role='heading' aria-level='1'\n                  class=\"blockpy-name\">\n                <strong>BlockPy: </strong> \n                <span data-bind='text: assignment.name'></span>\n            </span>\n            \n            <!-- Reset Instructions Button -->\n            <div class=\"blockpy-instructions-reset\"\n                data-bind=\"visible: ui.instructions.isChanged\">\n                <a class=\"float-right\"\n                    data-bind=\"click: ui.instructions.reset\"\n                    href=\"\">\n                    Reset instructions</a>\n            </div>\n            \n            <!-- Instructions -->\n            <div class='blockpy-instructions'\n                 data-bind=\"html: ui.instructions.current\">\n            </div>\n        </div>\n        \n        <div class='col-md-3 blockpy-panel blockpy-quick-menu'\n             role='menubar' aria-label='Quick Menu' title=\"Quick Menu\">\n            <!-- Get Shareable Link -->\n            <!--<button class=\"btn btn-outline-secondary btn-sm\">\n                Get shareable link</button>-->\n            <span data-bind=\"visible: ui.menu.isSubmitted\">\n                Your submission is ready to be reviewed!</span>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"visible: ui.menu.canMarkSubmitted,\n                           text: ui.menu.textMarkSubmitted,\n                           click: ui.menu.clickMarkSubmitted\"></button>\n            <!-- View as instructor -->\n            <div class=\"form-check\"\n                 data-bind=\"visible: ui.role.isGrader\">\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"blockpy-as-instructor\"\n                    data-bind=\"checked: display.instructor\">\n                <label class=\"form-check-label\" for=\"blockpy-as-instructor\">\n                    View as instructor\n                </label>\n            </div>\n            <!-- Readonly mode for spying -->\n            <div data-bind=\"if: submission.ownerId() != user.id()\">\n                Owner: <span data-bind=\"text: submission.ownerId\"></span>\n                <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"blockpy-read-only\"\n                        data-bind=\"checked: display.readOnly\">\n                    <label class=\"form-check-label\" for=\"blockpy-read-only\">\n                        Readonly?\n                    </label>\n                </div>\n            </div>\n            \n            \n            <!-- Fullscreen button -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ui.menu.clickFullscreen\"\n                title=\"Full Screen\">\n                <span class='fas' data-bind=\"class: ui.menu.textFullscreen\"></span>\n            </button>\n            <!-- Edit Queued Inputs -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ui.menu.editInputs, visible: ui.menu.showQueuedInputs\" title=\"Edit Inputs\">\n                <span class='fas fa-list-alt'></span>\n            </button>\n            <!-- Toggle Image Rendering -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-toggle=\"button\"\n                data-bind=\"click: ui.menu.toggleImages\" title=\"Toggle Images\">\n                <span class=\"fas fa-images\"></span>\n            </button>\n            <!-- Get Shareable Link Dialog -->\n            <button class=\"btn btn-outline-secondary btn-sm\"\n                data-bind=\"click: ()=>ui.menu.startShare(false), visible: ui.menu.canShare\"\n                title=\"Get Shareable Link for Instructors or TAs\">\n                <span class=\"fas fa-link\"></span>\n            </button>\n            <button class=\"btn btn-outline-secondary btn-sm\"\n            style=\"text-align: right; cursor: pointer\"\n            data-bind=\"click: ui.feedback.showInstructorStdout,\n                       visible: display.instructor()\"\n            title=\"Show instructor stdout in a dialog box.\">\n            <span class=\"fa fa-terminal\"></span>\n            </button>\n            <!-- Pink Bug for actual errors -->\n            <span class=\"blockpy-student-error fas fa-bug\"></span>\n            <span data-bind=\"hidden: ui.menu.showClock\" class=\"blockpy-menu-clock\"></span>\n            <!-- ko if: assignment.settings.instructionsPool -->\n                <div style=\"display: flex;\">\n                <label for=\"blockpy-set-seed\" class=\"my-1 mr-2\">Seed</label>\n                <input type=\"text\" class=\"form-control mb-2 mr-sm-2\" id=\"blockpy-set-seed\"\n                    data-bind=\"\n                    textInput: display.poolSeed,\n                    attr: {placeholder: submission.id}\n                \">\n                </div>\n            <!-- /ko -->\n        </div>\n         \n    </div>\n    \n    <!-- ko if: ui.smallLayout() -->\n    <!-- Small layout View as instructor -->\n    <div class=\"form-check\"\n         data-bind=\"visible: ui.role.isGrader\">\n        <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"blockpy-as-instructor\"\n            data-bind=\"checked: display.instructor\">\n        <label class=\"form-check-label\" for=\"blockpy-as-instructor\">\n            View as instructor\n        </label>\n    </div>\n    <!-- ko if: ui.files.visible() -->\n    ").concat(files_js__WEBPACK_IMPORTED_MODULE_3__.FILES_HTML, "\n    <!-- /ko -->\n    <!-- /ko -->\n    \n    <div class='row'>\n    <!-- Row 2: Console and Feedback -->\n    <!-- ko if: ui.secondRow.isAllVisible -->\n    <div data-bind=\"class: ui.secondRow.width\">\n    <div class='row'>\n        <!-- Console -->\n        ").concat(console_js__WEBPACK_IMPORTED_MODULE_6__.CONSOLE_HTML, "\n        <!-- Feedback -->\n        <!-- ko if: ui.secondRow.isFeedbackVisible -->\n        ").concat(feedback_js__WEBPACK_IMPORTED_MODULE_2__.FEEDBACK_HTML, "\n        <!-- /ko -->\n        <!-- Trace -->\n        <!-- ko if: ui.secondRow.isTraceVisible -->\n        ").concat(trace_js__WEBPACK_IMPORTED_MODULE_0__.TRACE_HTML, "\n        <!-- /ko -->\n    </div>\n    </div>\n    <!-- /ko -->\n    \n    <!-- Row 3: File Navigation -->\n    <!-- ko if: ui.files.visible() && !ui.smallLayout() -->\n    ").concat(files_js__WEBPACK_IMPORTED_MODULE_3__.FILES_HTML, "\n    <!-- /ko -->\n    \n    <!-- Row 4: View Row -->\n    ").concat(editors_js__WEBPACK_IMPORTED_MODULE_5__.EDITORS_HTML, "\n    \n    </div>\n    \n    \n    <!-- Row 5: Footer Row -->    \n    <!-- ko if: ui.footer.visible -->\n    <div class=\"row\">\n        ").concat(footer_js__WEBPACK_IMPORTED_MODULE_4__.FOOTER_HTML, "\n    </div>\n    <!-- /ko -->\n    \n</div>\n    ");
}

/***/ }),

/***/ "./src/pools.js":
/*!**********************!*\
  !*** ./src/pools.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   POOL_SEPARATORS: () => (/* binding */ POOL_SEPARATORS),
/* harmony export */   calculatePoolIndex: () => (/* binding */ calculatePoolIndex),
/* harmony export */   countPools: () => (/* binding */ countPools),
/* harmony export */   extractFromPool: () => (/* binding */ extractFromPool),
/* harmony export */   formatPoolInstructions: () => (/* binding */ formatPoolInstructions)
/* harmony export */ });
var POOL_SEPARATORS = {
  TESTS: /#{4,} .+ #{4,}/,
  INSTRUCTIONS: /<!-{4,}# .+ #-{4,}>/
};
function calculatePoolIndex(pools, seed) {
  return 1 + seed % (pools.length - 2);
}
function extractFromPool(pool, splitter, seed) {
  var pools = pool.split(splitter);
  if (pools.length <= 2) {
    return "#>>> Invalid Pool: Not Enough Parts!\n# Remember to include header and footer!\n# Original data is below\n" + pool;
  }
  var chosenPool = pools[calculatePoolIndex(pools, seed)];
  var poolParts = [pools[0], chosenPool, pools[pools.length - 1]];
  return poolParts.join("\n");
}
function countPools(pool, splitter) {
  return pool.split(splitter).length - 2;
}
function formatPoolInstructions(text, model) {
  var isInstructor = model.display.instructor();
  var seed = model.ui.menu.currentSeed();
  var content;
  // if (isInstructor) {
  //     content = markPools(text, POOL_SEPARATORS.INSTRUCTIONS, seed);
  // }
  content = extractFromPool(text, POOL_SEPARATORS.INSTRUCTIONS, seed);
  if (isInstructor) {
    content += "\n\n_This question was drawn from a randomized question pool. Adjust the seed to view a different question. Uncheck \"View as Instructor\" to hide this message; students will not see it either way._\n";
  }
  return content;
}

// export function markPools(pool, splitter, seed) {
//     const pools = pool.split(POOL_SEPARATORS.INSTRUCTIONS);
//     const chosenPoolIndex = calculatePoolIndex(pools, seed);
//     const content = pools.map(
//         (part, index) => {
//             if (index === 0) {
//                 return part;
//             }
//             if (index === chosenPoolIndex) {
//                 return part;
//             }
//             return part;
//         }
//     );
//     return content.join("\n---\n");
// }

/***/ }),

/***/ "./src/server.js":
/*!***********************!*\
  !*** ./src/server.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPyServer: () => (/* binding */ BlockPyServer),
/* harmony export */   StatusState: () => (/* binding */ StatusState)
/* harmony export */ });
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/storage.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }



/**
 *
 * @enum {string}
 */
var StatusState = {
  READY: "ready",
  ACTIVE: "active",
  RETRYING: "retrying",
  FAILED: "failed",
  OFFLINE: "offline"
};

/**
 * Object for communicating with the external servers. This includes functionality for
 * saving and loading files, logging events, saving completions, and retrieving history.
 *
 * @constructor
 * @this {BlockPyServer}
 * @param {Object} main - The main BlockPy instance
 */
function BlockPyServer(main) {
  this.main = main;

  // Save URLs locally for quicker access
  this.urls = main.model.configuration.urls;

  // Add the LocalStorage connection
  this.storage = new _storage__WEBPACK_IMPORTED_MODULE_0__.LocalStorageWrapper("BLOCKPY");

  // FaultResistantCache
  this.queue = {
    "logEvent": JSON.parse(this.storage.getDefault("logEvent", "[]")),
    "updateSubmission": JSON.parse(this.storage.getDefault("updateSubmission", "[]"))
  };
  this.MAX_QUEUE_SIZE = {
    "logEvent": 200,
    "updateSubmission": 50
  };
  this.TIMER_DELAY = 1000;
  this.FAIL_DELAY = 2000;
  this.timers = {};
  this.overlay = null;
  this.blockingAttempts = 0;
  this.cachedFilenames = [];
  this.createSubscriptions();
  this.checkCaches();
  this.altLogEntry = null;
}

/**
 * Checks whether the IP address has changed, logging an event if that occurs.
 * @param response
 */
BlockPyServer.prototype.checkIP = function (response) {
  if (response.success) {
    if (this.storage.has("IP")) {
      var oldIP = this.storage.get("IP");
      if (oldIP !== response.ip) {
        var message = JSON.stringify({
          "old": oldIP,
          "new": response.ip
        });
        if (this.altLogEntry) {
          this.altLogEntry("X-IP.Change", undefined, undefined, message);
        } else {
          this.logEvent("X-IP.Change", undefined, undefined, message);
        }
        this.storage.set("IP", response.ip);
      }
    } else {
      this.storage.set("IP", response.ip);
    }
  }
};

/**
 * Determines if there have been previous failures cached, and if so retries them.
 * TODO: update
 */
BlockPyServer.prototype.checkCaches = function () {
  var _this = this;
  if (this.storage.has("saveAssignment")) {
    var data = JSON.parse(this.storage.get("saveAssignment"));
    this._postLatestRetry(data, "assignment", "saveAssignment", this.TIMER_DELAY);
  }
  this.cachedFilenames.forEach(function (filename) {
    if (_this.storage.has("saveFile" + filename)) {
      var _data = JSON.parse(_this.storage.get("saveFile" + filename));
      _this._postLatestRetry(_data, filename, "saveFile", _this.TIMER_DELAY);
    }
  });
  var server = this;
  Object.keys(this.queue).forEach(function (endpoint) {
    (function pushAnyQueued(response) {
      if (response.success) {
        if (server.queue[endpoint].length) {
          var data = JSON.parse(server.queue[endpoint].pop());
          var url = server.urls[endpoint];
          server._postRetry(data, endpoint, 1000, pushAnyQueued);
        }
      }
    })({
      "success": true
    });
  });
};
BlockPyServer.prototype.createFileSubscription = function (model, filename) {
  var _this2 = this;
  model.subscribe(function (contents) {
    return _this2.main.model.display.autoSave() ? _this2.saveFile(filename, contents) : false;
  }, this);
  this.cachedFilenames.push(filename);
};

/**
 * TODO: fix
 */
BlockPyServer.prototype.createSubscriptions = function () {
  var model = this.main.model;
  this.createFileSubscription(model.submission.code, "answer.py");
  this.createFileSubscription(model.assignment.onRun, "!on_run.py");
  this.createFileSubscription(model.assignment.onEval, "!on_eval.py");
  this.createFileSubscription(model.assignment.onChange, "!on_change.py");
  this.createFileSubscription(model.assignment.instructions, "!instructions.md");
  this.createFileSubscription(model.assignment.startingCode, "^starting_code.py");
  this.createFileSubscription(model.ui.files.extraStudentFiles, "#extra_student_files.blockpy");
  this.createFileSubscription(model.ui.files.extraStartingFiles, "#extra_starting_files.blockpy");
  this.createFileSubscription(model.ui.files.extraInstructorFiles, "#extra_instructor_files.blockpy");
};
BlockPyServer.prototype.createEventLogs = function () {
  var _this3 = this;
  window.onblur = function () {
    _this3.logEvent("Session.End", undefined, undefined, undefined);
  };
  window.onfocus = function () {
    _this3.logEvent("Session.Start", undefined, undefined, undefined);
  };

  // TODO: Add in beacon?
};

/**
 *
 * Some subscriptions have to happen after other things have been loaded.
 * Right now this is just after CORGIS libraries have been loaded, but maybe
 * we'll add more later and this will need to be refactored.
 *
 * TODO: fix
 *
 */
BlockPyServer.prototype.finalizeSubscriptions = function () {
  //this.main.model.assignment.settings.datasets.subscribe(this.saveAssignment.bind(this));
};
BlockPyServer.prototype.authorizeHeader = function (currentSettings) {
  if (!currentSettings) {
    currentSettings = {};
  }
  var accessToken = this.main.model.configuration.accessToken();
  if (accessToken) {
    if (!currentSettings.headers) {
      currentSettings.headers = {};
    }
    currentSettings.headers["Authorization"] = "Bearer " + accessToken;
  }
  return currentSettings;
};

/**
 * Creates the default payload for any communication with the server API
 * @returns {{assignment_id: *, course_id: *, group_id: *, user_id: *, timezone: *, version: *, timestamp: *}}
 */
BlockPyServer.prototype.createServerData = function () {
  var assignment = this.main.model.assignment;
  var user = this.main.model.user;
  var submission = this.main.model.submission;
  var display = this.main.model.display;
  var configuration = this.main.model.configuration;
  var now = new Date();
  var microseconds = now.getTime();
  var result = {
    "assignment_id": assignment.id(),
    "assignment_group_id": user.groupId(),
    "course_id": user.courseId(),
    "submission_id": submission.id(),
    "user_id": user.id(),
    "version": submission.version(),
    "assignment_version": assignment.version(),
    "timestamp": microseconds,
    "timezone": now.getTimezoneOffset(),
    "passcode": display.passcode(),
    "part_id": configuration.partId()
  };
  return result;
};

/**
 * Updates the status and message for the relevant endpoint.
 * @param endpoint {string} one of the URL endpoints
 * @param status {StatusState}
 * @param message {string?}
 */
BlockPyServer.prototype.setStatus = function (endpoint, status, message) {
  if (endpoint in this.main.model.status) {
    this.main.model.status[endpoint](status);
    this.main.model.status[endpoint + "Message"](message || "");
  }
};

/**
 * Renders an overlay on the screen that blocks operation until the system is ready.
 * The overlay gets progressively darker to indicate repeated failures.
 */
BlockPyServer.prototype.showOverlay = function (attempt) {
  this.blockingAttempts += 1;
  if (!document.getElementsByClassName("blockpy-overlay").length) {
    this.overlay = $('<div class="blockpy-overlay"> </div>');
    this.overlay.appendTo(document.body);
  }
  switch (attempt) {
    case 0:
      this.overlay.css("background-color", "#988");
      break;
    case 1:
      this.overlay.css("background-color", "#655");
      break;
    case 2:
      this.overlay.css("background-color", "#333");
      break;
    default:
      this.overlay.css("background-color", "black");
      break;
  }
};

/**
 * Undo a level of overlay; if this was the last level, removes it from the screen.
 */
BlockPyServer.prototype.hideOverlay = function () {
  this.blockingAttempts -= 1;
  if (this.blockingAttempts <= 0) {
    this.overlay.remove();
  }
};
BlockPyServer.prototype._enqueueData = function (cache, data) {
  // Ensure we have not overfilled the queue
  var length = this.queue[cache].length;
  var max = this.MAX_QUEUE_SIZE[cache];
  if (length > max) {
    this.queue[cache] = this.queue[cache].slice(length - max, max);
  }
  // Only add the element if it's new
  var key = JSON.stringify(data);
  var index = this.queue[cache].indexOf(key);
  if (index === -1) {
    this.queue[cache].push(key);
    this.storage.set(cache, JSON.stringify(this.queue[cache]));
  }
};
BlockPyServer.prototype._dequeueData = function (cache, data) {
  var key = JSON.stringify(data);
  var index = this.queue[cache].indexOf(key);
  if (index >= 0) {
    this.queue[cache].splice(index);
    this.storage.set(cache, JSON.stringify(this.queue[cache]));
  }
};
BlockPyServer.prototype._postRetry = function (data, endpoint, delay, callback) {
  var _this4 = this;
  // Trigger request
  var postRequest = function postRequest() {
    // Make a backup of the current post
    _this4._enqueueData(endpoint, data);
    $.ajax(_objectSpread({
      url: _this4.urls[endpoint],
      type: "post",
      data: data
    }, _this4.authorizeHeader())).done(function (response) {
      _this4._dequeueData(endpoint, data);
      if (response.success) {
        _this4.setStatus(endpoint, StatusState.READY);
      } else {
        console.error(response);
        _this4.setStatus(endpoint, StatusState.FAILED, response.message);
      }
      if (callback) {
        callback(response);
      }
      if (response.success) {
        _this4.checkIP(response.ip);
      }
    })
    // If server request is the latest one, then let's try it again in a bit
    .fail(function (error, textStatus) {
      _this4.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
      _this4._postRetry(data, endpoint, delay + _this4.FAIL_DELAY, callback);
    });
  };
  if (delay === null) {
    postRequest();
  } else {
    setTimeout(postRequest, delay);
  }
};

/**
 * Make a AJAX request that, upon failure, will check to see if this was the
 * latest attempt for this `cache` marker. If so, it will attempt again until
 * successful; otherwise, it gives up the request.
 *
 * @param {Object} data - The AJAX-ready data to be posted
 * @param {String} filename - The unique name given to the relevant timer
 * @param {String} endpoint - The unique name given to the relevant cache entry
 * @param {Integer} delay - The current number of milliseconds to wait before
 trying the request again.
 */
BlockPyServer.prototype._postLatestRetry = function (data, filename, endpoint, delay, failureFunction, doneFunction) {
  var _this5 = this;
  var cache = endpoint + filename;
  var request = function request() {
    // Make a backup of the current post
    _this5.storage.set(cache, JSON.stringify(data));
    var time = _this5.storage.getTime(cache);
    // Send the request
    $.ajax(_objectSpread({
      url: _this5.urls[endpoint],
      data: data,
      type: "post"
    }, _this5.authorizeHeader())).done(function (response) {
      if (response.success) {
        _this5.checkIP(response);
        // If server request is the latest one, clear it from the cache
        var cachedTime = _this5.storage.getTime(cache);
        if (time >= cachedTime) {
          _this5.storage.remove(cache);
        }
        _this5.setStatus(endpoint, StatusState.READY);
      } else {
        // This connected but failed, don't try again but let the user know why.
        _this5.setStatus(endpoint, StatusState.FAILED, response.message);
        if (response.success === false) {
          // If we're the latest one, clear it from the cache
          var _cachedTime = _this5.storage.getTime(cache);
          if (time >= _cachedTime) {
            _this5.storage.remove(cache);
          }
          if (failureFunction) {
            failureFunction(response);
          }
        }
      }
    }).fail(function (error, textStatus) {
      _this5.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
      // If server request is the latest one, then let's try it again in a bit
      var cachedTime = _this5.storage.getTime(cache);
      if (time >= cachedTime) {
        _this5._postLatestRetry(data, filename, endpoint, delay + _this5.FAIL_DELAY);
      }
    }).done(doneFunction);
  };
  clearTimeout(this.timers[cache]);
  if (delay === null) {
    return request();
  } else {
    this.timers[cache] = setTimeout(request, delay);
  }
};
BlockPyServer.prototype._postBlocking = function (endpoint, data, attempts, success, failure) {
  var _this6 = this;
  var extraSettings = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
  this.showOverlay(attempts);
  return $.ajax(_objectSpread({
    type: "POST",
    url: this.urls[endpoint],
    data: data
  }, this.authorizeHeader(extraSettings))).done(function (response) {
    _this6.hideOverlay();
    _this6.setStatus(endpoint, StatusState.READY);
    success(response);
    _this6.checkIP(response);
  }).fail(function (e, textStatus, errorThrown) {
    if (attempts <= 0) {
      _this6.hideOverlay();
      _this6.setStatus(endpoint, StatusState.FAILED, textStatus.toString());
      if (failure) {
        failure(e, textStatus, errorThrown);
      }
    } else {
      setTimeout(function () {
        _this6.hideOverlay();
        _this6.setStatus(endpoint, StatusState.RETRYING, textStatus.toString());
        _this6._postBlocking(endpoint, data, attempts - 1, success, failure, extraSettings);
      }, _this6.FAIL_DELAY);
    }
  });
};
BlockPyServer.prototype.loadAssignment = function (assignment_id) {
  var _this7 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("loadAssignment")) {
    var data = this.createServerData();
    data["assignment_id"] = assignment_id;
    this._postBlocking("loadAssignment", data, 4, function (response) {
      if (response.success) {
        _this7.main.loadAssignmentData_(response);
      } else {
        _this7.setStatus("loadAssignment", StatusState.FAILED, response.message);
        _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(response.message);
      }
    }, function (e, textStatus, errorThrown) {
      try {
        _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(e.responseJSON.message);
      } catch (e2) {
        _this7.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(textStatus, errorThrown);
      }
      console.error(e, textStatus, errorThrown);
    });
  } else {
    this.setStatus("loadAssignment", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.saveAssignment = function () {
  var _this8 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("saveAssignment")) {
    var data = this.createServerData();
    data["hidden"] = model.assignment.hidden();
    data["reviewed"] = model.assignment.reviewed();
    data["public"] = model.assignment["public"]();
    data["url"] = model.assignment.url();
    data["points"] = model.assignment.points();
    data["ip_ranges"] = model.assignment.ipRanges();
    data["name"] = model.assignment.name();
    data["settings"] = (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_1__.saveAssignmentSettings)(model);
    this._postBlocking("saveAssignment", data, 3, this.startPossibleFork.bind(this), function (e, textStatus, errorThrown) {
      _this8.main.components.dialog.ERROR_SAVING_ASSIGNMNENT(textStatus);
      console.error(e, textStatus, errorThrown);
    });
  } else {
    this.setStatus("saveAssignment", StatusState.OFFLINE, "Server is not connected! (Save Assignment)");
  }
};
BlockPyServer.prototype.loadHistory = function (callback) {
  var _this9 = this;
  if (this.main.model.ui.server.isEndpointConnected("loadHistory")) {
    var model = this.main.model;
    var data = this.createServerData();
    this._postBlocking("loadHistory", data, 2, callback, function (e, textStatus, errorThrown) {
      _this9.main.components.dialog.ERROR_LOADING_HISTORY();
      console.error(e, textStatus, errorThrown);
    });
  }
};
BlockPyServer.prototype.listUploadedFiles = function (callback) {
  var _this10 = this;
  if (this.main.model.ui.server.isEndpointConnected("listUploadedFiles")) {
    var model = this.main.model;
    var data = this.createServerData();
    this._postBlocking("listUploadedFiles", data, 2, callback, function (e, textStatus, errorThrown) {
      _this10.main.components.dialog.ERROR_LISTING_UPLOADED_FILES(textStatus);
      console.error(e, textStatus, errorThrown);
    });
  }
};
BlockPyServer.prototype.uploadFile = function (placement, directory, filename, contents, callback) {
  var _this11 = this;
  var deleteInstead = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("uploadFile")) {
    var data = this.createServerData();
    data["placement"] = placement;
    data["directory"] = directory;
    data["filename"] = filename;
    data["contents"] = contents;
    if (deleteInstead) {
      data["delete"] = true;
    }
    var fd = Object.entries(data).reduce(function (d, e) {
      return d.append.apply(d, _toConsumableArray(e)), d;
    }, new FormData());
    return this._postBlocking("uploadFile", fd, 3, callback, function (e, textStatus, errorThrown) {
      if (deleteInstead) {
        _this11.main.components.dialog.ERROR_DELETING_FILE(textStatus);
      } else {
        _this11.main.components.dialog.ERROR_UPLOADING_FILE(textStatus);
      }
      console.error(e, textStatus, errorThrown);
    }, {
      processData: false,
      contentType: false
    });
  } else {
    this.setStatus("uploadFile", StatusState.OFFLINE, "Server is not connected! (Upload File)");
  }
};
BlockPyServer.prototype.downloadFile = function (placement, directory, filename, callback) {
  var _this12 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("downloadFile")) {
    var data = this.createServerData();
    data["placement"] = placement;
    data["directory"] = directory;
    data["filename"] = filename;
    var fd = Object.entries(data).reduce(function (d, e) {
      return d.append.apply(d, _toConsumableArray(e)), d;
    }, new FormData());
    return this._postBlocking("downloadFile", fd, 3, callback, function (e, textStatus, errorThrown) {
      _this12.main.components.dialog.ERROR_DOWNLOADING_FILE(textStatus);
      console.error(e, textStatus, errorThrown);
    }, {
      processData: false,
      contentType: false,
      dataType: "text"
    });
  } else {
    this.setStatus("uploadFile", StatusState.OFFLINE, "Server is not connected! (Upload File)");
  }
};
BlockPyServer.prototype.renameFile = function (placement, directory, old_filename, new_filename, callback) {
  var _this13 = this;
  var model = this.main.model;
  if (model.ui.server.isEndpointConnected("renameFile")) {
    var data = this.createServerData();
    data["placement"] = placement;
    data["directory"] = directory;
    data["old_filename"] = old_filename;
    data["new_filename"] = new_filename;
    var fd = Object.entries(data).reduce(function (d, e) {
      return d.append.apply(d, _toConsumableArray(e)), d;
    }, new FormData());
    return this._postBlocking("renameFile", fd, 3, callback, function (e, textStatus, errorThrown) {
      _this13.main.components.dialog.ERROR_UPLOADING_FILE(textStatus);
      console.error(e, textStatus, errorThrown);
    }, {
      processData: false,
      contentType: false
    });
  } else {
    this.setStatus("renameFile", StatusState.OFFLINE, "Server is not connected! (Rename File)");
  }
};
BlockPyServer.prototype.logEvent = function (event_type, category, label, message, file_path) {
  var extended = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  if (this.main.model.display.readOnly()) {
    this.setStatus("logEvent", StatusState.OFFLINE);
    return;
  }
  if (this.main.model.ui.server.isEndpointConnected("logEvent")) {
    var data = this.createServerData();
    data["event_type"] = event_type;
    data["category"] = category;
    data["label"] = label;
    data["message"] = message;
    data["file_path"] = file_path;
    data["extended"] = extended;
    this.setStatus("logEvent", StatusState.ACTIVE);
    // Trigger request
    this._postRetry(data, "logEvent", 0, function () {});
  } else {
    this.setStatus("logEvent", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.saveImage = function (directory, image) {
  if (this.main.model.display.readOnly()) {
    this.setStatus("saveImage", StatusState.OFFLINE);
    return;
  }
  if (this.main.model.ui.server.isEndpointConnected("saveImage")) {
    var data = this.createServerData();
    data["directory"] = directory;
    data["image"] = image;
    this.setStatus("saveImage", StatusState.ACTIVE);
    // Trigger request
    this._postLatestRetry(data, "turtle_output", "saveImage", 0);
  } else {
    this.setStatus("saveImage", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.updateSubmissionStatus = function (newStatus) {
  var _this14 = this;
  if (this.main.model.display.readOnly()) {
    this.setStatus("updateSubmissionStatus", StatusState.OFFLINE);
    return;
  }
  if (this.main.model.ui.server.isEndpointConnected("updateSubmissionStatus")) {
    var data = this.createServerData();
    data["status"] = newStatus;
    var postStatusChange = function postStatusChange(data) {
      if (data.success) {
        _this14.main.model.submission.submissionStatus(newStatus);
      }
    };
    this._postBlocking("updateSubmissionStatus", data, 2, postStatusChange, function (e, textStatus, errorThrown) {
      _this14.main.components.dialog.ERROR_UPDATING_SUBMISSION_STATUS();
      console.error(e, textStatus, errorThrown);
    });
  }
};

/**
 * This function can be used to load files and web resources.
 *
 * DEPRECATED
 */
BlockPyServer.prototype.loadFile = function (filename, type, callback, errorCallback) {
  var model = this.main.model;
  var server = this;
  if (model.ui.server.isEndpointConnected("load_file")) {
    var data = this.createServerData();
    data["filename"] = filename;
    data["type"] = type;
    this._postBlocking(this.urls.load_file, data, 5, function (response) {
      if (response.success) {
        callback(response.data);
      } else {
        errorCallback(response.message);
        server.setStatus("loadFile", StatusState.FAILED, response.message);
      }
    }, function (e, textStatus, errorThrown) {
      errorCallback("Server failure! Report to instructor");
      console.error(errorThrown);
    });
  } else {
    errorCallback("No file server available.");
    this.setStatus("loadFile", StatusState.OFFLINE, "Server is not connected! (Load File)");
  }
};
BlockPyServer.prototype.saveFile = function (filename, contents, delay) {
  if (delay === undefined) {
    delay = this.TIMER_DELAY;
  }
  var model = this.main.model;
  if (model.display.readOnly()) {
    this.setStatus("saveFile", StatusState.OFFLINE);
    return;
  }
  if (model.ui.server.isEndpointConnected("saveFile")) {
    var data = this.createServerData();
    data["filename"] = filename;
    data["code"] = contents;
    this.setStatus("saveFile", StatusState.ACTIVE);
    return this._postLatestRetry(data, filename, "saveFile", delay, this.startPossibleFork.bind(this));
  } else {
    return this.setStatus("saveFile", StatusState.OFFLINE);
  }
};
BlockPyServer.prototype.startPossibleFork = function (response) {
  if (!response.success && response.forkable) {
    this.main.components.dialog.OFFER_FORK();
  }
};
BlockPyServer.prototype.updateSubmission = function (score, correct, hiddenOverride, forceUpdate) {
  var _this15 = this;
  if (this.main.model.display.readOnly()) {
    this.setStatus("updateSubmission", StatusState.OFFLINE);
    return;
  }
  var callback = this.main.model.configuration.callbacks.success;
  if (this.main.model.ui.server.isEndpointConnected("updateSubmission")) {
    var data = this.createServerData();
    data["score"] = score;
    data["correct"] = correct;
    data["hidden_override"] = hiddenOverride;
    data["force_update"] = forceUpdate;
    this.main.components.pythonEditor.bm.blockEditor.getPngFromBlocks(function (pngData, img) {
      data["image"] = pngData;
      if (img.remove) {
        img.remove();
      }
      _this15._postRetry(data, "updateSubmission", 0, function (response) {
        if (response.success) {
          _this15.setStatus("updateSubmission", StatusState.READY);
        } else {
          _this15.setStatus("updateSubmission", StatusState.FAILED, response.message);
        }
        if (!hiddenOverride && correct && callback) {
          callback(data["assignment_id"]);
        }
      });
    });
  }
};
BlockPyServer.prototype.openaiProxy = function (openai_data, timeout) {
  var model = this.main.model;
  var server = this;
  var data = this.createServerData();
  data["openai_data"] = openai_data;
  return this._postBlocking(this.urls.openai_proxy, data);
};

/***/ }),

/***/ "./src/skulpt_modules/coverage.js":
/*!****************************************!*\
  !*** ./src/skulpt_modules/coverage.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $sk_mod_coverage: () => (/* binding */ $sk_mod_coverage)
/* harmony export */ });
var $sk_mod_coverage = "\n\"\"\"\nHideous fill-in replacement for Coverage, leveraging some magic from the\nUtility function. The data this returns is false - it doesn't actually\ndescribe the missing lines and all lines; it just describes the traced lines.\nBut since Pedal doesn't need the other two, it works out fine when you do:\n\nstatements - missing\n\"\"\"\n\nimport utility\n\nclass Coverage:\n    def start(self):\n        pass\n\n    def stop(self):\n        pass\n\n    def save(self):\n        pass\n\n    def _analyze(self, filename: str):\n        lines = set(utility.trace_lines())\n        # lines will be the lines that were actually executed\n        return Analysis(None, len(lines), None, set(), lines)\n\n\nclass Numbers:\n    def __init__(self, n_missing, n_statements, pc_covered):\n        self.n_missing = n_missing\n        self.n_statements = n_statements\n        self.pc_covered = pc_covered\n\n\nclass Analysis:\n    def __init__(self, n_missing, n_statements, pc_covered, missing, statements):\n        self.missing = missing\n        self.statements = statements\n        self.numbers = Numbers(n_missing, n_statements, pc_covered)\n\n\nclass python:\n    def get_python_source(self):\n        return None\n";

/***/ }),

/***/ "./src/skulpt_modules/image.js":
/*!*************************************!*\
  !*** ./src/skulpt_modules/image.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $builtinmodule: () => (/* binding */ $builtinmodule)
/* harmony export */ });
var $builtinmodule = function $builtinmodule(name) {
  var mod, sampleWrapper;
  mod = {
    __name__: "image"
  };
  if (!Sk.PIL) {
    Sk.PIL = {
      assets: {}
    };
  }

  // InstantPromise is a workaround to allow usage of the clean promise-style
  // then/catch syntax but to instantly call resolve the then/catch chain so we
  // can avoid creating Suspensions in unnecessary cases.  This is desirable
  // because Suspensions have a fairly large negative impact on overall
  // performance.  These 'instant promises' come into play when a tracer()
  // call is made with a value other than 1.  When tracer is 0 or greater than 1
  // , we can bypass the creation of a Suspension and proceed to the next line of
  // code immediately if the current line is not going to involve a screen
  // update. We determine if a real promise or InstantPromise is necessary by
  // checking FrameManager.willRenderNext()
  function InstantPromise(err, result) {
    this.lastResult = result;
    this.lastError = err;
  }
  InstantPromise.prototype.then = function (cb) {
    if (this.lastError) {
      return this;
    }
    try {
      this.lastResult = cb(this.lastResult);
    } catch (e) {
      this.lastResult = undefined;
      this.lastError = e;
    }
    return this.lastResult instanceof Promise ? this.lastResult : this;
  };
  InstantPromise.prototype["catch"] = function (cb) {
    if (this.lastError) {
      try {
        this.lastResult = cb(this.lastError);
        this.lastError = undefined;
      } catch (e) {
        this.lastResult = undefined;
        this.lastError = e;
      }
    }
    return this.lastResult instanceof Promise ? this.lastResult : this;
  };
  var buildImage = function buildImage(imageData) {};
  function getAsset(name) {
    return new Promise(function (resolve, reject) {
      if (Sk.PIL.assets[name] !== undefined) {
        //return Sk.PIL.assets[name];
        resolve(Sk.PIL.assets[name]);
      } else {
        var img = new Image();
        img.crossOrigin = "Anonymous";
        img.onload = function () {
          Sk.PIL.assets[name] = img;
          resolve(img);
        };
        img.onerror = function () {
          //throw new Error("Failed to load asset: " + name);
          reject(name);
        };
        img.src = name;
      }
    });
  }
  var image = function image($gbl, $loc) {
    // open(filename) or open(url)
    // show()

    $loc.__init__ = new Sk.builtin.func(function (self, file_or_url) {
      Sk.builtin.pyCheckArgs("__init__", arguments, 2, 2);
      Sk.builtin.pyCheckType("file_or_url", "string", Sk.builtin.checkString(file_or_url));
      self.file_or_url = file_or_url;
      // TODO: Change to suspension
      var imagePromise = getAsset(Sk.ffi.remapToJs(file_or_url));
      var susp = new Sk.misceval.Suspension();
      self.image = Sk.builtin.none.none$;
      susp.resume = function () {
        if (susp.data["error"]) {
          //throw new Sk.builtin.IOError(susp.data["error"].message);
          throw susp.data["error"];
        } else {
          //return self.image;
        }
      };
      susp.data = {
        type: "Sk.promise",
        promise: imagePromise.then(function (value) {
          self.image = value;
          self.canvas = document.createElement("canvas");
          self.canvas.width = self.image.width;
          self.canvas.height = self.image.height;
          self.canvas.getContext("2d").drawImage(self.image, 0, 0, self.image.width, self.image.height);
          self.pixels = self.canvas.getContext("2d").getImageData(0, 0, self.image.width, self.image.height).data;
          //return value;
        }, function (err) {
          self.image = "";
          throw err;
          //return err;
        })
      };
      return susp;
    });
    $loc.show = new Sk.builtin.func(function (self) {
      if (Sk.console === undefined) {
        throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");
      }
      var consoleData = {
        image: self.image,
        file_or_url: self.file_or_url
      };
      Sk.console.printPILImage(consoleData);
    });
    $loc.flip = new Sk.builtin.func(function (self) {
      self.image.style.transform = "scaleX(-1)";
      if (Sk.console === undefined) {
        throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");
      }
      return self;
    });
  };
  mod.Image = Sk.misceval.buildClass(mod, image, "Image", []);
  return mod;
};

/***/ }),

/***/ "./src/skulpt_modules/pedal_tracer.js":
/*!********************************************!*\
  !*** ./src/skulpt_modules/pedal_tracer.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $pedal_tracer: () => (/* binding */ $pedal_tracer)
/* harmony export */ });
var $pedal_tracer = "\n\n\"\"\"\nWraps the tracer module in Pedal\n\"\"\"\n\nimport os\nimport utility\n        \nclass SandboxBasicTracer:\n    \"\"\"\n\n    \"\"\"\n    def __init__(self):\n        super().__init__()\n        self.filename = \"student.py\"\n        self.code = None\n\n    def as_filename(self, filename, code):\n        if os.path.isabs(filename):\n            self.filename = filename\n        else:\n            self.filename = os.path.abspath(filename)\n        self.code = code\n        return self\n\n    def __enter__(self):\n        pass\n\n    def __exit__(self, exc_type, exc_val, traceback):\n        pass\n\nclass SandboxNativeTracer(SandboxBasicTracer):\n    \"\"\"\n    Tracks lines covered and function calls. Possibly other things? We could track variables, if that\n    was something people wanted.\n\n    TODO: Handle multiple submission files?\n    \"\"\"\n    def __init__(self):\n        super().__init__()\n        #self.calls = utility.trace_calls()\n        self.lines = utility.trace_lines()\n        self.step_index = len(utility.trace_lines())\n    \n    def get_calls(self):\n        return utility.trace_calls()\n    \n    calls = property(get_calls)\n    \n    def __enter__(self):\n        utility.start_trace(self)\n\n    def __exit__(self, exc_type, exc_val, traceback):\n        utility.stop_trace(self)\n\nTRACER_STYLES = {\n    'none': SandboxBasicTracer,\n    'native': SandboxNativeTracer\n}\n\n";

/***/ }),

/***/ "./src/skulpt_modules/sk_mod_instructor.js":
/*!*************************************************!*\
  !*** ./src/skulpt_modules/sk_mod_instructor.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $sk_mod_instructor: () => (/* binding */ $sk_mod_instructor)
/* harmony export */ });
/**
 * Skulpt Module for holding the Instructor API.
 *
 * This module is loaded in by getting the functions' source code from toString.
 * Isn't that crazy?
 *
 *
 */
var $sk_mod_instructor = function $sk_mod_instructor() {
  // Main module object that gets returned at the end.
  var mod = {};
  var none = Sk.builtin.none.none$;
  var prior = null;
  mod.timeit = new Sk.builtin.func(function (name) {
    Sk.builtin.pyCheckArgs("timeit", arguments, 1, 1);
    var difference;
    if (prior === null) {
      difference = 0;
    } else {
      difference = Date.now() - prior;
    }
    console.log(Sk.ffi.remapToJs(name), difference / 1000);
    prior = Date.now();
  });

  /**
   * Logs feedback to javascript console
   */
  mod.console_log = new Sk.builtin.func(function () {
    var strArgs = Array.prototype.slice.call(arguments).map(Sk.ffi.remapToJs);
    strArgs.forEach(function (arg) {
      Sk.executionReports["model"].ui.feedback.addPositiveFeedback(arg, "comment", "rgb(128, 128, 128)", undefined, true, true);
    });
  });

  /**
   * Logs debug to javascript console
   */
  mod.console_debug = new Sk.builtin.func(function () {
    console.log("debug", arguments);
    try {
      var strArgs = Array.prototype.slice.call(arguments).map(JSON.stringify);
      strArgs.forEach(function (arg) {
        Sk.executionReports["model"].ui.feedback.addPositiveFeedback(arg, "info-circle", "rgb(128, 128, 128)", undefined, true, true);
      });
    } catch (e) {
      Sk.executionReports["model"].ui.feedback.addPositiveFeedback("Failed to render debug message: ".concat(e), "exclamation-triangle", "rgb(128, 128, 128)", undefined, true, true);
    }
  });

  /**
   * This function coverts the output in the student report to a python 
   * list and returns it.
  **/
  mod.get_output = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_output", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      var output = Sk.executionReports["student"]["output"]();
      output = output.map(function (item) {
        return item.toSkulpt();
      });
      return new Sk.builtin.list(output);
    } else {
      return new Sk.builtin.list([]);
    }
  });

  /**
   * This function resets the output, particularly useful if the student
   * code is going to be rerun.
   */
  mod.reset_output = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("reset_output", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      Sk.executionReports["student"].output.removeAll();
    }
    return Sk.builtin.none.none$;
  });

  /*mod.queue_input = new Sk.builtin.func(function() {
      Sk.builtin.pyCheckArgs("queue_input", arguments, 1, Infinity);
      let args = arguments;
      for (let i = args.length-1; i >= 0; i--) {
          let input = args[i];
          Sk.builtin.pyCheckType("input", "string", Sk.builtin.checkString(input));
          Sk.queuedInput.push(Sk.ffi.remapToJs(input));
      }
  });*/

  /**
   * This function is called by instructors to get the students' code as a string.
  **/
  mod.get_program = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_program", arguments, 0, 0);
    return Sk.ffi.remapToPy(Sk.executionReports["verifier"].code);
  });

  /**
   * This function is called by instructors to get the students' code as a string.
  **/
  mod.get_evaluation = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_evaluation", arguments, 0, 0);
    return Sk.ffi.remapToPy(Sk.executionReports["student"].evaluation || "");
  });
  mod.trace_lines = new Sk.builtin.func(function () {
    if (Sk.executionReports["student"].success) {
      var lines = Sk.executionReports["student"].realLines;
      return Sk.ffi.remapToPy(lines);
    } else {
      return new Sk.builtin.list([]);
    }
  });
  mod.trace_calls = new Sk.builtin.func(function () {
    //console.log("--", Sk.executionReports["student"]);
    //console.log("CHECKING CALLS", Sk.executionReports['student'].success);
    if (Sk.executionReports["student"].success) {
      var calls = Sk.executionReports["student"].calls;
      return Sk.ffi.remapToPy(calls);
    }
    return new Sk.builtin.dict([]);
  });
  mod.start_trace = new Sk.builtin.func(function () {
    //console.log("START/BEGIN", Sk.beforeCall, Sk.executionReports.student.tracing);
    if (Sk.beforeCall === null) {
      Sk.beforeCall = Sk.beforeCallBackup;
    }
    Sk.executionReports["student"].tracing.push(true);
    //console.log("START/END", Sk.beforeCall, Sk.executionReports.student.tracing);
  });
  mod.stop_trace = new Sk.builtin.func(function () {
    //console.log("STOP/BEGIN", Sk.beforeCall, Sk.executionReports.student.tracing);
    Sk.executionReports["student"].tracing.pop();
    if (Sk.executionReports["student"].tracing.length === 0) {
      Sk.beforeCall = null;
    }
    //console.log("STOP/END", Sk.beforeCall, Sk.executionReports.student.tracing);
  });

  /**
   *
   */
  mod.get_student_error = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_student_error", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      return new Sk.builtin.tuple([none, none]);
    } else {
      var error = Sk.executionReports["student"].error,
        position = {};
      if (error && error.traceback && error.traceback.length > 0) {
        position["line"] = error.traceback[0].lineno;
      } else {
        error = none;
      }
      position = Sk.ffi.remapToPy(position);
      return new Sk.builtin.tuple([error, position]);
    }
  });
  mod.had_execution_time_error = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("had_execution_time_error", arguments, 0, 0);
    return !Sk.executionReports["student"].success && Sk.executionReports["student"].error && Sk.executionReports["student"].error.tp$name === "TimeLimitError";
  });
  var backupTime = undefined;
  mod.limit_execution_time = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("limit_execution_time", arguments, 0, 0);
    backupTime = Sk.execLimit;
    if (Sk.execLimitFunction) {
      Sk.execLimit = Sk.execLimitFunction();
      Sk.execStart = Date.now();
    }
  });
  mod.unlimit_execution_time = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("unlimit_execution_time", arguments, 0, 0);
    Sk.execLimit = backupTime;
    Sk.execStart = Date.now();
  });
  mod.suppress_scrolling = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("suppress_scrolling", arguments, 0, 0);
    Sk.executionReports.instructor.scrolling = true;
  });

  /*
  def hist(self, data, **kwargs):
      label = kwargs.get('label', None)
      self.active_plot['data'].append({'type': 'Histogram', 'values': data, 'label': label})
  def plot(self, xs, ys=None, **kwargs):
      label = kwargs.get('label', None)
      if ys == None:
          self.active_plot['data'].append({'type': 'Line', 
                                          'x': range(len(xs)), 'y': xs, 'label': label})
      else:
          self.active_plot['data'].append({'type': 'Line', 'x': xs, 'y': ys, 'label': label})
  def scatter(self, xs, ys, **kwargs):
      label = kwargs.get('label', None)
      self.active_plot['data'].append({'type': 'Scatter', 'x': xs, 'y': ys, 'label': label})
  */
  mod.get_plots = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_plots", arguments, 0, 0);
    if (Sk.executionReports["student"].success) {
      var outputs = Sk.executionReports["student"]["output"]();
      outputs = outputs.filter(function (output) {
        return output.type === "plot";
      }).map(function (graph) {
        return {
          "data": graph.content.map(function (plot) {
            var newPlot = {
              "type": plot.type,
              "label": ""
            };
            if (plot.type === "line" || plot.type === "scatter") {
              newPlot["x"] = plot.data.map(function (v) {
                return v.x;
              });
              newPlot["y"] = plot.data.map(function (v) {
                return v.y;
              });
            } else if (plot.type === "hist") {
              newPlot["values"] = plot.data;
            }
            return newPlot;
          }),
          "xlabel": "",
          "ylabel": "",
          "title": "",
          "legend": false
        };
      });
      return Sk.ffi.remapToPy(outputs);
    } else {
      return Sk.ffi.remapToPy([]);
    }
  });

  // Provides `student` as an object with all the data that the student declared.
  mod.StudentData = Sk.misceval.buildClass(mod, function ($gbl, $loc) {
    $loc.__init__ = new Sk.builtin.func(function (self) {
      //self.data = Sk.builtin.dict();
      var newDict = new Sk.builtin.dict();
      Sk.abstr.sattr(self, new Sk.builtin.str("data"), newDict, true);
      self.module = Sk.executionReports["student"].results;
      if (self.module !== undefined) {
        self.module = self.module.$d;
        for (var key in self.module) {
          if (self.module.hasOwnProperty(key)) {
            Sk.abstr.objectSetItem(newDict, Sk.ffi.remapToPy(Sk.unfixReserved(key)), self.module[key]);
          }
        }
      } else {
        self.module = {};
      }
      return Sk.builtin.none.none$;
    });
    var call_f = function call_f(kwa) {
      Sk.builtin.pyCheckArgsLen("call", arguments.length, 1, Infinity, true, true);
      var args = Array.prototype.slice.call(arguments, 1);
      var kwargs = new Sk.builtins.dict(kwa);
      var self = args[0];
      var functionName = args[1];
      args = args.slice(2);
      var inputs = kwargs.mp$lookup(new Sk.builtin.str("inputs"));
      if (inputs !== undefined) {
        inputs = Sk.ffi.remapToJs(inputs);
        if (inputs.constructor === Array) {
          inputs.forEach(function (item) {
            Sk.queuedInput.push(item);
          });
        } else {
          Sk.queuedInput.push(input);
        }
      }
      var data = self.tp$getattr(new Sk.builtin.str("data"));
      var functionObject = data.mp$lookup(functionName);
      var result = functionObject.tp$call(args);
      return result;
    };
    call_f.co_kwargs = true;
    //call_f.co_varnames = ["self", "function"];
    call_f.co_name = new Sk.builtin.str("call");
    $loc["call_$rn$"] = new Sk.builtin.func(call_f);
    $loc["__repr__"] = new Sk.builtin.func(function (self) {
      return new Sk.builtin.str("");
    });
    $loc.get_names_by_type = new Sk.builtin.func(function (self, type, exclude_builtins) {
      Sk.builtin.pyCheckArgs("get_names_by_type", arguments, 2, 3);
      if (exclude_builtins === undefined) {
        exclude_builtins = true;
      } else {
        Sk.builtin.pyCheckType("exclude_builtins", "boolean", Sk.builtin.checkBool(exclude_builtins));
        exclude_builtins = Sk.ffi.remapToJs(exclude_builtins);
      }
      var result = [];
      for (var property in self.module) {
        if (self.module.hasOwnProperty(property)) {
          if (self.module[property].tp$name === type.tp$name) {
            //console.log(exclude_builtins);
            if (exclude_builtins && property.startsWith("__")) {
              continue;
            }
            result.push(Sk.ffi.remapToPy(Sk.unfixReserved(property)));
          }
        }
      }
      return new Sk.builtin.list(result);
    });
    $loc.get_values_by_type = new Sk.builtin.func(function (self, type, exclude_builtins) {
      Sk.builtin.pyCheckArgs("get_values_by_type", arguments, 2, 3);
      if (exclude_builtins === undefined) {
        exclude_builtins = true;
      } else {
        Sk.builtin.pyCheckType("exclude_builtins", "boolean", Sk.builtin.checkBool(exclude_builtins));
        exclude_builtins = Sk.ffi.remapToJs(exclude_builtins);
      }
      var result = [];
      for (var property in self.module) {
        if (self.module.hasOwnProperty(property)) {
          if (self.module[property].tp$name === type.tp$name) {
            if (exclude_builtins && property.startsWith("__")) {
              continue;
            }
            result.push(self.module[property]);
          }
        }
      }
      return new Sk.builtin.list(result);
    });
  }, "StudentData");
  mod.student = Sk.misceval.callsimOrSuspend(mod.StudentData);
  mod.get_student_data = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("get_student_data", arguments, 0, 0);
    return mod.student;
  });
  mod.set_instructions = new Sk.builtin.func(function (newInstructions) {
    Sk.builtin.pyCheckArgs("set_instructions", arguments, 1, 2);
    newInstructions = Sk.ffi.remapToJs(newInstructions);
    Sk.executionReports["model"].display.changedInstructions(newInstructions);
  });
  mod.get_model_info = new Sk.builtin.func(function (keys) {
    Sk.builtin.pyCheckArgs("get_model_info", arguments, 1, 1);
    var model = Sk.executionReports["model"];
    keys = Sk.ffi.remapToJs(keys).split(".");
    for (var i = 0; i < keys.length; i++) {
      model = model[keys[i]];
    }
    return Sk.ffi.remapToPy(model());
  });
  mod.clear_existing_student_imports = new Sk.builtin.func(function () {
    Sk.builtin.pyCheckArgs("clear_existing_student_imports", arguments, 0, 0);
    Sk.clearExistingStudentImports();
  });
  mod.download_file = new Sk.builtin.func(function (placement, directory, filename) {
    Sk.builtin.pyCheckArgs("download_file", arguments, 3, 3);
    var downloadFileUrl = Sk.executionReports["model"].configuration.urls["downloadFile"];
    var combiner = downloadFileUrl.includes("?") ? "&" : "?";
    var url = "".concat(downloadFileUrl).concat(combiner, "placement=").concat(placement, "&directory=").concat(directory, "&filename=").concat(filename);
    var prom = new Promise(function (resolve, reject) {
      var xmlhttp = new XMLHttpRequest();
      // TODO: Figure out if this needs headers

      xmlhttp.addEventListener("loadend", function (e) {
        resolve(Sk.ffi.remapToPy(xmlhttp.responseText));
      });
      xmlhttp.open("GET", url);
      xmlhttp.send(null);
    });
    var susp = new Sk.misceval.Suspension();
    var resolution = null;
    susp.resume = function () {
      return resolution;
    };
    susp.data = {
      type: "Sk.promise",
      promise: prom.then(function (value) {
        resolution = value;
        return value;
      }, function (err) {
        resolution = "";
        return err;
      })
    };
    return susp;
  });
  return mod;
};

/***/ }),

/***/ "./src/skulpt_modules/weakref.js":
/*!***************************************!*\
  !*** ./src/skulpt_modules/weakref.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $builtinmodule: () => (/* binding */ $builtinmodule)
/* harmony export */ });
var $builtinmodule = function $builtinmodule(name) {
  var mod, sampleWrapper;
  mod = {
    __name__: "weakref"
  };

  /*mod.WeakSet = Sk.abstr.buildNativeClass("weakref.WeakSet", {
      constructor: function WeakSet()
  });*/

  var WeakSet = function WeakSet($gbl, $loc) {
    $loc.__init__ = new Sk.builtin.func(function (self, data) {
      Sk.builtin.pyCheckArgs("__init__", arguments, 2, 2);
      Sk.builtin.pyCheckType("data", "iterable", Sk.builtin.checkIterable(data));
      self.data = [];
      var iter = Sk.abstr.iter(data);
      var next;
      do {
        next = Sk.abstr.iternext(iter);
        if (next !== undefined) {
          self.data.push(new WeakRef(next));
        }
      } while (next !== undefined);
      return Sk.builtin.none.none$;
    });
    $loc.__iter__ = new Sk.builtin.func(function (self) {
      var viewOfData = [];
      for (var i = 0; i < self.data.length; i++) {
        var item = self.data[i].deref();
        if (item !== undefined) {
          viewOfData.push(item);
        }
      }
      self.data = viewOfData;
      return Sk.abstr.iter(new Sk.builtin.list(viewOfData));
    });

    /*$loc.next$ = new Sk.builtin.func(function (self) {
        return self.tp$iter();
    });*/

    $loc.add = new Sk.builtin.func(function (self, item) {
      self.data.push(new WeakRef(item));
    });
  };
  mod.WeakSet = Sk.misceval.buildClass(mod, WeakSet, "WeakSet", []);
  return mod;
};

/***/ }),

/***/ "./src/storage.js":
/*!************************!*\
  !*** ./src/storage.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalStorageWrapper: () => (/* binding */ LocalStorageWrapper)
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "jquery");
var LOCAL_STORAGE_REF;
try {
  LOCAL_STORAGE_REF = localStorage;
  var mod = "BLOCKPY_LOCALSTORAGE_TEST";
  LOCAL_STORAGE_REF.setItem(mod, mod);
  LOCAL_STORAGE_REF.removeItem(mod);
} catch (e) {
  LOCAL_STORAGE_REF = {
    _data: {},
    setItem: function setItem(id, val) {
      return this._data[id] = String(val);
    },
    getItem: function getItem(id) {
      return this._data.hasOwnProperty(id) ? this._data[id] : null;
    },
    removeItem: function removeItem(id) {
      return delete this._data[id];
    },
    clear: function clear() {
      return this._data = {};
    }
  };
}

/**
 * Helper object for interfacing with the LocalStorage. The LocalStorage
 * browser API allows for offline storage. That API is very unsophisticated,
 * and is essentially a lame key-value store. This object sits on top
 * and provides a number of useful utilities, including rudimentarycache
 * cache expiration.
 *
 * @constructor
 * @this {LocalStorageWrapper}
 * @param {String} namespace - A namespace to use in grouping access to localstorage. This keeps access clean and organized, while also making it possible to have multiple LocalStorage connections.
 */
function LocalStorageWrapper(namespace) {
  this.namespace = namespace;
}
/**
 * A method for adding a key/value pair to LocalStorage.
 * Note that both parameters must be strings (JSON.stringify is your friend).
 *
 * @param {String} key - The name of the key.
 * @param {String} value - The value.
 */
LocalStorageWrapper.prototype.set = function (key, value) {
  LOCAL_STORAGE_REF.setItem(this.namespace + "_" + key + "_value", value);
  LOCAL_STORAGE_REF.setItem(this.namespace + "_" + key + "_timestamp", $.now());
};

/**
 * A method for removing a key from LocalStorage.
 *
 * @param {String} key - The name of the key to remove.
 */
LocalStorageWrapper.prototype.remove = function (key) {
  LOCAL_STORAGE_REF.removeItem(this.namespace + "_" + key + "_value");
  LOCAL_STORAGE_REF.removeItem(this.namespace + "_" + key + "_timestamp");
};

/**
 * A method for retrieving the value associated with the given key.
 *
 * @param {String} key - The name of the key to retrieve the value for.
 */
LocalStorageWrapper.prototype.get = function (key) {
  return LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_value");
};

/**
 * A method for retrieving the time associated with the given key.
 *
 * @param {String} key - The name of the key to retrieve the time for.
 * @returns {Integer} - The timestamp (local epoch) when the key was last set.
 */
LocalStorageWrapper.prototype.getTime = function (key) {
  return parseInt(LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_timestamp"));
};

/**
 * A method for retrieving the value associated with the given key.
 * If the key does not exist, then the default value is used instead.
 * This default will be set.
 *
 * @param {String} key - The name of the key to retrieve the value for.
 * @param {String} defaultValue - The default value to use. Must be a string.
 */
LocalStorageWrapper.prototype.getDefault = function (key, defaultValue) {
  if (this.has(key)) {
    return this.get(key);
  } else {
    this.set(key, defaultValue);
    return defaultValue;
  }
};

/**
 * A test for whether the given key is in LocalStorage.
 *
 * @param {String} key - The key to test existence for.
 */
LocalStorageWrapper.prototype.has = function (key) {
  return LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_value") !== null;
};

/**
 * A test for whether the server has the newer version. This function
 * assumes that the server trip takes about 5 seconds. This method
 * is largely deprecated.
 *
 * @param {String} key - The key to check.
 * @param {Integer} server_time - The server's time as an epoch (in milliseconds)
 */
LocalStorageWrapper.prototype.is_new = function (key, server_time) {
  var stored_time = LOCAL_STORAGE_REF.getItem(this.namespace + "_" + key + "_timestamp");
  return server_time >= stored_time + 5000;
};

/***/ }),

/***/ "./src/trace.js":
/*!**********************!*\
  !*** ./src/trace.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AST_DESCRIPTIONS: () => (/* binding */ AST_DESCRIPTIONS),
/* harmony export */   BlockPyTrace: () => (/* binding */ BlockPyTrace),
/* harmony export */   TRACE_HTML: () => (/* binding */ TRACE_HTML)
/* harmony export */ });
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var TRACE_HTML = "\n\n<div class=\"blockpy-trace col-md-6 blockpy-panel\"\n            role=\"region\" aria-label=\"Trace\">\n    \n    <div class=\"clearfix\">\n        <strong>Trace: </strong>\n        \n        <!-- Feedback/Trace Visibility Control -->\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-hide-trace'\n                data-bind=\"click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span> Hide Trace\n        </button>\n    </div>\n\n    <div class=\"input-group mb-3 blockpy-trace-controls\">\n        <div class=\"input-group-prepend\">\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.first\">\n                <span class='fas fa-step-backward'></span>\n            </button>\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.backward\">\n                <span class='fas fa-backward'></span>\n            </button>\n            <span class=\"input-group-text\">Step:</span>\n            <span class=\"input-group-text\">\n                <span data-bind='text: execution.student.currentTraceStep'></span>\n                / <span data-bind='text: execution.student.lastStep'></span>\n            </span>\n        </div>\n        <div class=\"input-group-append\">\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.forward\">\n                <span class='fas fa-forward'></span>\n            </button>\n            <button type='button' class='btn btn-outline-secondary'\n                data-bind=\"click: ui.trace.last\">\n                <span class='fas fa-step-forward'></span>\n            </button>\n            <span class=\"input-group-text\">\n                <span data-bind='text: ui.trace.line'></span>\n            </span>\n        </div>\n    </div>\n    <p data-bind=\"text: ui.trace.ast\"></p>\n    <p>Variables after this step:</p>\n    <table class='table table-sm table-striped table-bordered table-hover'>\n        <thead>\n            <tr><th>Name</th><th>Type</th><th>Value</th></tr>\n        </thead>\n        <tbody data-bind=\"foreach: ui.trace.data().properties\">\n            <tr data-bind=\"visible: name != '__file__' && name != '__path__'\">\n                <td data-bind=\"text: name\"></td>\n                <td data-bind=\"text: type\"></td>\n                <td>\n                    <code data-bind=\"text: value\"></code>\n                    <!-- ko if: type == \"List\" -->\n                    \n                    <a href=\"\" data-bind=\"click: //$root.viewExactValue(type, exact_value)\">\n                    <span class='glyphicon glyphicon-new-window'></span>\n                    </a>\n                    <!-- /ko -->\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    \n</div>\n";
var AST_DESCRIPTIONS = {
  "Add": "An addition operator",
  "And": "A boolean AND operator",
  "AnnAssign": "An annotated assignment",
  "Assert": "An assert statement",
  "Assign": "An assignment statement",
  "AsyncFor": "An asychronous for loop",
  "AsyncFunctionDef": "An asychronous function definition",
  "AsyncWith": "An asychronous with statement",
  "Attribute": "An attribute lookup (access a field)",
  "AugAssign": "An augmented assignment",
  "AugLoad": "An augmented load",
  "AugStore": "An augmented store",
  "Await": "An await statement",
  "BinOp": "A binary operator",
  "BitAnd": "A bitwise AND operator",
  "BitOr": "A bitwise OR operator",
  "BitXor": "A bitwise XOR operator",
  "BoolOp": "A boolean operator",
  "Break": "A break statement",
  "Bytes": "A literal bytes string",
  "Call": "A function call",
  "ClassDef": "A class definition",
  "Compare": "A boolean comparison",
  "Constant": "A literal value",
  "Continue": "A continue statement",
  "Del": "A delete statement",
  "Delete": "A deletion",
  "Dict": "A dictionary literal",
  "DictComp": "A dictionary comprehension",
  "Div": "A division operator",
  "Ellipsis": "An ellipsis",
  "Eq": "An equality comparison operator",
  "ExceptHandler": "An except handler",
  "Expr": "An expression used as a statement",
  "Expression": "An evaluated expression",
  "ExtSlice": "A multi-dimensional slice",
  "FloorDiv": "An integer division operator",
  "For": "A FOR loop",
  "FormattedValue": "A formatted value in an f-string",
  "FunctionDef": "A function definition",
  "GeneratorExp": "A generator expression",
  "Global": "A global statement",
  "Gt": "A greater than comparison operator",
  "GtE": "A greater than or equal to comparison operator",
  "If": "An IF statement",
  "IfExp": "An IF expression",
  "Import": "An import statement",
  "ImportFrom": "An import/from statement",
  "In": "An IN operator",
  "Index": "An index",
  "Interactive": "An interactive expression",
  "Invert": "An invert operator",
  "Is": "An IS operator",
  "IsNot": "An IS NOT operator",
  "JoinedStr": "An f-string",
  "LShift": "A left shift operator",
  "Lambda": "A lambda expression",
  "List": "A list literal",
  "ListComp": "A list comprehension",
  "Load": "A load",
  "Lt": "A less than comparison operator",
  "LtE": "A less than or equal to comparison operator",
  "MatMult": "A matrix multiplication operator",
  "Mod": "A modulo operator",
  "Module": "A module",
  "Mult": "A multiplication operator",
  "Name": "A name",
  "NameConstant": "A name constant",
  "Nonlocal": "A nonlocal statement",
  "Not": "A not operator",
  "NotEq": "A not equal to comparison operator",
  "NotIn": "A NOT IN operator",
  "Num": "A numeric literal",
  "Or": "A boolean OR operator",
  "Param": "A parameter",
  "Pass": "A pass statement",
  "Pow": "A power operator",
  "RShift": "A right shift operator",
  "Raise": "A raise statement",
  "Return": "A return statement",
  "Set": "A set literal",
  "SetComp": "A set comprehension",
  "Slice": "A slice",
  "Starred": "A starred argument",
  "Store": "A store",
  "Str": "A string literal",
  "Sub": "A subtraction operator",
  "Subscript": "A subscript",
  "Suite": "A suite",
  "Try": "A try statement",
  "Tuple": "A tuple literal",
  "TypeIgnore": " a type ignore",
  "UAdd": "A unary addition operator",
  "USub": "A unary subtraction operator",
  "UnaryOp": "A unary operator",
  "While": "A while loop",
  "With": "A with statement",
  "Yield": "A yield statement",
  "YieldFrom": "A yield/from statement"
};
var BlockPyTrace = /*#__PURE__*/function () {
  function BlockPyTrace(main, tag) {
    _classCallCheck(this, BlockPyTrace);
    this.main = main;
    this.tag = tag;
    this.IGNORED_GLOBALS = ["__name__", "__doc__", "__package__", "classmethod", "property", "staticmethod", "$free", "$cell"];

    // this.trace.click(this.buildTraceTable.bind(this));
  }

  /**
   * Consume a set of variables traced from the execution and parse out any
   * global variables and modules.
   *
   * @param {Object} variables - a mapping of variable names to their Skupt value.
   */
  return _createClass(BlockPyTrace, [{
    key: "parseGlobals",
    value: function parseGlobals(variables) {
      var result = [];
      var modules = [];
      //console.log(variables);
      if (!this.main.model.display.traceExecution()) {
        /*if ("$cell" in variables) {
            variables = {...variables, ...variables.$cell};
        }*/
        /*if ("$free" in variables) {
            variables = {...variables, ...variables.$free};
        }*/
        for (var property in variables) {
          var value = variables[property];
          if (this.IGNORED_GLOBALS.indexOf(property) === -1 && value !== undefined) {
            property = property.replace("_$rw$", "").replace("_$rn$", "");
            var parsed = void 0;
            try {
              parsed = BlockPyTrace.parseValue(property, value);
            } catch (_unused) {
              parsed = {
                "name": property,
                "type": "Unknown",
                "value": value.toString()
              };
            }
            if (parsed !== null) {
              result.push(parsed);
            } else if (value.constructor === Sk.builtin.module) {
              modules.push(value.$d.__name__.v);
            }
          }
        }
      }
      return {
        "properties": result,
        "modules": modules
      };
    }
  }], [{
    key: "parseValue",
    value:
    /**
     * Convert a Skulpt value into a more easily printable object.
     *
     * @param {String} property
     * @param {Object} value - the skulpt value
     */
    function parseValue(property, value, fullLength) {
      if (value === undefined) {
        return {
          "name": property,
          "type": "Unknown",
          "value": "Undefined"
        };
      }
      switch (property) {
        case "dataclass":
          return {
            name: property,
            type: "Decorator",
            value: "<dataclass decorator>"
          };
      }
      switch (value.constructor) {
        case Sk.builtin.func:
          return {
            "name": property,
            "type": "Function",
            "value": value.func_code.co_varnames !== undefined ? " Parameters: " + value.func_code.co_varnames.join(", ") : " No parameters"
          };
        case Sk.builtin.module:
          return null;
        case Sk.builtin.str:
          if (fullLength || value.v.length <= 32) {
            return {
              "name": property,
              "type": "String",
              "value": value.$r().v
            };
          } else {
            return {
              "name": property,
              "type": "String",
              "value": "[" + value.sq$length() + " characters not shown]"
            };
          }
        case Sk.builtin.none:
          return {
            "name": property,
            "type": "None",
            "value": "None"
          };
        case Sk.builtin.bool:
          return {
            "name": property,
            "type": "Boolean",
            "value": value.$r().v
          };
        case Sk.builtin.nmber:
          return {
            "name": property,
            "type": "int" === value.skType ? "Integer" : "Float",
            "value": value.$r().v
          };
        case Sk.builtin.int_:
          return {
            "name": property,
            "type": "Integer",
            "value": value.$r().v
          };
        case Sk.builtin.float_:
          return {
            "name": property,
            "type": "Float",
            "value": value.$r().v
          };
        case Sk.builtin.tuple:
          return {
            "name": property,
            "type": "Tuple",
            "value": value.$r().v
          };
        case Sk.builtin.list:
          if (value.v.length <= 20) {
            return {
              "name": property,
              "type": "List",
              "value": value.$r().v,
              "exact_value": value
            };
          } else {
            return {
              "name": property,
              "type": "List",
              "value": "[... " + value.v.length + " elements ...]",
              "exact_value": value
            };
          }
        case Sk.builtin.dict:
          return {
            "name": property,
            "type": "Dictionary",
            "value": value.$r().v
          };
        case Number:
          return {
            "name": property,
            "type": value % 1 === 0 ? "Integer" : "Float",
            "value": value
          };
        case String:
          return {
            "name": property,
            "type": "String",
            "value": value
          };
        case Boolean:
          return {
            "name": property,
            "type": "Boolean",
            "value": value ? "True" : "False"
          };
        default:
          return {
            "name": property,
            "type": value.tp$name === undefined ? value : value.tp$name,
            "value": value.$r === undefined ? value : value.$r().v
          };
      }
    }
  }]);
}();

// TODO: viewExactValue

/***/ }),

/***/ "./src/utilities.js":
/*!**************************!*\
  !*** ./src/utilities.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IndexError: () => (/* binding */ IndexError),
/* harmony export */   KeyError: () => (/* binding */ KeyError),
/* harmony export */   TypeError: () => (/* binding */ _TypeError),
/* harmony export */   ValueError: () => (/* binding */ ValueError),
/* harmony export */   arrayMove: () => (/* binding */ arrayMove),
/* harmony export */   asnum$: () => (/* binding */ asnum$),
/* harmony export */   buildNativeClass: () => (/* binding */ buildNativeClass),
/* harmony export */   capitalize: () => (/* binding */ capitalize),
/* harmony export */   chain: () => (/* binding */ chain),
/* harmony export */   chainOrSuspend: () => (/* binding */ chainOrSuspend),
/* harmony export */   checkString: () => (/* binding */ checkString),
/* harmony export */   encodeHTML: () => (/* binding */ encodeHTML),
/* harmony export */   extractPart: () => (/* binding */ extractPart),
/* harmony export */   firstDefinedValue: () => (/* binding */ firstDefinedValue),
/* harmony export */   getAttr: () => (/* binding */ getAttr),
/* harmony export */   getCurrentTime: () => (/* binding */ getCurrentTime),
/* harmony export */   indent: () => (/* binding */ indent),
/* harmony export */   isTrue: () => (/* binding */ isTrue),
/* harmony export */   pyCallOrSuspend: () => (/* binding */ pyCallOrSuspend),
/* harmony export */   pyInt: () => (/* binding */ pyInt),
/* harmony export */   pyNone: () => (/* binding */ pyNone),
/* harmony export */   pyStr: () => (/* binding */ pyStr),
/* harmony export */   pyTuple: () => (/* binding */ pyTuple),
/* harmony export */   remapToJs: () => (/* binding */ remapToJs),
/* harmony export */   remapToPy: () => (/* binding */ remapToPy),
/* harmony export */   richCompareBool: () => (/* binding */ richCompareBool),
/* harmony export */   setAttr: () => (/* binding */ setAttr),
/* harmony export */   setUpModuleMethods: () => (/* binding */ setUpModuleMethods),
/* harmony export */   slug: () => (/* binding */ slug),
/* harmony export */   typeName: () => (/* binding */ typeName)
/* harmony export */ });
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * Move an element from index in an array to a new index.
 * O(n)
 * Courtesy:
 * https://stackoverflow.com/a/73877680/1718155
 * @param arr
 * @param oldIndex
 * @param newIndex
 * @returns {*}
 */
function arrayMove(arr, oldIndex, newIndex) {
  var length = arr.length;
  var itemToMove = arr[oldIndex];
  if (oldIndex === newIndex || oldIndex > length || newIndex > length) {
    return arr;
  }
  return arr.reduce(function (acc, item, index) {
    if (index === oldIndex) {
      return acc;
    }
    if (index === newIndex) {
      return oldIndex < newIndex ? [].concat(_toConsumableArray(acc), [item, itemToMove]) : [].concat(_toConsumableArray(acc), [itemToMove, item]);
    }
    return [].concat(_toConsumableArray(acc), [item]);
  }, []);
}

/**
 * Determines if the element is in the list.
 * @param {anything} needle - The element to look for.
 * @param {Array} haystack - The list to search.
 * @return {Boolean} Whether the element exists
 */
function arrayContains(needle, haystack) {
  return haystack.indexOf(needle) > -1;
}

/**
 * Remove duplicate values from an array, preserving order.
 * Creates a new array, so is non-destructive.
 * Courtesy:
 * https://stackoverflow.com/questions/1584370/how-to-merge-two-arrays-in-javascript-and-de-duplicate-items
 *
 * @param {Array} array - The array to uniquify. Elements compared with ===.
 */
function arrayUnique(array) {
  var a = array.concat();
  for (var i = 0; i < a.length; ++i) {
    for (var j = i + 1; j < a.length; ++j) {
      if (a[i] === a[j]) {
        a.splice(j--, 1);
      }
    }
  }
  return a;
}

/**
 * A helper function for extending an array based
 * on an "addArray" and "removeArray". Any element
 * found in removeArray is removed from the first array
 * and all the elements of addArray are added.
 * Any duplicate items are removed.
 * Creates a new array, so is non-destructive.
 *
 * @param {Array} array - the array to manipulate
 * @param {Array} addArray - the elements to add to the array
 * @param {Array} removeArray - the elements to remove from the array
 * @return {Array} The modified array
 */
function expandArray(array, addArray, removeArray) {
  var copyArray = array.filter(function (item) {
    return removeArray.indexOf(item) === -1;
  });
  return arrayUnique(copyArray.concat(addArray));
}

/**
 * Deeply clones a node
 * @param {Node} node A node to clone
 * @return {Node} A clone of the given node and all its children
 */
function cloneNode(node) {
  // If the node is a text node, then re-create it rather than clone it
  var clone = node.nodeType == 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);

  // Recurse     
  var child = node.firstChild;
  while (child) {
    clone.appendChild(cloneNode(child));
    child = child.nextSibling;
  }
  return clone;
}

/**
 * Indents the given string by 4 spaces. This correctly handles multi-line strings.
 *
 * @param {String} str - The string to be manipulated.
 * @returns {String} The string with four spaces added at the start of every new line.
 */
function indent(str) {
  return str.replace(/^(?=.)/gm, "    ");
}

/**
 * Turns spaces into underscores in the string, makes it lowercase.
 * @param {String} str - the string to be manipulated
 * @returns {string}
 */
function slug(str) {
  return str.replace(/\s/g, "_").toLowerCase();
}

/**
 * Capitalize the first letter of a string.
 * @param {String} s - The string to be capitalized.
 * @returns {string}
 */
function capitalize(s) {
  if (typeof s !== "string") {
    return "";
  }
  return s.charAt(0).toUpperCase() + s.slice(1);
}

/**
 * Return a random integer between [`min`, `max`].
 * 
 * @param {number} min - The lowest possible integer.
 * @param {number} max - The highest possible integer (inclusive).
 * @returns {number} A random integer.
 */
function randomInteger(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

/**
 * Encodes some text so that it can be safely written into an HTML box.
 * This includes replacing special HTML characters (&, <, >, etc.).
 *
 * @param {string} str - The text to be converted.
 * @return {string} The HTML-safe text.
 */
function encodeHTML(str) {
  return str.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
}

/**
 * Shuffle the blocks in the workspace
 */
if (typeof Blockly !== "undefined") {
  Blockly.WorkspaceSvg.prototype.shuffle = function () {
    var metrics = this.getMetrics();
    var width = metrics.viewWidth / 2,
      height = metrics.viewHeight;
    var blocks = this.getTopBlocks(false);
    var y = 5,
      x = 0,
      maximal_increase = height / blocks.length;
    for (var i = 0; i < blocks.length; i++) {
      // Get a block
      var block = blocks[i];
      var properties = block.getRelativeToSurfaceXY();
      if (i == 0) {
        x = 5;
      } else {
        x = -properties.x + randomInteger(10, width);
      }
      block.moveBy(x, -properties.y + y);
      y = y + randomInteger(5, maximal_increase);
    }
  };
}

/**
 * Move elements from one array to another based on a conditional check.
 * https://stackoverflow.com/questions/31887967/javascript-move-objects-from-one-array-to-another-best-approach
 */
function moveElements(source, target, moveCheck) {
  for (var i = 0; i < source.length; i++) {
    var element = source[i];
    if (moveCheck(element)) {
      source.splice(i, 1);
      target.push(element);
      i--;
    }
  }
}
function firstDefinedValue() {
  for (var i = 0; i < arguments.length; i++) {
    if (arguments[i] != null) {
      return arguments[i];
    }
  }
  return undefined;
}

/**
 * This function checks if the given object is one of the Sk.builtin objects
 * TODO: make this so we don't have to explicitly put out every option
 *          one possible thing we could do is get a string version of the 
 *          of the constructor and look for the substring "return new Sk.builtin"
 *          But I don't know how reliable that is.  Rather, it's kind of hackish.
 *          Should tehoretically belong in Sk.ffi
 * @param {object} obj - the object to be examined
 * @return {boolean} true if the object is one of the Sk.builtin types
**/
function isSkBuiltin(obj) {
  return obj instanceof Sk.builtin.dict || obj instanceof Sk.builtin.list || obj instanceof Sk.builtin.tuple || obj instanceof Sk.builtin.bool || obj instanceof Sk.builtin.int_ || obj instanceof Sk.builtin.float_ || obj instanceof Sk.builtin.str || obj instanceof Sk.builtin.lng;
  //var cons_str = obj.constructor + "";
  //return cons_str.indexOf("return new Sk.builtin") !== -1;
}
function isAstNode(obj) {
  return obj instanceof Object && "_astname" in obj;
}
var DEFAULT_SECTION_PATTERN = /^(##### Part (.+))$/gm;

/**
 * Finds the given Part ID using the pattern `#### Part whatever` (on its own separate line). If the pattern
 * is not found, then null is returned. If no pattern is given (empty string or null), then the original text
 * is returned without modifications.
 * @param text
 * @param partId
 * @returns {null|*}
 */
function extractPart(text, partId) {
  if (partId === "" || partId == null) {
    return text;
  }
  var parts = text.split(DEFAULT_SECTION_PATTERN);
  for (var i = 2; i < parts.length; i += 3) {
    /* // Unnecessary assertion, but not bad to think about
    if (!parts[i-1].startsWith("#### Part ")) {
        throw "Error: part format is broken!";
    }*/
    if (parts[i] === partId) {
      var body = parts[i + 1];
      if (body && body[0] === "\n") {
        body = body.slice(1);
      }
      if (i !== parts.length - 3 && body && body.slice(-1) === "\n") {
        body = body.slice(0, -1);
      }
      return body;
    }
  }
  return null;
}

/**
 * Should theoretically belong in Sk.ffi, but I put it here instead to not mess up the skulpt files
 * like the normal Sk.ffi.remapToPy, it doesn't work for functions or more complex objects, but it handles
 * cases where the types in obj are a mix of python SIMPLE objects and SIMPLE normal javascript objects
 * @param {object} obj - the object to be converted
 * @return {Sk.builtin.???} - returns the corresponding python object, dropping all functions and things it can't convert
**/
function mixedRemapToPy(obj) {
  var k;
  var kvs;
  var i;
  var arr;
  //@TODO: should theoretically check if the object is a pyhon dict or array with js objects
  if (isSkBuiltin(obj)) {
    //object is already python ready
    return obj;
  } else if (Object.prototype.toString.call(obj) === "[object Array]") {
    //object is actually a javascript array
    arr = [];
    for (i = 0; i < obj.length; ++i) {
      //for each object, convert it to a python object if it isn't one already
      var subval = obj[i];
      if (!isSkBuiltin(subval)) {
        arr.push(mixedRemapToPy(subval));
      } else {
        arr.push(subval);
      }
    }
    return new Sk.builtin.list(arr);
  } else if (obj === null) {
    //null object
    return Sk.builtin.none.none$;
  } else if (_typeof(obj) === "object") {
    if (!isSkBuiltin(obj)) {
      //assuming it's a standard dictionary
      kvs = []; //Sk.builtin.dict uses an array of key-value,key-value...
      for (k in obj) {
        //convert the key if it needs to be converted
        kvs.push(mixedRemapToPy(k));
        //covert corresponding value if it needs to be converted
        kvs.push(mixedRemapToPy(obj[k]));
      }
      //create the new dictionary
      return new Sk.builtin.dict(kvs);
    } else {
      return obj;
    }
  } else if (typeof obj === "string") {
    return new Sk.builtin.str(obj);
  } else if (typeof obj === "number") {
    return Sk.builtin.assk$(obj);
  } else if (typeof obj === "boolean") {
    return new Sk.builtin.bool(obj);
  } else if (typeof obj === "function") {
    return new Sk.builtin.str(obj.name);
  }
}
function getCurrentTime() {
  var today = new Date();
  var h = Math.floor(today.getHours() % 12);
  var m = today.getMinutes();
  //let s = today.getSeconds();
  if (m < 10) {
    m = "0" + m;
  }
  //if (s < 10) {s = "0" + s;}
  var p = "am";
  if (today.getHours() >= 12) {
    p = "pm";
  }
  return "".concat(h, ":").concat(m).concat(p);
}
var pyInt = Sk.builtin.int_;
var pyNone = Sk.builtin.none.none$;
var pyStr = Sk.builtin.str;
var pyTuple = Sk.builtin.tuple;
var pyCallOrSuspend = Sk.misceval.callsimOrSuspendArray;
var _Sk$misceval = Sk.misceval,
  isTrue = _Sk$misceval.isTrue,
  richCompareBool = _Sk$misceval.richCompareBool,
  chain = _Sk$misceval.chain;

var _Sk$abstr = Sk.abstr,
  typeName = _Sk$abstr.typeName,
  setUpModuleMethods = _Sk$abstr.setUpModuleMethods,
  buildNativeClass = _Sk$abstr.buildNativeClass;

var _Sk$builtin = Sk.builtin,
  _TypeError = _Sk$builtin.TypeError,
  ValueError = _Sk$builtin.ValueError,
  KeyError = _Sk$builtin.KeyError,
  IndexError = _Sk$builtin.IndexError,
  checkString = _Sk$builtin.checkString,
  asnum$ = _Sk$builtin.asnum$;

var _Sk$ffi = Sk.ffi,
  remapToPy = _Sk$ffi.remapToPy,
  remapToJs = _Sk$ffi.remapToJs;

var _Sk$generic = Sk.generic,
  getAttr = _Sk$generic.getAttr,
  setAttr = _Sk$generic.setAttr;

var chainOrSuspend = chain;

/***/ }),

/***/ "filepond":
/*!***************************!*\
  !*** external "FilePond" ***!
  \***************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_filepond__;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;

/***/ }),

/***/ "knockout":
/*!*********************!*\
  !*** external "ko" ***!
  \*********************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_knockout__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!************************!*\
  !*** ./src/blockpy.js ***!
  \************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockPy: () => (/* binding */ BlockPy),
/* harmony export */   _IMPORTED_COMPLETE_DATASETS: () => (/* reexport safe */ _corgis__WEBPACK_IMPORTED_MODULE_18__._IMPORTED_COMPLETE_DATASETS),
/* harmony export */   _IMPORTED_DATASETS: () => (/* reexport safe */ _corgis__WEBPACK_IMPORTED_MODULE_18__._IMPORTED_DATASETS)
/* harmony export */ });
/* harmony import */ var _css_blockpy_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css/blockpy.css */ "./src/css/blockpy.css");
/* harmony import */ var _css_bootstrap_retheme_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./css/bootstrap_retheme.css */ "./src/css/bootstrap_retheme.css");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var skulpt_modules_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! skulpt_modules/image */ "./src/skulpt_modules/image.js");
/* harmony import */ var skulpt_modules_weakref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! skulpt_modules/weakref */ "./src/skulpt_modules/weakref.js");
/* harmony import */ var storage_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! storage.js */ "./src/storage.js");
/* harmony import */ var editors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! editors.js */ "./src/editors.js");
/* harmony import */ var editor_python_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! editor/python.js */ "./src/editor/python.js");
/* harmony import */ var server_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./server */ "./src/server.js");
/* harmony import */ var interface_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! interface.js */ "./src/interface.js");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./files */ "./src/files.js");
/* harmony import */ var _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./editor/abstract_editor */ "./src/editor/abstract_editor.js");
/* harmony import */ var engine_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine.js */ "./src/engine.js");
/* harmony import */ var _trace__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./trace */ "./src/trace.js");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./console */ "./src/console.js");
/* harmony import */ var feedback_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! feedback.js */ "./src/feedback.js");
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dialog */ "./src/dialog.js");
/* harmony import */ var _editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./editor/assignment_settings */ "./src/editor/assignment_settings.js");
/* harmony import */ var _corgis__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./corgis */ "./src/corgis.js");
/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./history */ "./src/history.js");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utilities */ "./src/utilities.js");
/* harmony import */ var _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./editor/sample_submissions */ "./src/editor/sample_submissions.js");
/* harmony import */ var _pools__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pools */ "./src/pools.js");
/* provided dependency */ var ko = __webpack_require__(/*! knockout */ "knockout");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * @fileoverview Starting point of the BlockPy application, containing the main
 * BlockPy class.
 */





//import {$builtinmodule as matplotlibModule} from "skulpt_modules/matplotlib2";





















var EDITOR_VERSION = "5.1.2";

/**
 * Major entry point for creating a BlockPy instance.
 * Two most important fields are `model` and `components`.
 * The `model` holds all the data about the interface.
 * The `components` are references to the disparate parts of BlockPy.
 *
 * Most of this classes definition is just initializing the model and updating
 * it on an assignment switch.
 */
var BlockPy = /*#__PURE__*/function () {
  /**
   * @param {Object} configuration - User level settings (e.g., what editor mode, whether to mute semantic errors, etc.)
   * @param {Object} assignment - Assignment level settings (data about the loaded assignment, user, submission, etc.)
   * @param {Object} submission - Includes the source code of any programs to be loaded
   */
  function BlockPy(configuration, assignment, submission) {
    _classCallCheck(this, BlockPy);
    this.initModel(configuration);
    if (assignment !== undefined) {
      this.setAssignment(configuration, assignment, submission);
    }
    this.initMain();
  }

  /**
   * Initializes the BlockPy object by initializing its interface,
   * model, and components.
   *
   */
  return _createClass(BlockPy, [{
    key: "initMain",
    value: function initMain() {
      this.initUtilities();
      this.initModelMethods();
      this.turnOnHacks();
      this.initInterface();
      this.applyModel();
      this.initComponents();
      this.makeExtraSubscriptions();
      this.start();
    }
  }, {
    key: "getSetting",
    value:
    /**
     * Retrieves a default value or
     * @param {string} key - the key to look up a value for
     * @param {Object} defaultValue - if the key is not found anywhere, use this value
     */
    function getSetting(key, defaultValue) {
      if (key in this.initialConfiguration_) {
        return this.initialConfiguration_[key];
      } else if (this.localSettings_.has(key)) {
        return this.localSettings_.get(key);
      } else {
        return defaultValue;
      }
    }

    /**
     * Initializes the model to its defaults.
     *
     * Categories:
     *   * user: values for the current user (stored to server)
     *   * assignment: values for the current assignment (stored to server)
     *   * submission: values for the current submission (stored to server)
     *   * display: flags related to current visibility (stored to localSettings)
     *   * status: messages related to current status (not stored)
     *   * execution: values related to last run (not stored)
     *   * configuration: constant values related to setup (not stored)
     */
  }, {
    key: "initModel",
    value: function initModel(configuration) {
      // Connect to local storage
      this.localSettings_ = new storage_js__WEBPACK_IMPORTED_MODULE_5__.LocalStorageWrapper("localSettings");
      this.initialConfiguration_ = configuration;
      //console.log(configuration, configuration["submission.code"], configuration["partId"], extractPart(configuration["submission.code"] || "", configuration["partId"]));

      this.model = {
        user: {
          id: ko.observable(configuration["user.id"]),
          name: ko.observable(configuration["user.name"]),
          /**
           * Whether you are an Owner (can modify the assignment), Grader (can view
           * the assignments' information) or Student (can not see any instructor stuff).
           * @type {bool}
           */
          role: ko.observable(this.getSetting("user.role", "owner")),
          /**
           * Current course for this user
           */
          courseId: ko.observable(configuration["user.course_id"]),
          /**
           * Current assignment group that this user is inside
           */
          groupId: ko.observable(configuration["user.group_id"])
        },
        assignment: {
          id: ko.observable(null),
          name: ko.observable("Scratch Canvas"),
          instructions: ko.observable(configuration["assignment.instructions"] || "Welcome to BlockPy. Try editing and running the code below."),
          /**
           * The human-friendly URL to use as a shortcut for this assignment
           */
          url: ko.observable(""),
          // TODO: warning message if maze
          type: ko.observable(_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.AssigmentType.BLOCKPY),
          points: ko.observable(null),
          startingCode: ko.observable(configuration["assignment.starting_code"] || ""),
          onRun: ko.observable(configuration["assignment.on_run"] || ""),
          onChange: ko.observable(configuration["assignment.on_change"] || null),
          onEval: ko.observable(configuration["assignment.on_eval"] || null),
          extraInstructorFiles: ko.observableArray((0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(configuration["assignment.extra_instructor_files"]) || []),
          extraStartingFiles: ko.observableArray([]),
          forkedId: ko.observable(null),
          forkedVersion: ko.observable(null),
          ownerId: ko.observable(null),
          courseId: ko.observable(null),
          version: ko.observable(null),
          tags: ko.observableArray([]),
          sampleSubmissions: ko.observableArray([]),
          reviewed: ko.observable(configuration["assignment.reviewed"]),
          "public": ko.observable(configuration["assignment.public"]),
          hidden: ko.observable(configuration["assignment.hidden"]),
          ipRanges: ko.observable(configuration["assignment.ip_ranges"]),
          settings: (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.makeAssignmentSettingsModel)(configuration)
        },
        submission: {
          id: ko.observable(null),
          code: ko.observable((0,_utilities__WEBPACK_IMPORTED_MODULE_20__.extractPart)(configuration["submission.code"] || "", configuration["partId"]) || ""),
          extraFiles: ko.observableArray([]),
          url: ko.observable(""),
          endpoint: ko.observable(""),
          score: ko.observable(0),
          correct: ko.observable(false),
          // assignmentId inferred from assignment.id
          // courseId inferred from user.courseId
          // userId inferred from user.id
          // assignmentVersion inferred from assignment.version
          version: ko.observable(0),
          submissionStatus: ko.observable("Started"),
          gradingStatus: ko.observable("NotReady"),
          ownerId: ko.observable(null)
        },
        display: {
          /**
           * Currently visible File, if applicable
           * @type {String}
           */
          filename: ko.observable(null),
          /**
           * Whether or not to be presented with the instructor settings and files
           * @type {bool}
           */
          instructor: ko.observable("" + this.getSetting("display.instructor", "false") === "true"),
          /**
           * Whether or not to prevent the printer from showing things
           */
          mutePrinter: ko.observable(false),
          /**
           * (Python Views) The current editor mode.
           * @type {DisplayModes}
           */
          pythonMode: ko.observable(this.getSetting("display.python.mode", editor_python_js__WEBPACK_IMPORTED_MODULE_7__.DisplayModes.TEXT)),
          /**
           * Whether or not History mode is engaged.
           * @type {bool}
           */
          historyMode: ko.observable(false),
          /**
           * Whether or not to be auto-saving changes in Python editor
           * If an integer, specifies the delay that should be used (microseconds).
           * This is never on in non-Python editors.
           * @type {bool|int}
           */
          autoSave: ko.observable(true),
          /**
           * Whether or not the console is full width and feedback is hidden
           */
          bigConsole: ko.observable(false),
          /**
           * The height to use for the console.
           *    If null, then let the height remain unchanged
           *    If a number, then the
           */
          previousConsoleHeight: ko.observable(null),
          currentConsoleHeight: ko.observable(null),
          /**
           * Which panel to show in the second row's second column
           * @type {SecondRowSecondPanelOptions}
           */
          secondRowSecondPanel: ko.observable(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.FEEDBACK),
          previousSecondRowSecondPanel: ko.observable(null),
          /**
           * Whether or not to be tracing the code right now
           */
          traceExecution: ko.observable(false),
          /**
           * The list of promises to still resolve while loading datasets
           * @type {Array<Promise>}
           */
          loadingDatasets: ko.observableArray([]),
          /**
           * The temporary changed value of the instructions have been changed from what is in the assignment
           */
          changedInstructions: ko.observable(null),
          /**
           * A holder for the timer to trigger on-changes
           */
          triggerOnChange: null,
          /**
           * Whether the current feedback and output corresponds to the current submission.
           * This would be false if there is no feedback/output (i.e., code has not been run),
           * or if the user has modified the submission after the last run (e.g., by editing
           * the text).
           */
          dirtySubmission: ko.observable(true),
          /**
           *  Whether or not to make the BlockPy element in FULL SCREEN mode. Sadly, not fullscreen
           *  within the window, but FULL SCREEN. Very aggressive.
           */
          fullscreen: ko.observable(false),
          /**
           * User-supplied passcode to compare on the server against the current passcode.
           */
          passcode: ko.observable(""),
          /**
           * Whether or not to clear out inputs after a run/on_run cycle
           */
          clearInputs: ko.observable(true),
          /**
           * Whether or not images should be rendered (true), or just stay as text code (false).
           */
          renderImages: ko.observable(true),
          editorVersion: EDITOR_VERSION,
          readOnly: ko.observable(this.getSetting("display.read_only", "false").toString() === "true"),
          /**
           * Uploaded files are ones that have been listed by the remote
           */
          uploadedFiles: ko.observable(null),
          /**
           * Backup copy of the latest known full code for the Submission. This is relevant if there was a
           * PartID specified, in which case the submission.code in the model is only showing what we know
           * locally.
           */
          backupSubmissionCode: ko.observable(configuration["submission.code"] || ""),
          /**
           * Controls the rating system
           */
          showRating: ko.observable(this.getSetting("display.showRating", "true").toString() === "true"),
          /**
           * Whether the student has rated this current feedback
           */
          hasRated: ko.observable(false),
          /**
           * The seed that should be used for the pool; if null, then the submission id will be used.
           */
          poolSeed: ko.observable(this.getSetting("display.poolSeed", "") || null)
        },
        status: {
          // @type {ServerStatus}
          loadAssignment: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadAssignmentMessage: ko.observable(""),
          // @type {ServerStatus}
          loadHistory: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadHistoryMessage: ko.observable(""),
          // @type {ServerStatus}
          loadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          loadDataset: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          loadDatasetMessage: ko.observable(""),
          // @type {ServerStatus}
          logEvent: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          logEventMessage: ko.observable(""),
          // @type {ServerStatus}
          saveImage: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          saveImageMessage: ko.observable(""),
          // @type {ServerStatus}
          saveFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          saveFileMessage: ko.observable(""),
          // @type {ServerStatus}
          saveAssignment: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          saveAssignmentMessage: ko.observable(""),
          // @type {ServerStatus}
          updateSubmission: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          updateSubmissionMessage: ko.observable(""),
          // @type {ServerStatus}
          updateSubmissionStatus: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          updateSubmissionStatusMessage: ko.observable(""),
          // @type {ServerStatus}
          listUploadedFiles: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          listUploadedFilesMessage: ko.observable(""),
          // @type {ServerStatus}
          downloadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          downloadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          uploadFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          uploadFileMessage: ko.observable(""),
          // @type {ServerStatus}
          renameFile: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          renameFileMessage: ko.observable(""),
          // @type {ServerStatus}
          externalAPI: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY),
          externalAPIMessage: ko.observable(""),
          // @type {ServerStatus}
          onExecution: ko.observable(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY)
        },
        execution: {
          // Information about in-progress executions
          reports: {},
          // list of Output objects
          output: ko.observableArray([]),
          // List of inputted strings
          input: ko.observableArray([]),
          inputIndex: ko.observable(0),
          // Information related to a student run
          student: {
            // str: the filename that was last executed and is associated with these results
            filename: ko.observable(null),
            // integer
            currentStep: ko.observable(null),
            // integer
            lastStep: ko.observable(null),
            // integer
            currentLine: ko.observable(null),
            lastLine: ko.observable(0),
            // array of simple objects
            currentTraceData: ko.observableArray([]),
            // integer
            currentTraceStep: ko.observable(0),
            // Actual execution results
            results: null,
            globals: ko.observable(null),
            calls: {}
          },
          instructor: {
            globals: null,
            sysmodules: undefined,
            stdout: ko.observableArray([])
          },
          // Information related to feedback from the instructor run
          feedback: {
            // str (markdown)
            message: ko.observable("Ready"),
            category: ko.observable(null),
            label: ko.observable(null),
            hidden: ko.observable(false),
            linesError: ko.observableArray([]),
            linesUncovered: ko.observableArray([]),
            // The results of the last execution
            results: null
          }
        },
        configuration: {
          /**
           * Functions to fire when certain events occur
           */
          callbacks: {
            /**
             * When the student gets a success
             */
            "success": this.initialConfiguration_["callback.success"]
          },
          /**
           * Whether or not the server is connected.
           * @type {bool}
           */
          serverConnected: ko.observable(this.getSetting("server.connected", true)),
          // string
          blocklyPath: this.initialConfiguration_["blockly.path"],
          // string
          attachmentPoint: this.initialConfiguration_["attachment.point"],
          // JQuery object
          container: null,
          // Maps codes ('log_event', 'save_code') to URLs
          urls: this.initialConfiguration_["urls"] || {},
          /**
           * Unique Part ID that can distinguish this editor instance's region of the assignment.
           * It's possible that other editors may be attached to a different Part of the same assignmnet, on the
           * same page.
           * **/
          partId: ko.observable(configuration["partId"] || ""),
          accessToken: ko.observable(configuration["access_token"] || undefined)
        }
      };
    }
  }, {
    key: "initInterface",
    value:
    /**
     * Creates the interface
     */
    function initInterface() {
      var constants = this.model.configuration;
      var gui = (0,interface_js__WEBPACK_IMPORTED_MODULE_9__.makeInterface)(this);
      constants.container = jquery__WEBPACK_IMPORTED_MODULE_2___default()(constants.attachmentPoint).html(jquery__WEBPACK_IMPORTED_MODULE_2___default()(gui));
    }
  }, {
    key: "loadAssignment",
    value: function loadAssignment(assignment_id) {
      this.components.server.loadAssignment(assignment_id);
    }
  }, {
    key: "loadTags",
    value: function loadTags(tags) {
      // Already a JSON list representing tags
    }
  }, {
    key: "loadSampleSubmissions",
    value: function loadSampleSubmissions(samples) {
      // Already a JSON list representing samples
    }
  }, {
    key: "loadNoSubmission",
    value: function loadNoSubmission(assignment) {
      this.model.submission.code(assignment.starting_code);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(assignment.extra_starting_files, this.model.submission.extraFiles);
    }
  }, {
    key: "loadSubmission",
    value: function loadSubmission(submission, assignment) {
      if (!submission) {
        // TODO: Scarier "You are not logged in message"
        this.loadNoSubmission(assignment);
        return false;
      }
      // TODO: What if submissions' assignment version and the assignments' version conflict?
      this.model.submission.id(submission.id);
      this.model.display.backupSubmissionCode(submission.code);
      this.model.submission.code((0,_utilities__WEBPACK_IMPORTED_MODULE_20__.extractPart)(submission.code, this.model.configuration.partId()) || "");
      this.model.submission.correct(submission.correct);
      this.model.submission.score(submission.score);
      this.model.submission.endpoint(submission.endpoint);
      this.model.submission.url(submission.url);
      this.model.submission.version(submission.version);
      this.model.submission.gradingStatus(submission.grading_status || _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__.SubmissionStatuses.UNKNOWN);
      this.model.submission.submissionStatus(submission.submission_status || _editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__.SubmissionStatuses.UNKNOWN);
      this.model.submission.ownerId(submission.user_id);
      this.model.user.courseId(submission.course_id);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(submission.extra_files, this.model.submission.extraFiles);
    }
  }, {
    key: "loadAssignmentData_",
    value: function loadAssignmentData_(data) {
      console.debug(data);
      this.resetInterface();
      this.components.fileSystem.dismountExtraFiles();
      var wasServerConnected = this.model.configuration.serverConnected();
      this.model.configuration.serverConnected(false);
      var assignment = data.assignment;
      this.model.assignment.id(assignment.id);
      this.model.assignment.version(assignment.version);
      this.model.assignment.courseId(assignment.course_id);
      this.model.assignment.forkedId(assignment.forked_id);
      this.model.assignment.forkedVersion(assignment.forked_version);
      this.model.assignment.hidden(assignment.hidden);
      this.model.assignment.reviewed(assignment.reviewed);
      this.model.assignment["public"](assignment["public"]);
      this.model.assignment.type(assignment.type);
      this.model.assignment.url(assignment.url);
      this.model.assignment.points(assignment.points);
      this.model.assignment.ipRanges(assignment.ip_ranges);
      this.model.assignment.instructions(assignment.instructions);
      this.model.assignment.name(assignment.name);
      this.model.assignment.onChange(assignment.on_change || null);
      if (assignment.on_change) {
        this.components.fileSystem.newFile("!on_change.py", assignment.on_change);
      }
      this.model.assignment.onEval(assignment.on_eval || null);
      if (assignment.on_eval) {
        this.components.fileSystem.newFile("!on_eval.py", assignment.on_eval);
      }
      this.model.assignment.onRun(assignment.on_run);
      this.model.assignment.startingCode(assignment.starting_code);
      this.model.assignment.ownerId(assignment.owner_id);
      this.loadTags(assignment.tags);
      this.loadSampleSubmissions(assignment.sample_submissions);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(assignment.extra_instructor_files, this.model.assignment.extraInstructorFiles);
      (0,_files__WEBPACK_IMPORTED_MODULE_10__.loadConcatenatedFile)(assignment.extra_starting_files, this.model.assignment.extraStartingFiles);
      (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.loadAssignmentSettings)(this.model, assignment.settings);
      this.loadSubmission(data.submission, assignment);
      this.model.display.poolSeed(data["display_seed"] || null);
      this.model.display.dirtySubmission(true);
      this.model.display.changedInstructions(null);
      this.model.configuration.serverConnected(wasServerConnected);
      this.components.corgis.loadDatasets(true);
      this.components.pythonEditor.bm.refresh();
      this.components.fileSystem.loadRemoteFiles();
      this.components.server.setStatus("saveFile", server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY);
    }
  }, {
    key: "initModelMethods",
    value: function initModelMethods() {
      var _this = this;
      var self = this;
      var model = this.model;
      model.ui = {
        smallLayout: ko.pureComputed(function () {
          return !model.display.instructor() && model.assignment.settings.smallLayout();
        }),
        role: {
          isGrader: ko.pureComputed(function () {
            return model.user.role() === "owner" || model.user.role() === "grader";
          })
        },
        instructions: {
          isChanged: ko.pureComputed(function () {
            return model.display.changedInstructions() !== null;
          }),
          current: ko.pureComputed(function () {
            var raw = model.ui.instructions.isChanged() ? model.display.changedInstructions() : model.assignment.instructions();
            if (model.assignment.settings.instructionsPool()) {
              raw = (0,_pools__WEBPACK_IMPORTED_MODULE_22__.formatPoolInstructions)(raw, model);
            }
            return self.utilities.markdown(raw);
          }),
          reset: function reset() {
            return model.display.changedInstructions(null);
          }
        },
        menu: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.onlyInteractive();
          }),
          textFullscreen: ko.pureComputed(function () {
            return model.display.fullscreen() ? "fa-compress-arrows-alt" : "fa-expand-arrows-alt";
          }),
          clickFullscreen: function clickFullscreen() {
            model.display.fullscreen(!model.display.fullscreen());
          },
          editInputs: function editInputs() {
            _this.components.dialog.EDIT_INPUTS();
          },
          toggleImages: function toggleImages() {
            if (model.display.renderImages()) {
              self.components.pythonEditor.bm.textEditor.disableImages();
            } else {
              self.components.pythonEditor.bm.textEditor.enableImages();
            }
            model.display.renderImages(!model.display.renderImages());
          },
          canMarkSubmitted: ko.pureComputed(function () {
            return model.assignment.reviewed() || model.assignment.settings.canClose();
          }),
          textMarkSubmitted: ko.pureComputed(function () {
            if (model.ui.menu.isCompleted()) {
              return model.user.groupId() ? "Problem closed" : "Assignment closed";
            } else if (model.ui.menu.isSubmitted()) {
              return "Reopen for editing";
            } else if (model.display.dirtySubmission()) {
              return "Run";
            } else {
              if (!model.assignment.hidden() && model.submission.correct()) {
                return "Submit";
              } else {
                return "Submit early";
              }
            }
          }),
          clickMarkSubmitted: function clickMarkSubmitted() {
            if (model.ui.menu.isCompleted()) {
              alert("You cannot reopen closed assignments. Contact a grader!");
            } else if (model.ui.menu.isSubmitted()) {
              self.components.server.updateSubmissionStatus("inProgress");
            } else if (model.display.dirtySubmission()) {
              self.components.engine.delayedRun();
            } else {
              self.components.server.updateSubmissionStatus("Submitted");
            }
          },
          isSubmitted: ko.pureComputed(function () {
            return (model.assignment.reviewed() || model.assignment.settings.canClose()) && model.submission.submissionStatus().toLowerCase() === "submitted";
          }),
          isCompleted: ko.pureComputed(function () {
            return model.submission.submissionStatus().toLowerCase() === "completed";
          }),
          showQueuedInputs: ko.pureComputed(function () {
            return !model.assignment.settings.hideQueuedInputs();
          }),
          showClock: ko.pureComputed(function () {
            return !model.assignment.settings.hasClock();
          }),
          canShare: ko.pureComputed(function () {
            return model.configuration.urls["shareUrl"] !== undefined;
          }),
          getShareUrl: function getShareUrl(wasPrompted) {
            var parts = ["group", model.user.courseId(), model.user.groupId(), model.assignment.id(), model.user.id()];
            /*const interestingDetails = {
                "when": new Date().toISOString(),
                // "feedback": model.execution.feedback.category() + "|" + model.execution.feedback.label(),
                // "wasPrompted": wasPrompted
            };
            parts.push(btoa(JSON.stringify(interestingDetails)));
            console.log(interestingDetails);*/
            parts.push(new Date().toISOString());

            // Base64 encode the parts
            var encoded = btoa(parts.join("_"));
            // Construct the target URL using model.configuration.urls["shareUrl"]
            var baseUrl = model.configuration.urls["shareUrl"];
            return baseUrl + (baseUrl.endsWith("/") ? "" : "/") + encoded;
          },
          startShare: function startShare(wasPrompted) {
            _this.components.dialog.START_SHARE(model.ui.menu.getShareUrl(wasPrompted), wasPrompted);
          },
          currentSeed: ko.pureComputed(function () {
            return !model.display.poolSeed() && model.display.poolSeed() !== 0 ? model.submission.id() : model.display.poolSeed();
          })
        },
        secondRow: {
          width: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.smallLayout() ? "col-md-12" : "col-md-5";
          }),
          hideTraceButton: ko.pureComputed(function () {
            return !model.display.instructor() && model.assignment.settings.hideTraceButton();
          }),
          isAllVisible: ko.pureComputed(function () {
            return !model.assignment.settings.hideMiddlePanel();
          }),
          isFeedbackVisible: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.FEEDBACK;
          }),
          isTraceVisible: ko.pureComputed(function () {
            return model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE;
          }),
          isConsoleShowVisible: ko.pureComputed(function () {
            return model.ui.secondRow.isFeedbackVisible() || model.ui.secondRow.isTraceVisible();
          }),
          switchLabel: ko.pureComputed(function () {
            return model.execution.student.lastStep() !== null ? "View Trace" : "";
          }),
          advanceState: function advanceState() {
            var currentPanel = model.display.secondRowSecondPanel;
            if (currentPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.FEEDBACK);
            } else if (currentPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE);
            } else if (model.execution.student.lastStep() !== null) {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE);
            } else {
              currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE);
            }
          },
          makeWide: function makeWide() {
            var currentPanel = model.display.secondRowSecondPanel;
            model.display.previousSecondRowSecondPanel(currentPanel());
            currentPanel(interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE);
          },
          restorePanel: function restorePanel() {
            var oldPanel = model.display.previousSecondRowSecondPanel;
            if (oldPanel() !== null) {
              model.display.secondRowSecondPanel(oldPanel());
              oldPanel(null);
            }
          }
        },
        console: {
          size: ko.pureComputed(function () {
            return !model.display.instructor() && model.assignment.settings.smallLayout() || model.display.secondRowSecondPanel() === interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.NONE ? "col-md-12" : "col-md-6";
          }),
          hideEvaluate: ko.pureComputed(function () {
            return model.assignment.settings.hideEvaluate() || !model.execution.student.globals() || model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE;
          })
        },
        feedback: {
          badge: ko.pureComputed(function () {
            if (model.execution.feedback.category() === null) {
              return "label-none";
            }
            switch (model.execution.feedback.category().toLowerCase()) {
              default:
              case "none":
                return "label-none";
              case "runtime":
                return "label-runtime-error";
              case "syntax":
                return "label-syntax-error";
              case "editor":
                return "label-syntax-error";
              case "internal":
                return "label-internal-error";
              case "semantic":
              case "analyzer":
                return "label-semantic-error";
              case "feedback":
              case "instructor":
                return "label-feedback-error";
              case "complete":
                return "label-problem-complete";
              case "instructions":
                return "label-instructions";
              case "no errors":
                return "label-no-errors";
            }
          }),
          category: ko.pureComputed(function () {
            if (model.execution.feedback.category() === null) {
              return "";
            }
            switch (model.execution.feedback.category().toLowerCase()) {
              default:
              case "none":
                return "";
              case "runtime":
                return "Runtime Error";
              case "syntax":
                return "Syntax Error";
              case "editor":
                return "Editor Error";
              case "internal":
                return "Internal Error";
              case "semantic":
              case "analyzer":
                return "Algorithm Error";
              case "feedback":
              case "instructions":
                return "Instructions";
              case "instructor":
                return "Incorrect Answer";
              case "complete":
                return "Complete";
              case "no errors":
                return "No errors";
            }
          }),
          resetScore: function resetScore() {
            model.submission.score(0);
            model.submission.correct(false);
            self.components.server.updateSubmission(model.submission.score(), model.submission.correct(), true, true);
          },
          provideRatings: ko.pureComputed(function () {
            return !model.assignment.hidden();
          }),
          flipRating: function flipRating() {
            var newState = !model.display.showRating();
            model.display.showRating(newState);
            self.localSettings_.set("display.showRating", newState.toString());
          },
          rate: function rate(rating) {
            var suggestShare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
            self.components.server.logEvent("X-Rating", model.execution.feedback.category(), model.execution.feedback.label(), rating);
            model.configuration.container.find(".blockpy-rating").fadeOut(500, function () {
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).fadeIn(500);
              model.display.hasRated(true);
            });
            var thankYou = model.configuration.container.find(".blockpy-feedback-thank-you");
            thankYou.addClass("show");
            setTimeout(function () {
              thankYou.removeClass("show");
              if (model.display.hasRated()) {
                model.ui.menu.startShare(true);
              }
            }, 1000);
          },
          hasRatedClass: ko.pureComputed(function () {
            return model.display.hasRated() ? "far" : "fas";
          }),
          addPositiveFeedback: function addPositiveFeedback(text, icon, color, onclick, toEnd, instructorOnly) {
            if (!instructorOnly || model.display.instructor()) {
              self.components.feedback.addPositiveFeedback(text, icon, color, onclick, toEnd);
            }
          },
          showInstructorStdout: function showInstructorStdout() {
            self.components.dialog.VIEW_INSTRUCTOR_STDOUT();
          }
        },
        trace: {
          has: ko.pureComputed(function () {
            return model.execution.student.currentTraceData() !== null;
          }),
          highlightedLine: ko.pureComputed(function () {
            if (model.display.secondRowSecondPanel() !== interface_js__WEBPACK_IMPORTED_MODULE_9__.SecondRowSecondPanelOptions.TRACE) {
              return [];
            }
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData || step === null) {
              return [];
            } else if (step === 0) {
              return [];
            } else {
              return [traceData[step - 1].line];
            }
          }),
          line: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData || step === null) {
              return "No trace";
            }
            if (step === 0) {
              return "Before run";
            } else if (step === lastStep) {
              return "Finished run";
            } else {
              // TODO: why are these numbers wonky?
              return "Line " + traceData[step - 1].line;
            }
          }),
          ast: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData) {
              return "Nothing traced.";
            }
            switch (step) {
              case 0:
                return "Starting execution";
              case lastStep:
                if (!model.execution.reports.student.success) {
                  return "Execution halted (error)";
                }
                return "Finished execution";
              default:
                return "Current step: " + _trace__WEBPACK_IMPORTED_MODULE_13__.AST_DESCRIPTIONS[traceData[step - 1].ast];
            }
          }),
          first: function first() {
            model.execution.student.currentTraceStep(0);
          },
          backward: function backward() {
            var previous = Math.max(0, model.execution.student.currentTraceStep() - 1);
            model.execution.student.currentTraceStep(previous);
          },
          forward: function forward() {
            var next = Math.min(model.execution.student.lastStep(), model.execution.student.currentTraceStep() + 1);
            model.execution.student.currentTraceStep(next);
          },
          last: function last() {
            model.execution.student.currentTraceStep(model.execution.student.lastStep());
          },
          data: ko.pureComputed(function () {
            var step = model.execution.student.currentTraceStep();
            var lastStep = model.execution.student.lastStep();
            var traceData = model.execution.student.currentTraceData();
            if (!traceData) {
              return [];
            }
            switch (step) {
              case 0:
                return [];
              case lastStep:
                return traceData[step - 1];
              default:
                return traceData[step];
            }
          })
        },
        files: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.hideFiles() || model.assignment.settings.preloadAllFiles();
          }),
          addIsVisible: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.hideFiles();
          }),
          width: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.smallLayout() ? "col-md-12" : "col-md-6";
          }),
          hasContents: function hasContents(path) {
            switch (path) {
              case "answer.py":
                return model.submission.code();
              case "!instructions.md":
                return model.assignment.instructions();
              case "!on_change.py":
                return model.assignment.onChange() !== null;
              case "!on_eval.py":
                return model.assignment.onEval() !== null;
              case "?mock_urls.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "?mock_urls.blockpy";
                });
              case "images.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "images.blockpy";
                });
              case "!answer_prefix.py":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "!answer_prefix.py";
                });
              case "!answer_suffix.py":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "!answer_suffix.py";
                });
              case "?toolbox.blockpy":
                return model.assignment.extraInstructorFiles().some(function (file) {
                  return file.filename() === "?toolbox.blockpy";
                });
              case "!tags.blockpy":
                return model.assignment.tags().length;
              case "!sample_submissions.blockpy":
                return model.assignment.sampleSubmissions().length;
              default:
                return false;
            }
          },
          add: function add(path) {
            switch (path) {
              case "?mock_urls.blockpy":
              case "!answer_prefix.py":
              case "!answer_suffix.py":
              case "?tags.blockpy":
              case "?settings.blockpy":
                self.components.fileSystem.newFile(path);
                break;
              case "images.blockpy":
                self.components.fileSystem.newFile(path, "{}");
                break;
              case "?toolbox.blockpy":
                var normalToolbox = self.components.pythonEditor.bm.blockEditor.TOOLBOXES["normal"];
                normalToolbox = JSON.stringify(normalToolbox, null, 2);
                self.components.fileSystem.newFile(path, normalToolbox);
                break;
              case "!sample_submissions.blockpy":
                model.assignment.sampleSubmissions([_editor_sample_submissions__WEBPACK_IMPORTED_MODULE_21__.SampleSubmission.Blank()]);
                self.components.fileSystem.newFile(path);
                break;
              case "!on_change.py":
                model.assignment.onChange("");
                self.components.fileSystem.newFile(path);
                break;
              // TODO fix extrafiles for instructor and student
              case "!on_eval.py":
                model.assignment.onEval("");
                self.components.fileSystem.newFile(path);
                break;
              case "instructor":
                self.components.fileSystem.newFileDialog("instructor");
                return;
              case "student":
                self.components.fileSystem.newFileDialog("student");
                return;
              case "starting":
                self.components.fileSystem.newFileDialog("starting");
                return;
              default:
            }
            model.display.filename(path);
          },
          "delete": function _delete() {
            return self.components.fileSystem.deleteFile(model.display.filename());
          },
          rename: function rename(newName) {
            return self.components.fileSystem.renameFile(model.display.filename(), newName);
          },
          getStudentCode: function getStudentCode() {
            var prefixPy = self.components.fileSystem.getFile("!answer_prefix.py");
            var suffixPy = self.components.fileSystem.getFile("!answer_suffix.py");
            var code = self.model.submission.code();
            if (prefixPy && prefixPy.handle && prefixPy.handle()) {
              code = prefixPy.handle() + code;
            }
            if (suffixPy && suffixPy.handle && suffixPy.handle()) {
              code = code + suffixPy.handle();
            }
            return code;
          },
          extraStudentFiles: (0,_files__WEBPACK_IMPORTED_MODULE_10__.observeConcatenatedFile)(model.submission.extraFiles),
          extraInstructorFiles: (0,_files__WEBPACK_IMPORTED_MODULE_10__.observeConcatenatedFile)(model.assignment.extraInstructorFiles),
          extraStartingFiles: (0,_files__WEBPACK_IMPORTED_MODULE_10__.observeConcatenatedFile)(model.assignment.extraStartingFiles),
          displayFilename: function displayFilename(path) {
            if (path === "?mock_urls.blockpy") {
              return "URL Data";
            }
            if (path === "images.blockpy") {
              return "Images";
            }
            if (path === "!answer_prefix.py") {
              return "Answer Prefix";
            }
            if (path === "!answer_suffix.py") {
              return "Answer Suffix";
            }
            if (path === "?toolbox.blockpy") {
              return "Toolbox";
            }
            if (path.startsWith("&")) {
              return path.slice(1);
            }
            return path;
          }
        },
        editors: {
          current: ko.pureComputed(function () {
            return self.components.editors.getEditor(model.display.filename());
          }),
          width: ko.pureComputed(function () {
            return model.display.instructor() || !model.assignment.settings.smallLayout() ? "col-md-12" : "col-md-7";
          }),
          view: ko.pureComputed(function () {
            return !model.display.instructor() && (model.assignment.settings.hideEditors() || model.assignment.settings.onlyInteractive()) ? "None" : model.display.filename() ? model.ui.editors.current() : "None";
          }),
          reset: function reset() {
            self.components.server.logEvent("X-File.Reset", "", "", "", "answer.py");
            model.submission.code(model.assignment.startingCode());
            model.submission.extraFiles(model.assignment.extraStartingFiles().map(function (file) {
              var filename = file.filename().substr(1);
              return (0,_files__WEBPACK_IMPORTED_MODULE_10__.makeModelFile)(filename, file.contents());
            }));
          },
          canSave: ko.pureComputed(function () {
            return !model.display.autoSave();
          }),
          canDelete: ko.pureComputed(function () {
            return (!model.assignment.settings.hideFiles() || model.display.instructor()) && _files__WEBPACK_IMPORTED_MODULE_10__.UNDELETABLE_FILES.indexOf(model.display.filename()) === -1;
          }),
          canRename: ko.pureComputed(function () {
            return (!model.assignment.settings.hideFiles() || model.display.instructor()) && _files__WEBPACK_IMPORTED_MODULE_10__.UNRENAMABLE_FILES.indexOf(model.display.filename()) === -1;
          }),
          upload: _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_11__.uploadFile.bind(self),
          download: _editor_abstract_editor__WEBPACK_IMPORTED_MODULE_11__.downloadFile.bind(self),
          importDataset: function importDataset() {
            self.components.corgis.openDialog();
          },
          python: {
            fullscreen: function fullscreen() {
              var codeMirror = self.components.pythonEditor.bm.textEditor.codeMirror;
              return codeMirror.setOption("fullScreen", !codeMirror.getOption("fullScreen"));
            },
            updateMode: function updateMode(newMode) {
              self.components.server.logEvent("X-View.Change", "", "", newMode, model.display.filename());
              model.display.pythonMode(newMode);
              if (model.display.filename() === "answer.py") {
                self.components.pythonEditor.oldPythonMode = newMode;
              }
            },
            isHistoryAvailable: ko.pureComputed(function () {
              return model.ui.server.isEndpointConnected("loadHistory");
            }),
            turnOffHistoryMode: function turnOffHistoryMode() {
              self.components.pythonEditor.updateEditor();
              self.components.pythonEditor.setReadOnly(false);
              model.display.historyMode(false);
            },
            turnOnHistoryMode: function turnOnHistoryMode() {
              self.components.server.loadHistory(function (response) {
                if (response.success) {
                  self.components.history.load(response.history);
                  model.display.historyMode(true);
                  self.components.pythonEditor.setReadOnly(true);
                } else {
                  self.components.dialog.ERROR_LOADING_HISTORY();
                }
              });
            },
            toggleHistoryMode: function toggleHistoryMode() {
              if (model.display.historyMode()) {
                model.ui.editors.python.turnOffHistoryMode();
              } else {
                model.ui.editors.python.turnOnHistoryMode();
              }
            },
            history: {
              start: function start() {
                self.components.history.moveToStart();
              },
              previous: function previous() {
                self.components.history.movePrevious();
              },
              next: function next() {
                self.components.history.moveNext();
              },
              mostRecent: function mostRecent() {
                self.components.history.moveToMostRecent();
              },
              use: function use() {
                self.components.history.use();
              }
            }
          },
          images: {
            uploadFile: function uploadFile() {
              return self.components.editors.byName("image").uploadFile();
            },
            deleteFile: function deleteFile(fileInfo) {
              return self.components.editors.byName("image").deleteFile(fileInfo);
            },
            renameFile: function renameFile(fileInfo) {
              return self.components.editors.byName("image").renameFile(fileInfo);
            },
            reloadImages: function reloadImages() {
              return self.components.editors.byName("image").reloadImages();
            },
            canChoosePlacement: ko.pureComputed(function () {
              return model.display.instructor();
            }),
            canModify: function canModify(placement) {
              return model.display.instructor() || placement === "submission" || placement === "user";
            }
          },
          settings: {
            save: function save() {
              return self.components.server.saveAssignment();
            }
          },
          sampleSubmissions: {
            buildEditor: function buildEditor(newDOM, index, newElement) {
              var editor = self.components.editors.byName("Sample Submissions");
              editor.buildEditor(newDOM, index, newElement);
            }
          }
        },
        execute: {
          isRunning: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE;
          }),
          runLabel: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE ? "Stop" : "Run";
          }),
          run: function run() {
            if (model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE) {
              if (typeof PygameLib !== "undefined" && PygameLib.running) {
                PygameLib.StopPygame();
              }
              model.status.onExecution(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY);
            } else {
              self.components.engine.delayedRun();
            }
          },
          runQuietlyLabel: ko.pureComputed(function () {
            return model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE ? "Stop" : "Run without feedback";
          }),
          runQuietly: function runQuietly() {
            if (model.status.onExecution() === server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.ACTIVE) {
              if (typeof PygameLib !== "undefined" && PygameLib.running) {
                PygameLib.StopPygame();
              }
              model.status.onExecution(server_js__WEBPACK_IMPORTED_MODULE_8__.StatusState.READY);
            } else {
              self.components.engine.delayedRun(true);
            }
          },
          evaluate: function evaluate() {
            return self.components.engine.evaluate();
          }
        },
        server: {
          status: function status(endpoint) {
            return "server-status-" + model.status[endpoint]();
          },
          isEndpointConnected: function isEndpointConnected(endpoint) {
            return model.configuration.serverConnected() && model.configuration.urls !== undefined && model.configuration.urls[endpoint] !== undefined;
          },
          messages: ko.pureComputed(function () {
            return (0,_utilities__WEBPACK_IMPORTED_MODULE_20__.capitalize)(model.status.loadAssignmentMessage() || model.status.saveAssignmentMessage() || model.status.loadHistoryMessage() || model.status.loadFileMessage() || model.status.saveFileMessage() || model.status.loadDatasetMessage() || model.status.logEventMessage() || model.status.saveImage() || model.status.updateSubmissionMessage() || model.status.externalAPI() || model.status.updateSubmissionStatusMessage() || "");
          }),
          force: {
            loadAssignment: function loadAssignment(data, event) {
              //let fileHandler = $(".blockpy-force-load-assignment-file");
              var assignmentForceLoadButton = jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target);
              //fileHandler.click();
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).parent().fadeOut(100).fadeIn(100);
              // Allow user to upload a file containing an assignment submission
              var fr = new FileReader();
              var files = assignmentForceLoadButton[0].files;
              fr.onload = function (e) {
                var assignmentSubmission = JSON.parse(e.target.result);
                self.loadAssignmentData_(assignmentSubmission);
              };
              fr.fileName = files[0].name;
              fr.readAsText(files[0]);
              assignmentForceLoadButton.val("");
            },
            updateSubmission: function updateSubmission(data, event) {
              console.log(event);
              self.components.server.updateSubmission(self.model.submission.score(), self.model.submission.correct(), false, true);
              jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).fadeOut(100).fadeIn(100);
            }
          }
        },
        footer: {
          visible: ko.pureComputed(function () {
            return model.display.instructor() || !model.ui.smallLayout();
          })
        }
      };
      (0,interface_js__WEBPACK_IMPORTED_MODULE_9__.makeExtraInterfaceSubscriptions)(self, model);
    }
  }, {
    key: "turnOnHacks",
    value: function turnOnHacks() {
      //console.log("TODO");
      Sk.builtinFiles.files["src/lib/image.js"] = skulpt_modules_image__WEBPACK_IMPORTED_MODULE_3__.$builtinmodule.toString();
      //Sk.builtinFiles.files["src/lib/weakref.js"] = weakrefModule.toString();
      //Sk.builtinFiles.files["src/lib/matplotlib/pyplot/__init__.js"] = matplotlibModule.toString();
    }

    /**
     * Applys the KnockoutJS bindings to the model, instantiating the values into the
     * HTML.
     */
  }, {
    key: "applyModel",
    value: function applyModel() {
      ko.applyBindings(this.model, this.model.configuration.container[0]);
    }
  }, {
    key: "initUtilities",
    value: function initUtilities() {
      var main = this;
      this.utilities = {
        markdown: function markdown(text) {
          return text ? EasyMDE.prototype.markdown(text) : "<p></p>";
        }
      };
    }
  }, {
    key: "initComponents",
    value: function initComponents() {
      var container = this.model.configuration.container;
      var components = this.components = {};
      var main = this;
      // Each of these components will take the BlockPy instance, and possibly a
      // reference to the relevant HTML location where it will be embedded.
      components.dialog = new _dialog__WEBPACK_IMPORTED_MODULE_16__.BlockPyDialog(main, container.find(".blockpy-dialog"));
      components.feedback = new feedback_js__WEBPACK_IMPORTED_MODULE_15__.BlockPyFeedback(main, container.find(".blockpy-feedback"));
      components.trace = new _trace__WEBPACK_IMPORTED_MODULE_13__.BlockPyTrace(main);
      components.console = new _console__WEBPACK_IMPORTED_MODULE_14__.BlockPyConsole(main, container.find(".blockpy-console"));
      components.engine = new engine_js__WEBPACK_IMPORTED_MODULE_12__.BlockPyEngine(main);
      components.fileSystem = new _files__WEBPACK_IMPORTED_MODULE_10__.BlockPyFileSystem(main);
      components.editors = new editors_js__WEBPACK_IMPORTED_MODULE_6__.Editors(main, container.find(".blockpy-editor"));
      // Convenient shortcut directly to PythonEditor
      components.pythonEditor = this.components.editors.byName("python");
      components.server = new server_js__WEBPACK_IMPORTED_MODULE_8__.BlockPyServer(main);
      components.corgis = new _corgis__WEBPACK_IMPORTED_MODULE_18__.BlockPyCorgis(main);
      components.history = new _history__WEBPACK_IMPORTED_MODULE_19__.BlockPyHistory(main, container.find(".blockpy-history-toolbar"));
    }
  }, {
    key: "show",
    value: function show() {
      this.model.configuration.container.show();
      //this.model.configuration.container.find(".blockpy-file-instructor").toggle(this.model.display.instructor());
    }
  }, {
    key: "hide",
    value: function hide() {
      this.model.configuration.container.hide();
    }
  }, {
    key: "makeExtraSubscriptions",
    value: function makeExtraSubscriptions() {
      var _this2 = this;
      this.model.display.changedInstructions.subscribe(function (changed) {
        _this2.components.server.logEvent("X-Instructions.Change", "", "", changed, "instructions.md");
      });
      this.clock = null;
      var container = this.model.configuration.container;
      var updateClock = function updateClock() {
        return container.find(".blockpy-menu-clock").text((0,_utilities__WEBPACK_IMPORTED_MODULE_20__.getCurrentTime)());
      };
      if (this.model.ui.menu.showClock()) {
        this.clock = setInterval(updateClock, 1000);
      }
      this.model.ui.menu.showClock.subscribe(function (changed) {
        if (_this2.model.ui.menu.showClock()) {
          if (_this2.clock) {
            clearInterval(_this2.clock);
            _this2.clock = null;
          }
        } else {
          if (!_this2.clock) {
            _this2.clock = setInterval(updateClock, 1000);
          }
        }
      });
    }
  }, {
    key: "start",
    value: function start() {
      this.model.display.filename("answer.py");
    }
  }, {
    key: "resetInterface",
    value: function resetInterface() {
      this.components.engine.reset();
      // Disable any alternative logEntry functions we have been given
      this.components.server.altLogEntry = null;
    }
  }, {
    key: "requestPasscode",
    value: function requestPasscode() {
      var userSuppliedPasscode = prompt("Please enter the passcode.");
      this.model.display.passcode(userSuppliedPasscode);
    }
  }, {
    key: "destroy",
    value: function destroy() {}
  }, {
    key: "settingsToJson",
    value: function settingsToJson() {
      return (0,_editor_assignment_settings__WEBPACK_IMPORTED_MODULE_17__.saveAssignmentSettings)(this.model);
    }
  }]);
}();
})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxLQUFLLEdBQUdFLFdBQVcsQ0FBQ0QsV0FBVyxFQUFFLElBQUksQ0FBQztVQUMvQztRQUNKO01BQ0osQ0FBQyxDQUFDO0lBQ047RUFBQztJQUFBMW1ELEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUE4TixLQUFLQSxDQUFBLEVBQUc7TUFDSixJQUFJLENBQUN2TyxLQUFLLENBQUNJLE9BQU8sQ0FBQ2QsUUFBUSxDQUFDLFdBQVcsQ0FBQztJQUM1QztFQUFDO0lBQUFrQixHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBbWdELGNBQWNBLENBQUEsRUFBRztNQUNiLElBQUksQ0FBQ2xoRCxVQUFVLENBQUNDLE1BQU0sQ0FBQ2txQixLQUFLLENBQUMsQ0FBQztNQUM5QjtNQUNBLElBQUksQ0FBQ25xQixVQUFVLENBQUN3SixNQUFNLENBQUMrL0IsV0FBVyxHQUFHLElBQUk7SUFDN0M7RUFBQztJQUFBem9DLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUE0bUQsZUFBZUEsQ0FBQSxFQUFHO01BQ2QsSUFBSUMsb0JBQW9CLEdBQUcvckMsTUFBTSxDQUFDLDRCQUE0QixDQUFDO01BQy9ELElBQUksQ0FBQ3ZiLEtBQUssQ0FBQ0ksT0FBTyxDQUFDbXFDLFFBQVEsQ0FBQytjLG9CQUFvQixDQUFDO0lBQ3JEO0VBQUM7SUFBQTltRCxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBOG1ELE9BQU9BLENBQUEsRUFBRyxDQUVWO0VBQUM7SUFBQS9tRCxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBK21ELGNBQWNBLENBQUEsRUFBRztNQUNiLE9BQU96dkMsb0ZBQXNCLENBQUMsSUFBSSxDQUFDL1gsS0FBSyxDQUFDO0lBQzdDO0VBQUM7QUFBQSxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tweS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jb25zb2xlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvY29yZ2lzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvY3NzL2Jsb2NrcHkuY3NzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvY3NzL2Jvb3RzdHJhcF9yZXRoZW1lLmNzcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2RpYWxvZy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9hYnN0cmFjdF9lZGl0b3IuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9kZWZhdWx0X2hlYWRlci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9pbWFnZXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3IvanNvbi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9tYXJrZG93bi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9weXRob24uanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3IvcXVpei5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9zYW1wbGVfc3VibWlzc2lvbnMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3IvdGFncy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci90ZXh0LmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL3Rvb2xib3guanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3JzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL2V2YWwuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvaW5zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9jaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvb25fZXZhbC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9ydW4uanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvb25fc2FtcGxlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL3J1bi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9zYW1wbGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lbmdpbmUvc3R1ZGVudC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2ZlZWRiYWNrLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZmlsZXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9mb290ZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9oaXN0b3J5LmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvaW50ZXJmYWNlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvcG9vbHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9za3VscHRfbW9kdWxlcy9jb3ZlcmFnZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NrdWxwdF9tb2R1bGVzL2ltYWdlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc2t1bHB0X21vZHVsZXMvcGVkYWxfdHJhY2VyLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc2t1bHB0X21vZHVsZXMvc2tfbW9kX2luc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9za3VscHRfbW9kdWxlcy93ZWFrcmVmLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3RyYWNlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvdXRpbGl0aWVzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvZXh0ZXJuYWwgdW1kIFwiRmlsZVBvbmRcIiIsIndlYnBhY2s6Ly9ibG9ja3B5L2V4dGVybmFsIHVtZCBcImpRdWVyeVwiIiwid2VicGFjazovL2Jsb2NrcHkvZXh0ZXJuYWwgdW1kIFwia29cIiIsIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Jsb2NrcHkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmxvY2tweS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmxvY2tweS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2Jsb2NrcHkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2Jsb2NrcHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiRmlsZVBvbmRcIiksIHJlcXVpcmUoXCJqUXVlcnlcIiksIHJlcXVpcmUoXCJrb1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImJsb2NrcHlcIiwgW1wiRmlsZVBvbmRcIiwgXCJqUXVlcnlcIiwgXCJrb1wiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJibG9ja3B5XCJdID0gZmFjdG9yeShyZXF1aXJlKFwiRmlsZVBvbmRcIiksIHJlcXVpcmUoXCJqUXVlcnlcIiksIHJlcXVpcmUoXCJrb1wiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYmxvY2tweVwiXSA9IGZhY3Rvcnkocm9vdFtcIkZpbGVQb25kXCJdLCByb290W1wialF1ZXJ5XCJdLCByb290W1wia29cIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIChfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ZpbGVwb25kX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfanF1ZXJ5X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfa25vY2tvdXRfXykgPT4ge1xucmV0dXJuICIsImltcG9ydCB7ZW5jb2RlSFRNTH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbi8qKlxuICogRXZhbHVhdGUgYnV0dG9uIEhUTUwgdGVtcGxhdGVcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFNUQVJUX0VWQUxfSFRNTCA9IGBcbjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZSBmbG9hdC1yaWdodCBibG9ja3B5LWJ0bi1ldmFsXCI+XG4gICAgRXZhbHVhdGVcbjwvYnV0dG9uPmA7XG5cbi8qKlxuICogSFRNTCB0ZW1wbGF0ZSBmb3IgYSBuZXcgbGluZSBpbiB0aGUgY29uc29sZS5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IE5FV19DT05TT0xFX0xJTkVfSFRNTCA9IFwiPGRpdj48L2Rpdj5cIjtcblxuLyoqXG4gKiBIVE1MIHRlbXBsYXRlIGZvciB0aGUgZW50aXJlIGNvbnNvbGUgYXJlYVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENPTlNPTEVfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LXBhbmVsIGJsb2NrcHktY29uc29sZSdcbiAgICAgICAgICByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIkNvbnNvbGVcIlxuICAgICAgICAgIGRhdGEtYmluZD1cImNsYXNzOiB1aS5jb25zb2xlLnNpemVcIj5cbiAgICAgICAgICBcbiAgICAgICAgPCEtLSBGZWVkYmFjay9UcmFjZSBWaXNpYmlsaXR5IENvbnRyb2wgLS0+XG4gICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgIGNsYXNzPSdidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBmbG9hdC1yaWdodCBibG9ja3B5LXNob3ctZmVlZGJhY2snXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5zZWNvbmRSb3cuaXNDb25zb2xlU2hvd1Zpc2libGUsIGNsaWNrOiB1aS5zZWNvbmRSb3cuYWR2YW5jZVN0YXRlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWV5ZSc+PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgPHN0cm9uZz5Db25zb2xlOjwvc3Ryb25nPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz0nYmxvY2tweS1wcmludGVyIGJsb2NrcHktcHJpbnRlci1kZWZhdWx0Jz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIEFsbCB0aGUgcG9zc2libGUgdHlwZXMgZm9yIGEgbGluZSBpbiB0aGUgY29uc29sZS5cbiAqIEBlbnVtXG4gKi9cbmV4cG9ydCBsZXQgQ29uc29sZUxpbmVUeXBlID0ge1xuICAgIFRFWFQ6IFwidGV4dFwiLFxuICAgIEhUTUw6IFwiaHRtbFwiLFxuICAgIFBMT1Q6IFwicGxvdFwiLFxuICAgIElNQUdFOiBcImltYWdlXCIsXG4gICAgUFlHQU1FOiBcInB5Z2FtZVwiLFxuICAgIERSQUZURVI6IFwiZHJhZnRlclwiLFxuICAgIFRVUlRMRTogXCJ0dXJ0bGVcIixcbiAgICBFVkFMOiBcImV2YWxcIixcbiAgICBTVEFSVF9FVkFMOiBcInN0YXJ0X2V2YWxcIixcbiAgICBWQUxVRTogXCJ2YWx1ZVwiLFxuICAgIElOUFVUOiBcImlucHV0XCIsXG4gICAgVEVTVF9DQVNFOiBcInRlc3RfY2FzZVwiXG59O1xuXG4vKipcbiAqIEFic3RyYWN0IHZlcnNpb24gb2YgYSBsaW5lIGluIHRoZSBjb25zb2xlLiBBbGwgb3RoZXIgY29uc29sZSBsaW5lc1xuICogc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLiBDcml0aWNhbGx5LCB0aGV5IG5lZWQgdG8gaW1wbGVtZW50IGEgcmVuZGVyIGZ1bmN0aW9uLlxuICovXG5jbGFzcyBDb25zb2xlTGluZSB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdHlwZSwgY29udGVudCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIGJhY2sgdG8gdGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZS5cbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtCbG9ja1B5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhdGVnb3JpemVzIHdoYXQga2luZCBvZiBsaW5lIHRoaXMgaXMgKHRleHQvaHRtbC9wbG90L2V0Yy4pXG4gICAgICAgICAqIEB0eXBlIHtDb25zb2xlTGluZVR5cGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFjdHVhbCBkYXRhIHN0b3JlZCBvbiB0aGlzIGxpbmUuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWV0YWRhdGEgYWJvdXQgd2hlcmUgdGhlIGxpbmUgb3JpZ2luYXRlZCBmcm9tIGluIHRoZSBjb2RlLlxuICAgICAgICAgKiBAdHlwZSB7e2ZpbGVuYW1lOiBzdHJpbmcsIGxpbmU6IG51bWJlciwgc3RlcDogbnVtYmVyfX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luID0ge1xuICAgICAgICAgICAgZmlsZW5hbWU6IFNrLmN1cnJGaWxlbmFtZSxcbiAgICAgICAgICAgIHN0ZXA6IG1haW4uY29tcG9uZW50cy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXAsXG4gICAgICAgICAgICBsaW5lOiBtYWluLmNvbXBvbmVudHMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5saW5lXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSFRNTCBjb250ZW50IHN0b3JlZCBvbiB0aGlzIGxpbmUsIG1lYW50IHRvIGJlIHJlbmRlcmVkXG4gICAgICAgICAqIHRvIHRoZSB1c2VyLlxuICAgICAgICAgKiBAdHlwZSB7KnxqUXVlcnkuZm4uaW5pdHxqUXVlcnl8SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmh0bWwgPSAkKFwiPGRpdj48L2Rpdj5cIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiAgXCJibG9ja3B5LXByaW50ZXItb3V0cHV0XCIsXG4gICAgICAgICAgICBcImRhdGEtY29udGFpbmVyXCI6IG1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5hdHRhY2htZW50UG9pbnQsXG4gICAgICAgICAgICBcImRhdGEtdG9nZ2xlXCI6IFwidG9vbHRpcFwiLFxuICAgICAgICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBcImF1dG9cIixcbiAgICAgICAgICAgIFwiZGF0YS1zdGVwXCI6IHRoaXMub3JpZ2luLnN0ZXAsXG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiU3RlcCBcIiArIHRoaXMub3JpZ2luLnN0ZXAgKyBcIiwgTGluZSBcIiArIHRoaXMub3JpZ2luLmxpbmVcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGxpbmUgc2hvdWxkIGJlIHZpc2libGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSAhbWFpbi5tb2RlbC5kaXNwbGF5Lm11dGVQcmludGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgU2t1bHB0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgY29uc29sZSBsaW5lJ3MgY29udGVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0b1NrdWxwdCgpIHtcbiAgICAgICAgcmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkodGhpcy5jb250ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhpcyBjb25zb2xlIGxpbmUgYnkgZGVsZXRpbmcgaXRzIEhUTUwgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgZGVsZXRlKCkge1xuICAgICAgICB0aGlzLmh0bWwucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVR1cnRsZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICAvLyBUT0RPOiBDYXB0dXJlIHR1cnRsZSBjb21tYW5kcyBmb3IgdHJhY2luZyBwdXJwb3Nlc1xuICAgIGNvbnN0cnVjdG9yKG1haW4pIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLlRVUlRMRSk7XG4gICAgICAgIHRoaXMuaHRtbC5hZGRDbGFzcyhcImJsb2NrcHktY29uc29sZS10dXJ0bGUtb3V0cHV0XCIpO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB3aGVyZS5wcmVwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICAvL3RoaXMuaHRtbFswXS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICAgICAgICAgICAgdmFyIHRvcCA9IHRoaXMuaHRtbC5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAvLyQoJ2h0bWwnKS5zY3JvbGxUb3AodG9wKTtcbiAgICAgICAgICAgICQoXCJodG1sXCIpLnNjcm9sbFRvcCh0b3ApO1xuICAgICAgICAgICAgLy90aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZURyYWZ0ZXIgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgc2l6ZSwgZnVsbHNjcmVlbikge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuRFJBRlRFUik7XG4gICAgICAgIHRoaXMuaHRtbC5hZGRDbGFzcyhcImJsb2NrcHktY29uc29sZS1kcmFmdGVyLW91dHB1dFwiKTtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuID0gZnVsbHNjcmVlbjtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgd2hlcmUucHJlcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgdmFyIHRvcCA9IHRoaXMuaHRtbC5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAkKFwiaHRtbFwiKS5zY3JvbGxUb3AodG9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIC8vIFN0YXJ0cyBvZmYgYXMgYSBuby1vcFxuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC51aS5zZWNvbmRSb3cucmVzdG9yZVBhbmVsKCk7XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVB5Z2FtZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBzaXplLCBmdWxsc2NyZWVuLCBweWdhbWVPYmopIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLlBZR0FNRSk7XG4gICAgICAgIHRoaXMuaHRtbC5hZGRDbGFzcyhcImJsb2NrcHktY29uc29sZS1weWdhbWUtb3V0cHV0XCIpO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmZ1bGxzY3JlZW4gPSBmdWxsc2NyZWVuO1xuICAgICAgICB0aGlzLnB5Z2FtZU9iaiA9IHB5Z2FtZU9iajtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIC8vU2subWFpbl9jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2FudmFzXCIpO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKHRoaXMuY2FudmFzKTtcbiAgICAgICAgICAgIHdoZXJlLnByZXBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIHZhciB0b3AgPSB0aGlzLmh0bWwub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgJChcImh0bWxcIikuc2Nyb2xsVG9wKHRvcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhbnVwKCkge1xuICAgICAgICAvLyBTdGFydHMgb2ZmIGFzIGEgbm8tb3BcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmNsZWFudXAgPSAoKSA9PiB7fTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLnNlY29uZFJvdy5yZXN0b3JlUGFuZWwoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZShjbGVhbnVwRnVuY3Rpb24sIGxpc3RlbmVycykge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhbnVwID0gKCkgPT4gY2xlYW51cEZ1bmN0aW9uKHRoaXMucHlnYW1lT2JqLCBsaXN0ZW5lcnMpO1xuICAgIH1cblxufVxuXG5jbGFzcyBDb25zb2xlTGluZUltYWdlIGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIGNvbnRlbnQpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLklNQUdFLCBjb250ZW50KTtcbiAgICAgICAgdGhpcy5odG1sLmFkZENsYXNzKFwiYmxvY2tweS1jb25zb2xlLWltYWdlLW91dHB1dFwiKTtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQodGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy90aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVBsb3QgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgY29udGVudCkge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuUExPVCwgY29udGVudCk7XG4gICAgICAgIHRoaXMuaHRtbC5hZGRDbGFzcyhcImJsb2NrcHktY29uc29sZS1wbG90LW91dHB1dFwiKTtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICAvL3RoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lVGV4dCBleHRlbmRzIENvbnNvbGVMaW5lIHtcblxuICAgIGFkZENvbnRlbnQoY29udGVudCkge1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQgKyBjb250ZW50O1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBsZXQgZW5jb2RlZFRleHQgPSBlbmNvZGVIVE1MKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICBpZiAoIWVuY29kZWRUZXh0IHx8IGVuY29kZWRUZXh0LnRyaW0oKS5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgICAgIGVuY29kZWRUZXh0ID0gXCJcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaW5lRGF0YSA9ICQoXCI8c2FtcD48L3NhbXA+XCIsIHsgXCJodG1sXCI6IGVuY29kZWRUZXh0IH0pO1xuICAgICAgICAgICAgdGhpcy5odG1sLmFwcGVuZChsaW5lRGF0YSk7XG4gICAgICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lVmFsdWUgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihtYWluLCBjb250ZW50KSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5WQUxVRSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGxldCBlbmNvZGVkVGV4dCA9IGVuY29kZUhUTUwodGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgIGxldCBsaW5lRGF0YSA9ICQoXCI8Y29kZT48L2NvZGU+XCIsIHsgXCJodG1sXCI6IGVuY29kZWRUZXh0IH0pO1xuICAgICAgICAgICAgdGhpcy5odG1sLmFwcGVuZChsaW5lRGF0YSk7XG4gICAgICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lSW5wdXQgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgcHJvbXB0TWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuSU5QVVQsIHByb21wdE1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gSW5wdXQgYm94IGZvciByZWNlaXZpbmcgaW5wdXQoKSBmcm9tIHRoZSB1c2VyLlxuICAgICAqXG4gICAgICovXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIC8vIFBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbmluZ1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAvLyBJbnB1dCBmb3JtXG4gICAgICAgICAgICBsZXQgaW5wdXRGb3JtID0gJChcIjxpbnB1dCB0eXBlPSd0ZXh0JyAvPlwiKTtcbiAgICAgICAgICAgIC8vIEVudGVyIGJ1dHRvblxuICAgICAgICAgICAgbGV0IGlucHV0QnRuID0gJChcIjxidXR0b24+PC9idXR0b24+XCIsIHtcImh0bWxcIjogXCJFbnRlclwifSk7XG4gICAgICAgICAgICAvLyBHcm91cCBmb3JtIGFuZCBidXR0b25cbiAgICAgICAgICAgIGxldCBpbnB1dEdyb3VwID0gJChcIjxkaXY+PC9kaXY+XCIsIHtcImNsYXNzXCI6IFwiYmxvY2tweS1jb25zb2xlLWlucHV0XCJ9KTtcbiAgICAgICAgICAgIGlucHV0R3JvdXAuYXBwZW5kKGlucHV0Rm9ybSk7XG4gICAgICAgICAgICBpbnB1dEdyb3VwLmFwcGVuZChpbnB1dEJ0bik7XG4gICAgICAgICAgICAvLyBQcm9tcHQgYm94LCBuZXcgbGluZSwgaW5wdXQgZ3JvdXBcbiAgICAgICAgICAgIGxldCBpbnB1dEJveCA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQgIT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5jb2RlZFRleHQgPSBlbmNvZGVIVE1MKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICAgICAgbGV0IGlucHV0TXNnID0gJChcIjxzYW1wPjwvc2FtcD5cIiwgIHtcImh0bWxcIjogZW5jb2RlZFRleHR9KTtcbiAgICAgICAgICAgICAgICBpbnB1dEJveC5hcHBlbmQoaW5wdXRNc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRCb3guYXBwZW5kKCQoXCI8YnI+XCIpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoaW5wdXRHcm91cCk7XG4gICAgICAgICAgICAvLyBSZW5kZXJcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQoaW5wdXRCb3gpO1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICAvLyBNYWtlIGl0IGludGVyYWN0aXZlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlSW50ZXJhY3RpdmUoaW5wdXRGb3JtLCBpbnB1dEJ0bik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfTtcblxuICAgIG1ha2VJbnRlcmFjdGl2ZShpbnB1dCwgYnV0dG9uKSB7XG4gICAgICAgIGxldCByZXNvbHZlT25DbGljaztcbiAgICAgICAgbGV0IHN1Ym1pdHRlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZU9uQ2xpY2sgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGlucHV0SW5kZXggPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoKTtcbiAgICAgICAgbGV0IHN1Ym1pdEZvcm0gPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgdXNlcklucHV0dGVkVmFsdWUgPSBpbnB1dC52YWwoKTtcbiAgICAgICAgICAgIFNrLnF1ZXVlZElucHV0LnB1c2godXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KGlucHV0SW5kZXgrMSk7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkucHVzaCh1c2VySW5wdXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICByZXNvbHZlT25DbGljayh1c2VySW5wdXR0ZWRWYWx1ZSk7XG4gICAgICAgICAgICBpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICBidXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnV0dG9uLmNsaWNrKHN1Ym1pdEZvcm0pO1xuICAgICAgICBpbnB1dC5rZXl1cCgoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICBjb25zb2xlLmxvZyhpbnB1dEluZGV4LCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkubGVuZ3RoKTtcbiAgICAgICAgaWYgKGlucHV0SW5kZXggPCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgdXNlcklucHV0dGVkVmFsdWUgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KClbaW5wdXRJbmRleF07XG4gICAgICAgICAgICBpbnB1dC52YWwodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KGlucHV0SW5kZXgrMSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1Ym1pdHRlZFByb21pc2U7XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZUV2YWx1YXRlIGV4dGVuZHMgQ29uc29sZUxpbmVJbnB1dCB7XG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICBzdXBlcihtYWluLCBcIkV2YWx1YXRlOlwiKTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lU3RhcnRFdmFsdWF0ZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5TVEFSVF9FVkFMKTtcbiAgICAgICAgdGhpcy5odG1sLmFwcGVuZCgkKFNUQVJUX0VWQUxfSFRNTCkpO1xuICAgICAgICB0aGlzLmh0bWwuY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLmV4ZWN1dGUuZXZhbHVhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1B5Q29uc29sZSB7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgZm9yIG1hbmFnaW5nIHRoZSBjb25zb2xlLCB3aXRoIGZlYXR1cmVzIGZvciB0aGluZ3MgbGlrZSBwcmludGluZywgcGxvdHRpbmcsIGV2YWxpbmcsIGlucHV0aW5nLlxuICAgICAqIFRoZSBcInByaW50ZXJcIiBpcyB0aGUgcmVnaW9uIHdoZXJlIHdlIHB1dCB0aGluZ3MsIGFzIG9wcG9zZWQgdG8gdGhlIGNvbnNvbGUgYXMgYSB3aG9sZS5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIChtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICAgIHRoaXMucHJpbnRlclRhZyA9IHRhZy5maW5kKFwiLmJsb2NrcHktcHJpbnRlclwiKTtcblxuICAgICAgICB0aGlzLk1JTklNVU1fV0lEVEggPSAyMDA7XG4gICAgICAgIHRoaXMuTUlOSU1VTV9IRUlHSFQgPSAyMDA7XG4gICAgICAgIHRoaXMuREVGQVVMVF9IRUlHSFQgPSB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCk7IC8vIExldCBDU1MgZGVmaW5lIHRoaXNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMuREVGQVVMVF9IRUlHSFQpO1xuXG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5vdXRwdXQ7XG4gICAgICAgIC8vdGhpcy5pbnB1dCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQ7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIC8vIFRPRE86IElmIHRoZSB1c2VyIG1vZGlmaWVzIGEgZmlsZSwgdGhlbiBtYWtlIHRoZSBjb25zb2xlIGxvb2sgZmFkZWQgYSBsaXR0bGVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXR1cyBvZiB0aGUgcHJpbnRlciwgaW5jbHVkaW5nIHJlbW92aW5nIGFueSB0ZXh0IGluIGl0IGFuZFxuICAgICAqIGZpeGluZyBpdHMgc2l6ZS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5vdXRwdXQucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmludGVyVGFnLmVtcHR5KCk7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGhhc24ndCBjaGFuZ2VkIHRoZSBjb25zb2xlIHNpemUsIHdlJ2xsIHJlc2V0IGl0XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKSB7XG4gICAgICAgICAgICB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KHRoaXMuREVGQVVMVF9IRUlHSFQpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR1cnRsZUxpbmUgPSBudWxsO1xuICAgICAgICBTay5UdXJ0bGVHcmFwaGljcyA9IHtcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5nZXRUdXJ0bGVMaW5lLmJpbmQodGhpcyksXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgICAgICAgYXNzZXRzOiB0aGlzLmxvYWRBc3NldC5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5weWdhbWVMaW5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFmdGVyTGluZSA9IG51bGw7XG4gICAgfTtcblxuICAgIGxvYWRBc3NldChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIGdldFR1cnRsZUxpbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnR1cnRsZUxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudHVydGxlTGluZSA9IG5ldyBDb25zb2xlTGluZVR1cnRsZSh0aGlzLm1haW4pO1xuICAgICAgICAgICAgdGhpcy50dXJ0bGVMaW5lLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGNoYW5nZWQgdGhlIGNvbnNvbGUgc2l6ZSwgd2UnbGwgZG8gc29cbiAgICAgICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQcmludGVyRGltZW5zaW9uID0gdGhpcy5wcmludGVyVGFnLndpZHRoKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmludGVyVGFnLmhlaWdodChjdXJyZW50UHJpbnRlckRpbWVuc2lvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgU2suVHVydGxlR3JhcGhpY3MuaGVpZ2h0ID0gY3VycmVudFByaW50ZXJEaW1lbnNpb24tNDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHVydGxlTGluZS5odG1sWzBdO1xuICAgIH1cblxuICAgIGhhbmRsZVB5Z2FtZVJlc2l6ZShuZXdXaWR0aCwgbmV3SGVpZ2h0KSB7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGhhc24ndCBjaGFuZ2VkIHRoZSBjb25zb2xlIHNpemUsIGFuZCB0aGUgbmV3SGVpZ2h0IGlzIGJpZ2dlciB0aGFuIGRlZmF1bHQsIHdlJ2xsIGNoYW5nZSBpdFxuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KCkgPT09IHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSAmJlxuICAgICAgICAgICAgbmV3SGVpZ2h0ID4gdGhpcy5ERUZBVUxUX0hFSUdIVCkge1xuICAgICAgICAgICAgdGhpcy5wcmludGVyVGFnLmhlaWdodCgzMCtuZXdIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIHB5Z2FtZSB3aW5kb3cgaXMgd2lkZXIgdGhhbiB0aGUgY29uc29sZSwgd2UnbGwgZXhwYW5kIHRlbXBvcmFyaWx5LlxuICAgICAgICBpZiAobmV3V2lkdGggPiB0aGlzLnByaW50ZXJUYWcud2lkdGgoKSkge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLnNlY29uZFJvdy5tYWtlV2lkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluaXNoVHVydGxlcygpIHtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnNhdmVUdXJ0bGVPdXRwdXQoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHVydGxlTGluZSkge1xuICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnR1cnRsZUxpbmUuaHRtbC5maW5kKFwiY2FudmFzXCIpLmxhc3QoKVswXTtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVJbWFnZShcInR1cnRsZV9vdXRwdXRcIiwgZGF0YVVybCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHlnYW1lTGluZSkge1xuICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnB5Z2FtZUxpbmUuY2FudmFzO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuc2F2ZUltYWdlKFwidHVydGxlX291dHB1dFwiLCBkYXRhVXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogV2hhdCBpZiB0aGVyZSBhcmUgbm8gdHVydGxlcyB0byBzYXZlP1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogdHVydGxlcyBzaG91bGQgYmUgYmFzZWQgb24gdGhlIGN1cnJlbnQgd2lkdGhcbiAgICBuZXdUdXJ0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5NSU5JTVVNX1dJRFRILCB0aGlzLnByaW50ZXJUYWcud2lkdGgoKS00MCk7XG4gICAgfVxuXG4gICAgZ2V0SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5NSU5JTVVNX0hFSUdIVCwgdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKzQwKTtcbiAgICB9XG5cbiAgICBpc011dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkubXV0ZVByaW50ZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGVhY2ggcHJpbnRlZCBlbGVtZW50IGluIHRoZSBwcmludGVyIGFuZCBtYWtlcyBpdCBoaWRkZW5cbiAgICAgKiBvciB2aXNpYmxlLCBkZXBlbmRpbmcgb24gd2hhdCBzdGVwIHdlJ3JlIG9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0ZXAgLSBUaGUgY3VycmVudCBzdGVwIG9mIHRoZSBleGVjdXRlZCBwcm9ncmFtIHRoYXQgd2UncmUgb247IGVhY2ggZWxlbWVudCBpbiB0aGUgcHJpbnRlciBtdXN0IGJlIG1hcmtlZCB3aXRoIGEgXCJkYXRhLXN0ZXBcIiBwcm9wZXJ0eSB0byByZXNvbHZlIHRoaXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2UgLSBEZXByZWNhdGVkLCBub3Qgc3VyZSB3aGF0IHRoaXMgZXZlbiBkb2VzLlxuICAgICAqL1xuICAgIHN0ZXBQcmludGVyKHN0ZXAsIHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wcmludGVyVGFnLmZpbmQoXCIuYmxvY2tweS1wcmludGVyLW91dHB1dFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImRhdGEtc3RlcFwiKSA8PSBzdGVwKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJpbnQgYSBsaW5lIHRvIHRoZSBvbi1zY3JlZW4gcHJpbnRlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGluZVRleHQgLSBBIGxpbmUgb2YgdGV4dCB0byBiZSBwcmludGVkIG91dC5cbiAgICAgKi9cbiAgICBwcmludChsaW5lVGV4dCkge1xuICAgICAgICAvLyBFbXB0eSBzdHJpbmdzIG1lYW5zIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIHByaW50KFwiXCIsIGVuZD1cIlwiKVxuICAgICAgICBpZiAoIWxpbmVUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChsaW5lVGV4dC5jaGFyQXQobGluZVRleHQubGVuZ3RoLTEpID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgICBmbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNwbGl0TGluZXMgPSBsaW5lVGV4dC5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUJ1ZmZlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbmV3IENvbnNvbGVMaW5lVGV4dCh0aGlzLm1haW4sIENvbnNvbGVMaW5lVHlwZS5URVhULCBzcGxpdExpbmVzWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGluZUJ1ZmZlci5hZGRDb250ZW50KHNwbGl0TGluZXNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGk9MTsgaSA8IHNwbGl0TGluZXMubGVuZ3RoLTE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXQucHVzaCh0aGlzLmxpbmVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbmV3IENvbnNvbGVMaW5lVGV4dCh0aGlzLm1haW4sIENvbnNvbGVMaW5lVHlwZS5URVhULCBzcGxpdExpbmVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmx1c2gpIHtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0LnB1c2godGhpcy5saW5lQnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMubGluZUJ1ZmZlci5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICAgICAgICAgIHRoaXMubGluZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBwbG90KHBsb3RzKSB7XG4gICAgICAgIHRoaXMucGxvdEJ1ZmZlciA9IG5ldyBDb25zb2xlTGluZVBsb3QodGhpcy5tYWluLCBwbG90cyk7XG4gICAgICAgIHRoaXMucGxvdEJ1ZmZlci5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxvdEJ1ZmZlcjtcbiAgICB9XG5cbiAgICBweWdhbWUoc2l6ZSwgZnVsbHNjcmVlbiwgcHlnYW1lT2JqKSB7XG4gICAgICAgIGlmICh0aGlzLnB5Z2FtZUxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHlnYW1lTGluZSA9IG5ldyBDb25zb2xlTGluZVB5Z2FtZSh0aGlzLm1haW4sIHNpemUsIGZ1bGxzY3JlZW4sIHB5Z2FtZU9iaik7XG4gICAgICAgICAgICB0aGlzLnB5Z2FtZUxpbmUucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHlnYW1lTGluZTtcbiAgICB9XG5cbiAgICBkcmFmdGVyKHNpemUsIGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZnRlckxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZnRlckxpbmUgPSBuZXcgQ29uc29sZUxpbmVEcmFmdGVyKHRoaXMubWFpbiwgc2l6ZSwgZnVsbHNjcmVlbik7XG4gICAgICAgICAgICB0aGlzLmRyYWZ0ZXJMaW5lLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRyYWZ0ZXJMaW5lO1xuICAgIH1cblxuICAgIHByaW50UElMSW1hZ2UoaW1hZ2VEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVEVTVFwiLCBpbWFnZURhdGEuaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gbmV3IENvbnNvbGVMaW5lSW1hZ2UodGhpcy5tYWluLCBpbWFnZURhdGEuaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZUJ1ZmZlcjtcbiAgICB9XG5cbiAgICBwcmludFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGxldCBwcmludGVkVmFsdWUgPSBuZXcgQ29uc29sZUxpbmVWYWx1ZSh0aGlzLm1haW4sIHZhbHVlKTtcbiAgICAgICAgcHJpbnRlZFZhbHVlLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gcHJpbnRlZFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJlZ2lzdGVycyBhIFByb21pc2UgZnJvbSB0aGUgSW5wdXQgYm94XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb21wdE1lc3NhZ2UgLSBNZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbnB1dChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuaW5wdXRCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVJbnB1dCh0aGlzLm1haW4sIHByb21wdE1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEJ1ZmZlci5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICB9O1xuXG5cbiAgICBldmFsdWF0ZSgpIHtcbiAgICAgICAgdGhpcy5pbnB1dEJ1ZmZlciA9IG5ldyBDb25zb2xlTGluZUV2YWx1YXRlKHRoaXMubWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgIH1cblxuICAgIGJlZ2luRXZhbCgpIHtcbiAgICAgICAgbGV0IHN0YXJ0RXZhbHVhdGlvbiA9IG5ldyBDb25zb2xlTGluZVN0YXJ0RXZhbHVhdGUodGhpcy5tYWluKTtcbiAgICAgICAgcmV0dXJuIHN0YXJ0RXZhbHVhdGlvbi5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmNvbmRpdGlvbmFsbHkgc2Nyb2xsIHRvIHRoZSBib3R0b20gb2YgdGhlIHdpbmRvdy5cbiAgICAgKlxuICAgICAqL1xuICAgIHNjcm9sbFRvQm90dG9tKCkge1xuICAgICAgICB0aGlzLnRhZy5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy50YWcucHJvcChcInNjcm9sbEhlaWdodFwiKSAtIHRoaXMudGFnLnByb3AoXCJjbGllbnRIZWlnaHRcIilcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9O1xuXG59IiwiaW1wb3J0IHtzbHVnfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuLy8gVE9ETzogZWRpdG9yLmJtLmJsb2NrRWRpdG9yLmV4dHJhVG9vbHNbXVxuXG5leHBvcnQgbGV0IF9JTVBPUlRFRF9EQVRBU0VUUyA9IHt9O1xuZXhwb3J0IGxldCBfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMgPSB7fTtcblxuLyoqXG4gKiBUaGlzIGlzIGEgdmVyeSBzaW1wbGlzdGljIGhlbHBlciBmdW5jdGlvbiB0aGF0IHdpbGwgdHJhbnNmb3JtXG4gKiBhIGdpdmVuIGJ1dHRvbiBpbnRvIGEgXCJMb2FkZWRcIiBzdGF0ZSAoZGlzYWJsZWQsIHByZXNzZWQgc3RhdGUsIGV0Yy4pLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJ0biAtIEFuIEhUTUwgZWxlbWVudCB0byBjaGFuZ2UgdGhlIHRleHQgb2YuXG4gKi9cbmxldCBzZXRCdXR0b25Mb2FkZWQgPSBmdW5jdGlvbiAoYnRuKSB7XG4gICAgYnRuLmFkZENsYXNzKFwiYWN0aXZlXCIpXG4gICAgICAgIC5hZGRDbGFzcyhcImJ0bi1zdWNjZXNzXCIpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImJ0bi1wcmltYXJ5XCIpXG4gICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcbiAgICAgICAgLnRleHQoXCJMb2FkZWRcIilcbiAgICAgICAgLmF0dHIoXCJhcmlhLXByZXNzZWRcIiwgXCJ0cnVlXCIpO1xufTtcblxuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGNvbm5lY3RzIHRvIHRoZSBDT1JHSVMgZGF0YXNldHMgYW5kIG1hbmFnZXMgaW50ZXJhY3Rpb25zXG4gKiB3aXRoIHRoZW0uIFRoaXMgaW5jbHVkZXMgbG9hZGluZyBpbiBkYXRhc2V0cyBhdCBsYXVuY2ggYW5kIG9uLXRoZS1mbHkuXG4gKiBOb3RlIHRoYXQgdGhpcyBoYXMgbm8gcHJlc2VuY2Ugb24gc2NyZWVuLCBzbyBpdCBkb2VzIG5vdCBoYXZlIGEgdGFnLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlDb3JnaXN9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJsb2NrUHlDb3JnaXMobWFpbikge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG5cbiAgICB0aGlzLmxvYWRlZERhdGFzZXRzID0gW107XG4gICAgdGhpcy5sb2FkRGF0YXNldHMoKTtcbn1cblxuQmxvY2tQeUNvcmdpcy5wcm90b3R5cGUubG9hZERhdGFzZXRzID0gZnVuY3Rpb24gKHNpbGVudGx5KSB7XG4gICAgLy8gTG9hZCBpbiBlYWNoIHRoZSBkYXRhc2V0c1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbCxcbiAgICAgICAgZWRpdG9yID0gdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLFxuICAgICAgICBzZXJ2ZXIgPSB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXI7XG4gICAgbGV0IGltcG9ydHMgPSBbXTtcbiAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRhdGFzZXRzKCkuc3BsaXQoXCIsXCIpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgaWYgKG5hbWUgJiYgIShuYW1lIGluIEJsb2NrTWlycm9yQmxvY2tFZGl0b3IuRVhUUkFfVE9PTFMpKSB7XG4gICAgICAgICAgICBpbXBvcnRzLnB1c2guYXBwbHkoaW1wb3J0cywgdGhpcy5pbXBvcnREYXRhc2V0KHNsdWcobmFtZSksIG5hbWUsIHNpbGVudGx5KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFdoZW4gZGF0YXNldHMgYXJlIGxvYWRlZCwgdXBkYXRlIHRoZSB0b29sYm94LlxuICAgICQud2hlbi5hcHBseSgkLCBpbXBvcnRzKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlRSSUdHRVJFRFwiKTtcbiAgICAgICAgZWRpdG9yLmJtLmZvcmNlQmxvY2tSZWZyZXNoKCk7XG4gICAgICAgIGVkaXRvci5ibS5ibG9ja0VkaXRvci5yZW1ha2VUb29sYm94KCk7XG4gICAgfSkuZmFpbChmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlcnZlci5maW5hbGl6ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogTG9hZHMgdGhlIGRlZmluaXRpb25zIGZvciBhIGRhdGFzZXQgaW50byB0aGUgZW52aXJvbm1lbnQsIGluY2x1ZGluZ1xuICogdGhlIGRhdGFzZXQgKGFzIGEgSlMgZmlsZSksIHRoZSBza3VscHQgYmluZGluZ3MsIGFuZCB0aGUgYmxvY2tseVxuICogYmluZGluZ3MuIFRoaXMgcmVxdWlyZXMgYWNjZXNzIHRvIGEgQ09SR0lTIHNlcnZlciwgYW5kIG9jY3Vyc1xuICogYXN5bmNocm9ub3VzbHkuIFRoZSByZXF1ZXN0cyBhcmUgZmlyZWQgYW5kIHRoZWlyIGRlZmVycmVkIG9iamVjdHNcbiAqIGFyZSByZXR1cm5lZCAtIGNhbGxlcnMgY2FuIHVzZSB0aGlzIGluZm9ybWF0aW9uIHRvIHBlcmZvcm0gYW4gYWN0aW9uXG4gKiBvbiBjb21wbGV0aW9uIG9mIHRoZSBpbXBvcnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNsdWcgLSBUaGUgVVJMIHNhZmUgdmVyc2lvbiBvZiB0aGUgZGF0YXNldCBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIFRoZSB1c2VyLWZyaWVuZGx5IHZlcnNpb24gb2YgdGhlIGRhdGFzZXQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheS48RGVmZXJyZWQ+fSAtIFJldHVybnMgdGhlIGFzeW5jIHJlcXVlc3RzIGFzIGRlZmVycmVkIG9iamVjdHMuXG4gKi9cbkJsb2NrUHlDb3JnaXMucHJvdG90eXBlLmltcG9ydERhdGFzZXQgPSBmdW5jdGlvbiAoc2x1ZywgbmFtZSkge1xuICAgIGxldCB1cmxfcmV0cmlldmFscyA9IFtdO1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJpbXBvcnREYXRhc2V0c1wiKSkge1xuICAgICAgICBsZXQgcm9vdCA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHMuaW1wb3J0RGF0YXNldHMgKyBcImJsb2NrcHkvXCIgKyBzbHVnICsgXCIvXCIgKyBzbHVnO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5sb2FkaW5nRGF0YXNldHMucHVzaChuYW1lKTtcbiAgICAgICAgLy8gQWN0dWFsbHkgZ2V0IGRhdGFcbiAgICAgICAgbGV0IGdldERhdGFzZXQgPSAkLmdldFNjcmlwdChyb290ICsgXCJfZGF0YXNldC5qc1wiKTtcbiAgICAgICAgLy8gTG9hZCBnZXRDb21wbGV0ZSBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBiZWNhdXNlIGl0cyBiaWcgOihcbiAgICAgICAgbGV0IGdldENvbXBsZXRlID0gJC5nZXRTY3JpcHQocm9vdCArIFwiX2NvbXBsZXRlLmpzXCIpO1xuICAgICAgICBsZXQgZ2V0U2t1bHB0ID0gJC5nZXQocm9vdCArIFwiX3NrdWxwdC5qc1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bXCJzcmMvbGliL1wiICsgc2x1ZyArIFwiL19faW5pdF9fLmpzXCJdID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBnZXRCbG9ja2x5ID0gJC5nZXRTY3JpcHQocm9vdCArIFwiX2Jsb2NrbHkuanNcIik7XG4gICAgICAgIC8vIE9uIGNvbXBsZXRpb24sIHVwZGF0ZSBtZW51cy5cbiAgICAgICAgJC53aGVuKGdldERhdGFzZXQsIGdldFNrdWxwdCwgZ2V0QmxvY2tseSkuZG9uZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFzZXRzLnB1c2goc2x1Zyk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0udGV4dFRvQmxvY2tzLmhpZGRlbkltcG9ydHMucHVzaChzbHVnKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5mb3JjZUJsb2NrUmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmxvYWRpbmdEYXRhc2V0cy5yZW1vdmUobmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB1cmxfcmV0cmlldmFscy5wdXNoKGdldERhdGFzZXQsIGdldFNrdWxwdCwgZ2V0QmxvY2tseSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxfcmV0cmlldmFscztcbn07XG5cbi8qKlxuICogT3BlbnMgYSBkaWFsb2cgYm94IHRvIHByZXNlbnQgdGhlIHVzZXIgd2l0aCB0aGUgZGF0YXNldHMgYXZhaWxhYmxlXG4gKiB0aHJvdWdoIHRoZSBDT1JHSVMgc2VydmVyLiBUaGlzIHJlcXVpcmVzIGEgY2FsbCwgc28gdGhpcyBtZXRob2RcbiAqIGNvbXBsZXRlcyBhc3luY2hyb25vdXNseS4gVGhlIGRpYWxvZyBpcyBjb21wb3NlZCBvZiBhIHRhYmxlIHdpdGhcbiAqIGJ1dHRvbnMgdG8gbG9hZCB0aGUgZGF0YXNldHMgKE1vcmUgdGhhbiBvbmUgZGF0YXNldCBjYW4gYmUgbG9hZGVkXG4gKiBmcm9tIHdpdGhpbiB0aGUgZGlhbG9nIGF0IGEgdGltZSkuXG4gKi9cbkJsb2NrUHlDb3JnaXMucHJvdG90eXBlLm9wZW5EaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImltcG9ydERhdGFzZXRzXCIpKSB7XG4gICAgICAgIGxldCByb290ID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJscy5pbXBvcnREYXRhc2V0cztcbiAgICAgICAgJC5nZXRKU09OKHJvb3QgKyBcImluZGV4Lmpzb25cIiwgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvLyBNYWtlIHVwIHRoZSBCb2R5XG4gICAgICAgICAgICBsZXQgZGF0YXNldHMgPSBkYXRhLmJsb2NrcHk7XG4gICAgICAgICAgICBsZXQgZG9jdW1lbnRhdGlvbiA9IHJvb3QrXCJibG9ja3B5L2luZGV4Lmh0bWxcIjtcbiAgICAgICAgICAgIGxldCBzdGFydCA9ICQoYDxwPkRvY3VtZW50YXRpb24gaXMgYXZhaWxhYmxlIGF0IDxhIGhyZWY9JyR7ZG9jdW1lbnRhdGlvbn0nIHRhcmdldD1fYmxhbms+dXJsPC9hPjwvcD5gKTtcbiAgICAgICAgICAgIGxldCBib2R5ID0gJChcIjx0YWJsZT48L3RhYmxlPlwiLCB7XCJjbGFzc1wiOiBcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLXNtIHRhYmxlLXN0cmlwZWRcIn0pO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZGF0YXNldHMpLnNvcnQoKS5tYXAoKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2x1Z2dlZE5hbWUgPSBzbHVnKGRhdGFzZXRzW25hbWVdLm5hbWUpO1xuICAgICAgICAgICAgICAgIGxldCB0aXRsZU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIGxldCBidG4gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uXCIgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIiBhdXRvY29tcGxldGU9XCJvZmZcIj5Mb2FkPC9idXR0b24+Jyk7XG4gICAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9IHJvb3QrXCIuLi9pbWFnZXMvZGF0YXNldHMvXCIrbmFtZStcIi1pY29uLnBuZ1wiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFzZXRzLmluZGV4T2Yoc2x1Z2dlZE5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnV0dG9uTG9hZGVkKGJ0bik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsaWNrKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydERhdGFzZXQoc2x1Z2dlZE5hbWUsIFwiRGF0YSAtIFwiICsgZGF0YXNldHNbbmFtZV0udGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnV0dG9uTG9hZGVkKGJ0bik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL2xldCBpbWcgPSBgPGltZyBzcmM9JyR7aW1nU3JjfScgY2xhc3M9XCJjb3JnaXMtaWNvblwiPmA7XG4gICAgICAgICAgICAgICAgJChcIjx0cj48L3RyPlwiKVxuICAgICAgICAgICAgICAgICAgICAvLy5hcHBlbmQoJChcIjx0ZD5cIiArIGltZyArIFwiPC90ZD5cIikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJChcIjx0ZD5cIiArIGRhdGFzZXRzW25hbWVdLnRpdGxlICsgXCI8L3RkPlwiKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKFwiPHRkPlwiICsgZGF0YXNldHNbbmFtZV0ub3ZlcnZpZXcgKyBcIjwvdGQ+XCIpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoXCI8dGQ+PC90ZD5cIikuYXBwZW5kKGJ0bikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhib2R5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRUbyhzdGFydCk7XG4gICAgICAgICAgICAvLyBTaG93IHRoZSBhY3R1YWwgZGlhbG9nXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuc2hvdyhcIkltcG9ydCBEYXRhc2V0c1wiLCBzdGFydCwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIFRPRE86IER5YW5taWNhbGx5IHBvcHVsYXRlIGFyaWEtbGFiZWxsZWRieSBpbiB0aGlzIGFuZCBvdGhlciBwbGFjZXNcblxuZXhwb3J0IGxldCBESUFMT0dfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LWRpYWxvZyBtb2RhbCBoaWRkZW4nXG4gICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgIGFyaWEtbGFiZWw9J0RpYWxvZydcbiAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1kaWFsb2cgbW9kYWwtbGcnIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtY29udGVudCcgcm9sZT0ncmVnaW9uJyBhcmlhLWxhYmVsPSdEaWFsb2cgY29udGVudCc+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPSdtb2RhbC10aXRsZSc+RHluYW1pYyBDb250ZW50PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdtb2RhbCcgYXJpYS1oaWRkZW49J3RydWUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtYm9keScgc3R5bGU9J21heC13aWR0aDoxMDAlOyBtYXgtaGVpZ2h0OjQwMHB4Jz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4td2hpdGUgbW9kYWwtY2xvc2UnIGRhdGEtZGlzbWlzcz0nbW9kYWwnPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1zdWNjZXNzIG1vZGFsLW9rYXknIGRhdGEtZGlzbWlzcz0nbW9kYWwnPk9rYXk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5gO1xuXG4vKipcbiAqIEEgdXRpbGl0eSBvYmplY3QgZm9yIHF1aWNrbHkgYW5kIGNvbnZlbmllbnRseSBnZW5lcmF0aW5nIGRpYWxvZyBib3hlcy5cbiAqIFVuZm9ydHVuYXRlbHksIHRoaXMgZG9lc24ndCBkeW5hbWljYWxseSBjcmVhdGUgbmV3IGJveGVzOyBpdCByZXVzZXMgdGhlIHNhbWUgb25lXG4gKiBvdmVyIGFuZCBvdmVyIGFnYWluLiBJdCB0dXJucyBvdXQgZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBuZXcgZGlhbG9nIGJveGVzXG4gKiBpcyBhIHBhaW4hIFNvIHdlIGNhbid0IHN0YWNrIHRoZW0uXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeURpYWxvZ31cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnIC0gVGhlIEhUTUwgb2JqZWN0IHRoaXMgaXMgYXR0YWNoZWQgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCbG9ja1B5RGlhbG9nKG1haW4sIHRhZykge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICB0aGlzLnRpdGxlVGFnID0gdGFnLmZpbmQoXCIubW9kYWwtdGl0bGVcIik7XG4gICAgdGhpcy5ib2R5VGFnID0gdGFnLmZpbmQoXCIubW9kYWwtYm9keVwiKTtcbiAgICB0aGlzLmZvb3RlclRhZyA9IHRhZy5maW5kKFwiLm1vZGFsLWZvb3RlclwiKTtcbiAgICB0aGlzLm9rYXlCdXR0b24gPSB0YWcuZmluZChcIi5tb2RhbC1va2F5XCIpO1xuICAgIHRoaXMuY2xvc2VCdXR0b24gPSB0YWcuZmluZChcIi5tb2RhbC1jbG9zZVwiKTtcblxuICAgIHRoaXMueWVzID0gKCkgPT4ge307XG4gICAgdGhpcy5ubyA9ICgpID0+IHt9O1xuICAgIHRoaXMub2theUJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMueWVzKCk7XG4gICAgICAgIHRoaXMudGFnLm1vZGFsKFwiaGlkZVwiKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5ubygpO1xuICAgICAgICAvL3RoaXMudGFnLm1vZGFsKFwiaGlkZVwiKTtcbiAgICB9KTtcbn1cblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50YWcubW9kYWwoXCJoaWRlXCIpO1xufTtcblxuLyoqXG4gKiBBIHNpbXBsZSBleHRlcm5hbGx5IGF2YWlsYWJsZSBmdW5jdGlvbiBmb3IgcG9wcGluZyB1cCBhIGRpYWxvZ1xuICogbWVzc2FnZS4gVGhpcyBtZW51IHdpbGwgYmUgZHJhZ2dhYmxlIGJ5IGl0cyB0aXRsZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGl0bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1lc3NhZ2UgZGlhbG9nLiBDYW4gaGF2ZSBIVE1MLlxuICogQHBhcmFtIHtTdHJpbmd9IGJvZHkgLSBUaGUgYm9keSBvZiB0aGUgbWVzc2FnZSBkaWFsb2cuIENhbiBoYXZlIEhUTUwuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmNsb3NlIC0gQSBmdW5jdGlvbiB0byBiZSBydW4gd2hlbiB0aGUgdXNlciBjbG9zZXMgdGhlIGRpYWxvZy5cbiAqL1xuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICh0aXRsZSwgYm9keSwgb25jbG9zZSkge1xuICAgIHRoaXMudGl0bGVUYWcuaHRtbCh0aXRsZSk7XG4gICAgdGhpcy5ib2R5VGFnLmh0bWwoYm9keSk7XG4gICAgdGhpcy50YWcubW9kYWwoXCJzaG93XCIpO1xuICAgIHRoaXMub2theUJ1dHRvbi5oaWRlKCk7XG4gICAgdGhpcy50YWcuZHJhZ2dhYmxlKHtcbiAgICAgICAgXCJoYW5kbGVcIjogXCIubW9kYWwtdGl0bGVcIlxuICAgIH0pO1xuXG4gICAgdGhpcy50YWcub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKG9uY2xvc2UgIT09IHVuZGVmaW5lZCAmJiBvbmNsb3NlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvbmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAodGl0bGUsIGJvZHksIHllcywgbm8sIHllc1RleHQpIHtcbiAgICBpZiAoeWVzVGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHllc1RleHQgPSBcIk9rYXlcIjtcbiAgICB9XG4gICAgdGhpcy5zaG93KHRpdGxlLCBib2R5LCBubyk7XG4gICAgdGhpcy55ZXMgPSB5ZXM7XG4gICAgdGhpcy5ubyA9IG5vO1xuICAgIHRoaXMub2theUJ1dHRvbi5zaG93KCkuaHRtbCh5ZXNUZXh0KTtcbiAgICAvLyBUT0RPOiBhZGQgb2theSBidXR0b24gYW5kIGNhbmNlbCBidXR0b25cbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkFTU0lHTk1FTlRfVkVSU0lPTl9DSEFOR0VEID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29uZmlybShcIkFzc2lnbm1lbnQgQ2hhbmdlZFwiLCBcIllvdXIgaW5zdHJ1Y3RvciBoYXMgbWFkZSBjaGFuZ2VzIHRvIHRoaXMgYXNzaWdubWVudC4gV291bGQgeW91IGxpa2UgdG8gcmVsb2FkPyBBbGwgeW91ciB3b3JrIGhhcyBiZWVuIHNhdmVkLlwiLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIExvYWRpbmcgQXNzaWdubWVudFwiLCBgQmxvY2tQeSBlbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBsb2FkaW5nIHRoZSBhc3NpZ25tZW50Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi48YnI+UmVzcG9uc2UgZnJvbSBzZXJ2ZXIgd2FzOjxicj48cHJlPiR7cmVhc29ufTwvcHJlPmAsKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX0xJU1RJTkdfVVBMT0FERURfRklMRVMgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgTGlzdGluZyBVcGxvYWRlZCBGaWxlc1wiLCBgQmxvY2tQeSBlbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBsaXN0aW5nIHRoZSB1cGxvYWRlZCBmaWxlcy48YnI+XG5QbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uPGJyPlJlc3BvbnNlIGZyb20gc2VydmVyIHdhczo8YnI+PHByZT4ke3JlYXNvbn08L3ByZT5gLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9VUExPQURJTkdfRklMRSA9IGZ1bmN0aW9uIChyZWFzb24sIGNvbnRleHQpIHtcbiAgICB0aGlzLnNob3coXCJFcnJvciBVcGxvYWRlZCBGaWxlXCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIHVwbG9hZGluZyB0aGUgZmlsZS48YnI+XG5QbGVhc2UgdHJ5IGFnYWluLjxicj5SZXNwb25zZSBmcm9tIHNlcnZlciB3YXM6PGJyPjxwcmU+JHtyZWFzb259XFxue2NvbnRleHR9PC9wcmU+YCwpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfRE9XTkxPQURJTkdfRklMRSA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aGlzLnNob3coXCJFcnJvciBEb3dubG9hZGluZyBGaWxlXCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nIGEgZmlsZS48YnI+XG5QbGVhc2UgdHJ5IGFnYWluLjxicj5SZXNwb25zZSBmcm9tIHNlcnZlciB3YXM6PGJyPjxwcmU+JHtyZWFzb259PC9wcmU+YCwpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfUkVOQU1JTkdfRklMRSA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aGlzLnNob3coXCJFcnJvciBSZW5hbWluZyBGaWxlXCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIHJlbmFtaW5nIGEgZmlsZS48YnI+XG5QbGVhc2UgdHJ5IGFnYWluLjxicj5SZXNwb25zZSBmcm9tIHNlcnZlciB3YXM6PGJyPjxwcmU+JHtyZWFzb259PC9wcmU+YCwpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfREVMRVRJTkdfRklMRSA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aGlzLnNob3coXCJFcnJvciBEZWxldGluZyBGaWxlXCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGRlbGV0aW5nIGEgZmlsZS48YnI+XG5QbGVhc2UgdHJ5IGFnYWluLjxicj5SZXNwb25zZSBmcm9tIHNlcnZlciB3YXM6PGJyPjxwcmU+JHtyZWFzb259PC9wcmU+YCwpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfU0FWSU5HX0FTU0lHTk1ORU5UID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIFNhdmluZyBBc3NpZ25tZW50XCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIHNhdmluZyB0aGUgYXNzaWdubWVudC48YnI+XG5QbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uPGJyPlJlc3BvbnNlIGZyb20gc2VydmVyIHdhczo8YnI+PHByZT4ke3JlYXNvbn08L3ByZT5gLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9TSE9XX1NUVURFTlRfRVJST1IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICB0aGlzLnNob3coXCJPcmlnaW5hbCBFcnJvclwiLCBgV2hlbiBJIHJhbiB5b3VyIGNvZGUsIEkgZW5jb3VudGVyZWQgYW4gZXJyb3I6XFxuXFxuPGRpdiBjbGFzcz1cImJsb2NrcHktZGlhbG9nLXN0dWRlbnQtZXJyb3ItbWVzc2FnZVwiPiR7ZXJyb3J9PC9kaXY+YCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5QT1NJVElWRV9GRUVEQkFDS19GVUxMID0gZnVuY3Rpb24gKHRpdGxlLCBtZXNzYWdlKSB7XG4gICAgdGhpcy5zaG93KHRpdGxlLCBtZXNzYWdlKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLlNDUkVFTlNIT1RfQkxPQ0tTID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRPRE9cbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX1VQREFUSU5HX1NVQk1JU1NJT05fU1RBVFVTID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIFVwZGF0aW5nIFN1Ym1pc3Npb24gU3RhdHVzXCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIHVwZGF0aW5nIHlvdXIgc3VibWlzc2lvbiBzdGF0dXMuPGJyPlxuUGxlYXNlIHJlbG9hZCB0aGUgcGFnZSBhbmQgdHJ5IGFnYWluLmApO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfTE9BRElOR19ISVNUT1JZID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIExvYWRpbmcgSGlzdG9yeVwiLCBgQmxvY2tQeSBlbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBsb2FkaW5nIHlvdXIgaGlzdG9yeS48YnI+XG5QbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uYCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5PRkZFUl9GT1JLID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzZXR1cFVybCA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHMuaW5zdHJ1Y3Rpb25zQXNzaWdubWVudFNldHVwO1xuICAgIHNldHVwVXJsID0gc2V0dXBVcmwgPyBgICg8YSBocmVmPVwiJHtzZXR1cFVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5Ib3cgZG8gSSBkbyB0aGF0PzwvYT4pYCA6IFwiXCI7XG4gICAgdGhpcy5zaG93KFwiQXNzaWdubWVudCBOb3QgT3duZWQ7IEZvcms/XCIsIGBcbiAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICBJdCBsb29rcyBsaWtlIHlvdSB3YW50IHRvIGVkaXQgdGhpcyBhc3NpZ25tZW50LCBidXQgeW91IGFyZSBub3QgYW4gaW5zdHJ1Y3RvclxuICAgIG9yIGRlc2lnbmVyIGluIHRoZSBjb3Vyc2UgdGhhdCBvd25zIGl0IChcIkNvdXJzZSBOYW1lXCIpLiBXb3VsZCB5b3UgbGlrZSB0byBmb3JrXG4gICAgdGhpcyBhc3NpZ25tZW50IChvciBpdHMgZW50aXJlIGdyb3VwKSBzbyB0aGF0IHlvdSBjYW4gc2F2ZSB5b3VyIG1vZGlmaWNhdGlvbnM/XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cbiAgICAgICAgUmVtZW1iZXIgdG8gdXBkYXRlIHRoZSBMYXVuY2ggVVJMIGluIHRoZSBhc3NpZ25tZW50cycgc2V0dGluZ3Mgb24gQ2FudmFzISR7c2V0dXBVcmx9XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdj48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4td2hpdGUnPkZvcmsgZW50aXJlIGFzc2lnbm1lbnQgZ3JvdXA8L2J1dHRvbj48L2Rpdj5cbiAgICA8ZGl2PjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi13aGl0ZSc+Rm9yayBqdXN0IHRoaXMgYXNzaWdubWVudDwvYnV0dG9uPjwvZGl2PlxuICAgIDxkaXY+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLWRhbmdlcic+UmVzZXQgbXkgbG9jYWwgY2hhbmdlczwvYnV0dG9uPjwvZGl2PlxuICAgIFxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJibG9ja3B5LXRyYW5zZmVyLXN1Ym1pc3Npb25zXCI+XG4gICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXRyYW5zZmVyLXN1Ym1pc3Npb25zXCI+VHJhbnNmZXIgU3R1ZGVudCBTdWJtaXNzaW9ucyBmb3IgdGhpcyBjb3Vyc2U8L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgPGxhYmVsIGNsYXNzPVwiZm9ybS10ZXh0XCIgZm9yPVwiYmxvY2tweS1jb3Vyc2UtaWRcIj5OZXcgb3duaW5nIGNvdXJzZSBpZDogPC9sYWJlbD5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImJsb2NrcHktY291cnNlLWlkXCIgdmFsdWU9XCIke3RoaXMubWFpbi5tb2RlbC51c2VyLmNvdXJzZUlkKCl9XCI+XG4gICAgPC9kaXY+XG4gICAgYCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FRElUX0lOUFVUUyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgaW5wdXRUZXh0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpLmpvaW4oXCJcXG5cIik7XG4gICAgbGV0IGNsZWFySW5wdXRzID0gdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuY2xlYXJJbnB1dHMoKSA/IFwiXCIgOiBcImNoZWNrZWRcIjtcbiAgICBsZXQgeWVzID0gKCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1yZW1lbWJlci1pbnB1dHNcIikucHJvcChcImNoZWNrZWRcIik7XG4gICAgICAgIGxldCBpbnB1dHMgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktaW5wdXQtbGlzdFwiKS52YWwoKS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuY2xlYXJJbnB1dHMoIWNoZWNrZWQpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KGlucHV0cyk7XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpcm0oXCJFZGl0IFJlbWVtYmVyZWQgSW5wdXRzXCIsIGBcblxuPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImJsb2NrcHktcmVtZW1iZXItaW5wdXRzIGZvcm0tY2hlY2staW5wdXRcIlxuICAgICAgICBuYW1lPVwiYmxvY2tweS1yZW1lbWJlci1pbnB1dHNcIiAke2NsZWFySW5wdXRzfT5cbjxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiPlJldXNlIGlucHV0cyBmb3IgbmV4dCBleGVjdXRpb248L2xhYmVsPlxuPC9kaXY+XG5cbjx0ZXh0YXJlYSBjbGFzcz1cImJsb2NrcHktaW5wdXQtbGlzdCBmb3JtLWNvbnRyb2xcIiByb3dzPVwiNFwiPiR7aW5wdXRUZXh0fTwvdGV4dGFyZWE+PGJyPlxuRWRpdCB0aGUgaW5wdXRzIGFib3ZlIHRvIHN0b3JlIGFuZCByZXVzZSB0aGVtIGFjcm9zcyBtdWx0aXBsZSBleGVjdXRpb25zLlxuRWFjaCBpbnB1dCBzaG91bGQgYmUgcHV0IG9uIGl0cyBvd24gbGluZS5cbllvdSBkbyBub3QgbmVlZCBxdW90ZXM7IHRoZSB0ZXh0IHdpbGwgYmUgZW50ZXJlZCBsaXRlcmFsbHkuXG4gXG5gLCB5ZXMsIHRoaXMubm8sIFwiU2F2ZVwiKTtcbiAgICAvLyBUT0RPOiBBbGxvdyB1c2VyIHRvIHNwZWNpZnkgdGhlIGluZmluaXRlIHN0cmluZyB0byBrZWVwIGdpdmluZyB3aGVuIHRoZSBvdGhlcnMgcnVuIG91dFxufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuU1RBUlRfU0hBUkUgPSBmdW5jdGlvbiAodXJsLCB3YXNQcm9tcHRlZCkge1xuXG4gICAgY29uc3QgaW5pdGlhbE1lc3NhZ2UgPSB3YXNQcm9tcHRlZCA/IGBcbiAgICBJdCBsb29rcyBsaWtlIHlvdSBhcmUgaGF2aW5nIHNvbWUgdHJvdWJsZSB3aXRoIHRoaXMgcHJvYmxlbSwgeW91ciBjb2RlLCBvciB0aGlzIGZlZWRiYWNrLlxuICAgIElmIHlvdSBwbGFuIHRvIHJlYWNoIG91dCBmb3IgaGVscCBmcm9tIHRoZSBjb3Vyc2Ugc3RhZmYsIHRoZW4gd2UgcmVjb21tZW5kIHlvdSBpbmNsdWRlIHRoaXMgbGlua1xuICAgIGluIHlvdXIgbWVzc2FnZS4gSXQgd2lsbCBtYWtlIGl0IG11Y2ggZWFzaWVyIGZvciB0aGVtIHRvIGhlbHAgeW91IHF1aWNrbHkuIFxuICAgIGAgOiBcIllvdSBjYW4gcXVpY2tseSBzaGFyZSB5b3VyIGNvZGUgd2l0aCBpbnN0cnVjdG9ycyBhbmQgVEFzIGJ5IHByb3ZpZGluZyB0aGVtIHdpdGggdGhpcyBsaW5rOlwiO1xuICAgIHRoaXMuc2hvdyhcIlNoYXJlIFlvdXIgQ29kZVwiLCBgXG4gICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cbiAgICAgICAgJHtpbml0aWFsTWVzc2FnZX1cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICA8cHJlIGNsYXNzPVwiYmxvY2tweS1jb3B5LXNoYXJlLWxpbmstYXJlYVwiPiR7dXJsfTwvcHJlPlxuICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYmxvY2tweS1jb3B5LXNoYXJlLWxpbmsnPkNvcHkgTGluazwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgIE5vdGUgdGhhdCB5b3UgQ0FOTk9UIHNoYXJlIHRoaXMgbGluayB3aXRoIG90aGVyIHN0dWRlbnRzLCBvciBhY2Nlc3MgaXQgeW91cnNlbGYuXG4gICAgICAgIFRoaXMgaXMgc3RyaWN0bHkgZm9yIHNoYXJpbmcgd2l0aCB0aGUgY291cnNlIHN0YWZmIHdoZW4gc29tZXRoaW5nIGdvZXMgd3Jvbmcgb3IgeW91IG5lZWQgaGVscCB3aXRoIHlvdXIgY29kZS5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICBUaGUgbGluayBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoaXMgUVIgY29kZS4gRG8gbm90IHNoYXJlIHRoaXMgUVIgY29kZSB1bmxlc3MgeW91ciBpbnN0cnVjdG9yIG9yIFRBIGFza3MgeW91IHRvLlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1jb3B5LXNoYXJlLXFyY29kZVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGApO1xuXG4gICAgdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWNvcHktc2hhcmUtbGlua1wiKS5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgLy8gQ29weSB0aGUgVVJMIHRvIHRoZSBjbGlwYm9hcmRcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXJsKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1jb3B5LXNoYXJlLWxpbmtcIikuaHRtbChcIkNvcGllZCFcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHFyY29kZSA9IG5ldyBRUkNvZGUodGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWNvcHktc2hhcmUtcXJjb2RlXCIpWzBdLCB7XG4gICAgICAgICAgICB0ZXh0OiB1cmwsXG4gICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgaGVpZ2h0OiAxMjgsXG4gICAgICAgICAgICBjb2xvckRhcms6IFwiIzAwMDAwMFwiLFxuICAgICAgICAgICAgY29sb3JMaWdodDogXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuSFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGNyZWF0aW5nIFFSIGNvZGVcIiwgZSk7XG4gICAgICAgIHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1jb3B5LXNoYXJlLXFyY29kZVwiKS5odG1sKFwiUVIgY29kZSBnZW5lcmF0aW9uIGZhaWxlZC5cIik7XG4gICAgfVxufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuVklFV19JTlNUUlVDVE9SX1NURE9VVCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHN0ZG91dCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5zdGRvdXQoKTtcbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBzdGRvdXQuam9pbihcIlwiKTtcbiAgICBjb25zdCBib2R5ID0gc3Rkb3V0Lmxlbmd0aCA+IDAgP1xuICAgICAgICBgPHByZSBjbGFzcz1cImJsb2NrcHktaW5zdHJ1Y3Rvci1zdGRvdXRcIj4ke2Zvcm1hdHRlZH08L3ByZT5gIDpcbiAgICAgICAgXCJUaGUgaW5zdHJ1Y3RvciBzY3JpcHQgZGlkIG5vdCBwcmludCBhbnl0aGluZyB0byB0aGUgY29uc29sZS5cIjtcbiAgICB0aGlzLnNob3coXCJJbnN0cnVjdG9yIFN0ZG91dFwiLCBgXG4gICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cbiAgICAgICAgVGhlIGluc3RydWN0b3IgPGNvZGU+b25fcnVuLnB5PC9jb2RlPiBzY3JpcHQgaGFzIHByaW50ZWQgdGhlIGZvbGxvd2luZyBvdXRwdXQ6XG4gICAgPC9kaXY+XG4gICAgJHtib2R5fVxuICAgIGApO1xufSIsImltcG9ydCB7RWRpdG9yc30gZnJvbSBcIi4uL2VkaXRvcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEZpbGUobW9kZWwsIGV2ZW50KSB7XG4gICAgbGV0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGxldCBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlcztcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IChlID0+XG4gICAgICAgIG1vZGVsLnVpLmVkaXRvcnMuY3VycmVudCgpLnVwbG9hZEZpbGUoZSlcbiAgICApO1xuICAgIGZpbGVSZWFkZXIuZmlsZU5hbWUgPSBmaWxlc1swXS5uYW1lO1xuICAgIGZpbGVSZWFkZXIucmVhZEFzVGV4dChmaWxlc1swXSk7XG4gICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNsdWdnaWZ5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksIFwiX1wiKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRGaWxlKG1vZGVsLCBldmVudCkge1xuICAgIGxldCB7bmFtZSwgZXh0ZW5zaW9uLCBjb250ZW50cywgbWltZXR5cGV9ID0gbW9kZWwudWkuZWRpdG9ycy5jdXJyZW50KCkuZG93bmxvYWRGaWxlKCk7XG4gICAgLy8gTWFrZSBzYWZlXG4gICAgbmFtZSA9IHNsdWdnaWZ5KG5hbWUpO1xuICAgIG5hbWUgPSBuYW1lICsgZXh0ZW5zaW9uO1xuICAgIC8vIE1ha2UgdGhlIGRhdGEgZG93bmxvYWQgYXMgYSBmaWxlXG4gICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudHNdLCB7dHlwZTogbWltZXR5cGV9KTtcbiAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBuYW1lKTtcbiAgICB9IGVsc2V7XG4gICAgICAgIGxldCB0ZW1wb3JhcnlEb3dubG9hZExpbmsgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIHRlbXBvcmFyeURvd25sb2FkTGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHRlbXBvcmFyeURvd25sb2FkTGluay5kb3dubG9hZCA9IG5hbWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcG9yYXJ5RG93bmxvYWRMaW5rKTtcbiAgICAgICAgdGVtcG9yYXJ5RG93bmxvYWRMaW5rLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcG9yYXJ5RG93bmxvYWRMaW5rKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuXG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbSA9IG1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxlID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZWxldGVGaWxlKCkge1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0uZGVsZXRlRmlsZSh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuY2hhbmdlRWRpdG9yKFwiYW5zd2VyLnB5XCIpO1xuICAgIH1cblxuICAgIG9uRmlsZURlbGV0ZWQoKSB7XG4gICAgICAgIC8vIFRPRE86IFN3aXRjaCB0byB0aGUgcHJldmlvdXMgZmlsZSBpbnN0ZWFkIG9mIGEgZGVmYXVsdCBmaWxlXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lKFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5lZGl0b3JzLmNoYW5nZUVkaXRvcihcImFuc3dlci5weVwiKTtcbiAgICB9XG5cbiAgICBvbkZpbGVVcGRhdGVkKGZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGUuZmlsZW5hbWUgPT09IHRoaXMuZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIC8vdGhpcy5maWxlID0gZmlsZTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuY2hhbmdlRWRpdG9yKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy90aGlzLmZpbGVTeXN0ZW0uc3RvcFdhdGNoaW5nRmlsZSh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgICAgIC8vdGhpcy50cmFja0N1cnJlbnRGaWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFja0N1cnJlbnRGaWxlKCkge1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0ud2F0Y2hGaWxlKHRoaXMuZmlsZW5hbWUsIHtcbiAgICAgICAgICAgIHVwZGF0ZWQ6IHRoaXMub25GaWxlVXBkYXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZGVsZXRlZDogdGhpcy5vbkZpbGVEZWxldGVkLmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbmV3RmlsZW5hbWU7XG4gICAgICAgIHRoaXMuZmlsZSA9IHRoaXMuZmlsZVN5c3RlbS5nZXRGaWxlKG5ld0ZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy50cmFja0N1cnJlbnRGaWxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3RmlsZW5hbWUgLSB0aGUgZmlsZW5hbWUgdGhhdCB0aGUgb3RoZXIgZWRpdG9yIHdpbGwgYmUgc3dpdGNoaW5nIHRvXG4gICAgICogQHBhcmFtIG9sZEVkaXRvclxuICAgICAqIEBwYXJhbSBuZXdFZGl0b3JcbiAgICAgKi9cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0uc3RvcFdhdGNoaW5nRmlsZSh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5maWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdXBsb2FkRmlsZShldmVudCkge1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBldmVudC50YXJnZXQuZmlsZU5hbWU7XG4gICAgICAgIGxldCBjb250ZW50cyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIHRoaXMuZmlsZS5oYW5kbGUoY29udGVudHMpO1xuICAgIH1cblxuICAgIGRvd25sb2FkRmlsZSgpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gRWRpdG9ycy5wYXJzZUZpbGVuYW1lKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogZmlsZW5hbWUubmFtZSxcbiAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZW5hbWUudHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0aGlzLmZpbGUuaGFuZGxlKCksXG4gICAgICAgICAgICBtaW1ldHlwZTogXCJ0ZXh0L3BsYWluXCJcbiAgICAgICAgfTtcbiAgICB9XG59IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5pbXBvcnQge0Rpc3BsYXlNb2Rlc30gZnJvbSBcIi4vcHl0aG9uXCI7XG5cbmNvbnN0IEFTU0lHTk1FTlRfU0VUVElOR1MgPSBbXG4gICAgW1widG9vbGJveFwiLCBcInRvb2xib3hcIiwgXCJub3JtYWxcIiwgXCJ0b29sYm94XCIsIFwiV2hpY2ggdmVyc2lvbiBvZiB0aGUgdG9vbGJveCB0byBwcmVzZW50IHRvIHRoZSB1c2VyLlwiXSxcbiAgICBbXCJ0eXBlXCIsIFwidHlwZVwiLCBcImJsb2NrcHlcIiwgXCJ0eXBlXCIsIFwiVGhlIHR5cGUgb2YgcXVlc3Rpb247IEJsb2NrUHkgcHJvZ3JhbW1pbmcgcHJvYmxlbXMgYXJlIHRoZSBkZWZhdWx0LCBidXQgd2UgYWxzbyBzdXBwb3J0IHN0YXRpYyByZWFkaW5ncywgcXVpeiBxdWVzdGlvbnMsIGFuZCBhIE1hemUgZ2FtZS5cIl0sXG4gICAgW1wicGFzc2NvZGVcIiwgXCJwYXNzY29kZVwiLCBcIlwiLCBcInN0cmluZ1wiLCBcIkEgc3RyaW5nIHRoYXQgdGhlIHVzZXIgbXVzdCBlbnRlciB0byBhY2Nlc3MgdGhlIHByb2JsZW0uIElmIGJsYW5rLCB0aGVuIG5vIHBhc3Njb2RlIGlzIHByb21wdGVkLlwiXSxcbiAgICAvL1tcInRvb2xib3hMZXZlbFwiLCBcInRvb2xib3hfbGV2ZWxcIiwgXCJub3JtYWxcIiwgXCJ0b29sYm94XCIsIFwiSU5DT01QTEVURTogV2hhdCBsZXZlbCBvZiB0b29sYm94IHRvIHByZXNlbnQgdG8gdGhlIHVzZXIgKGhpZGluZyBhbmQgc2hvd2luZyBjYXRlZ29yaWVzKS5cIl0sXG4gICAgW1wic3RhcnRWaWV3XCIsIFwic3RhcnRfdmlld1wiLCBEaXNwbGF5TW9kZXMuVEVYVCwgRGlzcGxheU1vZGVzLCBcIlRoZSBQeXRob24gZWRpdG9yIG1vZGUgdG8gc3RhcnQgaW4gd2hlbiB0aGUgc3R1ZGVudCBzdGFydHMgdGhlIHByb2JsZW0uXCJdLFxuICAgIFtcImRhdGFzZXRzXCIsIFwiZGF0YXNldHNcIiwgXCJcIiwgXCJzdHJpbmdcIiwgXCJUaGUgY3VycmVudCBsaXN0IG9mIGRhdGFzZXRzIGF2YWlsYWJsZSBvbiBsb2FkIGFzIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZy5cIl0sXG4gICAgW1wiZGlzYWJsZVRpbWVvdXRcIiwgXCJkaXNhYmxlX3RpbWVvdXRcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgY29kZSBpcyBhbGxvd2VkIHRvIHJ1biB3aXRob3V0IHRpbWVvdXRzIChwb3RlbnRpYWxseSBhbGxvd2luZyBpbmZpbml0ZSBsb29wcykuXCJdLFxuICAgIFtcInBhcnRJZFwiLCBcInBhcnRfaWRcIiwgXCJcIiwgXCJzdHJpbmdcIiwgXCJUaGUgUGFydCBJRCBvZiBhbiBBc3NpZ25tZW50IHRoYXQgdGhpcyBlZGl0b3IgaXMgcmVzcG9uc2libGUgZm9yLiBBc3NpZ25tZW50cyBjYW4gaGF2ZSByZWdpb25zIChcXFwiUGFydHNcXFwiKSB0aGF0IGJlaGF2ZSBpbmRlcGVuZGVudGx5IHRvIHRoZSB1c2VyIGJ1dCBhbGwgY29ycmVzcG9uZCB0byB0aGUgc2FtZSBhc3NpZ25tZW50IG9uIHRoZSBiYWNrZW5kLiBCbGFuayBjb3JyZXNwb25kcyB0byB0aGUgZnVsbCBkb2N1bWVudC4gTm90ZSB0aGF0IG1vc3QgYXNzaWdubWVudCBzZXR0aW5ncyB3aWxsIGFwcGx5IFVOSVZFUlNBTExZIGFjcm9zcyBhbGwgcGFydHMsIGluY2x1ZGluZyB0aGUgb25fcnVuLnB5IGFuZCB0aGUgb3RoZXIgc2V0dGluZ3Mgb24gdGhpcyBwYWdlLlwiXSxcbiAgICBbXCJpc1BhcnNvbnNcIiwgXCJpc19wYXJzb25zXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoaXMgaXMgYSBwYXJzb24ncyBzdHlsZSBxdWVzdGlvbiAoanVtYmxlZCkuXCJdLFxuICAgIFtcInNhdmVUdXJ0bGVPdXRwdXRcIiwgXCJzYXZlX3R1cnRsZV9vdXRwdXRcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdHVydGxlIChhbmQgcHlnYW1lKSBvdXRwdXQgaXMgc2F2ZWQgd2hlbmV2ZXIgdGhlIHByb2dyYW0gdXNlcyBpdC5cIl0sXG4gICAgW1wiZGlzYWJsZUZlZWRiYWNrXCIsIFwiZGlzYWJsZV9mZWVkYmFja1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBubyBpbnN0cnVjdG9yIHNjcmlwdHMgYXJlIHJ1biAoZS5nLiwgb25fcnVuIGFuZCBvbl9ldmFsKS5cIl0sXG4gICAgW1wiZGlzYWJsZUluc3RydWN0b3JSdW5cIiwgXCJkaXNhYmxlX2luc3RydWN0b3JfcnVuXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBpbnN0cnVjdG9yIG9uX3J1biB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHJ1biB0aGUgc3R1ZGVudHMnIGNvZGUuIFRoaXMgc3RpbGwgcnVucyB0aGUgc3R1ZGVudHMnIGNvZGUgb25jZSBiZWZvcmVoYW5kLCBidXQgdGhlIG91dHB1dC9kYXRhIHdpbGwgbm90IGJlIGF2YWlsYWJsZSB0byB0aGUgaW5zdHJ1Y3RvcidzIG9uX3J1bi5weSBzY3JpcHQuXCJdLFxuICAgIFtcImRpc2FibGVTdHVkZW50UnVuXCIsIFwiZGlzYWJsZV9zdHVkZW50X3J1blwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgcnVuIGJ1dHRvbiBubyBsb25nZXIgcnVuIHRoZSBzdHVkZW50cycgY29kZS4gVGhpcyBzdGlsbCBydW5zIHRoZSBpbnN0cnVjdG9yJ3MgZmVlZGJhY2sgb25fcnVuIHNjcmlwdC5cIl0sXG4gICAgW1wiZGlzYWJsZVRpZmFcIiwgXCJkaXNhYmxlX3RpZmFcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gZG8gbm90IGF1dG9tYXRpY2FsbHkgcnVuIFRpZmEgKHdoaWNoIGNhbiBiZSBzbG93KS5cIl0sXG4gICAgW1wiZGlzYWJsZVRyYWNlXCIsIFwiZGlzYWJsZV90cmFjZVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMgY29kZSB3aWxsIG5vdCBoYXZlIGl0cyBleGVjdXRpb24gdHJhY2VkIChubyB2YXJpYWJsZXMgcmVjb3JkZWQsIG5vIGNvdmVyYWdlIHRyYWNrZWQpLlwiXSxcbiAgICBbXCJkaXNhYmxlRWRpdFwiLCBcImRpc2FibGVfZWRpdFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMnIGZpbGUgd2lsbCBub3QgYmUgZWRpdGFibGUuXCJdLFxuICAgIFtcInByZWxvYWRBbGxGaWxlc1wiLCBcInByZWxvYWRfYWxsX2ZpbGVzXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50cyBjYW4gdXBsb2FkIGFuZCB1c2UgaW1hZ2VzIGFuZCBvdGhlciBmaWxlcy4gVGhpcyBwcmVsb2FkcyBhbGwgYXZhaWxhYmxlIGZpbGVzIGFuZCBpbWFnZXMuIFlvdSBjYW4gZmlsdGVyIHRoZW0gdXNpbmcgdGhlIFByZWxvYWRlZCBGaWxlcyBzZXR0aW5nLlwiXSxcbiAgICBbXCJlbmFibGVJbWFnZXNcIiwgXCJjYW5faW1hZ2VcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdXNlcnMgY2FuIGNvcHkvcGFzdGUgaW1hZ2VzIGRpcmVjdGx5IGludG8gdGhlIHRleHQgZWRpdG9yLlwiXSxcbiAgICBbXCJlbmFibGVCbG9ja3NcIiwgXCJjYW5fYmxvY2tzXCIsIHRydWUsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnQgY2FuIGVkaXQgdGhlIGJsb2NrIGludGVyZmFjZSAoaWYgbm90LCB0aGVuIGl0IGlzIHZpc2libGUgYnV0IG5vdCBlZGl0YWJsZSkuXCJdLFxuICAgIFtcImNhbkNsb3NlXCIsIFwiY2FuX2Nsb3NlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50IHNob3VsZCBtYXJrIHRoZWlyIHN1Ym1pc3Npb24gY2xvc2VkIHdoZW4gdGhleSBhcmUgZG9uZS4gVGhlcmUgaXMgbm8gd2F5IHRvIGZvcmNlIGEgc3R1ZGVudCB0byBkbyBzby4gVW5saWtlIFJldmlld2VkLCB0aGlzIHN0aWxsIHN1Ym1pdHMgdGhlIGNvcnJlY3RuZXNzLlwiXSxcbiAgICBbXCJvbmx5SW50ZXJhY3RpdmVcIiwgXCJvbmx5X2ludGVyYWN0aXZlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGUgZWRpdG9ycyBhcmUgaGlkZGVuLCB0aGUgcHJvZ3JhbSBpcyBhdXRvbWF0aWNhbGx5IHJ1biwgYW5kIHRoZW4gdGhlIGNvbnNvbGUgZW50ZXJzIEV2YWwgbW9kZSAoaW50ZXJhY3RpdmUpLlwiXSxcbiAgICBbXCJvbmx5VXBsb2Fkc1wiLCBcIm9ubHlfdXBsb2Fkc1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMnIGZpbGUgd2lsbCBub3QgYmUgZGlyZWN0bHkgZWRpdGFibGUgKHRoZXkgd2lsbCBoYXZlIHRvIHVwbG9hZCBzdWJtaXNzaW9ucykuXCJdLFxuICAgIC8vIFdoYXQgbWVudXMvZmVlZGJhY2sgdG8gc2hvdyBhbmQgaGlkZVxuICAgIFtcImhpZGVTdWJtaXNzaW9uXCIsIFwiaGlkZV9zdWJtaXNzaW9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHN0dWRlbnRzIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIHRoZWlyIHN1Ym1pc3Npb24ncyBjb2RlIG9yIGhpc3Rvcnkgb24gQ2FudmFzLlwiXSxcbiAgICBbXCJoaWRlRmlsZXNcIiwgXCJoaWRlX2ZpbGVzXCIsIHRydWUsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgd2lsbCBub3Qgc2VlIHRoZSBWaWV3IEZpbGVzIHRvb2xiYXIuXCJdLFxuICAgIFtcImhpZGVRdWV1ZWRJbnB1dHNcIiwgXCJoaWRlX3F1ZXVlZF9pbnB1dHNcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnRzIGNhbm5vdCBhY2Nlc3MgdGhlIHF1ZXVlZCBpbnB1dHMgYm94IChtYWtlcyByZXBlYXRlZCBkZWJ1Z2dpbmcgZWFzaWVyIGZvciB0aGUgaW5wdXQgZnVuY3Rpb24pLlwiXSxcbiAgICBbXCJoaWRlRWRpdG9yc1wiLCBcImhpZGVfZWRpdG9yc1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBhbGwgb2YgdGhlIGVkaXRvcnMgYXJlIGhpZGRlbi5cIl0sXG4gICAgW1wiaGlkZU1pZGRsZVBhbmVsXCIsIFwiaGlkZV9taWRkbGVfcGFuZWxcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIGNvbnNvbGUgYW5kIGZlZWRiYWNrIGFyZWFzIGlzIGhpZGRlbi5cIl0sXG4gICAgW1wiaGlkZUFsbFwiLCBcImhpZGVfYWxsXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJTkNPTVBMRVRFOiBJZiBjaGVja2VkLCB0aGVuIHRoZSBlbnRpcmUgaW50ZXJmYWNlIGlzIGhpZGRlbi5cIl0sXG4gICAgW1wiaGlkZUV2YWx1YXRlXCIsIFwiaGlkZV9ldmFsdWF0ZVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgRXZhbHVhdGUgYnV0dG9uIGlzIG5vdCBzaG93biBvbiB0aGUgY29uc29sZS5cIl0sXG4gICAgW1wiaGlkZUltcG9ydERhdGFzZXRzQnV0dG9uXCIsIFwiaGlkZV9pbXBvcnRfZGF0YXNldHNfYnV0dG9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHN0dWRlbnRzIGNhbm5vdCBzZWUgdGhlIGltcG9ydCBkYXRhc2V0cyBidXR0b24uXCJdLFxuICAgIC8vIFRPRE86IEZpeCB0aGlzIG9uZSB0byBiZSBzZXR0YWJsZVxuICAgIFtcImhpZGVJbXBvcnRTdGF0ZW1lbnRzXCIsIFwiaGlkZV9pbXBvcnRfc3RhdGVtZW50c1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSU5DT01QTEVURTogSWYgY2hlY2tlZCwgY2VydGFpbiBraW5kcyBvZiBpbXBvcnQgc3RhdGVtZW50cyAobWF0cGxvdGxpYiwgdHVydGxlLCBkYXRhc2V0cykgYXJlIG5vdCBzaG93biBpbiB0aGUgYmxvY2sgaW50ZXJmYWNlLlwiXSxcbiAgICBbXCJoaWRlQ292ZXJhZ2VCdXR0b25cIiwgXCJoaWRlX2NvdmVyYWdlX2J1dHRvblwiLCBmYWxzZSwgXCJib29sXCIsIFwiSU5DT01QTEVURTogSWYgY2hlY2tlZCwgdGhlIGNvdmVyYWdlIGJ1dHRvbiBpcyBub3Qgc2hvd24uXCJdLFxuICAgIFtcImhpZGVUcmFjZUJ1dHRvblwiLCBcImhpZGVfdHJhY2VfYnV0dG9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBUcmFjZSBidXR0b24gaXMgbm90IHNob3duLlwiXSxcbiAgICBbXCJzbWFsbExheW91dFwiLCBcInNtYWxsX2xheW91dFwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgaW50ZXJmYWNlIGZpdHMgaW50byBhIHNtYWxsZXIgcmVnaW9uLlwiXSxcbiAgICBbXCJoYXNDbG9ja1wiLCBcImhhc19jbG9ja1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBhIGNsb2NrIGlzIHNob3duIGluIHRoZSB0b3AgcmlnaHQgY29ybmVyLlwiXSxcbiAgICBbXCJwcmVsb2FkRmlsZXNcIiwgXCJwcmVsb2FkX2ZpbGVzXCIsIFwiXCIsIFwic3RyaW5nXCIsIFwiQSBKU09OIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgdGhlIGZpbGVzIHRoYXQgc2hvdWxkIGJlIGxvYWRlZCBvbiBzdGFydCBmcm9tIHRoZSByZW1vdGUsIGFzIGlmIHRoZXkgd2VyZSBsb2NhbC5cIl0sXG4gICAgW1wiaW5zdHJ1Y3Rpb25zUG9vbFwiLCBcImluc3RydWN0aW9uc19wb29sXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBpbnN0cnVjdGlvbnMgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBiZWluZyBmcm9tIGEgcG9vbC4gT25lIG9mIHRoZSBwcm9tcHRzIHdpbGwgYmUgY2hvc2VuIGZyb20gdGhlIHBvb2wgYmFzZWQgb24gdGhlIHJhbmRvbSBzZWVkLlwiXSxcbl07XG5cbmV4cG9ydCBsZXQgQXNzaWdtZW50VHlwZSA9IHtcbiAgICBCTE9DS1BZOiBcImJsb2NrcHlcIixcbiAgICBNQVpFOiBcIm1hemVcIixcbiAgICBRVUlaOiBcInF1aXpcIixcbiAgICBSRUFESU5HOiBcInJlYWRpbmdcIlxufTtcblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRhdGlvbihuYW1lKSB7XG4gICAgZm9yIChsZXQgaT0wOyBpIDwgQVNTSUdOTUVOVF9TRVRUSU5HUy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoQVNTSUdOTUVOVF9TRVRUSU5HU1tpXVswXSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIEFTU0lHTk1FTlRfU0VUVElOR1NbaV1bNF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmQgZm9yIGZpZWxkXCI7XG59XG5cbmZ1bmN0aW9uIG1ha2VTdGFydFZpZXdUYWIobmFtZSwgaWNvbiwgbW9kZSkge1xuICAgIHJldHVybiBgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBibG9ja3B5LW1vZGUtc2V0LWJsb2Nrc1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiBhc3NpZ25tZW50LnNldHRpbmdzLnN0YXJ0VmlldygpID09PSAnJHttb2RlfSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGFzc2lnbm1lbnQuc2V0dGluZ3Muc3RhcnRWaWV3LmJpbmQoJGRhdGEsICcke21vZGV9JylcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLSR7aWNvbn0nPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImJsb2NrcHktc3RhcnQtdmlldy1zZXRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBjaGVja2VkPiAke25hbWV9XG4gICAgICAgICAgICA8L2xhYmVsPmA7XG59XG5cbmNvbnN0IEFTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUwgPSBBU1NJR05NRU5UX1NFVFRJTkdTXG4gICAgLy8gT25seSBoYW5kbGUgdGhlIHNpbXBsZSBib29sZWFucyB0aGlzIHdheVxuICAgIC5maWx0ZXIoKHNldHRpbmcpID0+IHNldHRpbmdbM10gPT09IFwiYm9vbFwiKVxuICAgIC5tYXAoKHNldHRpbmcpID0+IHtcbiAgICAgICAgbGV0IHByZXR0eU5hbWUgPSBzZXR0aW5nWzFdLnNwbGl0KFwiX1wiKS5tYXAod29yZD0+KHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrd29yZC5zbGljZSgxKSkpLmpvaW4oXCIgXCIpO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtJHtzZXR0aW5nWzBdfVwiPiR7cHJldHR5TmFtZX08L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLSR7c2V0dGluZ1swXX1cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LnNldHRpbmdzLiR7c2V0dGluZ1swXX1cIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke3NldHRpbmdbNF19XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9KS5qb2luKFwiXFxuXFxuXCIpO1xuXG5leHBvcnQgY29uc3QgQVNTSUdOTUVOVF9TRVRUSU5HU19FRElUT1JfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS12aWV3LXNldHRpbmdzXCI+XG4gICAgXG4gICAgPGZvcm0+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnNldHRpbmdzLnNhdmVcIj5TYXZlIGNoYW5nZXM8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1uYW1lXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+TmFtZTo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLW5hbWVcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50Lm5hbWVcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBUaGUgc3R1ZGVudC1mYWNpbmcgbmFtZSBvZiB0aGUgYXNzaWdubWVudC4gQXNzaWdubWVudHMgd2l0aGluIGEgZ3JvdXAgYXJlIG9yZGVyZWQgYWxwaGFiZXRpY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgYnkgdGhlaXIgbmFtZSwgc28geW91IG1heSB3YW50IHRvIHVzZSBhIG5hbWluZyBzY2hlbWUgbGlrZSBcIiM0My41KSBXaGF0ZXZlclwiLlxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXVybFwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlVSTDo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXVybFwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQudXJsXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgVGhlIGNvdXJzZS11bmlxdWUgVVJMIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uc2lzdGVudGx5IHJlZmVyIHRvIHRoaXMgYXNzaWdubWVudC4gXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1wdWJsaWNcIj5QdWJsaWM6PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1wdWJsaWNcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LnB1YmxpY1wiPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIElmIG5vdCBwdWJsaWMsIHVzZXJzIG91dHNpZGUgb2YgdGhlIGNvdXJzZSB3aWxsIG5vdCBiZSBhYmxlIHRvIHNlZSB0aGUgYXNzaWdubWVudCBpbiBjb3Vyc2UgbGlzdGluZ3MuXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1oaWRkZW5cIj5IaWRkZW46PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LmhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIElmIGhpZGRlbiwgc3R1ZGVudHMgd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgdGhlaXIgZ3JhZGUgd2hpbGUgd29ya2luZyBvbiB0aGUgYXNzaWdubWVudC5cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXJldmlld2VkXCI+UmV2aWV3ZWQ6PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1yZXZpZXdlZFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGFzc2lnbm1lbnQucmV2aWV3ZWRcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBJZiByZXZpZXdlZCwgdGhlIGFzc2lnbm1lbnQgbmVlZCB0byBiZSBjb21tZW50ZWQgdXBvbiBhbmQgcmVncmFkZWQgYnkgdGhlIHN0YWZmIGFmdGVyIHN1Ym1pc3Npb24uXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcG9pbnRzXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+UG9pbnRzOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1wb2ludHNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnBvaW50c1wiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIFRoZSBudW1iZXIgb2YgcG9pbnRzIHRoaXMgYXNzaWdubWVudCBpcyB3b3J0aDsgZGVmYXVsdHMgdG8gMSBwb2ludC4gXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1yZXZpZXdlZFwiPlN0YXJ0aW5nIFZpZXc6PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBidG4tZ3JvdXAtdG9nZ2xlIG1yLTJcIiBkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgJHttYWtlU3RhcnRWaWV3VGFiKFwiQmxvY2tzXCIsIFwidGgtbGFyZ2VcIiwgRGlzcGxheU1vZGVzLkJMT0NLKX1cbiAgICAgICAgICAgICAgICAgICAgJHttYWtlU3RhcnRWaWV3VGFiKFwiU3BsaXRcIiwgXCJjb2x1bW5zXCIsIERpc3BsYXlNb2Rlcy5TUExJVCl9XG4gICAgICAgICAgICAgICAgICAgICR7bWFrZVN0YXJ0Vmlld1RhYihcIlRleHRcIiwgXCJhbGlnbi1sZWZ0XCIsIERpc3BsYXlNb2Rlcy5URVhUKX1cbiAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tN1wiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInN0YXJ0Vmlld1wiKX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1pcC1yYW5nZXNcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5JUCBSYW5nZXM6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1pcC1yYW5nZXNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LmlwUmFuZ2VzXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgUHJvdmlkZSBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIElQIEFkZHJlc3NlcyB0aGF0IHdpbGwgYmUgZXhwbGljaXRseSBhbGxvd2VkLiBJZiBibGFuayxcbiAgICAgICAgICAgICAgICAgICAgdGhlbiBhbGwgYWRkcmVzc2VzIGFyZSBhbGxvd2VkLiBJZiBhbiBhZGRyZXNzIHN0YXJ0cyB3aXRoIDxjb2RlPl48L2NvZGU+IHRoZW4gaXQgaXQgaXMgZXhwbGljaXRseVxuICAgICAgICAgICAgICAgICAgICBibGFja2xpc3RlZCwgYnV0IHRoYXQgY2FuIGJlIG92ZXJyaWRkZW4gaW4gdHVybiB3aXRoIGEgPGNvZGU+ITwvY29kZT4uIEFkZHJlc3NlcyBjYW4gYWxzb1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlIGEgYml0IG1hc2sgdG8gYWxsb3cgYSByYW5nZSBvZiBhZGRyZXNzZXMuXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcGFzc2NvZGVcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5QYXNzY29kZTo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXBhc3Njb2RlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC5zZXR0aW5ncy5wYXNzY29kZVwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInBhc3Njb2RlXCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLWRhdGFzZXRzXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+UHJlbG9hZGVkIERhdGFzZXRzOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtZGF0YXNldHNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnNldHRpbmdzLmRhdGFzZXRzXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwiZGF0YXNldHNcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcHJlbG9hZC1maWxlc1wiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlByZWxvYWRlZCBGaWxlczo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLXByZWxvYWQtZmlsZXNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnNldHRpbmdzLnByZWxvYWRGaWxlc1wiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInByZWxvYWRGaWxlc1wiKX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy10b29sYm94XCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+QmxvY2sgVG9vbGJveDo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtdG9vbGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnNldHRpbmdzLnRvb2xib3hcIj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibm9ybWFsXCI+Tm9ybWFsIFRvb2xib3g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY3RcIj5DVEBWVCBUb29sYm94PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImN0MlwiPkNUQFZUIFRvb2xib3ggVjI8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWluaW1hbFwiPk1pbmltYWwgU2V0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImZ1bGxcIj5BbGwgQmxvY2tzPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImN1c3RvbVwiPkN1c3RvbTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcInRvb2xib3hcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtdHlwZVwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlByb2JsZW0gVHlwZTo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnR5cGVcIj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYmxvY2tweVwiPkJsb2NrUHk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWF6ZVwiPk1hemU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicXVpelwiPlF1aXogUXVlc3Rpb248L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmVhZGluZ1wiPlJlYWRpbmc8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke2dldERvY3VtZW50YXRpb24oXCJ0eXBlXCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXBhcnQtaWRcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5QYXJ0IElEOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtcGFydC1pZFwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGNvbmZpZ3VyYXRpb24ucGFydElkXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXREb2N1bWVudGF0aW9uKFwicGFydElkXCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICAke0FTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUx9XG4gICAgPC9mb3JtPlxuICAgIFxuICAgIDwvZGl2PlxuYDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB7fTtcbiAgICBBU1NJR05NRU5UX1NFVFRJTkdTLmZvckVhY2goc2V0dGluZyA9PiB7XG4gICAgICAgIGxldCBjbGllbnROYW1lID0gc2V0dGluZ1swXSwgc2VydmVyTmFtZSA9IHNldHRpbmdbMV0sIGRlZmF1bHRWYWx1ZSA9IHNldHRpbmdbMl07XG4gICAgICAgIGxldCB2YWx1ZSA9IG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3NbY2xpZW50TmFtZV0oKTtcbiAgICAgICAgLy8gT25seSBzdG9yZSB0aGlzIHNldHRpbmcgaWYgaXRzIGRpZmZlcmVudCBmcm9tIHRoZSBkZWZhdWx0XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICBzZXR0aW5nc1tzZXJ2ZXJOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwsIHNldHRpbmdzKSB7XG4gICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHNldHRpbmdzID0gSlNPTi5wYXJzZShzZXR0aW5ncyk7XG4gICAgICAgIEFTU0lHTk1FTlRfU0VUVElOR1MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgICAgIGxldCBjbGllbnROYW1lID0gc2V0dGluZ1swXSwgc2VydmVyTmFtZSA9IHNldHRpbmdbMV07XG4gICAgICAgICAgICBpZiAoc2VydmVyTmFtZSBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3NbY2xpZW50TmFtZV0oc2V0dGluZ3Nbc2VydmVyTmFtZV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzW2NsaWVudE5hbWVdKHNldHRpbmdbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2V0dGluZ3Muc3RhcnRfdmlldykge1xuICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5weXRob25Nb2RlKHNldHRpbmdzLnN0YXJ0X3ZpZXcpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFzc2lnbm1lbnRTZXR0aW5nc01vZGVsKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zb2xlLmxvZyhjb25maWd1cmF0aW9uKTtcbiAgICBsZXQgc2V0dGluZ3MgPSB7fTtcbiAgICBBU1NJR05NRU5UX1NFVFRJTkdTLmZvckVhY2goc2V0dGluZyA9PiB7XG4gICAgICAgIGxldCBjbGllbnROYW1lID0gc2V0dGluZ1swXSwgc2VydmVyTmFtZSA9IHNldHRpbmdbMV0sIGRlZmF1bHRWYWx1ZSA9IHNldHRpbmdbMl0sXG4gICAgICAgICAgICBmaWVsZFR5cGUgPSBzZXR0aW5nWzNdO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuc2V0dGluZ3MuXCIrc2VydmVyTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0dGluZ3NbY2xpZW50TmFtZV0gPSBrby5vYnNlcnZhYmxlKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnVmFsdWUgPSBjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5zZXR0aW5ncy5cIitzZXJ2ZXJOYW1lXTtcbiAgICAgICAgICAgIGlmIChmaWVsZFR5cGUgPT09IFwiYm9vbFwiKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnVmFsdWUgPSBjb25maWdWYWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3NbY2xpZW50TmFtZV0gPSBrby5vYnNlcnZhYmxlKGNvbmZpZ1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNldHRpbmdzO1xufVxuXG5jbGFzcyBBc3NpZ25tZW50U2V0dGluZ3NWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvL1RPRE86IHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxuICAgICAgICAvLyB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRMaXN0ZW5lciA9IHRoaXMudXBkYXRlSGFuZGxlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy9UT0RPOiB0aGlzLmNvZGVNaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFRPRE86IERvIHVwZGF0ZVxuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAvL3RoaXMuZmlsZS5oYW5kbGUodGhpcy5jb2RlTWlycm9yLnZhbHVlKCkpO1xuICAgICAgICAgICAgLy8gVE9ETzogVXBkYXRlXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICAvL3RoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIC8vIFRPRE86IHVwZGF0ZVxuICAgICAgICAvL3RoaXMuY29kZU1pcnJvci5vZmYoXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEFzc2lnbm1lbnRTZXR0aW5ncyA9IHtcbiAgICBuYW1lOiBcIkFzc2lnbm1lbnQgU2V0dGluZ3NcIixcbiAgICBleHRlbnNpb25zOiBbXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCJdLFxuICAgIGNvbnN0cnVjdG9yOiBBc3NpZ25tZW50U2V0dGluZ3NWaWV3LFxuICAgIHRlbXBsYXRlOiBBU1NJR05NRU5UX1NFVFRJTkdTX0VESVRPUl9IVE1MXG59OyIsIlxyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRfaGVhZGVyID0gYFxyXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1weXRob24tdG9vbGJhciBjb2wtbWQtMTIgYnRuLXRvb2xiYXJcIlxyXG4gICAgIHJvbGU9XCJ0b29sYmFyXCIgYXJpYS1sYWJlbD1cIlB5dGhvbiBUb29sYmFyXCI+XHJcbiAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCI+XHJcbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1maWxlLXVwbG9hZFwiPjwvc3Bhbj4gVXBsb2FkXHJcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImJsb2NrcHktdG9vbGJhci11cGxvYWRcIiB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgICAgICBoaWRkZW5cclxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImV2ZW50OiB7Y2hhbmdlOiB1aS5lZGl0b3JzLnVwbG9hZH1cIj5cclxuICAgICAgICAgPC9sYWJlbD5cclxuXHJcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZSBkcm9wZG93bi10b2dnbGUtc3BsaXRcIlxyXG4gICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+VG9nZ2xlIERyb3Bkb3duPC9zcGFuPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cclxuICAgICAgICAgICAgPGEgY2xhc3M9J2Ryb3Bkb3duLWl0ZW0gYmxvY2tweS10b29sYmFyLWRvd25sb2FkJ1xyXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuZG93bmxvYWRcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1kb3dubG9hZCc+PC9zcGFuPiBEb3dubG9hZFxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIFxyXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkRlbGV0ZSBHcm91cFwiXHJcbiAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZWRpdG9ycy5jYW5EZWxldGVcIj5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIixcclxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZpbGVzLmRlbGV0ZVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvc3Bhbj4gRGVsZXRlXHJcbiAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgIDwvZGl2PlxyXG4gPC9kaXY+XHJcbmA7XHJcbiIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xyXG5pbXBvcnQgKiBhcyBGaWxlUG9uZCBmcm9tIFwiZmlsZXBvbmRcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBJTUFHRV9FRElUT1JfSFRNTCA9IGBcclxuICAgICA8ZGl2PlxyXG4gICAgICAgIDxzdHJvbmc+QXZhaWxhYmxlIEZpbGVzPC9zdHJvbmc+PGJyPlxyXG4gICAgICAgICAgICBBbGwgdGhlIGZpbGVzIGF2YWlsYWJsZSB0byBvcGVuIHdpdGggPGNvZGU+UElMPC9jb2RlPiBmb3IgdGhpcyBhc3NpZ25tZW50OlxyXG4gICAgICAgICAgICA8YnV0dG9uIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLmltYWdlcy5yZWxvYWRJbWFnZXNcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGZsb2F0LXJpZ2h0XCJcclxuICAgICAgICAgICAgPlJlbG9hZCBBdmFpbGFibGUgSW1hZ2VzPC9idXR0b24+XHJcbiAgICAgICAgPCEtLSBrbyBpZjogZGlzcGxheS51cGxvYWRlZEZpbGVzKCkgIT09IG51bGwgLS0+XHJcbiAgICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgICAgIDwhLS0ga28gZm9yZWFjaDogeyBkYXRhOiBPYmplY3Qua2V5cyhkaXNwbGF5LnVwbG9hZGVkRmlsZXMoKSksIGFzOiAncGxhY2VtZW50JyB9IC0tPlxyXG4gICAgICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgZGF0YS1iaW5kPVwidGV4dDogJGRhdGFbMF0udG9VcHBlckNhc2UoKSArICRkYXRhLnNsaWNlKDEpXCI+PC9zdHJvbmc+OlxyXG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtYm9yZGVyZWQgdGFibGUtaG92ZXIgdGFibGUtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5GaWxlbmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlByZXZpZXc8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5BY3Rpb25zPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIGtvIGZvcmVhY2g6IHsgZGF0YTogJHJvb3QuZGlzcGxheS51cGxvYWRlZEZpbGVzKClbcGxhY2VtZW50XSwgYXM6ICdmaWxlbmFtZScgfSAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGRhdGEtYmluZD1cInRleHQ6IGZpbGVuYW1lWzBdXCI+PC9jb2RlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGV0YWlscz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN1bW1hcnk+PGltZyBkYXRhLWJpbmQ9XCJhdHRyOiB7IHNyYzogZmlsZW5hbWVbMV0sIGFsdDogZmlsZW5hbWVbMV0gfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjMwcHhcIiBoZWlnaHQ9XCIzMHB4XCIgb25lcnJvcj1cInRoaXMuc3R5bGUuZGlzcGxheT0nbm9uZSdcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBkYXRhLWJpbmQ9XCJhdHRyOiB7IHNyYzogZmlsZW5hbWVbMV0sIGFsdDogZmlsZW5hbWVbMV0gfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yPVwidGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJ1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RldGFpbHM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogJHJvb3QudWkuZWRpdG9ycy5pbWFnZXMuZGVsZXRlRmlsZS5iaW5kKGZpbGVuYW1lWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiAkcm9vdC51aS5lZGl0b3JzLmltYWdlcy5jYW5Nb2RpZnkocGxhY2VtZW50KVwiPkRlbGV0ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogJHJvb3QudWkuZWRpdG9ycy5pbWFnZXMucmVuYW1lRmlsZS5iaW5kKGZpbGVuYW1lWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiAkcm9vdC51aS5lZGl0b3JzLmltYWdlcy5jYW5Nb2RpZnkocGxhY2VtZW50KVwiPlJlbmFtZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIC9rbyAtLT5cclxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIDwhLS0gL2tvIC0tPlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxzdHJvbmc+QWRkIG1vcmUgZmlsZXM8L3N0cm9uZz48YnI+XHJcbiAgICAgICAgVXBsb2FkIG1vcmUgZmlsZXMgdXNpbmcgdGhlIGZvcm1zIGJlbG93OlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlXCI+RmlsZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlXCIgaWQ9XCJibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVcIlxyXG4gICAgICAgICAgICBuYW1lPVwiYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlXCI+XHJcbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFRoZSBmaWxlIHRvIG1ha2UgYXZhaWxhYmxlIGluIHlvdXIgY29kZVxyXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCIgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZWRpdG9ycy5pbWFnZXMuY2FuQ2hvb3NlUGxhY2VtZW50KClcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLXBsYWNlbWVudFwiPlBsYWNlbWVudDo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtcGxhY2VtZW50XCIgbmFtZT1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtcGxhY2VtZW50XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbCBibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLXBsYWNlbWVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzdWJtaXNzaW9uXCIgc2VsZWN0ZWQ+T25seSB5b3VyIHN1Ym1pc3Npb248L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXNzaWdubWVudFwiPkZvciBhbGwgc3VibWlzc2lvbnMgb2YgdGhpcyBhc3NpZ25tZW50PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImNvdXJzZVwiPkFjcm9zcyB0aGUgZW50aXJlIGNvdXJzZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ1c2VyXCI+Rm9yIGp1c3QgeW91ciB1c2VyIGFjY291bnQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICBUaGUgcGxhY2VtZW50IG9mIHRoZSBmaWxlIGluIHRoZSBzeXN0ZW0uIFRoaXMgY29udHJvbHMgd2hldGhlciBvdGhlciB1c2VycyBjYW4gc2VlIHRoZSBmaWxlLlxyXG4gICAgICAgICAgICAgICAgICAgIElmIHlvdSB3YW50IHRvIHByb3ZpZGUgYSBmaWxlIHRvIGFsbCBzdHVkZW50cyBmb3IganVzdCB0aGlzIHNwZWNpZmljIHByb2JsZW0sIHRoZW4geW91IHNob3VsZFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZSA8Y29kZT5Gb3IgYWxsIHN1Ym1pc3Npb25zIG9mIHRoaXMgYXNzaWdubWVudDwvY29kZT4uIElmIHlvdSB3YW50IHRvIHVzZSB0aGlzIHNhbWUgaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICBhY3Jvc3Mgb3RoZXIgYXNzaWdubWVudHMgKGluY2x1ZGluZyBhc3NpZ25tZW50cyB3aXRoaW4gdGhpcyBhc3NpZ25tZW50IGdyb3VwKSwgdGhlbiB5b3Ugc2hvdWxkXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlIDxjb2RlPkFjcm9zcyB0aGUgZW50aXJlIGNvdXJzZTwvY29kZT4uXHJcbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVuYW1lXCI+RmlsZW5hbWU6PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtZmlsZW5hbWVcIiBpZD1cImJsb2NrcHktZWRpdG9yLWltYWdlcy11cGxvYWQtZmlsZW5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJibG9ja3B5LWVkaXRvci1pbWFnZXMtdXBsb2FkLWZpbGVuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFRoZSBmaWxlbmFtZSB0aGF0IHdpbGwgYmUgbWFkZSBhdmFpbGFibGUgaW4gdGhlIGNvZGUuIFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgZmlsZW5hbWUgZm9yIHRoZVxyXG4gICAgICAgICAgICAgICAgICAgIHN5c3RlbSwgYW5kIHNob3VsZCBub3QgY29udGFpbiBzcGFjZXMgb3Igc3BlY2lhbCBjaGFyYWN0ZXJzLiBJdCBzaG91bGQgYWxzbyBoYXZlIGEgdmFsaWQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbiAoZS5nLiwgPGNvZGU+LnBuZzwvY29kZT4sIDxjb2RlPi5qcGc8L2NvZGU+LCA8Y29kZT4udHh0PC9jb2RlPikuXHJcbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5pbWFnZXMudXBsb2FkRmlsZVwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzXCI+VXBsb2FkPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuYDtcclxuXHJcbmNsYXNzIEltYWdlRWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xyXG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XHJcblxyXG4gICAgICAgIHRoaXMudGFnVXBsb2FkRmlsZUJ1dHRvbiA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlXCIpO1xyXG4gICAgICAgIHRoaXMudGFnVXBsb2FkRmlsZVBsYWNlbWVudCA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1wbGFjZW1lbnRcIik7XHJcbiAgICAgICAgdGhpcy50YWdVcGxvYWRGaWxlTmFtZSA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItaW1hZ2VzLXVwbG9hZC1maWxlbmFtZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy50YWdVcGxvYWRGaWxlQnV0dG9uLm9uKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRhZ1VwbG9hZEZpbGVOYW1lLnZhbChldmVudC50YXJnZXQuZmlsZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xyXG4gICAgICAgIHN1cGVyLmVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xyXG5cclxuICAgICAgICBsZXQgdXBsb2FkZWRGaWxlcyA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnVwbG9hZGVkRmlsZXMoKTtcclxuICAgICAgICBpZiAodXBsb2FkZWRGaWxlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZEltYWdlcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IHRhcmdldCA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItaW1hZ2VzLWZpbGVwb25kXCIpWzBdO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2codGFyZ2V0KTtcclxuICAgICAgICAvKmNvbnN0IHVwbG9hZFVybCA9IG5ldyBVUkwodGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tcInVwbG9hZEZpbGVcIl0pO1xyXG4gICAgICAgIHVwbG9hZFVybC5zZWFyY2hQYXJhbXMuc2V0KFwiZGlyZWN0b3J5XCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmlkKCkpO1xyXG4gICAgICAgIHVwbG9hZFVybC5zZWFyY2hQYXJhbXMuc2V0KFwicGxhY2VtZW50XCIsIFwic3VibWlzc2lvblwiKTsqL1xyXG4gICAgICAgIC8vIHRoaXMuZmlsZXBvbmQgPSBGaWxlUG9uZC5jcmVhdGUodGFyZ2V0LCB7XHJcbiAgICAgICAgLy8gICAgIC8vZmlsZXM6IFtdLFxyXG4gICAgICAgIC8vICAgICBhbGxvd011bHRpcGxlOiB0cnVlLFxyXG4gICAgICAgIC8vICAgICBzZXJ2ZXI6IHtcclxuICAgICAgICAvLyAgICAgICAgIHVybDogdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tcImRvd25sb2FkRmlsZVwiXSxcclxuICAgICAgICAvLyAgICAgICAgIGxvYWQ6IChzb3VyY2UsIGxvYWQpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMKHNvdXJjZSwgd2luZG93LmxvY2F0aW9uLm9yaWdpbikuc2VhcmNoUGFyYW1zO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5kb3dubG9hZEZpbGUoXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHBhcmFtcy5nZXQoXCJwbGFjZW1lbnRcIiksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHBhcmFtcy5nZXQoXCJkaXJlY3RvcnlcIiksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHBhcmFtcy5nZXQoXCJmaWxlbmFtZVwiKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsb2FkKG5ldyBGaWxlKFtyZXNwb25zZV0sIHBhcmFtcy5nZXQoXCJmaWxlbmFtZVwiKSkpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhzb3VyY2UsIGxvYWQpO1xyXG4gICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAvLyAgICAgICAgIHByb2Nlc3M6IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB1cmw6IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHNbXCJ1cGxvYWRGaWxlXCJdLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIC8vIHVybDogXCJibG9ja3B5L3VwbG9hZF9maWxlP3BsYWNlbWVudD1hc3NpZ25tZW50JmRpcmVjdG9yeT1cIit0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pZCgpLFxyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5maWxlcG9uZCk7XHJcbiAgICAgICAgLypcclxuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xyXG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxyXG5cclxuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5vbihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7Ki9cclxuICAgIH1cclxuXHJcbiAgICByZWxvYWRJbWFnZXMoKSB7XHJcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxpc3RVcGxvYWRlZEZpbGVzKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkudXBsb2FkZWRGaWxlcyhyZXNwb25zZS5maWxlcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmxvYWRSZW1vdGVGaWxlcyhyZXNwb25zZS5maWxlcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBhbGxGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy8gT2JqZWN0LmVudHJpZXMocmVzcG9uc2UuZmlsZXMpLmZvckVhY2goKFtncm91cCwgZmlsZXNdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZmlsZXMuZm9yRWFjaCgoW2ZpbGVuYW1lLCB1cmxdKSA9PiBhbGxGaWxlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc291cmNlOiB1cmwsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHR5cGU6IFwibG9jYWxcIlxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmZpbGVwb25kLmFkZEZpbGVzKGFsbEZpbGVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9MSVNUSU5HX1VQTE9BREVEX0ZJTEVTKHJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xyXG4gICAgICAgIC8qdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKHRoaXMuY29kZU1pcnJvci5nZXRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH0qL1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBsYWNlbWVudERpcmVjdG9yeShwbGFjZW1lbnQpIHtcclxuICAgICAgICBzd2l0Y2ggKHBsYWNlbWVudCkge1xyXG4gICAgICAgICAgICBjYXNlIFwic3VibWlzc2lvblwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmlkKCk7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhc3NpZ25tZW50XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaWQoKTtcclxuICAgICAgICAgICAgY2FzZSBcImNvdXJzZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5jb3Vyc2UuaWQoKTtcclxuICAgICAgICAgICAgY2FzZSBcInVzZXJcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwudXNlci5pZCgpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwbG9hZEZpbGUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIudXBsb2FkRmlsZShcclxuICAgICAgICAgICAgdGhpcy50YWdVcGxvYWRGaWxlUGxhY2VtZW50LnZhbCgpLFxyXG4gICAgICAgICAgICB0aGlzLmdldFBsYWNlbWVudERpcmVjdG9yeSh0aGlzLnRhZ1VwbG9hZEZpbGVQbGFjZW1lbnQudmFsKCkpLFxyXG4gICAgICAgICAgICB0aGlzLnRhZ1VwbG9hZEZpbGVOYW1lLnZhbCgpLFxyXG4gICAgICAgICAgICB0aGlzLnRhZ1VwbG9hZEZpbGVCdXR0b25bMF0uZmlsZXNbMF0sXHJcbiAgICAgICAgICAgIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZEltYWdlcygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfVVBMT0FESU5HX0ZJTEUocmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUZpbGUoZmlsZUluZm8pIHtcclxuICAgICAgICBjb25zdCBbZmlsZW5hbWUsIHVybF0gPSBmaWxlSW5mbztcclxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5zZWFyY2hQYXJhbXM7XHJcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnVwbG9hZEZpbGUoXHJcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmdldChcInBsYWNlbWVudFwiKSxcclxuICAgICAgICAgICAgcXVlcnlQYXJhbXMuZ2V0KFwiZGlyZWN0b3J5XCIpLFxyXG4gICAgICAgICAgICBmaWxlbmFtZSxcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkSW1hZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9ERUxFVElOR19GSUxFKHJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJlbmFtZUZpbGUoZmlsZUluZm8pIHtcclxuICAgICAgICBjb25zdCBbZmlsZW5hbWUsIHVybF0gPSBmaWxlSW5mbztcclxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5zZWFyY2hQYXJhbXM7XHJcbiAgICAgICAgY29uc3QgbmV3RmlsZW5hbWUgPSBwcm9tcHQoXCJFbnRlciB0aGUgbmV3IGZpbGVuYW1lIGZvciB0aGlzIGZpbGU6XCIsIGZpbGVuYW1lKTtcclxuICAgICAgICBpZiAobmV3RmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnJlbmFtZUZpbGUoXHJcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtcy5nZXQoXCJwbGFjZW1lbnRcIiksXHJcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtcy5nZXQoXCJkaXJlY3RvcnlcIiksXHJcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSxcclxuICAgICAgICAgICAgICAgIG5ld0ZpbGVuYW1lLFxyXG4gICAgICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRJbWFnZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfUkVOQU1JTkdfRklMRShyZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuZmlsZXBvbmQpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5maWxlcG9uZC5kZXN0cm95KCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSW1hZ2VFZGl0b3IgPSB7XHJcbiAgICBuYW1lOiBcIkltYWdlXCIsXHJcbiAgICBleHRlbnNpb25zOiBbXCJpbWFnZXMuYmxvY2tweVwiXSxcclxuICAgIGNvbnN0cnVjdG9yOiBJbWFnZUVkaXRvclZpZXcsXHJcbiAgICB0ZW1wbGF0ZTogSU1BR0VfRURJVE9SX0hUTUxcclxufTsiLCJpbXBvcnQge0Fic3RyYWN0RWRpdG9yfSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcclxuaW1wb3J0IHtkZWZhdWx0X2hlYWRlcn0gZnJvbSBcIi4vZGVmYXVsdF9oZWFkZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBKU09OX0VESVRPUl9IVE1MID0gYFxyXG4gICAgJHtkZWZhdWx0X2hlYWRlcn1cclxuICAgICA8ZGl2PlxyXG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImJsb2NrcHktZWRpdG9yLWpzb25cIj48L3RleHRhcmVhPlxyXG4gICAgPC9kaXY+XHJcbmA7XHJcblxyXG5jbGFzcyBKc29uRWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xyXG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEodGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItanNvblwiKVswXSwge1xyXG4gICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsXHJcbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcjogMSxcclxuICAgICAgICAgICAgaW5kZW50VW5pdDogNCxcclxuICAgICAgICAgICAgdGFiU2l6ZTogNCxcclxuICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxyXG4gICAgICAgICAgICBtb2RlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZXh0cmFLZXlzOiB7XHJcbiAgICAgICAgICAgICAgICBcIlRhYlwiOiBcImluZGVudE1vcmVcIixcclxuICAgICAgICAgICAgICAgIFwiU2hpZnQtVGFiXCI6IFwiaW5kZW50TGVzc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24gKGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiRjExXCI6IGZ1bmN0aW9uIChjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIWNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcclxuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcclxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5vbihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xyXG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmNvZGVNaXJyb3IucmVmcmVzaC5iaW5kKHRoaXMuY29kZU1pcnJvciksIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgZHluYW1pY2FsbHkgd2hlbiBjaGFuZ2luZyBpbnN0cnVjdG9yIHN0YXR1c1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRPcHRpb24oXCJyZWFkT25seVwiLCBuZXdGaWxlbmFtZS5zdGFydHNXaXRoKFwiJlwiKSAmJiAhdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0VmFsdWUobmV3Q29udGVudHMpO1xyXG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3IucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcclxuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmNvZGVNaXJyb3IuZ2V0VmFsdWUoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcclxuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9mZihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlKTtcclxuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSnNvbkVkaXRvciA9IHtcclxuICAgIG5hbWU6IFwiSlNPTlwiLFxyXG4gICAgZXh0ZW5zaW9uczogW1wiLmpzb25cIl0sXHJcbiAgICBjb25zdHJ1Y3RvcjogSnNvbkVkaXRvclZpZXcsXHJcbiAgICB0ZW1wbGF0ZTogSlNPTl9FRElUT1JfSFRNTFxyXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuaW1wb3J0IHtkZWZhdWx0X2hlYWRlcn0gZnJvbSBcIi4vZGVmYXVsdF9oZWFkZXJcIjtcblxuZXhwb3J0IGNvbnN0IE1BUktET1dOX0VESVRPUl9IVE1MID0gYFxuICAgICR7ZGVmYXVsdF9oZWFkZXJ9XG4gICAgPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1lZGl0b3ItbWFya2Rvd25cIj48L3RleHRhcmVhPiAgICBcbmA7XG5cblxuY2xhc3MgTWFya2Rvd25FZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xuICAgICAgICB0aGlzLm1kZSA9IG5ldyBFYXN5TURFKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLW1hcmtkb3duXCIpWzBdLFxuICAgICAgICAgICAgYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWU6IGZhbHNlLFxuICAgICAgICAgICAgZm9yY2VTeW5jOiB0cnVlLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjMwMHB4XCIsXG4gICAgICAgICAgICAvL3Njcm9sbGJhclN0eWxlOiBcIm5hdGl2ZVwiLFxuICAgICAgICAgICAgLy8gVE9ETzogaW1hZ2VVcGxvYWRGdW5jdGlvblxuICAgICAgICAgICAgcmVuZGVyaW5nQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgY29kZVN5bnRheEhpZ2hsaWdodGluZzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRlbnRXaXRoVGFiczogZmFsc2UsXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuZmlsZS5oYW5kbGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlRWRpdG9yLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZGUuY29kZW1pcnJvci5vbihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XG4gICAgICAgIGlmIChvbGRFZGl0b3IgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIC8vIERlbGF5IHNvIHRoYXQgZXZlcnl0aGluZyBpcyByZW5kZXJlZFxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1kZS5jb2RlbWlycm9yLnJlZnJlc2guYmluZCh0aGlzLm1kZS5jb2RlbWlycm9yKSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1kZS52YWx1ZShuZXdDb250ZW50cyk7XG4gICAgICAgICAgICB0aGlzLm1kZS5jb2RlbWlycm9yLnJlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmlsZS5oYW5kbGUodGhpcy5tZGUudmFsdWUoKSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1kZS5jb2RlbWlycm9yLm9mZihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgTWFya2Rvd25FZGl0b3IgPSB7XG4gICAgbmFtZTogXCJNYXJrZG93blwiLFxuICAgIGV4dGVuc2lvbnM6IFtcIi5tZFwiXSxcbiAgICBjb25zdHJ1Y3RvcjogTWFya2Rvd25FZGl0b3JWaWV3LFxuICAgIHRlbXBsYXRlOiBNQVJLRE9XTl9FRElUT1JfSFRNTFxufTsiLCIvKipcbiAqIFRPRE86IHJlbmFtZSBmaWxlcywgbWFudWFsIHNhdmUsIHRhZ3MsIHNhbXBsZV9zdWJtaXNzaW9ucywgb25fZXZhbCwgbm9uLWJ1aWx0aW4gZmlsZXNcbiAqIFRPRE86IGltcG9ydCBkYXRhLCBoaXN0b3J5LCBydW4sIHVybF9kYXRhLCBhc3NpZ25tZW50X3NldHRpbmdzLCBwYXJzb25zX21vZGVcbiAqIFRPRE86IGRlbGV0ZSBiZWNvbWVzIFwiY2xlYXJcIiBmb3IgaW5zdHJ1Y3RvciBmaWxlc1xuICovXG5cbi8qKlxuICpcbiAqIEBlbnVtIHtzdHJ9XG4gKi9cbmltcG9ydCB7QWJzdHJhY3RFZGl0b3IsIHNsdWdnaWZ5fSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcbmltcG9ydCB7SElTVE9SWV9UT09MQkFSX0hUTUx9IGZyb20gXCIuLi9oaXN0b3J5XCI7XG5pbXBvcnQge1NlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9uc30gZnJvbSBcIi4uL2ludGVyZmFjZVwiO1xuXG5leHBvcnQgbGV0IERpc3BsYXlNb2RlcyA9IHtcbiAgICBCTE9DSzogXCJibG9ja1wiLFxuICAgIFNQTElUOiBcInNwbGl0XCIsXG4gICAgVEVYVDogXCJ0ZXh0XCJcbn07XG5cbmZ1bmN0aW9uIG1ha2VUYWIobmFtZSwgaWNvbiwgbW9kZSkge1xuICAgIHJldHVybiBgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBibG9ja3B5LW1vZGUtc2V0LWJsb2Nrc1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiBkaXNwbGF5LnB5dGhvbk1vZGUoKSA9PT0gJyR7bW9kZX0nfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi51cGRhdGVNb2RlLmJpbmQoJGRhdGEsICcke21vZGV9JylcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLSR7aWNvbn0nPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImJsb2NrcHktbW9kZS1zZXRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBjaGVja2VkPiAke25hbWV9XG4gICAgICAgICAgICA8L2xhYmVsPmA7XG59XG5cbmV4cG9ydCBjb25zdCBQWVRIT05fRURJVE9SX0hUTUwgPSBgXG5cbiAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1weXRob24tdG9vbGJhciBjb2wtbWQtMTIgYnRuLXRvb2xiYXJcIlxuICAgICAgICAgcm9sZT1cInRvb2xiYXJcIiBhcmlhLWxhYmVsPVwiUHl0aG9uIFRvb2xiYXJcIj5cblxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlJ1biBHcm91cFwiPiAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYmxvY2tweS1ydW4gbm90cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZXhlY3V0ZS5ydW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiB7J2Jsb2NrcHktcnVuLXJ1bm5pbmcnOiB1aS5leGVjdXRlLmlzUnVubmluZ31cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1wbGF5XCI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1aS5leGVjdXRlLnJ1bkxhYmVsXCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLXRvZ2dsZSBtci0yXCIgZGF0YS10b2dnbGU9XCJidXR0b25zXCI+XG4gICAgICAgICAgICA8IS0tIGtvIGlmOiAkcm9vdC5hc3NpZ25tZW50LnNldHRpbmdzLmVuYWJsZUJsb2NrcygpIC0tPlxuICAgICAgICAgICAgJHttYWtlVGFiKFwiQmxvY2tzXCIsIFwidGgtbGFyZ2VcIiwgRGlzcGxheU1vZGVzLkJMT0NLKX1cbiAgICAgICAgICAgICR7bWFrZVRhYihcIlNwbGl0XCIsIFwiY29sdW1uc1wiLCBEaXNwbGF5TW9kZXMuU1BMSVQpfVxuICAgICAgICAgICAgJHttYWtlVGFiKFwiVGV4dFwiLCBcImFsaWduLWxlZnRcIiwgRGlzcGxheU1vZGVzLlRFWFQpfVxuICAgICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlJlc2V0IEdyb3VwXCI+XG4gICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucmVzZXRcIj5cbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtc3luY1wiPjwvc3Bhbj4gUmVzZXRcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPCEtLSBrbyBpZjogIWFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUltcG9ydERhdGFzZXRzQnV0dG9uKCkgJiYgIXVpLnNtYWxsTGF5b3V0KCktLT5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJJbXBvcnQgR3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuaW1wb3J0RGF0YXNldFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWNsb3VkLWRvd25sb2FkLWFsdFwiPjwvc3Bhbj4gSW1wb3J0IGRhdGFzZXRzXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLnNtYWxsTGF5b3V0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1maWxlLXVwbG9hZFwiPjwvc3Bhbj4gVXBsb2FkXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImJsb2NrcHktdG9vbGJhci11cGxvYWRcIiB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImV2ZW50OiB7Y2hhbmdlOiB1aS5lZGl0b3JzLnVwbG9hZH1cIj5cbiAgICAgICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBkcm9wZG93bi10b2dnbGUgZHJvcGRvd24tdG9nZ2xlLXNwbGl0XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPlRvZ2dsZSBEcm9wZG93bjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSdkcm9wZG93bi1pdGVtIGJsb2NrcHktdG9vbGJhci1kb3dubG9hZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLmRvd25sb2FkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZG93bmxvYWQnPjwvc3Bhbj4gRG93bmxvYWRcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJIaXN0b3J5IEdyb3VwXCIgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5zbWFsbExheW91dFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBhcmlhLXByZXNzZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLnRvZ2dsZUhpc3RvcnlNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlOiB1aS5lZGl0b3JzLnB5dGhvbi5pc0hpc3RvcnlBdmFpbGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHsgYWN0aXZlOiBkaXNwbGF5Lmhpc3RvcnlNb2RlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyOiB7ICdhcmlhLXByZXNzZWQnOiBkaXNwbGF5Lmhpc3RvcnlNb2RlIH1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1oaXN0b3J5XCI+PC9zcGFuPiBIaXN0b3J5XG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPCEtLSBGdWxseSBmdW5jdGlvbmFsLCBidXQgYSBsaXR0bGUgdG9vLi4gSW52YXNpdmUgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiRnVsbHNjcmVlbiBHcm91cFwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiBkaXNwbGF5LnB5dGhvbk1vZGUoKSA9PT0gJ3RleHQnXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5mdWxsc2NyZWVuXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtZXhwYW5kLWFycm93cy1hbHRcIj48L3NwYW4+IEZ1bGxzY3JlZW5cbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgLS0+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJTYXZlIEdyb3VwXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmVkaXRvcnMuY2FuU2F2ZVwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtc2F2ZVwiPjwvc3Bhbj4gU2F2ZVxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJEZWxldGUgR3JvdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZWRpdG9ycy5jYW5EZWxldGVcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiLFxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5kZWxldGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvc3Bhbj4gRGVsZXRlXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZSBkcm9wZG93bi10b2dnbGUtc3BsaXRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtZWxsaXBzaXMtdlwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+VG9nZ2xlIEV4dHJhIEZlYXR1cmVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9J2Ryb3Bkb3duLWl0ZW0gYmxvY2tweS10b29sYmFyLXJ1bi1xdWlldGx5IG5vdHJhbnNpdGlvbicgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5leGVjdXRlLnJ1blF1aWV0bHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHsnYmxvY2tweS1ydW4tcnVubmluZyc6IHVpLmV4ZWN1dGUuaXNSdW5uaW5nfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtY29tbWVudC1zbGFzaFwiPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdWkuZXhlY3V0ZS5ydW5RdWlldGx5TGFiZWxcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8IS0tPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlJlbmFtZSBHcm91cFwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLmNhblJlbmFtZVwiPlxuICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWZpbGUtc2lnbmF0dXJlXCI+PC9zcGFuPiBSZW5hbWVcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2Pi0tPlxuICAgICAgICAgXG4gICAgPC9kaXY+XG4gICAgXG4gICAgJHtISVNUT1JZX1RPT0xCQVJfSFRNTH1cblxuXG4gICAgPGRpdiBjbGFzcz1cImJsb2NrcHktcHl0aG9uLWJsb2NrbWlycm9yXCJcbiAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5tZW51LmlzU3VibWl0dGVkXCI+XG4gICAgPC9kaXY+XG5gO1xuXG5cblxuZnVuY3Rpb24gY29udmVydElweW5iVG9QeXRob24oY29kZSkge1xuICAgIGxldCBpcHluYiA9IEpTT04ucGFyc2UoY29kZSk7XG4gICAgbGV0IGlzVXNhYmxlID0gZnVuY3Rpb24oY2VsbCkge1xuICAgICAgICBpZiAoY2VsbC5jZWxsX3R5cGUgPT09IFwiY29kZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5zb3VyY2UubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICFjZWxsLnNvdXJjZVswXS5zdGFydHNXaXRoKFwiJVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjZWxsLmNlbGxfdHlwZSA9PT0gXCJtYXJrZG93blwiIHx8XG4gICAgICAgICAgICAgICAgY2VsbC5jZWxsX3R5cGUgPT09IFwicmF3XCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGxldCBtYWtlUHl0aG9uID0gZnVuY3Rpb24oY2VsbCkge1xuICAgICAgICBpZiAoY2VsbC5jZWxsX3R5cGUgPT09IFwiY29kZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5zb3VyY2Uuam9pbihcIlxcblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChjZWxsLmNlbGxfdHlwZSA9PT0gXCJtYXJrZG93blwiIHx8XG4gICAgICAgICAgICBjZWxsLmNlbGxfdHlwZSA9PT0gXCJyYXdcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiJycnXCIrY2VsbC5zb3VyY2Uuam9pbihcIlxcblwiKStcIicnJ1wiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaXB5bmIuY2VsbHMuZmlsdGVyKGlzVXNhYmxlKS5tYXAobWFrZVB5dGhvbikuam9pbihcIlxcblwiKTtcbn1cblxuY2xhc3MgUHl0aG9uRWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnLmZpbmQoXCIuYmxvY2tweS1weXRob24tYmxvY2ttaXJyb3JcIikpO1xuICAgICAgICBCbG9ja2x5LnNldFBhcmVudENvbnRhaW5lcihtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyWzBdKTtcbiAgICAgICAgdGhpcy5ibSA9IG5ldyBCbG9ja01pcnJvcih7XG4gICAgICAgICAgICBcImNvbnRhaW5lclwiOiB0aGlzLnRhZ1swXSxcbiAgICAgICAgICAgIFwicnVuXCI6IG1haW4uY29tcG9uZW50cy5lbmdpbmUucnVuLmJpbmQobWFpbi5jb21wb25lbnRzLmVuZ2luZSksXG4gICAgICAgICAgICBcInNraXBTa3VscHRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYmxvY2tseU1lZGlhUGF0aFwiOiBtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYmxvY2tseVBhdGgsXG4gICAgICAgICAgICBcInRvb2xib3hcIjogbWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnRvb2xib3goKSxcbiAgICAgICAgICAgIFwiaW1hZ2VNb2RlXCI6IHRydWUsXG4gICAgICAgICAgICBpbWFnZURvd25sb2FkSG9vazogKG9sZFVybCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGRVcmw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2VVcGxvYWRIb29rOiAoYmxvYikgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29uc3QgdXVpZCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtdKSkuc3Vic3RyaW5nKDMxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJtaXNzaW9uSWQgPSBtYWluLm1vZGVsLnN1Ym1pc3Npb24uaWQoKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbi5jb21wb25lbnRzLnNlcnZlci51cGxvYWRGaWxlKFwic3VibWlzc2lvblwiLCBzdWJtaXNzaW9uSWQsIGJsb2IubmFtZSwgYmxvYiwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmVuZHBvaW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc29sdmUoSlNPTi5zdHJpbmdpZnkobWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHNbXCJkb3dubG9hZEZpbGVcIl0gKyBgP3BsYWNlbWVudD1zdWJtaXNzaW9uJmRpcmVjdG9yeT0ke3N1Ym1pc3Npb25JZH0mZmlsZW5hbWU9JHtibG9iLm5hbWV9YCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiSW1hZ2UoXCIrSlNPTi5zdHJpbmdpZnkoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSkrXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5zdHJpbmdpZnkoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlTGl0ZXJhbEhvb2s6IChvbGRVcmwpID0+IHtcbiAgICAgICAgICAgICAgICAvL3JldHVybiBgSW1hZ2UoXCIke29sZFVybH1cIilgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXCIke29sZFVybH1cImA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8naGVpZ2h0JzogJzIwMDBweCdcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IFByZXZlbnQgSU5TIGFuZCBPVlIgbW9kZSAoLi4uIHRoaXMuYm0udGV4dEVkaXRvci5jb2RlTWlycm9yLlxuXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFkT25seSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1ha2VTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgIHRoaXMubGluZUVycm9yU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lVHJhY2VTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9sZFB5dGhvbk1vZGUgPSB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlKCk7XG5cbiAgICAgICAgdGhpcy5tYWtlUGVyQXNzaWdubWVudFN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG5cbiAgICBjb25maWd1cmVFeHRyYUJsb2NrbHkoKSB7XG4gICAgICAgIHRoaXMuYm0uYmxvY2tFZGl0b3Iud29ya3NwYWNlLmNvbmZpZ3VyZUNvbnRleHRNZW51ID0gKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlNjcmVlbnNob3RcIixcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLlNDUkVFTlNIT1RfQkxPQ0tTXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVQYXN0ZUV2ZW50KGNtLCBldmVudCkge1xuICAgICAgICBsZXQgY2hhcmFjdGVycyA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0JykubGVuZ3RoO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRWRpdG9yLlBhc3RlXCIsIFwiXCIsIFwiXCIsIEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgeyBjaGFyYWN0ZXJzOiBjaGFyYWN0ZXJzIH1cbiAgICAgICAgKSwgdGhpcy5maWxlbmFtZSk7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBsZXQgb2xkRmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChuZXdGaWxlbmFtZSAhPT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgaWYgKG9sZEZpbGVuYW1lID09PSBcImFuc3dlci5weVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbGRQeXRob25Nb2RlID0gdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZShEaXNwbGF5TW9kZXMuVEVYVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlKHRoaXMub2xkUHl0aG9uTW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xuXG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXG4gICAgICAgIHRoaXMuY3VycmVudEJNTGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJtLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuY3VycmVudEJNTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDTVBhc3RlTGlzdGVuZXIgPSB0aGlzLmhhbmRsZVBhc3RlRXZlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibS50ZXh0RWRpdG9yLmNvZGVNaXJyb3Iub24oXCJwYXN0ZVwiLCB0aGlzLmN1cnJlbnRDTVBhc3RlTGlzdGVuZXIpO1xuXG4gICAgICAgIGlmIChuZXdGaWxlbmFtZSAhPT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgdGhpcy5ibS5pc1BhcnNvbnMgPSAoKSA9PiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYm0uaXNQYXJzb25zID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaXNQYXJzb25zO1xuXG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbiA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uZmVlZGJhY2subGluZXNFcnJvci5zdWJzY3JpYmUoKGxpbmVzKSA9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ibS5zZXRIaWdobGlnaHRlZExpbmVzKGxpbmVzLCBcImVkaXRvci1lcnJvci1saW5lXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxpbmVVbmNvdmVyZWRTdWJzY3JpcHRpb24gPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxpbmVzVW5jb3ZlcmVkLnN1YnNjcmliZSgobGluZXMpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5ibS5zZXRIaWdobGlnaHRlZExpbmVzKGxpbmVzLCBcImVkaXRvci11bmNvdmVyZWQtbGluZVwiKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5saW5lVHJhY2VTdWJzY3JpcHRpb24gPSB0aGlzLm1haW4ubW9kZWwudWkudHJhY2UuaGlnaGxpZ2h0ZWRMaW5lLnN1YnNjcmliZSgobGluZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJtLmNsZWFySGlnaGxpZ2h0ZWRMaW5lcyhcImVkaXRvci10cmFjZWQtbGluZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJtLnNldEhpZ2hsaWdodGVkTGluZXMobGluZXMsIFwiZWRpdG9yLXRyYWNlZC1saW5lXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vdGhpcy5ibS5ibG9ja0VkaXRvci53b3Jrc3BhY2UucmVuZGVyKCk7XG4gICAgICAgIC8vdGhpcy5ibS5yZWZyZXNoKCk7XG4gICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoaXMgZG9lc24ndCBlbmQgdXAgbG9va2luZyByaWdodCAoZ28gdG8gYSBkaWZmZXJlbnQgZWRpdG9yLCBjb21lIGJhY2ssIGFuZCBpdCdsbCBiZSBzcXVpc2hlZClcbiAgICAgICAgLy90aGlzLmJtLnJlZnJlc2goKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmJtLnJlZnJlc2goKSwgMCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIGlmIChuZXdDb250ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudHMgPSB0aGlzLmZpbGUuaGFuZGxlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvZXNuJ3QgbWF0dGVyLCBmaWxlIHdhcyBhbHJlYWR5IHNodXQgZG93bi5cbiAgICAgICAgICAgICAgICBuZXdDb250ZW50cyA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV3Q29udGVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGNsb3NpbmcgdGhpcyBmaWxlXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmRlbGV0ZUZpbGVMb2NhbGx5Xyh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYm0uc2V0Q29kZShuZXdDb250ZW50cyk7XG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmJtLmNsZWFySGlnaGxpZ2h0ZWRMaW5lcygpO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmJtLmdldENvZGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYm0ucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5jdXJyZW50Qk1MaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuYm0udGV4dEVkaXRvci5jb2RlTWlycm9yLm9mZihcInBhc3RlXCIsIHRoaXMuY3VycmVudENNUGFzdGVMaXN0ZW5lcik7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9mZkhpc3RvcnlNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhckxpbmVTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxuXG4gICAgY2xlYXJMaW5lU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5ibS5jbGVhckhpZ2hsaWdodGVkTGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUVycm9yU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZVRyYWNlU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVUcmFjZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVUcmFjZVN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWtlU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5ibS5zZXRNb2RlKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUuc3Vic2NyaWJlKG1vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibS5zZXRNb2RlKG1vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZW5hYmxlQmxvY2tzLnN1YnNjcmliZShlbmFibGVkID0+IHtcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZShEaXNwbGF5TW9kZXMuVEVYVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZSh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveC5zdWJzY3JpYmUodGhpcy5yZWxvYWRUb29sYm94LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5lbmFibGVJbWFnZXMuc3Vic2NyaWJlKGltYWdlTW9kZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJtLnNldEltYWdlTW9kZShpbWFnZU1vZGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTbWFsbCBMYXlvdXQgU3R1ZmZcbiAgICAgICAgdGhpcy5vbGRIZWlnaHQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNtYWxsTGF5b3V0KCkpIHtcbiAgICAgICAgICAgIHRoaXMudXNlU21hbGxMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuc21hbGxMYXlvdXQuc3Vic2NyaWJlKHVzZVNtYWxsTGF5b3V0ID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VTbWFsbExheW91dCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlU21hbGxMYXlvdXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vbGRIZWlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJtLmNvbmZpZ3VyYXRpb24uaGVpZ2h0ID0gdGhpcy5vbGRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5ibS50ZXh0RWRpdG9yLnJlc2l6ZVJlc3BvbnNpdmVseSgpO1xuICAgICAgICAgICAgICAgIHRoaXMub2xkSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXNlU21hbGxMYXlvdXQoKSB7XG4gICAgICAgIHRoaXMuYm0udGV4dEVkaXRvci51cGRhdGVHdXR0ZXIoe2luZGVudFNpZGViYXI6IGZhbHNlfSk7XG4gICAgICAgIHRoaXMub2xkSGVpZ2h0ID0gdGhpcy5ibS5jb25maWd1cmF0aW9uLmhlaWdodDtcbiAgICAgICAgdGhpcy5ibS5jb25maWd1cmF0aW9uLmhlaWdodCA9IDMwMDsgLy8gVE9ETzogUGFyYW1ldGVyaXplIHRoaXNcbiAgICAgICAgdGhpcy5ibS50ZXh0RWRpdG9yLnJlc2l6ZVJlc3BvbnNpdmVseSgpO1xuICAgIH1cblxuICAgIHJlbG9hZFRvb2xib3godG9vbGJveCkge1xuICAgICAgICBpZiAodG9vbGJveCA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgbGV0IGN1c3RvbVRvb2xib3ggPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmdldEZpbGUoXCI/dG9vbGJveC5ibG9ja3B5XCIpO1xuICAgICAgICAgICAgaWYgKGN1c3RvbVRvb2xib3ggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRvb2xib3ggPSBcImVtcHR5XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3ggPSBKU09OLnBhcnNlKGN1c3RvbVRvb2xib3guaGFuZGxlKCkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsgLy8gVE9ETzogSW1wcm92ZSBlcnJvciBtZXNzYWdlIGZvciBpbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3ggPSBcIm1pbmltYWxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibS5jb25maWd1cmF0aW9uLnRvb2xib3ggPSB0b29sYm94O1xuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgaW52YWxpZCB0b29sYm94IGJldHRlclxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5ibS5ibG9ja0VkaXRvci5yZW1ha2VUb29sYm94KCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aGlzLmJtLmNvbmZpZ3VyYXRpb24udG9vbGJveCA9IFwiZW1wdHlcIjtcbiAgICAgICAgICAgIHRoaXMuYm0uYmxvY2tFZGl0b3IucmVtYWtlVG9vbGJveCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFrZVBlckFzc2lnbm1lbnRTdWJzY3JpcHRpb25zKCkge1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yLnN1YnNjcmliZSgoY2hhbmdlZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRSZWFkT25seSh0aGlzLmRlY2lkZUlmTm90RWRpdGFibGUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5vbmx5VXBsb2Fkcy5zdWJzY3JpYmUoKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVhZE9ubHkodGhpcy5kZWNpZGVJZk5vdEVkaXRhYmxlKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24ucGFydElkLnN1YnNjcmliZSgoY2hhbmdlZCkgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIHBhcnQgaWQgY2hhbmdpbmcgYWZ0ZXIgZXZlcnl0aGluZyBpcyBsb2FkZWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVjaWRlSWZOb3RFZGl0YWJsZSgpIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgICAgICByZXR1cm4gbW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpIHx8IChcbiAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seVVwbG9hZHMoKSAmJiAhbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzZXRSZWFkT25seShpc1JlYWRPbmx5KSB7XG4gICAgICAgIHRoaXMucmVhZE9ubHkgPSBpc1JlYWRPbmx5O1xuICAgICAgICB0aGlzLmJtLnNldFJlYWRPbmx5KGlzUmVhZE9ubHkpO1xuICAgIH1cblxuICAgIHVwbG9hZEZpbGUoZXZlbnQpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gZXZlbnQudGFyZ2V0LmZpbGVOYW1lO1xuICAgICAgICBsZXQgY29kZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChmaWxlbmFtZS5lbmRzV2l0aChcIi5pcHluYlwiKSkge1xuICAgICAgICAgICAgY29kZSA9IGNvbnZlcnRJcHluYlRvUHl0aG9uKGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5VcGxvYWRcIiwgXCJcIiwgXCJcIiwgY29kZSwgdGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZmlsZS5oYW5kbGUoY29kZSk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVuZ2luZS5ydW4oKTtcbiAgICAgICAgLy8gVE9ETzogUnVuIGNvZGVcbiAgICB9XG5cbiAgICBkb3dubG9hZEZpbGUoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzdXBlci5kb3dubG9hZEZpbGUoKTtcbiAgICAgICAgaWYgKHJlc3VsdC5uYW1lID09PSBcImFuc3dlclwiICYmIHJlc3VsdC5leHRlbnNpb24gPT09IFwiLnB5XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gc2x1Z2dpZnkodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQubmFtZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWltZXR5cGUgPSBcInRleHQveC1weXRob25cIjtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1GaWxlLkRvd25sb2FkXCIsIFwiXCIsIFwiXCIsIFwiXCIsIHJlc3VsdC5uYW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFB5dGhvbkVkaXRvciA9IHtcbiAgICBuYW1lOiBcIlB5dGhvblwiLFxuICAgIGV4dGVuc2lvbnM6IFtcIi5weVwiLCBcIi5yZWFkaW5nXCJdLFxuICAgIGNvbnN0cnVjdG9yOiBQeXRob25FZGl0b3JWaWV3LFxuICAgIHRlbXBsYXRlOiBQWVRIT05fRURJVE9SX0hUTUxcbn07IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XHJcblxyXG5leHBvcnQgY29uc3QgUVVJWl9FRElUT1JfSFRNTCA9IGBcclxuICAgIDxkaXY+XHJcbiAgICA8dGV4dGFyZWEgY2xhc3M9XCJibG9ja3B5LWVkaXRvci1xdWl6XCI+PC90ZXh0YXJlYT5cclxuICAgIDwvZGl2PlxyXG5gO1xyXG5cclxuY2xhc3MgUXVpekVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcclxuICAgICAgICBzdXBlcihtYWluLCB0YWcpO1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLXF1aXpcIilbMF0sIHtcclxuICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXJzdExpbmVOdW1iZXI6IDEsXHJcbiAgICAgICAgICAgIGluZGVudFVuaXQ6IDQsXHJcbiAgICAgICAgICAgIHRhYlNpemU6IDQsXHJcbiAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXh0cmFLZXlzOiB7XHJcbiAgICAgICAgICAgICAgICBcIlRhYlwiOiBcImluZGVudE1vcmVcIixcclxuICAgICAgICAgICAgICAgIFwiU2hpZnQtVGFiXCI6IFwiaW5kZW50TGVzc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24gKGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiRjExXCI6IGZ1bmN0aW9uIChjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIWNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcclxuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcclxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5vbihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xyXG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmNvZGVNaXJyb3IucmVmcmVzaC5iaW5kKHRoaXMuY29kZU1pcnJvciksIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgZHluYW1pY2FsbHkgd2hlbiBjaGFuZ2luZyBpbnN0cnVjdG9yIHN0YXR1c1xyXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRPcHRpb24oXCJyZWFkT25seVwiLCBuZXdGaWxlbmFtZS5zdGFydHNXaXRoKFwiJlwiKSAmJiAhdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRWYWx1ZShuZXdDb250ZW50cyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKHRoaXMuY29kZU1pcnJvci5nZXRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xyXG4gICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgZmFsc2UpO1xyXG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBRdWl6RWRpdG9yID0ge1xyXG4gICAgbmFtZTogXCJRdWl6XCIsXHJcbiAgICBleHRlbnNpb25zOiBbXCIucXVpelwiXSxcclxuICAgIGNvbnN0cnVjdG9yOiBRdWl6RWRpdG9yVmlldyxcclxuICAgIHRlbXBsYXRlOiBRVUlaX0VESVRPUl9IVE1MXHJcbn07IiwiLyoqXG4gKiBQYW5lbCBmb3IgZWRpdGluZyB0aGUgc2V0IG9mIFNhbXBsZSBTdWJtaXNzaW9ucy5cbiAqIFRoZXNlIGFyZSBub3QgcHJvdmlkZWQgYXQgYWxsIHRvIHN0dWRlbnRzIHdpdGhvdXQgdGhlIEdyYWRlciByb2xlLlxuICovXG5cbmltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuXG5leHBvcnQgY29uc3QgU3VibWlzc2lvblN0YXR1c2VzID0ge1xuICAgIFVOS05PV046IFwidW5rbm93blwiLFxuICAgIFBBU1NFRDogXCJwYXNzZWRcIixcbiAgICBGQUlMRUQ6IFwiZmFpbGVkXCIsXG4gICAgRVJST1I6IFwiZXJyb3JcIixcbiAgICBTS0lQUEVEOiBcInNraXBwZWRcIlxufTtcblxuZXhwb3J0IGNsYXNzIFNhbXBsZVN1Ym1pc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHN0YXR1cywgY29kZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgQmxhbmsoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYW1wbGVTdWJtaXNzaW9uKFwiVW50aXRsZWRcIisoY291bnQgfHwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uU3RhdHVzZXMuVU5LTk9XTiwgXCJhPTBcIik7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYW1wbGVTdWJtaXNzaW9uKGRhdGEubmFtZSwgZGF0YS5zdGF0dXMsIGRhdGEuY29kZSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNBTVBMRV9TVUJNSVNTSU9OU19IVE1MID0gYFxuPGRpdj5cbiAgICA8ZGl2IGRhdGEtYmluZD1cImZvcmVhY2g6IHtkYXRhOiBhc3NpZ25tZW50LnNhbXBsZVN1Ym1pc3Npb25zfVwiXG4gICAgICAgIGNsYXNzPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogbmFtZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImJsb2NrcHktZWRpdG9yLXNhbXBsZS1zdWJtaXNzaW9ucy1jb2RlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjb2RlTWlycm9ySW5zdGFuY2U6IGNvZGVcIj48L3RleHRhcmVhPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02XCI+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBzdGF0dXNcIj48L3NwYW4+ICAgICAgICBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cbmA7XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5jb2RlTWlycm9ySW5zdGFuY2UgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBiaW5kaW5nIGlzIGZpcnN0IGFwcGxpZWQgdG8gYW4gZWxlbWVudFxuICAgICAgICAvLyBTZXQgdXAgYW55IGluaXRpYWwgc3RhdGUsIGV2ZW50IGhhbmRsZXJzLCBldGMuIGhlcmVcbiAgICAgICAgY29uc29sZS5sb2coXCJJTklUXCIpO1xuICAgICAgICBsZXQgY20gPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShlbGVtZW50LCB7XG4gICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgICAgICAgICAgZmlyc3RMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgaW5kZW50VW5pdDogNCxcbiAgICAgICAgICAgIHRhYlNpemU6IDQsXG4gICAgICAgICAgICBpbmRlbnRXaXRoVGFiczogZmFsc2UsXG4gICAgICAgICAgICBleHRyYUtleXM6IHtcbiAgICAgICAgICAgICAgICBcIlRhYlwiOiBcImluZGVudE1vcmVcIixcbiAgICAgICAgICAgICAgICBcIlNoaWZ0LVRhYlwiOiBcImluZGVudExlc3NcIixcbiAgICAgICAgICAgICAgICBcIkVzY1wiOiBmdW5jdGlvbiAoY20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiRjExXCI6IGZ1bmN0aW9uIChjbSkge1xuICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsICFjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjbS5zZXRTaXplKFwiMTAwJVwiLCBcIjEwMHB4XCIpO1xuICAgICAgICByZXR1cm4gY207XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgb25jZSB3aGVuIHRoZSBiaW5kaW5nIGlzIGZpcnN0IGFwcGxpZWQgdG8gYW4gZWxlbWVudCxcbiAgICAgICAgLy8gYW5kIGFnYWluIHdoZW5ldmVyIGFueSBvYnNlcnZhYmxlcy9jb21wdXRlZHMgdGhhdCBhcmUgYWNjZXNzZWQgY2hhbmdlXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgRE9NIGVsZW1lbnQgYmFzZWQgb24gdGhlIHN1cHBsaWVkIHZhbHVlcyBoZXJlLlxuICAgICAgICBjb25zb2xlLmxvZyhcIlVQREFURVwiKTtcbiAgICB9XG59O1xuXG5jbGFzcyBTYW1wbGVTdWJtaXNzaW9uc1ZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3JzID0gW107XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBidWlsZEVkaXRvcihuZXdET00sIGluZGV4LCBuZXdFbGVtZW50KSB7XG5cbiAgICB9XG5cbiAgICByZWJ1aWxkRWRpdG9ycygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWJ1aWxkaW5nIGVkaXRvcnNcIik7XG4gICAgfVxuXG4gICAgZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcikge1xuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xuICAgICAgICAvL3RoaXMucmVidWlsZEVkaXRvcnMoKTtcbiAgICAgICAgLy90aGlzLmNvZGVNaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICBpZiAob2xkRWRpdG9yICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRhZyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRhZy5maW5kKFwiLkNvZGVNaXJyb3JcIikpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50YWcuZmluZChcIi5Db2RlTWlycm9yXCIpLm1hcCgoaSxjbSkgPT4gY29uc29sZS5sb2coXCIrKytcIiwgY20uQ29kZU1pcnJvcikpKTtcbiAgICAgICAgICAgIHRoaXMudGFnLmZpbmQoXCIuQ29kZU1pcnJvclwiKS5tYXAoKGksIGNtKSA9PiBjbS5Db2RlTWlycm9yLnJlZnJlc2goKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJFRlJFU0hcIik7XG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy50YWcuZmluZChcIi5Db2RlTWlycm9yXCIpLm1hcCgoaSwgY20pID0+IGNtLkNvZGVNaXJyb3IucmVmcmVzaCgpKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogdXBkYXRlIGR5bmFtaWNhbGx5IHdoZW4gY2hhbmdpbmcgaW5zdHJ1Y3RvciBzdGF0dXNcbiAgICAgICAgLy90aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgbmV3RmlsZW5hbWUuc3RhcnRzV2l0aChcIiZcIikgJiYgIXRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb2RlTWlycm9ycyk7XG4gICAgICAgICAgICAvL3RoaXMuY29kZU1pcnJvcnMuZWFjaCggKGksIGNtKSA9PiBjbS5zZXRWYWx1ZShuZXdDb250ZW50cy5qb2luKFwiXFxuXCIpKSk7XG4gICAgICAgICAgICAvL3RoaXMuY29kZU1pcnJvcnMuZWFjaCggKGksIGNtKSA9PiBjbS5yZWZyZXNoKCkpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmNvZGVNaXJyb3JzLm1hcChjbSA9PiBjbS5nZXRWYWx1ZSgpKSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3JzID0gW107XG4gICAgICAgIC8vdGhpcy5jb2RlTWlycm9ycy5vZmYoXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICAvL3RoaXMuY29kZU1pcnJvci5zZXRPcHRpb24oXCJyZWFkT25seVwiLCBmYWxzZSk7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgU2FtcGxlU3VibWlzc2lvbnMgPSB7XG4gICAgbmFtZTogXCJTYW1wbGUgU3VibWlzc2lvbnNcIixcbiAgICBleHRlbnNpb25zOiBbXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIl0sXG4gICAgY29uc3RydWN0b3I6IFNhbXBsZVN1Ym1pc3Npb25zVmlldyxcbiAgICB0ZW1wbGF0ZTogU0FNUExFX1NVQk1JU1NJT05TX0hUTUxcbn07XG4iLCJpbXBvcnQge0Fic3RyYWN0RWRpdG9yfSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFRBR1NfRURJVE9SX0hUTUwgPSBgXG5DcmVhdGUgbmV3XG5JbXBvcnQgYnkgbmFtZVxuRmluZCBieSBvd25lci9jb3Vyc2Uva2luZFxuXG5UYWdzOlxuICAgIERhdGE6XG4gICAgICAgIE5hbWVcbiAgICAgICAgS2luZFxuICAgICAgICBMZXZlbFxuICAgICAgICBWZXJzaW9uXG4gICAgICAgIERlc2NyaXB0aW9uXG4gICAgQ29udHJvbHM6XG4gICAgICAgIEVkaXRcbiAgICAgICAgUmVtb3ZlXG4gICAgICAgIERlbGV0ZSBcbmA7XG5cbmNsYXNzIFRhZ3NFZGl0b3JWaWV3IGV4dGVuZHMgQWJzdHJhY3RFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICBzdXBlcihtYWluLCB0YWcuZmluZChcIi5ibG9ja3B5LWVkaXRvci10YWdzXCIpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBUYWdzRWRpdG9yID0ge1xuICAgIG5hbWU6IFwiVGFnc1wiLFxuICAgIGV4dGVuc2lvbnM6IFtcIiF0YWdzLmJsb2NrcHlcIl0sXG4gICAgY29uc3RydWN0b3I6IFRhZ3NFZGl0b3JWaWV3LFxuICAgIHRlbXBsYXRlOiBUQUdTX0VESVRPUl9IVE1MXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuaW1wb3J0IHtkZWZhdWx0X2hlYWRlcn0gZnJvbSBcIi4vZGVmYXVsdF9oZWFkZXJcIjtcblxuZXhwb3J0IGNvbnN0IFRFWFRfRURJVE9SX0hUTUwgPSBgXG4gICAgJHtkZWZhdWx0X2hlYWRlcn1cbiAgICA8ZGl2PlxuICAgIDx0ZXh0YXJlYSBjbGFzcz1cImJsb2NrcHktZWRpdG9yLXRleHRcIj48L3RleHRhcmVhPlxuICAgIDwvZGl2PlxuYDtcblxuY2xhc3MgVGV4dEVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XG4gICAgICAgIHRoaXMuY29kZU1pcnJvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLXRleHRcIilbMF0sIHtcbiAgICAgICAgICAgIHNob3dDdXJzb3JXaGVuU2VsZWN0aW5nOiB0cnVlLFxuICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsXG4gICAgICAgICAgICBmaXJzdExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICBpbmRlbnRVbml0OiA0LFxuICAgICAgICAgICAgdGFiU2l6ZTogNCxcbiAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcbiAgICAgICAgICAgIGV4dHJhS2V5czoge1xuICAgICAgICAgICAgICAgIFwiVGFiXCI6IFwiaW5kZW50TW9yZVwiLFxuICAgICAgICAgICAgICAgIFwiU2hpZnQtVGFiXCI6IFwiaW5kZW50TGVzc1wiLFxuICAgICAgICAgICAgICAgIFwiRXNjXCI6IGZ1bmN0aW9uIChjbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJGMTFcIjogZnVuY3Rpb24gKGNtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIWNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XG4gICAgICAgIHN1cGVyLmVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRMaXN0ZW5lciA9IHRoaXMudXBkYXRlSGFuZGxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5vbihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XG4gICAgICAgIGlmIChvbGRFZGl0b3IgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIC8vIERlbGF5IHNvIHRoYXQgZXZlcnl0aGluZyBpcyByZW5kZXJlZFxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmNvZGVNaXJyb3IucmVmcmVzaC5iaW5kKHRoaXMuY29kZU1pcnJvciksIDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHVwZGF0ZSBkeW5hbWljYWxseSB3aGVuIGNoYW5naW5nIGluc3RydWN0b3Igc3RhdHVzXG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRPcHRpb24oXCJyZWFkT25seVwiLCBuZXdGaWxlbmFtZS5zdGFydHNXaXRoKFwiJlwiKSAmJiAhdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0VmFsdWUobmV3Q29udGVudHMpO1xuICAgICAgICAgICAgdGhpcy5jb2RlTWlycm9yLnJlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmlsZS5oYW5kbGUodGhpcy5jb2RlTWlycm9yLmdldFZhbHVlKCkpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9mZihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRPcHRpb24oXCJyZWFkT25seVwiLCBmYWxzZSk7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgVGV4dEVkaXRvciA9IHtcbiAgICBuYW1lOiBcIlRleHRcIixcbiAgICBleHRlbnNpb25zOiBbXCIudHh0XCJdLFxuICAgIGNvbnN0cnVjdG9yOiBUZXh0RWRpdG9yVmlldyxcbiAgICB0ZW1wbGF0ZTogVEVYVF9FRElUT1JfSFRNTFxufTsiLCJpbXBvcnQge0Fic3RyYWN0RWRpdG9yfSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBUT09MQk9YX0VESVRPUl9IVE1MID0gYFxyXG4gICAgPGRpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCJcclxuICAgICAgICAgcm9sZT1cInRvb2xiYXJcIiBhcmlhLWxhYmVsPVwiVG9vbGJveCBUb29sYmFyXCI+XHJcbiAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiU2F2ZSBHcm91cFwiPiAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1lZGl0b3ItanNvbi1zYXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtc2F2ZVwiPjwvc3Bhbj4gU2F2ZVxyXG4gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImJsb2NrcHktZWRpdG9yLXRvb2xib3hcIj48L3RleHRhcmVhPlxyXG4gICAgPC9kaXY+XHJcbmA7XHJcblxyXG5jbGFzcyBUb29sYm94RWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xyXG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEodGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItdG9vbGJveFwiKVswXSwge1xyXG4gICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsXHJcbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcjogMSxcclxuICAgICAgICAgICAgaW5kZW50VW5pdDogNCxcclxuICAgICAgICAgICAgdGFiU2l6ZTogNCxcclxuICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxyXG4gICAgICAgICAgICBtb2RlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZXh0cmFLZXlzOiB7XHJcbiAgICAgICAgICAgICAgICBcIlRhYlwiOiBcImluZGVudE1vcmVcIixcclxuICAgICAgICAgICAgICAgIFwiU2hpZnQtVGFiXCI6IFwiaW5kZW50TGVzc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24gKGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiRjExXCI6IGZ1bmN0aW9uIChjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIWNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcclxuICAgICAgICBzdXBlci5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcclxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudGFnLmZpbmQoXCIuYnRuLWVkaXRvci1qc29uLXNhdmVcIikub24oXCJjbGlja1wiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgLy90aGlzLmNvZGVNaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xyXG4gICAgICAgIGlmIChvbGRFZGl0b3IgIT09IHRoaXMpIHtcclxuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jb2RlTWlycm9yLnJlZnJlc2guYmluZCh0aGlzLmNvZGVNaXJyb3IpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogdXBkYXRlIGR5bmFtaWNhbGx5IHdoZW4gY2hhbmdpbmcgaW5zdHJ1Y3RvciBzdGF0dXNcclxuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwicmVhZE9ubHlcIiwgbmV3RmlsZW5hbWUuc3RhcnRzV2l0aChcIiZcIikgJiYgIXRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcclxuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldFZhbHVlKG5ld0NvbnRlbnRzKTtcclxuICAgICAgICAgICAgdGhpcy5jb2RlTWlycm9yLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVIYW5kbGUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZS5oYW5kbGUodGhpcy5jb2RlTWlycm9yLmdldFZhbHVlKCkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveCgpID09PSBcImN1c3RvbVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IucmVsb2FkVG9vbGJveChcImN1c3RvbVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMudGFnLmZpbmQoXCIuYnRuLWVkaXRvci10b29sYm94LXNhdmVcIikub2ZmKFwiY2xpY2tcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xyXG4gICAgICAgIC8vdGhpcy5jb2RlTWlycm9yLm9mZihcImNoYW5nZVwiLCB0aGlzLmN1cnJlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlKTtcclxuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVG9vbGJveEVkaXRvciA9IHtcclxuICAgIG5hbWU6IFwiVG9vbGJveFwiLFxyXG4gICAgZXh0ZW5zaW9uczogW1wiP3Rvb2xib3guYmxvY2tweVwiXSxcclxuICAgIGNvbnN0cnVjdG9yOiBUb29sYm94RWRpdG9yVmlldyxcclxuICAgIHRlbXBsYXRlOiBUT09MQk9YX0VESVRPUl9IVE1MXHJcbn07IiwiLyoqXG4gKiBFZGl0b3JzIGFyZSBpbmZlcnJlZCBmcm9tIEZpbGVuYW1lcy5cbiAqXG4gKiBUaGUgZWRpdG9yIGlzIGJhc2VkIG9uIHRoZSBleHRlbnNpb246XG4gKiAgLmJsb2NrcHk6IFNwZWNpYWwgZWRpdG9yICh3aWxsIGJlIGNob3NlbiBieSBmaWxlbmFtZSlcbiAqICAucHk6IFB5dGhvbiBFZGl0b3JcbiAqICAubWQ6IE1hcmtkb3duIEVkaXRvclxuICogIC50eHQ6IFRleHQgRWRpdG9yIChhbHNvIHVzZWQgZm9yIG90aGVyIHR5cGVzKVxuICogIC5wZW1sOiBQRU1MIEVkaXRvclxuICogIC5wbmcsIC5naWYsIC5qcGVnLCAuanBnLCAuYm1wOiBJbWFnZSBFZGl0b3JcbiAqICAuanNvbjogSlNPTiBFZGl0b3JcbiAqICAueWFtbDogWUFNTCBFZGl0b3JcbiAqL1xuXG5pbXBvcnQge1B5dGhvbkVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL3B5dGhvblwiO1xuaW1wb3J0IHtUZXh0RWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvdGV4dFwiO1xuaW1wb3J0IHtBc3NpZ21lbnRUeXBlIGFzIEFzc2lnbm1lbnRUeXBlLCBBc3NpZ25tZW50U2V0dGluZ3N9IGZyb20gXCIuL2VkaXRvci9hc3NpZ25tZW50X3NldHRpbmdzXCI7XG5pbXBvcnQge1RhZ3NFZGl0b3J9IGZyb20gXCIuL2VkaXRvci90YWdzXCI7XG5pbXBvcnQge01hcmtkb3duRWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvbWFya2Rvd25cIjtcbmltcG9ydCB7U2FtcGxlU3VibWlzc2lvbnN9IGZyb20gXCIuL2VkaXRvci9zYW1wbGVfc3VibWlzc2lvbnNcIjtcbmltcG9ydCB7SnNvbkVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL2pzb25cIjtcbmltcG9ydCB7VG9vbGJveEVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL3Rvb2xib3hcIjtcbmltcG9ydCB7UXVpekVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL3F1aXpcIjtcbmltcG9ydCB7SW1hZ2VFZGl0b3J9IGZyb20gXCIuL2VkaXRvci9pbWFnZXNcIjtcblxuLyoqXG4gKiBUaGUgZGlmZmVyZW50IHBvc3NpYmxlIGVkaXRvcnMgYXZhaWxhYmxlXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgbGV0IEVkaXRvcnNFbnVtID0ge1xuICAgIFNVQk1JU1NJT046IFwic3VibWlzc2lvblwiLFxuICAgIEFTU0lHTk1FTlQ6IFwiYXNzaWdubWVudFwiLFxuICAgIElOU1RSVUNUSU9OUzogXCJpbnN0cnVjdGlvbnNcIixcbiAgICBPTl9SVU46IFwib25fcnVuXCIsXG4gICAgT05fQ0hBTkdFOiBcIm9uX2NoYW5nZVwiLFxuICAgIE9OX0VWQUw6IFwib25fZXZhbFwiLFxuICAgIFNUQVJUSU5HX0NPREU6IFwic3RhcnRpbmdfY29kZVwiLFxuICAgIFNBTVBMRV9TVUJNSVNTSU9OUzogXCJzYW1wbGVfc3VibWlzc2lvbnNcIixcbiAgICBJTlNUUlVDVE9SX0ZJTEU6IFwiaW5zdHJ1Y3Rvcl9maWxlXCJcbn07XG5cbmNvbnN0IFNQRUNJQUxfTkFNRVNQQUNFUyA9IFtcIiFcIiwgXCJeXCIsIFwiP1wiLCBcIiRcIl07XG5cbmNvbnN0IEFWQUlMQUJMRV9FRElUT1JTID0gW1xuICAgIFRleHRFZGl0b3IsIFB5dGhvbkVkaXRvciwgQXNzaWdubWVudFNldHRpbmdzLCBUYWdzRWRpdG9yLCBNYXJrZG93bkVkaXRvcixcbiAgICBTYW1wbGVTdWJtaXNzaW9ucywgSnNvbkVkaXRvciwgVG9vbGJveEVkaXRvciwgUXVpekVkaXRvciwgSW1hZ2VFZGl0b3Jcbl07XG5cbmV4cG9ydCBjb25zdCBFRElUT1JTX0hUTUwgPSBBVkFJTEFCTEVfRURJVE9SUy5tYXAoZWRpdG9yID0+IGBcbjxkaXYgY2xhc3M9XCJibG9ja3B5LXBhbmVsIGJsb2NrcHktZWRpdG9yXCIgXG4gICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmVkaXRvcnMudmlldygpLm5hbWUgPT09ICcke2VkaXRvci5uYW1lfScsIGNsYXNzOiB1aS5lZGl0b3JzLndpZHRoXCI+XG4gICAgPGRpdj5cbiAgICAke2VkaXRvci50ZW1wbGF0ZX1cbiAgICA8L2Rpdj5cbjwvZGl2PlxuYFxuICAgIC8qXG4gICAgYFxuPCEtLSBrbyBpZjogdWkuZWRpdG9ycy52aWV3KCkubmFtZSA9PT0gJyR7ZWRpdG9yLm5hbWV9JyAtLT5cbiR7ZWRpdG9yLnRlbXBsYXRlfVxuPCEtLSAva28gLS0+YCovXG4pLmpvaW4oXCJcXG5cIik7XG5cbmV4cG9ydCBjbGFzcyBFZGl0b3JzIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZF8gPSBbXTtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zXyA9IHt9O1xuICAgICAgICB0aGlzLmJ5TmFtZV8gPSB7fTtcbiAgICAgICAgQVZBSUxBQkxFX0VESVRPUlMuZm9yRWFjaChlZGl0b3IgPT4gdGhpcy5yZWdpc3RlckVkaXRvcihlZGl0b3IpKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUuc3Vic2NyaWJlKHRoaXMuY2hhbmdlRWRpdG9yLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZWdpc3RlckVkaXRvcihkYXRhKSB7XG4gICAgICAgIGxldCBleHRlbnNpb25zID0gZGF0YS5leHRlbnNpb25zO1xuICAgICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgZGF0YS5jb25zdHJ1Y3Rvcih0aGlzLm1haW4sIHRoaXMudGFnKTtcbiAgICAgICAgaW5zdGFuY2UubmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkXy5wdXNoKGluc3RhbmNlKTtcbiAgICAgICAgdGhpcy5ieU5hbWVfW2RhdGEubmFtZS50b0xvd2VyQ2FzZSgpXSA9IGluc3RhbmNlO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBleHRlbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnNfW2V4dGVuc2lvbnNbaV1dID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBieU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ieU5hbWVfW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgfVxuXG4gICAgY2hhbmdlRWRpdG9yKG5ld0ZpbGVuYW1lKSB7XG4gICAgICAgIGxldCBvbGRFZGl0b3IgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGxldCBuZXdFZGl0b3IgPSB0aGlzLmdldEVkaXRvcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgb2xkRWRpdG9yLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnQgPSBuZXdFZGl0b3I7XG4gICAgICAgIHRoaXMuY3VycmVudC5lbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VGaWxlbmFtZShwYXRoKSB7XG4gICAgICAgIGxldCBzcGFjZSA9IHBhdGguY2hhckF0KDApO1xuICAgICAgICBpZiAoU1BFQ0lBTF9OQU1FU1BBQ0VTLmluZGV4T2Yoc3BhY2UpICE9PSAtMSkge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3BhY2UgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lID0gcGF0aC5zdWJzdHIoMCwgcGF0aC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICAgICAgICBsZXQgdHlwZSA9IHBhdGguc3Vic3RyKHBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgcmV0dXJuIHtcInNwYWNlXCI6IHNwYWNlLCBcIm5hbWVcIjogbmFtZSwgXCJ0eXBlXCI6IHR5cGV9O1xuICAgIH1cblxuICAgIGdldEVkaXRvcihwYXRoKSB7XG4gICAgICAgIGxldCB7c3BhY2UsIG5hbWUsIHR5cGV9ID0gRWRpdG9ycy5wYXJzZUZpbGVuYW1lKHBhdGgpO1xuICAgICAgICBpZiAodHlwZSA9PT0gXCIuYmxvY2tweVwiICYmIHBhdGggaW4gdGhpcy5leHRlbnNpb25zXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uc19bcGF0aF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFzc2lnbm1lbnRUeXBlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQudHlwZSgpO1xuICAgICAgICBpZiAoYXNzaWdubWVudFR5cGUgIT09IEFzc2lnbm1lbnRUeXBlLkJMT0NLUFkpIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcImFuc3dlclwiICYmIHR5cGUgPT09IFwiLnB5XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCIuXCIrYXNzaWdubWVudFR5cGUgaW4gdGhpcy5leHRlbnNpb25zXykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb25zX1tcIi5cIithc3NpZ25tZW50VHlwZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGVkaXRvciByZWdpc3RlcmVkIGZvciBhc3NpZ25tZW50IHR5cGU6XCIsIGFzc2lnbm1lbnRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJlZF9bMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlIGluIHRoaXMuZXh0ZW5zaW9uc18pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbnNfW3R5cGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJlZF9bMF07XG4gICAgICAgIH1cbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC50eXBlKCksIHNwYWNlLCBuYW1lLCB0eXBlKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi9zZXJ2ZXJcIjtcbmltcG9ydCB7T25SdW5Db25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvb25fcnVuXCI7XG5pbXBvcnQge1J1bkNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9ydW5cIjtcbmltcG9ydCB7RXZhbENvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9ldmFsXCI7XG5pbXBvcnQge1NhbXBsZUNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9zYW1wbGVcIjtcbmltcG9ydCB7T25DaGFuZ2VDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvb25fY2hhbmdlXCI7XG5pbXBvcnQge09uRXZhbENvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9vbl9ldmFsXCI7XG5pbXBvcnQge09uU2FtcGxlQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vZW5naW5lL29uX3NhbXBsZVwiO1xuXG4vKipcbiAqIEFuIG9iamVjdCBmb3IgZXhlY3V0aW5nIFB5dGhvbiBjb2RlIGFuZCBwYXNzaW5nIHRoZSByZXN1bHRzIGFsb25nIHRvIGludGVyZXN0ZWQgY29tcG9uZW50cy5cbiAqXG4gKiBJbnRlcmVzdGluZyBjb21wb25lbnRzOlxuICogIEV4ZWN1dGlvbiBCdWZmZXI6IFJlc3BvbnNpYmxlIGZvciBjb2xsZWN0aW5nIHRoZSB0cmFjZSBkdXJpbmcgcHJvZ3JhbSBleGVjdXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgVGhpcyBwcmV2ZW50cyBLbm9ja291dGpzIGZyb20gdXBkYXRpbmcgdGhlIGVkaXRvciBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlFZGl0b3J9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICovXG5leHBvcnQgY2xhc3MgQmxvY2tQeUVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLmV4ZWN1dGlvbk1vZGVsID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbjtcblxuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25zID0ge1xuICAgICAgICAgICAgcnVuOiBuZXcgUnVuQ29uZmlndXJhdGlvbihtYWluKSxcbiAgICAgICAgICAgIGV2YWw6IG5ldyBFdmFsQ29uZmlndXJhdGlvbihtYWluKSxcbiAgICAgICAgICAgIG9uUnVuOiBuZXcgT25SdW5Db25maWd1cmF0aW9uKG1haW4pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IG5ldyBPbkNoYW5nZUNvbmZpZ3VyYXRpb24obWFpbiksXG4gICAgICAgICAgICBvbkV2YWw6IG5ldyBPbkV2YWxDb25maWd1cmF0aW9uKG1haW4pXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHJlY29uZmlndXJlIHNrdWxwdCBzbyB3ZSBjYW4gcGFyc2VcbiAgICAgICAgU2suY29uZmlndXJlKHRoaXMuY29uZmlndXJhdGlvbnMucnVuLmdldFNrdWxwdE9wdGlvbnMoKSk7XG5cbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHRyYWNpbmcgd2hpbGUgdGhlIHByb2dyYW0gaXMgZXhlY3V0aW5nXG4gICAgICAgIHRoaXMuZXhlY3V0aW9uQnVmZmVyID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluYWJsZSBmdW5jdGlvbiB0byBiZSBydW4gd2hlbiBleGVjdXRpb24gaGFzIGZ1bGx5IGVuZGVkLFxuICAgICAgICAgKiB3aGV0aGVyIGl0IHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkV4ZWN1dGlvbkJlZ2luID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkV4ZWN1dGlvbkVuZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgcmVwb3J0c1xuICAgICAqL1xuICAgIHJlc2V0UmVwb3J0cygpIHtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMuZXhlY3V0aW9uTW9kZWwucmVwb3J0cztcbiAgICAgICAgcmVwb3J0W1widmVyaWZpZXJcIl0gPSB7fTtcbiAgICAgICAgcmVwb3J0W1wicGFyc2VyXCJdID0ge307XG4gICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7fTtcbiAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXSA9IHt9O1xuICAgICAgICByZXBvcnRbXCJtb2RlbFwiXSA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICB9O1xuXG4gICAgcmVzZXRTdHVkZW50TW9kZWwoKSB7XG4gICAgICAgIGxldCBzdHVkZW50ID0gdGhpcy5leGVjdXRpb25Nb2RlbC5zdHVkZW50O1xuICAgICAgICBzdHVkZW50LmNhbGxzID0ge307XG4gICAgICAgIHN0dWRlbnQuY3VycmVudFN0ZXAobnVsbCk7XG4gICAgICAgIHN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgwKTtcbiAgICAgICAgc3R1ZGVudC5sYXN0U3RlcCgwKTtcbiAgICAgICAgc3R1ZGVudC5jdXJyZW50TGluZShudWxsKTtcbiAgICAgICAgc3R1ZGVudC5jdXJyZW50VHJhY2VEYXRhLnJlbW92ZUFsbCgpO1xuICAgICAgICBzdHVkZW50LnJlc3VsdHMgPSBudWxsO1xuICAgICAgICBzdHVkZW50LnRyYWNpbmcgPSBbXTtcbiAgICB9XG5cbiAgICByZXNldEV4ZWN1dGlvbkJ1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5leGVjdXRpb25CdWZmZXIgPSB7XG4gICAgICAgICAgICBcInRyYWNlXCI6IFtdLFxuICAgICAgICAgICAgXCJzdGVwXCI6IDAsXG4gICAgICAgICAgICBcImxpbmVcIjogMCxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBpbnRlcmZhY2UgYXNwZWN0cyBvZiB0aGUgcHJldmlvdXMgUnVuLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICAvLyBUT0RPOiBDbGVhciBvdXQgYW55IGNvdmVyYWdlL3RyYWNlL2Vycm9yIGhpZ2hsaWdodHMgaW4gZWRpdG9yc1xuICAgICAgICAvLyBSZXNldCBleGVjdXRpb24gaW4gbW9kZWxcbiAgICAgICAgdGhpcy5yZXNldFN0dWRlbnRNb2RlbCgpO1xuICAgICAgICAvLyBHZXQgcmVwb3J0cyByZWFkeVxuICAgICAgICB0aGlzLnJlc2V0UmVwb3J0cygpO1xuICAgICAgICAvLyBDbGVhciBvdXQgdGhlIGV4ZWN1dGlvbiBidWZmZXJcbiAgICAgICAgdGhpcy5yZXNldEV4ZWN1dGlvbkJ1ZmZlcigpO1xuICAgICAgICAvLyBDbGVhciBvdXQgdGhlIGNvbnNvbGUgb2YgcHJpbnRlZCBzdHVmZlxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmNsZWFyKCk7XG4gICAgICAgIC8vIENsZWFyIG91dCBhbnkgb2xkIGZlZWRiYWNrXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgZGVsYXllZFJ1bihkaXNhYmxlRmVlZGJhY2s9ZmFsc2UpIHtcbiAgICAgICAgLy90aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIC8vJChcIi5ibG9ja3B5LXJ1blwiKS5hZGRDbGFzcyhcImJsb2NrcHktcnVuLXJ1bm5pbmdcIik7XG4gICAgICAgIHRoaXMucnVuKGRpc2FibGVGZWVkYmFjayk7XG4gICAgICAgIC8vc2V0VGltZW91dCh0aGlzLnJ1bi5iaW5kKHRoaXMpLCAxKTtcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuXG4gICAgfVxuXG4gICAgcnVuKGRpc2FibGVGZWVkYmFjaz1mYWxzZSkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLnJ1bi51c2UodGhpcyk7XG4gICAgICAgIGxldCBleGVjdXRpb24gPSB0aGlzLmV4ZWN1dGUoKS50aGVuKFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmZhaWx1cmUuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pXG4gICAgICAgICk7XG4gICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUZlZWRiYWNrKCkgJiYgIWRpc2FibGVGZWVkYmFjaykge1xuICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5wcm92aWRlU2VjcmV0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vblJ1bigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uc2hvd0Vycm9ycy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGV4ZWN1dGlvbi50aGVuKHRoaXMuY29uZmlndXJhdGlvbi5maW5hbGx5LmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSk7XG4gICAgfVxuXG4gICAgb25SdW4oKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbnMub25SdW4udXNlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4ZWN1dGUoKS50aGVuKFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmZhaWx1cmUuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pXG4gICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKHRoaXMuY29uZmlndXJhdGlvbi5maW5hbGx5LmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuZXhlY3V0aW9uRW5kXy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBldmFsdWF0ZSgpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICBsZXQgZXZhbHVhdGlvbklucHV0ID0gdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5ldmFsdWF0ZSgpO1xuICAgICAgICBjb25zb2xlLmxvZyhldmFsdWF0aW9uSW5wdXQpO1xuICAgICAgICBldmFsdWF0aW9uSW5wdXQudGhlbigodXNlcklucHV0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLmV2YWwudXNlKHRoaXMsIHVzZXJJbnB1dCk7XG4gICAgICAgICAgICBsZXQgZXhlY3V0aW9uID0gdGhpcy5leGVjdXRlKCkudGhlbihcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uc3VjY2Vzcy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbiksXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmZhaWx1cmUuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlRmVlZGJhY2soKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uRXZhbCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnByb3ZpZGVTZWNyZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbi50aGVuKHRoaXMub25FdmFsLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uc2hvd0Vycm9ycy5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHRoaXMuZXZhbHVhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uZmluYWxseS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkV2YWwoKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbnMub25FdmFsLnVzZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGVjdXRlKCkudGhlbihcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zdWNjZXNzLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICApXG4gICAgICAgICAgICAudGhlbih0aGlzLmV2YWx1YXRlLmJpbmQodGhpcykpXG4gICAgICAgICAgICAudGhlbih0aGlzLmNvbmZpZ3VyYXRpb24uZmluYWxseS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbikpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLm9uQ2hhbmdlLnVzZSh0aGlzKTtcbiAgICB9XG5cbiAgICBleGVjdXRlKCkge1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIHJldHVybiBTay5taXNjZXZhbC5hc3luY1RvUHJvbWlzZSgoKSA9PlxuICAgICAgICAgICAgU2suaW1wb3J0TWFpbldpdGhCb2R5KHRoaXMuY29uZmlndXJhdGlvbi5maWxlbmFtZSwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmNvZGUsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN5c21vZHVsZXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVkIHdoZW5ldmVyIHRoZSBQeXRob24gY29kZSBjaGFuZ2VzXG4gICAgICovXG4gICAgb25fY2hhbmdlKCkge1xuICAgICAgICBsZXQgRklMRU5BTUUgPSBcIm9uX2NoYW5nZVwiO1xuICAgICAgICAvLyBTa2lwIGlmIHRoZSBpbnN0cnVjdG9yIGhhcyBub3QgZGVmaW5lZCBhbnl0aGluZ1xuICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5wcm9ncmFtc1tGSUxFTkFNRV0oKS50cmltKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0YXR1cyhcImNoYW5naW5nXCIpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuc2F2ZUNvZGUoKTtcbiAgICAgICAgLy8gT24gc3RlcCBkb2VzIG5vdCBwZXJmb3JtIHBhcnNlIGFuYWx5c2lzIGJ5IGRlZmF1bHQgb3IgcnVuIHN0dWRlbnQgY29kZVxuICAgICAgICBsZXQgZW5naW5lID0gdGhpcztcbiAgICAgICAgbGV0IGZlZWRiYWNrID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2s7XG4gICAgICAgIGVuZ2luZS5yZXNldFJlcG9ydHMoKTtcbiAgICAgICAgZW5naW5lLnZlcmlmeUNvZGUoKTtcbiAgICAgICAgZW5naW5lLnVwZGF0ZVBhcnNlKCk7XG4gICAgICAgIGVuZ2luZS5ydW5JbnN0cnVjdG9yQ29kZShGSUxFTkFNRSwgdHJ1ZSwgZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgICAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSkge1xuICAgICAgICAgICAgICAgIC8vIFNVQ0NFU1MsIFNDT1JFLCBDQVRFR09SWSwgTEFCRUwsIE1FU1NBR0UsIERBVEEsIEhJREVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBvbmx5IHNob3cgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzXG4gICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICEoY2F0ZWdvcnkgPT09IFwiSW5zdHJ1Y3RvclwiICYmIGxhYmVsID09PSBcIk5vIGVycm9yc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBmZWVkYmFjay5wcmVzZW50RmVlZGJhY2soY2F0ZWdvcnksIGxhYmVsLCBtZXNzYWdlLCBsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZW5naW5lLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50RmVlZGJhY2sobW9kdWxlLiRkKTtcbiAgICAgICAgICAgICAgICBlbmdpbmUubWFpbi5tb2RlbC5leGVjdXRpb24uc3RhdHVzKFwiY29tcGxldGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbmdpbmUubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcImVuZ2luZVwiLCBcIm9uX2NoYW5nZVwiKTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCB3aWxsIGF0dGVtcHQgdG8gY2FsbCB0aGUgZGVmaW5lZCBvbkV4ZWN1dGlvbkVuZCxcbiAgICAgKiBidXQgd2lsbCBkbyBub3RoaW5nIGlmIHRoZXJlIGlzIG5vIGZ1bmN0aW9uIGRlZmluZWQuXG4gICAgICovXG4gICAgZXhlY3V0aW9uRW5kXygpIHtcbiAgICAgICAgaWYgKHRoaXMub25FeGVjdXRpb25FbmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMub25FeGVjdXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZXhlY3V0aW9uQmVnaW5fKCkge1xuICAgICAgICBpZiAodGhpcy5vbkV4ZWN1dGlvbkJlZ2luICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhlY3V0aW9uQmVnaW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG4iLCJleHBvcnQgY29uc3QgRU1QVFlfTU9EVUxFID0gXCJsZXQgJGJ1aWx0aW5tb2R1bGUgPSBmdW5jdGlvbihtb2QpeyByZXR1cm4gbW9kOyB9XCI7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGhvbGRpbmcgc2V0dGluZ3Mgb2YgYSBwYXJ0aWN1bGFyIHJ1biBjb25maWd1cmF0aW9uLlxuICogVGhpcyBpcyB0aGUgcm9vdCBjbGFzcyBmb3IgYWxsIG90aGVyIGNvbmZpZ3VyYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnN5c21vZHVsZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICAvLyBBY2Nlc3MgcG9pbnQgZm9yIGluc3RydWN0b3IgZGF0YVxuICAgICAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0cyA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgU2suY29uc29sZSA9IHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGU7XG4gICAgICAgIFNrLnF1ZXVlZElucHV0ID0gW107XG4gICAgICAgIFNrLmNvbmZpZ3VyZSh0aGlzLmdldFNrdWxwdE9wdGlvbnMoKSk7XG4gICAgICAgIC8vIFNldCBvcGVuRmlsZSBhcyBtZWNoYW5pc20gdG8gcmVhZCBmaWxlc1xuICAgICAgICBTay5pbkJyb3dzZXIgPSB0aGlzLm9wZW5GaWxlLmJpbmQodGhpcyk7XG4gICAgICAgIC8vIEZ1bmN0aW9uIHRvIGNvbnZlcnQgZmlsZW5hbWVzIHRvIFVSTHNcbiAgICAgICAgU2suZmlsZVRvVVJMID0gdGhpcy5nZXRVcmxGcm9tRmlsZW5hbWUuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gUHJveHkgcmVxdWVzdHNcbiAgICAgICAgU2sucmVxdWVzdHNHZXQgPSAodXJsLCBkYXRhLCB0aW1lb3V0KSA9PiB0aGlzLm9wZW5VUkwodXJsLCBkYXRhLCB0aW1lb3V0KTtcbiAgICAgICAgLy8gQ29uZmlndXJlIGEgXCJkbyB5b3Ugd2FudCB0byB3YWl0PyBwcm9tcHRcIlxuICAgICAgICBTay50aW1lb3V0SGFuZGxlciA9ICh0aW1lUGFzc2VkLCBleGVjTGltaXQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ09OU0lERVJJTkcgVElNRSBPVVRcIiwgdGltZVBhc3NlZCwgZXhlY0xpbWl0LCBTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZSwgdGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZVRpbWVvdXQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFNrLnByZXZpb3VzRXhlY0xpbWl0Q2hvaWNlID09PSBcInN0b3AgZXhlY3V0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBTay5leGVjTGltaXQgPSBTay5leGVjTGltaXRCYWNrdXA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHJvbXB0TWVzc2FnZSA9IHRoaXMuZ2V0VGltZW91dFByb21wdCh0aW1lUGFzc2VkLzEwMDAgPiAzMCk7XG4gICAgICAgICAgICBsZXQgZGVmYXVsdFZhbHVlID0gKFNrLnByZXZpb3VzRXhlY0xpbWl0Q2hvaWNlID09PSB1bmRlZmluZWQpID8gIFwic3RvcCBleGVjdXRpb25cIiA6IFNrLnByZXZpb3VzRXhlY0xpbWl0Q2hvaWNlOyAvL1tcInN0b3AgZXhlY3V0aW9uXCIsIFNrLmV4ZWNMaW1pdC8xMDAwXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFNrLnByZXZpb3VzRXhlY0xpbWl0Q2hvaWNlLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIG1vcmUgaW50ZWxsaWdlbnRcbiAgICAgICAgICAgIGxldCBkZWxheSA9IHByb21wdChwcm9tcHRNZXNzYWdlLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgaWYgKGRlbGF5ID09PSBcInN0b3AgZXhlY3V0aW9uXCIgfHwgZGVsYXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXkgPT09IFwic3RvcCBleGVjdXRpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBTay5wcmV2aW91c0V4ZWNMaW1pdENob2ljZSA9IFwic3RvcCBleGVjdXRpb25cIjtcbiAgICAgICAgICAgICAgICAgICAgU2suZXhlY0xpbWl0QmFja3VwID0gU2suZXhlY0xpbWl0O1xuICAgICAgICAgICAgICAgICAgICBTay5leGVjTGltaXQgPSAyMDAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsIHx8IGRlbGF5PT0wKSB7XG4gICAgICAgICAgICAgICAgZGVsYXkgPSBTay5leGVjTGltaXQgKyBwYXJzZUludChkZWxheSwgMTApICogMTAwMDtcbiAgICAgICAgICAgICAgICBTay5leGVjTGltaXQgPSBkZWxheTtcbiAgICAgICAgICAgICAgICBTay5leGVjTGltaXRGdW5jdGlvbiA9ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IGRlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlbGF5O1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkpIHtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGxldCBwcm9tcHRNZXNzYWdlID0gdGhpcy5nZXRUaW1lb3V0UHJvbXB0KHRpbWVQYXNzZWQvMTAwMCA+IDMwKTtcbiAgICAgICAgICAgIC8vIGxldCBkZWxheSA9IHByb21wdChwcm9tcHRNZXNzYWdlLCBTay5leGVjTGltaXQvMTAwMCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlRJTUlORyBVT1RcIiwgZGVsYXksIFNrLmV4ZWNMaW1pdCk7XG4gICAgICAgICAgICAvLyBpZiAoZGVsYXkgIT09IG51bGwgfHwgZGVsYXk9PTApIHtcbiAgICAgICAgICAgIC8vICAgICBkZWxheSA9IFNrLmV4ZWNMaW1pdCArIHBhcnNlSW50KGRlbGF5LCAxMCkgKiAxMDAwO1xuICAgICAgICAgICAgLy8gICAgIFNrLmV4ZWNMaW1pdCA9IGRlbGF5O1xuICAgICAgICAgICAgLy8gICAgIFNrLmV4ZWNMaW1pdEZ1bmN0aW9uID0gKCkgPT5cbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZVRpbWVvdXQoKSA/IEluZmluaXR5IDogZGVsYXk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlRJTUlORyBVT1Q6IEZJTkFMXCIsIGRlbGF5LCBTay5leGVjTGltaXQpO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGRlbGF5O1xuICAgICAgICB9O1xuICAgICAgICAvLyBBdHRhY2ggYmVmb3JlQ2FsbFxuICAgICAgICBTay5iZWZvcmVDYWxsID0gdGhpcy5iZWZvcmVDYWxsLmJpbmQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFRpbWVvdXRQcm9tcHQobG9uZ1RpbWVvdXQpIHtcbiAgICAgICAgaWYgKGxvbmdUaW1lb3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gXCJUaGUgcHJvZ3JhbSBoYXMgdGFrZW4gYSBSRUFMTFkgbG9uZyB0aW1lIHRvIHJ1biAoMzAgb3IgbW9yZSBzZWNvbmRzKS4gWW91IG1pZ2h0IHdhbnQgdG8gY2FuY2VsIGFuZCBjaGVjayB5b3VyIGNvZGUuIE9yLCB5b3UgY2FuIGFkZCBtb3JlIHNlY29uZHMgdG8gd2FpdCBiZWxvdy5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlRoZSBwcm9ncmFtIGlzIHRha2luZyBhIHdoaWxlIHRvIHJ1bi4gSXQgbWlnaHQgaGF2ZSBhbiBpbmZpbml0ZSBsb29wLiBUeXBlICdzdG9wIGV4ZWN1dGlvbicgdG8gdHJ5IGFuZCBjb21wbGV0ZWx5IHN0b3AgdGhlIGV4ZWN1dGlvbi4gUHJlc3MgQ2FuY2VsIHRvIHN0b3AgdGhlIGV4ZWN1dGlvbiBvZiBqdXN0IHlvdXIgY29kZSAod2lsbCBub3QgaW50ZXJydXB0IGluc3RydWN0b3IgZ3JhZGluZyBzY3JpcHRzKTsgb3IgZW50ZXIgYSBudW1iZXIgdG8gd2FpdCBmb3IgdGhhdCBtYW55IGFkZGl0aW9uYWwgc2Vjb25kcyBmb3IgeW91ciBjb2RlIHRvIHRlcm1pbmF0ZS5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNrdWxwdE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX2Z1dHVyZV9fOiBTay5weXRob24zLFxuICAgICAgICAgICAgLy8gaW1wb3J0XG4gICAgICAgICAgICByZWFkOiB0aGlzLmltcG9ydEZpbGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIG9wZW5cbiAgICAgICAgICAgIC8vZmlsZW9wZW46IHRoaXMub3BlbkZpbGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIGZpbGUud3JpdGVcbiAgICAgICAgICAgIGZpbGV3cml0ZTogdGhpcy53cml0ZUZpbGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIHByaW50XG4gICAgICAgICAgICBvdXRwdXQ6IHRoaXMucHJpbnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIC8vIGlucHV0XG4gICAgICAgICAgICBpbnB1dGZ1bjogdGhpcy5pbnB1dC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgaW5wdXRmdW5UYWtlc1Byb21wdDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIE1lZGlhIEltYWdlIFByb3h5IFVSTFxuICAgICAgICAgICAgaW1hZ2VQcm94eTogdGhpcy5nZXRJbWFnZVByb3h5LmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgc2V0IGJ5IHRoZSBzeXN0ZW0gc28gd2UgY2FuIHVzZSBvdXIgb3duIHNlcnZlcnMgaW4gcHJhY3RpY2VcbiAgICAgICAgICAgIGVtb2ppUHJveHk6IChwYXJ0KSA9PiBgaHR0cHM6Ly90d2Vtb2ppLm1heGNkbi5jb20vdi8xMy4xLjAvc3ZnLyR7cGFydC50b0xvd2VyQ2FzZSgpfS5zdmdgLFxuICAgICAgICAgICAgLy8gV2hldGhlciBvciBub3QgdG8ga2VlcCB0aGUgZ2xvYmFsc1xuICAgICAgICAgICAgcmV0YWluR2xvYmFsczogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFVybEZyb21GaWxlbmFtZShmaWxlbmFtZSkge1xuICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uZmlsZXNUb1VybHNbZmlsZW5hbWVdO1xuICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkZpbGUgbm90IGZvdW5kOiBcIiArIGZpbGVuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhY2Nlc3MgU2t1bHB0IGJ1aWx0LWlucy4gVGhpcyBpcyBwcmV0dHkgZ2VuZXJpYywgdGFrZW5cbiAgICAgKiBhbG1vc3QgZGlyZWN0bHkgZnJvbSB0aGUgU2t1bHB0IGRvY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZW5hbWUgLSBUaGUgcHl0aG9uIGZpbGVuYW1lIChlLmcuLCBcIm9zXCIgb3IgXCJwcHJpbnRcIikgdGhhdCB3aWxsIGJlIGxvYWRlZC5cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgSmF2YVNjcmlwdCBzb3VyY2UgY29kZSBvZiB0aGUgZmlsZSAod2VpcmQsIHJpZ2h0PylcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGZpbGUgaXNuJ3QgZm91bmQuXG4gICAgICovXG4gICAgaW1wb3J0RmlsZShmaWxlbmFtZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuXG4gICAgb3BlblVSTCh1cmwsIGRhdGEsIHRpbWVvdXQpIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgbW9ja1VybERhdGEgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmdldEZpbGUoXCI/bW9ja191cmxzLmJsb2NrcHlcIik7XG4gICAgICAgIGlmIChtb2NrVXJsRGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyAobmV3IFNrLmJ1aWx0aW4uSU9FcnJvcihcIkNhbm5vdCBhY2Nlc3MgdXJsOiBVUkwgRGF0YSB3YXMgbm90IG1hZGUgYXZhaWxhYmxlIGZvciB0aGlzIGFzc2lnbm1lbnRcIikpO1xuICAgICAgICB9XG4gICAgICAgIG1vY2tVcmxEYXRhID0gSlNPTi5wYXJzZShtb2NrVXJsRGF0YS5oYW5kbGUoKSk7XG4gICAgICAgIGZvciAobGV0IGZpbGVuYW1lIGluIG1vY2tVcmxEYXRhKSB7XG4gICAgICAgICAgICBpZiAobW9ja1VybERhdGEuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbW9ja1VybERhdGFbZmlsZW5hbWVdLmxlbmd0aDsgaSs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vY2tVcmxEYXRhW2ZpbGVuYW1lXVtpXSA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZURhdGEgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnJlYWRGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZmlsZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vcmVqZWN0KG5ldyBTay5idWlsdGluLklPRXJyb3IoXCJDYW5ub3QgYWNjZXNzIHVybDogXCIrdXJsK1wiIHdhcyBub3QgbWFkZSBhdmFpbGFibGUgZm9yIHRoaXMgYXNzaWdubWVudFwiKSk7XG4gICAgICAgIHRocm93IChuZXcgU2suYnVpbHRpbi5JT0Vycm9yKFwiQ2Fubm90IGFjY2VzcyB1cmw6IFwiK3VybCtcIiB3YXMgbm90IG1hZGUgYXZhaWxhYmxlIGZvciB0aGlzIGFzc2lnbm1lbnRcIikpO1xuICAgICAgICAvL30pO1xuICAgIH1cblxuICAgIG9wZW5GaWxlKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICB3cml0ZUZpbGUoKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlVuaW1wbGVtZW50ZWQgbWV0aG9kIVwiKTtcbiAgICAgICAgLy8gVE9ET1xuICAgIH1cblxuICAgIHByaW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHJpbnQodmFsdWUpO1xuICAgIH1cblxuICAgIGlucHV0KCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICBjbGVhcklucHV0KCkge1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuY2xlYXJJbnB1dHMoKSkge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnB1dE1vY2tGdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFNrLnF1ZXVlZElucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFNrLnF1ZXVlZElucHV0LnBvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZ2V0SW1hZ2VQcm94eSh1cmwpIHtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIHN0ZXAoKSB7XG5cbiAgICB9XG5cbiAgICBsYXN0U3RlcCgpIHtcblxuICAgIH1cblxuICAgIGlzRm9yYmlkZGVuKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdWNjZXNzKG1vZHVsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYnN0cmFjdCBzdWNjZXNzIGV4ZWN1dGlvblwiKTtcbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFic3RyYWN0IGZhaWx1cmUgZXhlY3V0aW9uXCIpO1xuICAgIH1cblxuICAgIGZpbmFsbHkocmVzdWx0KSB7XG4gICAgICAgIC8vIEZvcmNlIFB5Z2FtZSB0byBzdG9wIHRyYXBwaW5nIGtleWJvYXJkIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5weWdhbWVMaW5lKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnB5Z2FtZUxpbmUuY2xlYW51cCgpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5weWdhbWVMaW5lLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGR1bW15T3V0U2FuZGJveCgpIHtcbiAgICAgICAgLy9Tay5idWlsdGluRmlsZXMuZmlsZXNbXCJzcmMvbGliL3BlZGFsL3NhbmRib3gvc2FuZGJveC5weVwiXSA9IFwiY2xhc3MgU2FuZGJveDogcGFzc1xcbmRlZiBydW4oKTogcGFzc1xcbmRlZiByZXNldCgpOiBwYXNzXFxuXCI7XG4gICAgfVxuXG4gICAgYmVmb3JlQ2FsbChmdW5jdGlvbk5hbWUsIHBvc2FyZ3MsIGt3YXJncykge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiVFJBQ0tJTkcgQ0FMTFwiLCBmdW5jdGlvbk5hbWUsIHBvc2FyZ3MsIGt3YXJncyk7XG4gICAgICAgIC8vIFRPRE86IEhhbmRsZSBmYXN0Y2FsbCB0b28/IENoZWNrIGhvdyB0aGF0IHdvcmtzIGluIFNrdWxwdCBzaWRlXG4gICAgICAgIGxldCBzdHVkZW50TW9kZWwgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudDtcbiAgICAgICAgaWYgKCEoXCJjYWxsc1wiIGluIHN0dWRlbnRNb2RlbCkpIHtcbiAgICAgICAgICAgIHN0dWRlbnRNb2RlbC5jYWxscyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGZ1bmN0aW9uTmFtZSBpbiBzdHVkZW50TW9kZWwuY2FsbHMpKSB7XG4gICAgICAgICAgICBzdHVkZW50TW9kZWwuY2FsbHNbZnVuY3Rpb25OYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhcmdzID0ge307XG4gICAgICAgIC8vIEdldCBhY3R1YWwgcGFyYW1ldGVyIG5hbWVzISFcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgcG9zYXJncy5sZW5ndGg7IGkrPSAxKSB7XG4gICAgICAgICAgICBhcmdzW1wiX19BUkdcIitpXSA9IHBvc2FyZ3NbaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGt3YXJncyAmJiBrd2FyZ3NbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgYXJnc1tcIl9fQVJHU1wiXSA9IGt3YXJnc1swXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa3dhcmdzICYmIGt3YXJnc1sxXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcmdzW1wiX19LV0FSR1NcIl0gPSBrd2FyZ3NbMV07XG4gICAgICAgIH1cbiAgICAgICAgLy9jb25zb2xlLmxvZyhhcmdzKTtcbiAgICAgICAgc3R1ZGVudE1vZGVsLmNhbGxzW2Z1bmN0aW9uTmFtZV0ucHVzaChhcmdzKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7U3R1ZGVudENvbmZpZ3VyYXRpb259IGZyb20gXCIuL3N0dWRlbnRcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCIuLi9zZXJ2ZXJcIjtcbmltcG9ydCB7QmxvY2tQeVRyYWNlfSBmcm9tIFwiLi4vdHJhY2VcIjtcblxuZXhwb3J0IGNsYXNzIEV2YWxDb25maWd1cmF0aW9uIGV4dGVuZHMgU3R1ZGVudENvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUsIGNvZGUpIHtcbiAgICAgICAgLy8gVE9ETzogZml4IHRvIGJlIGN1cnJlbnRseSBhZGRlZCBsaW5lXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uZmVlZGJhY2subWVzc2FnZShcIlJ1bm5pbmcuLi5cIik7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcImFuc3dlclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBcIl8gPSBcIiArIGNvZGU7XG4gICAgICAgIFNrLmFmdGVyU2luZ2xlRXhlY3V0aW9uID0gbnVsbDtcbiAgICAgICAgU2suYmVmb3JlQ2FsbCA9IG51bGw7XG5cbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG5cbiAgICAgICAgU2sucmV0YWluR2xvYmFscyA9IHRydWU7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuZ2xvYmFscygpO1xuXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5BZGRcIiwgXCJcIiwgXCJcIiwgY29kZSwgXCJldmFsdWF0aW9uc1wiKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZVwiLCBcIlwiLCBcIlwiLCB0aGlzLmNvZGUsIFwiZXZhbHVhdGlvbnNcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmFsIHN1Y2Nlc3NcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRXZhbHVhdGUuUHJvZ3JhbVwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcImV2YWx1YXRpb25zXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoU2suZ2xvYmFscyk7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB7fTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LnJlc3VsdHMgPSBtb2R1bGU7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHJpbnRWYWx1ZShTay5mZmkucmVtYXBUb0pzKG1vZHVsZS4kZC5fLiRyKCkpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vdGhpcy5zdGVwKG1vZHVsZS4kZCwgbW9kdWxlLiRkLC0xLCAwLCBmaWxlbmFtZSArIFwiLnB5XCIpO1xuICAgICAgICAgICAgdGhpcy5sYXN0U3RlcCgpO1xuICAgICAgICAgICAgcmVwb3J0W1wic3R1ZGVudFwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcInRyYWNlXCI6IHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZSxcbiAgICAgICAgICAgICAgICBcImxpbmVzXCI6IHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZS5tYXAoeCA9PiB4LmxpbmUpLFxuICAgICAgICAgICAgICAgIFwicmVhbExpbmVzXCI6IHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci50cmFjZS5maWx0ZXIoeCA9PiAheC5pc0RvY3N0cmluZykubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlc3VsdHNcIjogbW9kdWxlLFxuICAgICAgICAgICAgICAgIFwib3V0cHV0XCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ub3V0cHV0LFxuICAgICAgICAgICAgICAgIFwiZXZhbHVhdGlvblwiOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICAgICAgXCJjYWxsc1wiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY2FsbHMsXG4gICAgICAgICAgICAgICAgXCJ0cmFjaW5nXCI6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZhbCBmYWlsdXJlXCIsIGVycm9yKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5GQUlMRUQpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJDb21waWxlLkVycm9yXCIsIFwiXCIsIFwiXCIsIGVycm9yLnRvU3RyaW5nKCksIFwiZXZhbHVhdGlvbnNcIik7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge1xuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IGVycm9yLFxuICAgICAgICAgICAgICAgIFwiZXZhbHVhdGlvblwiOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICAgICAgXCJ0cmFjaW5nXCI6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHtDb25maWd1cmF0aW9uLCBFTVBUWV9NT0RVTEV9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zLmpzXCI7XG5pbXBvcnQgeyRza19tb2RfaW5zdHJ1Y3Rvcn0gZnJvbSBcIi4uL3NrdWxwdF9tb2R1bGVzL3NrX21vZF9pbnN0cnVjdG9yXCI7XG5pbXBvcnQgeyRza19tb2RfY292ZXJhZ2V9IGZyb20gXCIuLi9za3VscHRfbW9kdWxlcy9jb3ZlcmFnZVwiO1xuaW1wb3J0IHskcGVkYWxfdHJhY2VyfSBmcm9tIFwiLi4vc2t1bHB0X21vZHVsZXMvcGVkYWxfdHJhY2VyXCI7XG5pbXBvcnQge2Nob21wU3BlY2lhbEZpbGV9IGZyb20gXCIuLi9maWxlc1wiO1xuXG5jb25zdCBVVElMSVRZX01PRFVMRV9DT0RFID0gXCJ2YXIgJGJ1aWx0aW5tb2R1bGUgPSBcIiArICRza19tb2RfaW5zdHJ1Y3Rvci50b1N0cmluZygpO1xuY29uc3QgQ09WRVJBR0VfTU9EVUxFX0NPREUgPSAkc2tfbW9kX2NvdmVyYWdlO1xuXG5leHBvcnQgY2xhc3MgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lKSB7XG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuICAgICAgICAvLyBJbnN0cnVjdG9ycyBnZXQgNCBzZWNvbmRzXG4gICAgICAgIFNrLmV4ZWNMaW1pdEZ1bmN0aW9uID0gKCkgPT5cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IDcwMDA7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKCk7XG4gICAgICAgIC8vIFN0ZXBwZXIhIEV4ZWN1dGVkIGFmdGVyIGV2ZXJ5IHN0YXRlbWVudC5cbiAgICAgICAgU2suYWZ0ZXJTaW5nbGVFeGVjdXRpb24gPSBudWxsOyAvLyAxMCAqMTAwMFxuICAgICAgICAvLyBNdXRlIGV2ZXJ5dGhpbmdcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkubXV0ZVByaW50ZXIodHJ1ZSk7XG4gICAgICAgIC8vIENhcHR1cmUgYW55IGFkZGl0aW9uYWwgc3Rkb3V0IHRvIGEgYnVmZmVyXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5zdGRvdXQucmVtb3ZlQWxsKCk7XG4gICAgICAgIC8vIERpc2FibGUgaW5wdXQgYm94XG4gICAgICAgIFNrLnF1ZXVlZElucHV0ID0gW107XG4gICAgICAgIC8vIFRPRE8gU2suaW5wdXRmdW4gPSBCbG9ja1B5RW5naW5lLmlucHV0TW9ja0Z1bmN0aW9uO1xuICAgICAgICAvLyBUT0RPOiBBbGxvdyBpbnB1dCBmdW5jdGlvbiB0byBkaXNhYmxlIHRoZSB0aW1lciwgc29tZWhvd1xuICAgICAgICAvLyBEaXNhYmxlIHRoZSBiZWZvcmVDYWxsIGNoZWNrZXIgdW5sZXNzIHNwZWNpZmljYWxseSByZXF1ZXN0ZWRcbiAgICAgICAgU2suYmVmb3JlQ2FsbEJhY2t1cCA9IFNrLmJlZm9yZUNhbGw7XG4gICAgICAgIFNrLmJlZm9yZUNhbGwgPSBudWxsO1xuICAgICAgICAvLyBFbmFibGUgdXRpbGl0eSBtb2RlXG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvdXRpbGl0eS9fX2luaXRfXy5qc1wiXSA9IFVUSUxJVFlfTU9EVUxFX0NPREU7XG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvY292ZXJhZ2UucHlcIl0gPSBDT1ZFUkFHRV9NT0RVTEVfQ09ERTtcbiAgICAgICAgLy8gVE9ETzogQ2hlY2sgaWYgdGhpcyBuZWVkcyB0byBiZSBvcHRpbWl6ZWRcbiAgICAgICAgLy9jb25zdCBQRURBTF9UUkFDRVJfTU9EVUxFX0NPREUgPSBTay5jb21waWxlKCRwZWRhbF90cmFjZXIsIFwidHJhY2VyLnB5XCIsIFwiZXhlY1wiLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvcGVkYWwvc2FuZGJveC90cmFjZXIucHlcIl0gPSAkcGVkYWxfdHJhY2VyO1xuICAgICAgICBkZWxldGUgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi9wZWRhbC9zYW5kYm94L3RyYWNlci5qc1wiXTtcbiAgICAgICAgLy8gVE9ETzogTW9jayBQZWRhbCdzIHRyYWNlciBtb2R1bGUgd2l0aCB0aGUgYXBwcm9wcmlhdGUgdmVyc2lvblxuICAgICAgICBTay5idWlsdGluRmlsZXMuZmlsZXNbXCIuL19pbnN0cnVjdG9yL19faW5pdF9fLmpzXCJdID0gRU1QVFlfTU9EVUxFO1xuICAgICAgICAvLyBSZXVzZSBhbnkgZXhpc3Rpbmcgc3lzbW9kdWxlcyB0aGF0IHdlIHByZXZpb3VzbHkgZm91bmQsIGJ1dCBub3QgX19tYWluX18gbW9kdWxlc1xuICAgICAgICB0aGlzLnN5c21vZHVsZXMgPSB0aGlzLmNsZWFyRXhpc3RpbmdTdHVkZW50SW1wb3J0cygpO1xuICAgICAgICAvLyBIb3JyaWZpYyBoYWNrLCB0byBwcmV2ZW50IFRpZmEgZnJvbSBjYWNoaW5nIGEgYmFkIHZlcnNpb24gb2YgdGhlIHN0dWRlbnRzJyBpbXBvcnRcbiAgICAgICAgU2suY2xlYXJFeGlzdGluZ1N0dWRlbnRJbXBvcnRzID0gdGhpcy5jbGVhckV4aXN0aW5nU3R1ZGVudEltcG9ydHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaW50KHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLnByaW50KHZhbHVlKTtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiUHJpbnRlZDpcIiwgdmFsdWUpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3Rkb3V0LnB1c2godmFsdWUpO1xuICAgIH1cblxuICAgIGNsZWFyRXhpc3RpbmdTdHVkZW50SW1wb3J0cygpIHtcbiAgICAgICAgbGV0IHN5c21vZHVsZXMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3lzbW9kdWxlcztcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBfX21haW5fXyBtb2R1bGVzXG4gICAgICAgIGlmIChzeXNtb2R1bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGZpbGVuYW1lIG9mIHRoaXMuZ2V0QWxsRmlsZW5hbWVzKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2tGaWxlbmFtZSA9IG5ldyBTay5idWlsdGluLnN0cihmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgLyppZiAoc3lzbW9kdWxlcy5xdWljayRsb29rdXAoc2tGaWxlbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3lzbW9kdWxlcy5wb3AkaXRlbShza0ZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgICAgICBzeXNtb2R1bGVzLnBvcCRpdGVtKHNrRmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzeXNtb2R1bGVzO1xuICAgIH1cblxuICAgIGdldEFsbFN0dWRlbnRGaWxlcygpIHtcbiAgICAgICAgY29uc3QgZmlsZXMgPSB7XG4gICAgICAgICAgICBcImFuc3dlci5weVwiOiB0aGlzLm1haW4ubW9kZWwudWkuZmlsZXMuZ2V0U3R1ZGVudENvZGUoKVxuICAgICAgICB9O1xuICAgICAgICAvLyBTa2lwIHNwZWNpYWwgaW5zdHJ1Y3RvciBmaWxlc1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICBpZiAoIShcIiFeJCNcIi5pbmNsdWRlcyhmaWxlLmZpbGVuYW1lKClbMF0pKSkge1xuICAgICAgICAgICAgICAgIGZpbGVzW2Nob21wU3BlY2lhbEZpbGUoZmlsZS5maWxlbmFtZSgpKV0gPSBmaWxlLmNvbnRlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbmNsdWRlIG5vcm1hbCBzdHVkZW50IGV4dHJhIGZpbGVzXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMoKS5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgICAgZmlsZXNbZmlsZS5maWxlbmFtZSgpXSA9IGZpbGUuY29udGVudHMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWxlcztcbiAgICB9XG5cbiAgICBnZXRBbGxGaWxlbmFtZXMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNsZWFuKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IGNob21wU3BlY2lhbEZpbGUoZmlsZW5hbWUpO1xuICAgICAgICAgICAgaWYgKGZpbGVuYW1lLmVuZHNXaXRoKFwiLnB5XCIpKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zbGljZSgwLCAtMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiX19tYWluX19cIixcbiAgICAgICAgICAgIFwiX2luc3RydWN0b3JcIixcbiAgICAgICAgICAgIC4uLnRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCkubWFwKGZpbGUgPT4gXCJfaW5zdHJ1Y3Rvci5cIiArIGNsZWFuKGZpbGUuZmlsZW5hbWUoKSkpLFxuICAgICAgICAgICAgLi4udGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcygpLm1hcChmaWxlID0+IGNsZWFuKGZpbGUuZmlsZW5hbWUoKSkpLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldFRpbWVvdXRQcm9tcHQobG9uZ1RpbWVvdXQpIHtcbiAgICAgICAgaWYgKGxvbmdUaW1lb3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gXCJUaGUgaW5zdHJ1Y3RvciBjb2RlIGhhcyB0YWtlbiBhIFJFQUxMWSBsb25nIHRpbWUgdG8gY2hlY2sgeW91ciBjb2RlICgzMCBvciBtb3JlIHNlY29uZHMpLiBZb3UgbWlnaHQgd2FudCB0byBjYW5jZWwgYW5kIGNoZWNrIHlvdXIgY29kZSAob3IgZ2V0IGhlbHAgZnJvbSBhbiBpbnN0cnVjdG9yKS4gT3IsIHlvdSBjYW4gYWRkIG1vcmUgc2Vjb25kcyB0byB3YWl0IGJlbG93LlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiVGhlIGluc3RydWN0b3IgY29kZSBpcyB0YWtpbmcgYSBsaXR0bGUgd2hpbGUgdG8gY2hlY2sgeW91ciBjb2RlOyBpdCBtaWdodCBqdXN0IG5lZWQgYSBsaXR0bGUgbW9yZSB0aW1lLiBIb3cgbWFueSBtb3JlIHNlY29uZHMgd291bGQgeW91IGxpa2UgdG8gd2FpdD8gVXNlIENhbmNlbCB0byBhYm9ydCBlbnRpcmVseSAob3IgdHlwZSAnc3RvcCBleGVjdXRpb24nKS5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW5GaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGxldCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uc2VhcmNoRm9yRmlsZShmaWxlbmFtZSwgZmFsc2UpO1xuICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkZpbGUgbm90IGZvdW5kOiBcIitmaWxlbmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm91bmQuY29udGVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW5VUkwodXJsLCBkYXRhLCB0aW1lb3V0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMsIHVybCwgZGF0YSwgdGltZW91dCk7XG4gICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHBhcmFtZXRlcnMgYXJlIG1pc2FsaWduZWQuLj9cbiAgICAgICAgaWYgKGRhdGEudiA9PT0gXCJPUEVOQUlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5vcGVuYWlQcm94eShkYXRhLCB0aW1lb3V0ICYmIHRpbWVvdXQudik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub3BlblVSTCh1cmwsIGRhdGEsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW1wb3J0RmlsZShmaWxlbmFtZSkge1xuICAgICAgICBpZiAoZmlsZW5hbWUgPT09IFwiLi9hbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlbmFtZSA9PT0gXCIuL19pbnN0cnVjdG9yL29uX3J1bi5weVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25SdW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlbmFtZSA9PT0gXCIuL19pbnN0cnVjdG9yL29uX2V2YWwucHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uRXZhbCgpIHx8IFwiXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZW5hbWUgPT09IFwiLi9faW5zdHJ1Y3Rvci9fX2luaXRfXy5qc1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfTU9EVUxFO1xuICAgICAgICB9IGVsc2UgaWYgKFNrLmJ1aWx0aW5GaWxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5PU0Vycm9yKFwiQnVpbHQtaW4gbW9kdWxlcyBub3QgYWNjZXNzaWJsZS5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bZmlsZW5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnNlYXJjaEZvckZpbGUoZmlsZW5hbWUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkZpbGUgbm90IGZvdW5kOiAnXCIrZmlsZW5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZC5jb250ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlucHV0KHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgLy9yZXR1cm4gXCJBcHBsZVBpZVwiO1xuICAgICAgICBjb25zb2xlLmxvZyhcIj4+PlwiLCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCksIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgpKTtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgpIDwgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGlucHV0SW5kZXggPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoKTtcbiAgICAgICAgICAgIGxldCBuZXh0SW5wdXQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KClbaW5wdXRJbmRleF07XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0SW5kZXgoaW5wdXRJbmRleCsxKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0SW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJBcHBsZVBpZVwiO1xuICAgICAgICB9XG4gICAgICAgIC8qcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKFNrLnF1ZXVlZElucHV0LnBvcCgpKTtcbiAgICAgICAgfSk7Ki9cbiAgICB9XG5cbiAgICBiZWZvcmVDYWxsKGZ1bmN0aW9uTmFtZSwgcG9zYXJncywga3dhcmdzKSB7XG4gICAgICAgIGxldCBzdHVkZW50TW9kZWwgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudDtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIkhFWSBJTlNUUlVDVE9SIENBTExcIiwgZnVuY3Rpb25OYW1lLCBzdHVkZW50TW9kZWwudHJhY2luZyk7XG4gICAgICAgIGlmIChzdHVkZW50TW9kZWwudHJhY2luZyAmJiBzdHVkZW50TW9kZWwudHJhY2luZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN1cGVyLmJlZm9yZUNhbGwoZnVuY3Rpb25OYW1lLCBwb3NhcmdzLCBrd2FyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHtJbnN0cnVjdG9yQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vaW5zdHJ1Y3RvclwiO1xuXG5leHBvcnQgY2xhc3MgT25DaGFuZ2VDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIm9uX2NoYW5nZS5weVwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS50cmlnZ2VyT25DaGFuZ2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge0luc3RydWN0b3JDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9pbnN0cnVjdG9yXCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge2ZpbmRBY3R1YWxJbnN0cnVjdG9yT2Zmc2V0LCBJTlNUUlVDVE9SX01BUktFUiwgTkVXX0xJTkVfUkVHRVh9IGZyb20gXCIuL29uX3J1blwiO1xuaW1wb3J0IHtpbmRlbnR9IGZyb20gXCIuLi91dGlsaXRpZXNcIjtcblxuLyoqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBXUkFQX0lOU1RSVUNUT1JfQ09ERSA9IGZ1bmN0aW9uIChzdHVkZW50Q29kZSwgaW5zdHJ1Y3RvckNvZGUsIHF1aWNrLCBpc1NhZmUpIHtcbiAgICBsZXQgc2FmZUNvZGUgPSBKU09OLnN0cmluZ2lmeShzdHVkZW50Q29kZSk7XG5cbiAgICByZXR1cm4gYFxuZnJvbSB1dGlsaXR5IGltcG9ydCAqXG5cbiMgTG9hZCBpbiBzb21lIGNvbW1vbmx5IHVzZWQgdG9vbHNcbmZyb20gcGVkYWwuY2FpdC5jYWl0X2FwaSBpbXBvcnQgcGFyc2VfcHJvZ3JhbVxuZnJvbSBwZWRhbC5zYW5kYm94LmNvbW1hbmRzIGltcG9ydCAqXG5mcm9tIHBlZGFsLmNvcmUuY29tbWFuZHMgaW1wb3J0ICpcblxuIyBCYWNrdXAgdGhlIGZlZWRiYWNrXG5vbl9ydW5fZmVlZGJhY2sgPSBbXVxuZm9yIGZlZWRiYWNrIGluIE1BSU5fUkVQT1JULmZlZWRiYWNrOlxuICAgIG9uX3J1bl9mZWVkYmFjay5hcHBlbmQoZmVlZGJhY2spXG5NQUlOX1JFUE9SVC5mZWVkYmFjay5jbGVhcigpXG5cbmZyb20gcGVkYWwuZW52aXJvbm1lbnRzLmJsb2NrcHkgaW1wb3J0IHNldHVwX2Vudmlyb25tZW50XG4jIEFkZCBpbiBldmFsdWF0ZWQgc3R1ZmYgZnJvbSBsYXN0IHRpbWVcbnN0dWRlbnQgPSBnZXRfc2FuZGJveCgpXG4jIFRPRE86IFdoYXQgYWJvdXQgbmV3IGlucHV0cyBzaW5jZSB3ZSBsYXN0IHJhbi9ldmFsZWQ/XG4jIE1BSU5fUkVQT1JULnN1Ym1pc3Npb24uZmlsZXNbJ2V2YWx1YXRpb24nXSA9ICR7c2FmZUNvZGV9XG5ldmFsdWF0ZSgke3NhZmVDb2RlfVsnZXZhbHVhdGlvbiddKVxuXG4jIFRPRE86IFJlZmFjdG9yIHJlc29sdmVyIHRvIHJldHVybiBpbnN0cnVjdGlvbnNcbiMgTW9ua2V5LXBhdGNoIHF1ZXN0aW9uc1xuI2Zyb20gcGVkYWwgaW1wb3J0IHF1ZXN0aW9uc1xuI3F1ZXN0aW9ucy5zaG93X3F1ZXN0aW9uID0gc2V0X2luc3RydWN0aW9uc1xuXG4ke0lOU1RSVUNUT1JfTUFSS0VSfVxuJHtpbnN0cnVjdG9yQ29kZX1cblxuIyBSZXNvbHZlIGV2ZXJ5dGhpbmdcbmZyb20gcGVkYWwucmVzb2x2ZXJzLnNpbXBsZSBpbXBvcnQgcmVzb2x2ZVxuZmluYWwgPSByZXNvbHZlKClcblNVQ0NFU1MgPSBmaW5hbC5zdWNjZXNzXG5TQ09SRSA9IGZpbmFsLnNjb3JlXG5DQVRFR09SWSA9IGZpbmFsLmNhdGVnb3J5XG5MQUJFTCA9IGZpbmFsLnRpdGxlXG5NRVNTQUdFID0gZmluYWwubWVzc2FnZVxuREFUQSA9IGZpbmFsLmRhdGFcbkhJREUgPSBmaW5hbC5oaWRlX2NvcnJlY3RuZXNzXG5cbiMgSGFuZGxlIHF1ZXN0aW9uc1xuaWYgZmluYWwuaW5zdHJ1Y3Rpb25zOlxuICAgIHNldF9pbnN0cnVjdGlvbnMoZmluYWwuaW5zdHJ1Y3Rpb25zWy0xXS5tZXNzYWdlKVxuICAgIFxuIyBIYW5kbGUgcG9zaXRpdmUgZmVlZGJhY2tcblBPU0lUSVZFID0gW11cbmZvciBwb3NpdGl2ZSBpbiBmaW5hbC5wb3NpdGl2ZXM6XG4gICAgbWVzc2FnZSA9IHBvc2l0aXZlLm1lc3NhZ2VcbiAgICBpZiBub3QgcG9zaXRpdmU6XG4gICAgICAgIG1lc3NhZ2UgPSBwb3NpdGl2ZS5lbHNlX21lc3NhZ2VcbiAgICBQT1NJVElWRS5hcHBlbmQoe1xuICAgICAgICBcInRpdGxlXCI6IHBvc2l0aXZlLnRpdGxlLFxuICAgICAgICBcImxhYmVsXCI6IHBvc2l0aXZlLmxhYmVsLFxuICAgICAgICBcIm1lc3NhZ2VcIjogbWVzc2FnZVxuICAgIH0pXG4gICAgXG4jIEhhbmRsZSBzeXN0ZW0gbWVzc2FnZXNcbmZvciBzeXN0ZW0gaW4gZmluYWwuc3lzdGVtczpcbiAgICBpZiBzeXN0ZW0ubGFiZWwgPT0gJ2xvZyc6XG4gICAgICAgIGNvbnNvbGVfbG9nKHN5c3RlbS50aXRsZSwgc3lzdGVtLm1lc3NhZ2UpO1xuICAgIGlmIHN5c3RlbS5sYWJlbCA9PSAnZGVidWcnOlxuICAgICAgICBjb25zb2xlX2RlYnVnKHN5c3RlbS50aXRsZSwgc3lzdGVtLm1lc3NhZ2UpO1xuXG5gO1xufTtcblxuZXhwb3J0IGNsYXNzIE9uRXZhbENvbmZpZ3VyYXRpb24gZXh0ZW5kcyBJbnN0cnVjdG9yQ29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IFwiX2luc3RydWN0b3Iub25fZXZhbFwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSB8fCBcIlwiO1xuXG4gICAgICAgIGxldCBkaXNhYmxlVGlmYSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaWZhKCk7XG5cbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgLy9sZXQgc3R1ZGVudENvZGVTYWZlID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLnN0dWRlbnQuZXZhbHVhdGlvbiB8fCBcIk5vbmVcIjtcbiAgICAgICAgbGV0IHN0dWRlbnRGaWxlcyA9IHRoaXMuZ2V0QWxsU3R1ZGVudEZpbGVzKCk7XG4gICAgICAgIHN0dWRlbnRGaWxlc1tcImV2YWx1YXRpb25cIl0gPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudC5ldmFsdWF0aW9uIHx8IFwiTm9uZVwiO1xuICAgICAgICB0aGlzLmR1bW15T3V0U2FuZGJveCgpO1xuICAgICAgICBsZXQgaW5zdHJ1Y3RvckNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgIGxldCBpc1NhZmUgPSAhcmVwb3J0W1wicGFyc2VyXCJdLmVtcHR5ICYmIHJlcG9ydFtcInZlcmlmaWVyXCJdLnN1Y2Nlc3M7XG4gICAgICAgIGluc3RydWN0b3JDb2RlID0gV1JBUF9JTlNUUlVDVE9SX0NPREUoc3R1ZGVudEZpbGVzLCBpbnN0cnVjdG9yQ29kZSwgZGlzYWJsZVRpZmEsIGlzU2FmZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPj4+XCIsIGluc3RydWN0b3JDb2RlKTtcbiAgICAgICAgbGV0IGxpbmVPZmZzZXQgPSBmaW5kQWN0dWFsSW5zdHJ1Y3Rvck9mZnNldChpbnN0cnVjdG9yQ29kZSk7IC8vaW5zdHJ1Y3RvckNvZGUuc3BsaXQoTkVXX0xJTkVfUkVHRVgpLmxlbmd0aDtcbiAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXSA9IHtcbiAgICAgICAgICAgIFwiY29tcGxpbWVudHNcIjogW10sXG4gICAgICAgICAgICBcImZpbGVuYW1lXCI6IFwiLi9faW5zdHJ1Y3Rvci9vbl9ldmFsLnB5XCIsXG4gICAgICAgICAgICBcImNvZGVcIjogaW5zdHJ1Y3RvckNvZGUsXG4gICAgICAgICAgICBcImxpbmVPZmZzZXRcIjogbGluZU9mZnNldFxuICAgICAgICAgICAgLy8nY29tcGxldGUnOiBmYWxzZSAvLyBBY3R1YWxseSwgbGV0J3MgdXNlIHVuZGVmaW5lZCBmb3Igbm93LlxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvZGUgPSBpbnN0cnVjdG9yQ29kZTtcblxuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcblxuICAgICAgICAvL1NrLnJldGFpbkdsb2JhbHMgPSBmYWxzZTtcbiAgICAgICAgU2suZ2xvYmFscyA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5nbG9iYWxzO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Y2Nlc3MobW9kdWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiT25FdmFsIHN1Y2Nlc3NcIik7XG4gICAgICAgIC8vIFRPRE86IEFjdHVhbGx5IHBhcnNlIHJlc3VsdHNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLmdsb2JhbHMgPSBTay5nbG9iYWxzO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3lzbW9kdWxlcyA9IFNrLnN5c21vZHVsZXM7XG4gICAgICAgIGNvbnNvbGUubG9nKG1vZHVsZSk7XG4gICAgICAgIGxldCByZXN1bHRzID0gbW9kdWxlLiRkLm9uX2V2YWwuJGQ7XG4gICAgICAgIGNvbnNvbGUubG9nKG1vZHVsZS4kZCk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLnByZXNlbnRGZWVkYmFjayhyZXN1bHRzKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzW1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICBsZXQgc3VjY2VzcyA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5TVUNDRVNTKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdChzdWNjZXNzIHx8IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3QoKSk7XG4gICAgICAgIC8vIENhbm5vdCBleGNlZWQgMSBwb2ludCwgY2Fubm90IGdvIGJlbG93IDAgcG9pbnRzXG4gICAgICAgIGxldCBzY29yZSA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5TQ09SRSk7XG4gICAgICAgIHNjb3JlID0gTWF0aC5tYXgoMC4wLCBNYXRoLm1pbigxLjAsIHNjb3JlKSk7XG4gICAgICAgIGxldCBvbGRTY29yZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKCk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKE1hdGgubWF4KG9sZFNjb3JlLCBzY29yZSkpO1xuICAgICAgICAvLyBIaWRlIHN0YXR1c1xuICAgICAgICBsZXQgaGlkZSA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5ISURFKTtcbiAgICAgICAgLy8gQW5kIGZpcmUgdGhlIHJlc3VsdCFcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb24oc2NvcmUsIHN1Y2Nlc3MsIGhpZGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIC8vYWZ0ZXIobW9kdWxlKTtcblxuICAgICAgICAvKmlmIChzdWNjZXNzICYmIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jYWxsYmFja3Muc3VjY2Vzcyh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pZCgpKTtcbiAgICAgICAgfSovXG5cbiAgICAgICAgaWYgKCFTay5leGVjdXRpb25SZXBvcnRzLmluc3RydWN0b3Iuc2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJPbkV2YWwgZmFpbHVyZVwiLCBlcnJvcik7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGlmIChlcnJvci50cCRuYW1lID09PSBcIkdyYWNlZnVsRXhpdFwiKSB7XG4gICAgICAgICAgICByZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuRkFJTEVEKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImNvZGVcIl0pO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiZXJyb3JcIl0gPSBlcnJvcjtcbiAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImxpbmVfb2Zmc2V0XCJdID0gbGluZU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvL1RPRE86IGFmdGVyKGVycm9yKTtcbiAgICB9XG59IiwiaW1wb3J0IHtpbmRlbnR9IGZyb20gXCIuLi91dGlsaXRpZXNcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCIuLi9zZXJ2ZXJcIjtcbmltcG9ydCB7SW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2luc3RydWN0b3JcIjtcbmltcG9ydCB7ZXh0cmFjdEZyb21Qb29sLCBQT09MX1NFUEFSQVRPUlN9IGZyb20gXCIuLi9wb29sc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZEFjdHVhbEluc3RydWN0b3JPZmZzZXQoaW5zdHJ1Y3RvckNvZGUpIHtcbiAgICBjb25zdCBpbmRleCA9IGluc3RydWN0b3JDb2RlLmluZGV4T2YoSU5TVFJVQ1RPUl9NQVJLRVIpO1xuICAgIGNvbnN0IGJlZm9yZSA9IGluc3RydWN0b3JDb2RlLnNsaWNlKDAsIGluZGV4KTtcbiAgICBjb25zdCBtYXRjaCA9IGJlZm9yZS5tYXRjaChORVdfTElORV9SRUdFWCk7XG4gICAgcmV0dXJuIG1hdGNoID8gKDErbWF0Y2gubGVuZ3RoKSA6IDA7XG59XG5cbmV4cG9ydCBjb25zdCBJTlNUUlVDVE9SX01BUktFUiA9IFwiIyMjUnVuIHRoZSBhY3R1YWwgaW5zdHJ1Y3RvciBjb2RlIyMjXCI7XG5leHBvcnQgY29uc3QgTkVXX0xJTkVfUkVHRVggPSAvXFxuL2c7XG4vKipcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFdSQVBfSU5TVFJVQ1RPUl9DT0RFID0gZnVuY3Rpb24gKHN0dWRlbnRGaWxlcywgaW5zdHJ1Y3RvckNvZGUsIHF1aWNrLCBpc1NhZmUpIHtcbiAgICBsZXQgc2FmZUNvZGUgPSBKU09OLnN0cmluZ2lmeShzdHVkZW50RmlsZXMpO1xuICAgIGxldCBza2lwX3RpZmEgPSBxdWljayA/IFwiVHJ1ZVwiOiBcIkZhbHNlXCI7XG5cbiAgICAvLyBUT0RPOiBBZGQgaW4gU2sucXVldWVkSW5wdXQgdG8gYmUgcGFzc2VkIGluXG5cbiAgICByZXR1cm4gYFxuIyBTdXBwb3J0IG91ciBzeXNtb2R1bGVzIGhhY2sgYnkgY2xlYXJpbmcgb3V0IGFueSBsaW5nZXJpbmcgb2xkIGRhdGFcbmZyb20gcGVkYWwuY29yZS5yZXBvcnQgaW1wb3J0IE1BSU5fUkVQT1JUXG5NQUlOX1JFUE9SVC5jbGVhcigpXG5cbmZyb20gYmFrZXJ5IGltcG9ydCBzdHVkZW50X3Rlc3RzXG5zdHVkZW50X3Rlc3RzLnJlc2V0KClcblxuZnJvbSB1dGlsaXR5IGltcG9ydCAqXG5cbiMgTG9hZCBpbiBzb21lIGNvbW1vbmx5IHVzZWQgdG9vbHNcbmZyb20gcGVkYWwuY2FpdC5jYWl0X2FwaSBpbXBvcnQgcGFyc2VfcHJvZ3JhbVxuZnJvbSBwZWRhbC5zYW5kYm94LmNvbW1hbmRzIGltcG9ydCAqXG5mcm9tIHBlZGFsLmNvcmUuY29tbWFuZHMgaW1wb3J0ICpcblxuZnJvbSBwZWRhbC5lbnZpcm9ubWVudHMuYmxvY2tweSBpbXBvcnQgc2V0dXBfZW52aXJvbm1lbnRcbiMgRG8gd2UgZXhlY3V0ZSBzdHVkZW50J3MgY29kZT9cbnNraXBfcnVuID0gZ2V0X21vZGVsX2luZm8oJ2Fzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUluc3RydWN0b3JSdW4nKVxuaW5wdXRzID0gTm9uZSBpZiBza2lwX3J1biBlbHNlIGdldF9tb2RlbF9pbmZvKCdleGVjdXRpb24uaW5wdXQnKVxuXG4jIFNldCB0aGUgc2VlZCB0byB0aGUgc3VibWlzc2lvbiBJRCBieSBkZWZhdWx0P1xuZnJvbSBwZWRhbC5xdWVzdGlvbnMgaW1wb3J0IHNldF9zZWVkXG5zZXRfc2VlZChzdHIoZ2V0X21vZGVsX2luZm8oXCJzdWJtaXNzaW9uLmlkXCIpKSlcblxuIyBJbml0aWFsaXplIHRoZSBCbG9ja1B5IGVudmlyb25tZW50XG5wZWRhbCA9IHNldHVwX2Vudmlyb25tZW50KHNraXBfdGlmYT0ke3NraXBfdGlmYX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBfcnVuPXNraXBfcnVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHM9aW5wdXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluX2ZpbGU9J2Fuc3dlci5weScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzPSR7c2FmZUNvZGV9KVxuc3R1ZGVudCA9IHBlZGFsLmZpZWxkc1snc3R1ZGVudCddXG5cbiMgVE9ETzogUmVmYWN0b3IgcmVzb2x2ZXIgdG8gcmV0dXJuIGluc3RydWN0aW9uc1xuIyBNb25rZXktcGF0Y2ggcXVlc3Rpb25zXG4jZnJvbSBwZWRhbCBpbXBvcnQgcXVlc3Rpb25zXG4jcXVlc3Rpb25zLnNob3dfcXVlc3Rpb24gPSBzZXRfaW5zdHJ1Y3Rpb25zXG5cbiR7SU5TVFJVQ1RPUl9NQVJLRVJ9XG4ke2luc3RydWN0b3JDb2RlfVxuXG4jIFJlc29sdmUgZXZlcnl0aGluZ1xuZnJvbSBwZWRhbC5yZXNvbHZlcnMuc2ltcGxlIGltcG9ydCByZXNvbHZlXG5maW5hbCA9IHJlc29sdmUoKVxuU1VDQ0VTUyA9IGZpbmFsLnN1Y2Nlc3NcblNDT1JFID0gZmluYWwuc2NvcmVcbkNBVEVHT1JZID0gZmluYWwuY2F0ZWdvcnlcbkxBQkVMID0gZmluYWwudGl0bGVcbk1FU1NBR0UgPSBmaW5hbC5tZXNzYWdlXG5EQVRBID0gZmluYWwuZGF0YVxuSElERSA9IGZpbmFsLmhpZGVfY29ycmVjdG5lc3NcblxuIyBIYW5kbGUgcXVlc3Rpb25zXG5pZiBmaW5hbC5pbnN0cnVjdGlvbnM6XG4gICAgc2V0X2luc3RydWN0aW9ucyhmaW5hbC5pbnN0cnVjdGlvbnNbLTFdLm1lc3NhZ2UpXG4gICAgXG4jIEhhbmRsZSBwb3NpdGl2ZSBmZWVkYmFja1xuUE9TSVRJVkUgPSBbXVxuZm9yIHBvc2l0aXZlIGluIGZpbmFsLnBvc2l0aXZlczpcbiAgICBtZXNzYWdlID0gcG9zaXRpdmUubWVzc2FnZVxuICAgIGlmIG5vdCBwb3NpdGl2ZTpcbiAgICAgICAgbWVzc2FnZSA9IHBvc2l0aXZlLmVsc2VfbWVzc2FnZVxuICAgIFBPU0lUSVZFLmFwcGVuZCh7XG4gICAgICAgIFwidGl0bGVcIjogcG9zaXRpdmUudGl0bGUsXG4gICAgICAgIFwibGFiZWxcIjogcG9zaXRpdmUubGFiZWwsXG4gICAgICAgIFwibWVzc2FnZVwiOiBtZXNzYWdlXG4gICAgfSlcbiAgICBcbiMgSGFuZGxlIHN5c3RlbSBtZXNzYWdlc1xuZm9yIHN5c3RlbSBpbiBmaW5hbC5zeXN0ZW1zOlxuICAgIGlmIHN5c3RlbS5sYWJlbCA9PSAnbG9nJzpcbiAgICAgICAgY29uc29sZV9sb2coc3lzdGVtLnRpdGxlLCBzeXN0ZW0ubWVzc2FnZSk7XG4gICAgaWYgc3lzdGVtLmxhYmVsID09ICdkZWJ1Zyc6XG4gICAgICAgIGNvbnNvbGVfZGVidWcoc3lzdGVtLnRpdGxlLCBzeXN0ZW0ubWVzc2FnZSk7XG5cbmA7XG59O1xuXG5leHBvcnQgY2xhc3MgT25SdW5Db25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuXG4gICAgZ2V0Q3VycmVudE9uUnVuKCkge1xuICAgICAgICBjb25zdCByYXcgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpO1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaW5zdHJ1Y3Rpb25zUG9vbCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdEZyb21Qb29sKHJhdywgUE9PTF9TRVBBUkFUT1JTLlRFU1RTLCB0aGlzLm1haW4ubW9kZWwudWkubWVudS5jdXJyZW50U2VlZCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByYXc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2UoZW5naW5lKSB7XG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJfaW5zdHJ1Y3Rvci5vbl9ydW5cIjtcblxuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLmdldEN1cnJlbnRPblJ1bigpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvZGUpO1xuXG4gICAgICAgIGxldCBkaXNhYmxlVGlmYSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaWZhKCk7XG4gICAgICAgIC8vIFB1dCB0aGUgaW5wdXQgaW5kZXggYmFjayB0byB0aGUgZnJvbnQsIHNvIHdlIGNhbiByZXBsYXkgaW5wdXRzXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgxKTtcblxuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICAvL2xldCBzdHVkZW50Q29kZVNhZmUgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgIGxldCBzdHVkZW50RmlsZXMgPSB0aGlzLmdldEFsbFN0dWRlbnRGaWxlcygpO1xuICAgICAgICB0aGlzLmR1bW15T3V0U2FuZGJveCgpO1xuICAgICAgICBsZXQgaW5zdHJ1Y3RvckNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgIGxldCBpc1NhZmUgPSAhcmVwb3J0W1wicGFyc2VyXCJdLmVtcHR5ICYmIHJlcG9ydFtcInZlcmlmaWVyXCJdLnN1Y2Nlc3M7XG4gICAgICAgIGluc3RydWN0b3JDb2RlID0gV1JBUF9JTlNUUlVDVE9SX0NPREUoc3R1ZGVudEZpbGVzLCBpbnN0cnVjdG9yQ29kZSwgZGlzYWJsZVRpZmEsIGlzU2FmZSk7XG4gICAgICAgIGxldCBsaW5lT2Zmc2V0ID0gZmluZEFjdHVhbEluc3RydWN0b3JPZmZzZXQoaW5zdHJ1Y3RvckNvZGUpOyAvL2luc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGg7XG4gICAgICAgIC8vbGluZU9mZnNldCA9IDA7IC8vaW5zdHJ1Y3RvckNvZGUuc3BsaXQoTkVXX0xJTkVfUkVHRVgpLmxlbmd0aCAtIGxpbmVPZmZzZXQgLSA0O1xuICAgICAgICByZXBvcnRbXCJpbnN0cnVjdG9yXCJdID0ge1xuICAgICAgICAgICAgXCJjb21wbGltZW50c1wiOiBbXSxcbiAgICAgICAgICAgIFwiZmlsZW5hbWVcIjogXCIuL19pbnN0cnVjdG9yL29uX3J1bi5weVwiLFxuICAgICAgICAgICAgXCJjb2RlXCI6IGluc3RydWN0b3JDb2RlLFxuICAgICAgICAgICAgXCJsaW5lT2Zmc2V0XCI6IGxpbmVPZmZzZXRcbiAgICAgICAgICAgIC8vJ2NvbXBsZXRlJzogZmFsc2UgLy8gQWN0dWFsbHksIGxldCdzIHVzZSB1bmRlZmluZWQgZm9yIG5vdy5cbiAgICAgICAgfTtcbiAgICAgICAgLypcbiAgICAgICAgVE9ETzogSW50ZXJlc3Rpbmcgc2l0dWF0aW9uLiBJZiB5b3UgaGF2ZSBhbiBpbnN0cnVjdG9yLWZpbGUgKG5vdCBhIHN0dWRlbnQtZmlsZSksXG4gICAgICAgIHRoZW4gaXQgZ2V0cyBpbXBvcnRlZCBpbnRvIHN5c21vZHVsZXMgYXMgYF9pbnN0cnVjdG9yLk1PRFVMRV9OQU1FYC4gQnV0IHRoZSBpbnN0cnVjdG9yXG4gICAgICAgIHNjcmlwdCB3aWxsIGF0dGVtcHQgdG8gaW1wb3J0IGl0IGFzIGBNT0RVTEVfTkFNRWAsIGFuZCBmYWlsLiBVTkxFU1MgdGhlICpzdHVkZW50KiBoYXNcbiAgICAgICAgcHJldmlvdXNseSBpbXBvcnRlZCB0aGF0IG1vZHVsZSBzdWNjZXNzZnVsbHkuIFNvIHRoZXJlJ3MgYSBjb21tb24gY2FzZSBoZXJlIHdoZXJlIHRoZVxuICAgICAgICBzdHVkZW50cycgY29kZSBmYWlscyB0byBpbXBvcnQgdGhlIG1vZHVsZSBUSEVSRUJZIGJyZWFraW5nIHRoZSBpbnN0cnVjdG9yIGNvZGUuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuY29kZSA9IGluc3RydWN0b3JDb2RlO1xuXG4gICAgICAgIFNrLnJldGFpbkdsb2JhbHMgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdWNjZXNzKG1vZHVsZSkge1xuICAgICAgICAvLyBUT0RPIExvZ2dpbmchISEhXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJPblJ1biBzdWNjZXNzXCIpO1xuICAgICAgICAvLyBUT0RPOiBBY3R1YWxseSBwYXJzZSByZXN1bHRzXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5nbG9iYWxzID0gU2suZ2xvYmFscztcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLnN5c21vZHVsZXMgPSBTay5zeXNtb2R1bGVzO1xuICAgICAgICBTay5nbG9iYWxzID0ge307XG4gICAgICAgIGxldCByZXN1bHRzID0gbW9kdWxlLiRkLm9uX3J1bi4kZDtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKHJlc3VsdHMpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHNbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IHRydWU7XG4gICAgICAgIGxldCBzdWNjZXNzID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLlNVQ0NFU1MpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KHN1Y2Nlc3MgfHwgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpKTtcbiAgICAgICAgLy8gQ2Fubm90IGV4Y2VlZCAxIHBvaW50LCBjYW5ub3QgZ28gYmVsb3cgMCBwb2ludHNcbiAgICAgICAgbGV0IHNjb3JlID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLlNDT1JFKTtcbiAgICAgICAgc2NvcmUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBzY29yZSkpO1xuICAgICAgICBsZXQgb2xkU2NvcmUgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5zY29yZSgpO1xuICAgICAgICBzY29yZSA9IE1hdGgubWF4KG9sZFNjb3JlLCBzY29yZSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKHNjb3JlKTtcbiAgICAgICAgLy8gSGlkZSBzdGF0dXNcbiAgICAgICAgbGV0IGhpZGUgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuSElERSk7XG4gICAgICAgIC8vIEFuZCBmaXJlIHRoZSByZXN1bHQhXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci51cGRhdGVTdWJtaXNzaW9uKHNjb3JlLCBzdWNjZXNzLCBoaWRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAvL2FmdGVyKG1vZHVsZSk7XG5cbiAgICAgICAgLyppZiAoc3VjY2VzcyAmJiB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jYWxsYmFja3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3ModGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaWQoKSk7XG4gICAgICAgIH0qL1xuXG4gICAgICAgIGlmICghU2suZXhlY3V0aW9uUmVwb3J0cy5pbnN0cnVjdG9yLnNjcm9sbGluZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJPblJ1biBmYWlsdXJlXCIsIGVycm9yKTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgaWYgKGVycm9yLnRwJG5hbWUgPT09IFwiR3JhY2VmdWxFeGl0XCIpIHtcbiAgICAgICAgICAgIHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJzdWNjZXNzXCJdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5GQUlMRUQpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiY29kZVwiXSk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50SW50ZXJuYWxFcnJvcihlcnJvciwgdGhpcy5maWxlbmFtZSk7XG4gICAgICAgICAgICAvL3JlcG9ydFtcImluc3RydWN0b3JcIl1bXCJzdWNjZXNzXCJdID0gZmFsc2U7XG4gICAgICAgICAgICAvL3JlcG9ydFtcImluc3RydWN0b3JcIl1bXCJlcnJvclwiXSA9IGVycm9yO1xuICAgICAgICAgICAgLy9UT0RPOiByZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wibGluZV9vZmZzZXRcIl0gPSBsaW5lT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIC8vVE9ETzogYWZ0ZXIoZXJyb3IpO1xuICAgIH1cbn1cblxuXG4vKlxuIyBUaGUgZm9sbG93aW5nIGlzIHRoZSBvbGQgaW5zdHJ1Y3RvciBjb2RlLCBsZWF2aW5nIGl0IGhlcmUgZm9yIG5vdy5cblxuZnJvbSBwZWRhbC5jb3JlLnJlcG9ydCBpbXBvcnQgTUFJTl9SRVBPUlRcbiMgU3VwcG9ydCBvdXIgc3lzbW9kdWxlcyBoYWNrIGJ5IGNsZWFyaW5nIG91dCBhbnkgbGluZ2VyaW5nIG9sZCBkYXRhXG5NQUlOX1JFUE9SVC5jbGVhcigpXG5mcm9tIHBlZGFsLmNvcmUuY29tbWFuZHMgaW1wb3J0IGNvbnRleHR1YWxpemVfcmVwb3J0XG5jb250ZXh0dWFsaXplX3JlcG9ydCgke3NhZmVDb2RlfSwgXCJhbnN3ZXIucHlcIilcbiR7dGlmYUFuYWx5c2lzfVxuZnJvbSBwZWRhbC5zYW5kYm94LnNhbmRib3ggaW1wb3J0IFNhbmRib3hcbmZyb20gcGVkYWwuc2FuZGJveCBpbXBvcnQgY29tcGF0aWJpbGl0eVxuZnJvbSB1dGlsaXR5IGltcG9ydCAqXG5zdHVkZW50ID0gTUFJTl9SRVBPUlRbJ3NhbmRib3gnXVsncnVuJ10gPSBTYW5kYm94KClcbnN0dWRlbnQucmVwb3J0X2V4Y2VwdGlvbnNfbW9kZSA9IFRydWVcbmxvZyhnZXRfbW9kZWxfaW5mbygnZXhlY3V0aW9uLmlucHV0JykpXG5zdHVkZW50LnNldF9pbnB1dChnZXRfbW9kZWxfaW5mbygnZXhlY3V0aW9uLmlucHV0JykpXG5pZiBub3QgZ2V0X21vZGVsX2luZm8oJ2Fzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUluc3RydWN0b3JSdW4nKTpcbiAgICBjb21wYXRpYmlsaXR5LnJ1bl9zdHVkZW50KHJhaXNlX2V4Y2VwdGlvbnM9RmFsc2UpXG4jbG9nKHN0dWRlbnQuZGF0YSlcbiNzdHVkZW50ID0gZ2V0X3N0dWRlbnRfZGF0YSgpXG4jZXJyb3IsIHBvc2l0aW9uID0gZ2V0X3N0dWRlbnRfZXJyb3IoKVxuI2NvbXBhdGliaWxpdHkucmFpc2VfZXhjZXB0aW9uKGVycm9yLCBwb3NpdGlvbilcbnJ1bl9zdHVkZW50ID0gY29tcGF0aWJpbGl0eS5ydW5fc3R1ZGVudFxucmVzZXRfb3V0cHV0ID0gY29tcGF0aWJpbGl0eS5yZXNldF9vdXRwdXRcbnF1ZXVlX2lucHV0ID0gY29tcGF0aWJpbGl0eS5xdWV1ZV9pbnB1dFxuZ2V0X291dHB1dCA9IGNvbXBhdGliaWxpdHkuZ2V0X291dHB1dFxuZ2V0X3Bsb3RzID0gY29tcGF0aWJpbGl0eS5nZXRfcGxvdHNcbmNvbXBhdGliaWxpdHkudHJhY2VfbGluZXMgPSB0cmFjZV9saW5lc1xuZnJvbSBwZWRhbCBpbXBvcnQgcXVlc3Rpb25zXG5xdWVzdGlvbnMuc2hvd19xdWVzdGlvbiA9IHNldF9pbnN0cnVjdGlvbnNcbiMgVE9ETzogUmVtb3ZlIHRoZSBuZWVkIGZvciB0aGlzIGhhY2shXG5kZWYgY2FwdHVyZV9vdXRwdXQoZnVuYywgKmFyZ3MpOlxuICAgcmVzZXRfb3V0cHV0KClcbiAgIHN0dWRlbnQuY2FsbChmdW5jLl9fbmFtZV9fLCAqYXJncylcbiAgIHJldHVybiBnZXRfb3V0cHV0KClcbmNvbXBhdGliaWxpdHkuY2FwdHVyZV9vdXRwdXQgPSBjYXB0dXJlX291dHB1dFxuXG5mcm9tIHBlZGFsLmNhaXQuY2FpdF9hcGkgaW1wb3J0IHBhcnNlX3Byb2dyYW1cbiR7aW5zdHJ1Y3RvckNvZGV9XG5mcm9tIHBlZGFsLnJlc29sdmVycyBpbXBvcnQgc2ltcGxlXG5maW5hbCA9IHNpbXBsZS5yZXNvbHZlKClcblNVQ0NFU1MgPSBmaW5hbC5zdWNjZXNzXG5TQ09SRSA9IGZpbmFsLnNjb3JlXG5DQVRFR09SWSA9IGZpbmFsLmNhdGVnb3J5XG5MQUJFTCA9IGZpbmFsLnRpdGxlXG5NRVNTQUdFID0gZmluYWwubWVzc2FnZVxuREFUQSA9IGZpbmFsLmRhdGFcbkhJREUgPSBmaW5hbC5oaWRlX2NvcnJlY3RuZXNzXG5cbiAqLyIsImltcG9ydCB7T25SdW5Db25maWd1cmF0aW9ufSBmcm9tIFwiLi9vbl9ydW5cIjtcblxuZXhwb3J0IGNsYXNzIE9uU2FtcGxlQ29uZmlndXJhdGlvbiBleHRlbmRzIE9uUnVuQ29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IFwib25fcnVuLnB5XCI7XG4gICAgICAgIHRoaXMuY29kZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSIsImltcG9ydCB7U3R1ZGVudENvbmZpZ3VyYXRpb259IGZyb20gXCIuL3N0dWRlbnRcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCIuLi9zZXJ2ZXJcIjtcblxuZXhwb3J0IGNsYXNzIFJ1bkNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBTdHVkZW50Q29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2UoXCJSdW5uaW5nLi4uXCIpO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gXCJhbnN3ZXJcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5tYWluLm1vZGVsLnVpLmZpbGVzLmdldFN0dWRlbnRDb2RlKCk7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlU3R1ZGVudFJ1bigpKSB7XG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIC8vdGhpcy5jb2RlID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuc2F2ZUZpbGUoXCJhbnN3ZXIucHlcIiwgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpLCBudWxsKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZVwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcImFuc3dlci5weVwiKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNvZGUpO1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcblxuICAgICAgICBlbmdpbmUucmVzZXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVQYXJzZSgpO1xuXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0c1tcInZlcmlmaWVyXCJdID0ge1xuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IEJvb2xlYW4odGhpcy5jb2RlLnRyaW0oKSksXG4gICAgICAgICAgICBcImNvZGVcIjogdGhpcy5jb2RlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBTay5lbnZpcm9uID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIFNrLmVudmlyb24gPSBuZXcgU2suYnVpbHRpbi5kaWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJpbnRlclRhZyA9IHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUucHJpbnRlclRhZyxcbiAgICAgICAgICAgIHdpZHRoID0gcHJpbnRlclRhZy53aWR0aCgpLTUwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoMzAwLCBwcmludGVyVGFnLmhlaWdodCgpLTUwKTtcbiAgICAgICAgU2suZW52aXJvbi5zZXQkaXRlbShuZXcgU2suYnVpbHRpbi5zdHIoXCJERVNJR05FUl9XSU5ET1dfV0lEVEhcIiksIG5ldyBTay5idWlsdGluLmludF8oTWF0aC5yb3VuZCh3aWR0aCkpKTtcbiAgICAgICAgU2suZW52aXJvbi5zZXQkaXRlbShuZXcgU2suYnVpbHRpbi5zdHIoXCJERVNJR05FUl9XSU5ET1dfSEVJR0hUXCIpLCBuZXcgU2suYnVpbHRpbi5pbnRfKE1hdGgucm91bmQoaGVpZ2h0KSkpO1xuXG4gICAgICAgIFNrLnJldGFpbkdsb2JhbHMgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmNsZWFySW5wdXQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdWNjZXNzKG1vZHVsZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJ1biBzdWNjZXNzXCIpO1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgIFwiaW5wdXRzXCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICAgICAgXCJvdXRwdXRzXCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ub3V0cHV0KCkubWFwKGxpbmUgPT4gbGluZS5jb250ZW50KS5qb2luKFwiXFxuXCIpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJSdW4uUHJvZ3JhbVwiLCBcIlwiLCBcIlwiLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbihmYWxzZSk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuZmluaXNoVHVydGxlcygpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoU2suZ2xvYmFscyk7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB7fTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LnJlc3VsdHMgPSBtb2R1bGU7XG4gICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUV2YWx1YXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuYmVnaW5FdmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RlcChtb2R1bGUuJGQsIG1vZHVsZS4kZCwtMSwgMCwgZmlsZW5hbWUgKyBcIi5weVwiKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJ0cmFjZVwiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlYWxMaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UuZmlsdGVyKHggPT4gIXguaXNEb2NzdHJpbmcpLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXCI6IG1vZHVsZSxcbiAgICAgICAgICAgICAgICBcIm91dHB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dCxcbiAgICAgICAgICAgICAgICBcImlucHV0XCI6IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQsXG4gICAgICAgICAgICAgICAgXCJjYWxsc1wiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY2FsbHMsXG4gICAgICAgICAgICAgICAgXCJ0cmFjaW5nXCI6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSdW4gZmFpbHVyZVwiLCBlcnJvcik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuRkFJTEVEKTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgaWYgKHJlcG9ydC5wYXJzZXIuc3VjY2VzcyAmJiByZXBvcnQudmVyaWZpZXIuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiUnVuLlByb2dyYW1cIiwgXCJQcm9ncmFtRXJyb3JPdXRwdXRcIiwgXCJcIiwgZXJyb3IudG9TdHJpbmcoKSwgXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJDb21waWxlLkVycm9yXCIsIFwiXCIsIFwiXCIsIGVycm9yLnRvU3RyaW5nKCksIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFN0ZXAoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgICAgICAgICAgXCJ0cmFjZVwiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlYWxMaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UuZmlsdGVyKHggPT4gIXguaXNEb2NzdHJpbmcpLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0LFxuICAgICAgICAgICAgICAgIFwiY2FsbHNcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmNhbGxzLFxuICAgICAgICAgICAgICAgIFwidHJhY2luZ1wiOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCB7U3R1ZGVudENvbmZpZ3VyYXRpb259IGZyb20gXCIuL3N0dWRlbnRcIjtcblxuZXhwb3J0IGNsYXNzIFNhbXBsZUNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBTdHVkZW50Q29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgLy8gVE9ETzogRml4IHRvIGJlIHRoZSBjdXJyZW50IHNhbXBsZSBzdWJtaXNzaW9uXG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcImFuc3dlci5weVwiO1xuICAgICAgICB0aGlzLmNvZGUgPSBcInByaW50KCdOb3QgcmVhZHkgeWV0IScpXCI7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSIsImltcG9ydCB7Q29uZmlndXJhdGlvbiwgRU1QVFlfTU9EVUxFfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgU3R1ZGVudENvbmZpZ3VyYXRpb24gZXh0ZW5kcyBDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lKSB7XG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuICAgICAgICAvLyBMaW1pdCBleGVjdXRpb24gdG8gNCBzZWNvbmRzXG4gICAgICAgIGxldCBzZXR0aW5ncyA9IHRoaXMubWFpbi5tb2RlbC5zZXR0aW5ncztcbiAgICAgICAgU2suZXhlY0xpbWl0RnVuY3Rpb24gPSAoKSA9PlxuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZVRpbWVvdXQoKSA/IEluZmluaXR5IDogNTAwMDtcbiAgICAgICAgU2suZXhlY0xpbWl0ID0gU2suZXhlY0xpbWl0RnVuY3Rpb24oKTtcbiAgICAgICAgLy8gU3RlcHBlciEgRXhlY3V0ZWQgYWZ0ZXIgZXZlcnkgc3RhdGVtZW50LlxuICAgICAgICBTay5hZnRlclNpbmdsZUV4ZWN1dGlvbiA9IHRoaXMuc3RlcC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIFVubXV0ZSBldmVyeXRoaW5nXG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lm11dGVQcmludGVyKGZhbHNlKTtcblxuICAgICAgICAvLyBGdW5jdGlvbiB0byBjYWxsIGFmdGVyIGVhY2ggc3RlcFxuICAgICAgICAvLyBhZnRlclNpbmdsZUV4ZWN1dGlvblxuXG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvdXRpbGl0eS9fX2luaXRfXy5qc1wiXSA9IEVNUFRZX01PRFVMRTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBvcGVuRmlsZShmaWxlbmFtZSkge1xuICAgICAgICBsZXQgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnNlYXJjaEZvckZpbGUoZmlsZW5hbWUsIHRydWUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGZpbGVuYW1lLCBmb3VuZCk7XG4gICAgICAgIGlmIChmb3VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoU2suYnVpbHRpbkZpbGVzICYmIFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkZpbGUgbm90IGZvdW5kOiBcIiArIGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZC5jb250ZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW1wb3J0RmlsZShmaWxlbmFtZSkge1xuICAgICAgICBpZiAodGhpcy5pc0ZvcmJpZGRlbihmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgIHRocm93IFwiRmlsZSBub3QgYWNjZXNzaWJsZTogJ1wiICsgZmlsZW5hbWUgKyBcIidcIjtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlbmFtZSA9PT0gXCIuL2Fuc3dlci5weVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKFNrLmJ1aWx0aW5GaWxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5PU0Vycm9yKFwiQnVpbHQtaW4gbW9kdWxlcyBub3QgYWNjZXNzaWJsZS5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bZmlsZW5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnNlYXJjaEZvckZpbGUoZmlsZW5hbWUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5PU0Vycm9yKFwiRmlsZSBub3QgZm91bmQ6ICdcIitmaWxlbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmNvbnRlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnB1dChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmlucHV0KHByb21wdE1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGlzRm9yYmlkZGVuKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmaWxlbmFtZS5zdGFydHNXaXRoKFwic3JjL2xpYi91dGlsaXR5L1wiKSB8fFxuICAgICAgICAgICAgZmlsZW5hbWUuc3RhcnRzV2l0aChcInNyYy9saWIvcGVkYWwvXCIpIHx8XG4gICAgICAgICAgICBmaWxlbmFtZS5zdGFydHNXaXRoKFwiLi9faW5zdHJ1Y3Rvci9cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXCJTdGVwc1wiIHRoZSBleGVjdXRpb24gb2YgdGhlIGNvZGUsIG1lYW50IHRvIGJlIHVzZWQgYXMgYSBjYWxsYmFjayB0byB0aGUgU2t1bHB0XG4gICAgICogZW52aXJvbm1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZ2xvYmFscyAtIEhhc2ggdGhhdCBtYXBzIHRoZSBuYW1lcyBvZiBnbG9iYWwgdmFyaWFibGVzIChTdHJpbmdzKSB0byB0aGVpciBTa3VscHQgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyAtIEhhc2ggdGhhdCBtYXBzIHRoZSBuYW1lcyBvZiBsb2NhbCB2YXJpYWJsZXMgKFN0cmluZ3MpIHRvIHRoZWlyIFNrdWxwdCByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZU51bWJlciAtIFRoZSBjb3JyZXNwb25kaW5nIGxpbmUgbnVtYmVyIGluIHRoZSBzb3VyY2UgY29kZSB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb2x1bW5OdW1iZXIgLSBUaGUgY29ycmVzcG9uZGluZyBjb2x1bW4gbnVtYmVyIGluIHRoZSBzb3VyY2UgY29kZSB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGluayBvZiBpdCBhcyB0aGUgXCJYXCIgcG9zaXRpb24gdG8gdGhlIGxpbmVOdW1iZXIncyBcIllcIiBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZW5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHl0aG9uIGZpbGUgYmVpbmcgZXhlY3V0ZWQgKGUuZy4sIFwiX19tYWluX18ucHlcIikuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpc0RvY3N0cmluZyAtIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYW4gYWN0dWFsIGxpbmUgb3IgYSBkb2NzdHJpbmcuXG4gICAgICovXG4gICAgc3RlcChnbG9iYWxzLCBsb2NhbHMsIGxpbmVOdW1iZXIsIGNvbHVtbk51bWJlciwgZmlsZW5hbWUsIGlzRG9jc3RyaW5nLCBhc3ROYW1lKSB7XG4gICAgICAgIGlmIChmaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgLyppZiAoZXhlY1N0YWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXhlY1N0YWNrLm1hcCgoW24sIG9dKSA9PiBbbiwgey4uLm99XSkpO1xuICAgICAgICAgICAgfSovXG4gICAgICAgICAgICBsZXQgY3VycmVudFN0ZXAgPSB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcDtcbiAgICAgICAgICAgIGdsb2JhbHMgPSB0aGlzLm1haW4uY29tcG9uZW50cy50cmFjZS5wYXJzZUdsb2JhbHMoey4uLmdsb2JhbHMsIC4uLmxvY2Fsc30pO1xuICAgICAgICAgICAgLy8gVE9ETzogVHJhY2UgbG9jYWwgdmFyaWFibGVzIHByb3Blcmx5XG4gICAgICAgICAgICAvL2xldCBsb2NhbHMgPSB0aGlzLm1haW4uY29tcG9uZW50cy50cmFjZS5wYXJzZUdsb2JhbHMobG9jYWxzKTtcbiAgICAgICAgICAgIC8vT2JqZWN0LmFzc2lnbihnbG9iYWxzLCBsb2NhbHMpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLnB1c2goe1xuICAgICAgICAgICAgICAgIFwic3RlcFwiOiBjdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICBcImZpbGVuYW1lXCI6IGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIC8vJ2Jsb2NrJzogaGlnaGxpZ2h0TWFwW2xpbmVOdW1iZXItMV0sXG4gICAgICAgICAgICAgICAgXCJsaW5lXCI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgXCJjb2x1bW5cIjogY29sdW1uTnVtYmVyLFxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiBnbG9iYWxzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgXCJtb2R1bGVzXCI6IGdsb2JhbHMubW9kdWxlcyxcbiAgICAgICAgICAgICAgICBcImlzRG9jc3RyaW5nXCI6IGlzRG9jc3RyaW5nLFxuICAgICAgICAgICAgICAgIFwiYXN0XCI6IGFzdE5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXAgPSBjdXJyZW50U3RlcCArIDE7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIubGluZSA9IGxpbmVOdW1iZXI7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBTa3VscHQgZXhlY3V0aW9uIHRvIHRlcm1pbmF0ZSB0aGUgZXhlY3V0aW9uQnVmZmVyXG4gICAgICogYW5kIGhhbmQgaXQgb2ZmIHRvIHRoZSBleGVjdXRpb24gdHJhY2UgaW4gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGxhc3RTdGVwKCkge1xuICAgICAgICBsZXQgZXhlY3V0aW9uID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbjtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50U3RlcCh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcCk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwKTtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudExpbmUodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5sYXN0TGluZSh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIubGluZSk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXApO1xuICAgIH07XG5cbiAgICBnZXRMaW5lcyhhc3QpIHtcbiAgICAgICAgbGV0IHZpc2l0ZWRMaW5lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbGV0IHZpc2l0Qm9keSA9IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS5saW5lbm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRMaW5lcy5hZGQobm9kZS5saW5lbm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuYm9keSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYm9keS5mb3JFYWNoKChzdGF0ZW1lbnQpID0+IHZpc2l0Qm9keShzdGF0ZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLm9yZWxzZSkge1xuICAgICAgICAgICAgICAgIG5vZGUub3JlbHNlLmZvckVhY2goKHN0YXRlbWVudCkgPT4gdmlzaXRCb2R5KHN0YXRlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuZmluYWxib2R5KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5maW5hbGJvZHkuZm9yRWFjaCgoc3RhdGVtZW50KSA9PiB2aXNpdEJvZHkoc3RhdGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZpc2l0Qm9keShhc3QpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2aXNpdGVkTGluZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGF0IHRoZSBwYXJzZSBpbmZvcm1hdGlvbiBpcyB1cC10by1kYXRlXG4gICAgICovXG4gICAgdXBkYXRlUGFyc2UoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIC8vIEhvbGQgYWxsIHRoZSBhY3R1YWxseSBkaXNjb3ZlcmVkIGxpbmVzIGZyb20gdGhlIHBhcnNlXG4gICAgICAgIGxldCBsaW5lcyA9IFtdO1xuICAgICAgICAvLyBBdHRlbXB0IGEgcGFyc2VcbiAgICAgICAgbGV0IGFzdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBwYXJzZSA9IFNrLnBhcnNlKHRoaXMuZmlsZW5hbWUsIHRoaXMuY29kZSk7XG4gICAgICAgICAgICBhc3QgPSBTay5hc3RGcm9tUGFyc2UocGFyc2UuY3N0LCB0aGlzLmZpbGVuYW1lLCBwYXJzZS5mbGFncyk7XG4gICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMoYXN0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFJlcG9ydCB0aGUgZXJyb3JcbiAgICAgICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgICAgICAgICBcImVtcHR5XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiBsaW5lc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlbmFtZSwgdGhpcy5jb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdWNjZXNzZnVsIHBhcnNlXG4gICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHtcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJhc3RcIjogYXN0LFxuICAgICAgICAgICAgXCJlbXB0eVwiOiBhc3QuYm9keS5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICBcImxpbmVzXCI6IGxpbmVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHNob3dFcnJvcnMoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGlmIChyZXBvcnRbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLmNsZWFyKFwiRXhlY3V0aW9uIGZpbmlzaGVkLiBObyBlcnJvcnMgdG8gcmVwb3J0LlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLnByZXNlbnRSdW5FcnJvcihyZXBvcnQuc3R1ZGVudC5lcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm92aWRlU2VjcmV0RXJyb3IoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBmZWVkYmFjayA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrO1xuICAgICAgICBpZiAoIXJlcG9ydFtcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgbGV0IGVycm9yQnV0dG9uID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1zdHVkZW50LWVycm9yXCIpO1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBmZWVkYmFjay5wcmVzZW50UnVuRXJyb3IocmVwb3J0LnN0dWRlbnQuZXJyb3IsIHRydWUpO1xuICAgICAgICAgICAgZXJyb3JCdXR0b24uYXR0cihcInRpdGxlXCIsIFwiQ2xpY2sgdG8gc2VlIE9yaWdpbmFsIEVycm9yXCIpO1xuICAgICAgICAgICAgZXJyb3JCdXR0b24udG9vbHRpcCh7XCJ0cmlnZ2VyXCI6IFwiaG92ZXJcIiwgXCJjb250YWluZXJcIjogdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYXR0YWNobWVudFBvaW50fSk7XG4gICAgICAgICAgICBlcnJvckJ1dHRvbi5jbGljaygoKSA9PiB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfU0hPV19TVFVERU5UX0VSUk9SKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQge2FycmF5TW92ZSwgY2FwaXRhbGl6ZSwgcHlTdHJ9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5leHBvcnQgbGV0IEZFRURCQUNLX0hUTUwgPSBgXG5cbjxzcGFuIGNsYXNzPSdibG9ja3B5LWZsb2F0aW5nLWZlZWRiYWNrIHRleHQtbXV0ZWQtbGVzcyBwdWxsLXJpZ2h0IHBvc2l0aW9uLXN0aWNreSBzdGlja3ktdG9wJ1xuICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHJvbGU9XCJwcmVzZW50YXRpb25cIiBhcmlhLWxhYmVsPVwiTmV3IEZlZWRiYWNrIEFsZXJ0XCI+XG4gICAgTmV3IGZlZWRiYWNrICZ1YXJyO1xuPC9zcGFuPlxuXG48ZGl2IGNsYXNzPSdibG9ja3B5LWZlZWRiYWNrIGJsb2NrcHktcGFuZWwnXG4gICAgICAgICAgICByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIkZlZWRiYWNrXCJcbiAgICAgICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGFzczogdWkuY29uc29sZS5zaXplXCI+XG5cbiAgICA8ZGl2PlxuICAgIDwhLS0gRmVlZGJhY2svVHJhY2UgVmlzaWJpbGl0eSBDb250cm9sIC0tPlxuICAgIDwhLS0ga28gaWZub3Q6IHVpLnNlY29uZFJvdy5oaWRlVHJhY2VCdXR0b24gLS0+XG4gICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICBjbGFzcz0nYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkgZmxvYXQtcmlnaHQnXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuc2Vjb25kUm93LmFkdmFuY2VTdGF0ZVwiPlxuICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWV5ZSc+PC9zcGFuPlxuICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1aS5zZWNvbmRSb3cuc3dpdGNoTGFiZWxcIj48L3NwYW4+XG4gICAgPC9idXR0b24+XG4gICAgPCEtLSAva28gLS0+XG5cbiAgICA8IS0tIEFjdHVhbCBGZWVkYmFjayBSZWdpb24gLS0+ICAgIFxuICAgIDxkaXY+XG4gICAgICAgIDxzdHJvbmcgY2xhc3M9XCJmZWVkYmFjay1oZWFkZXJcIj5GZWVkYmFjazogPC9zdHJvbmc+XG4gICAgICAgIDxzcGFuIGNsYXNzPSdiYWRnZSBibG9ja3B5LWZlZWRiYWNrLWNhdGVnb3J5IGZlZWRiYWNrLWJhZGdlJ1xuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB1aS5mZWVkYmFjay5iYWRnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdWkuZmVlZGJhY2suY2F0ZWdvcnlcIj5GZWVkYmFjayBLaW5kPC9zcGFuPlxuICAgICAgICA8c21hbGwgZGF0YS1iaW5kPVwidGV4dDogKDEwMCpzdWJtaXNzaW9uLnNjb3JlKCkpKyclJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZGlzcGxheS5pbnN0cnVjdG9yKCkgJiYgZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKClcIlxuICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+PC9zbWFsbD5cbiAgICAgICAgPHNtYWxsIGRhdGEtYmluZD1cImNsaWNrOiB1aS5mZWVkYmFjay5yZXNldFNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBkaXNwbGF5Lmluc3RydWN0b3IoKSAmJiBleGVjdXRpb24uZmVlZGJhY2subGFiZWwoKSAmJiBzdWJtaXNzaW9uLnNjb3JlKCkgPiAwXCJcbiAgICAgICAgICAgIGNsYXNzPVwidGV4dC1tdXRlZFwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyXCI+PHU+KHJlc2V0KTwvdT48L3NtYWxsPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxzdHJvbmcgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLWxhYmVsXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInRleHQ6IGV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbFwiPjwvc3Ryb25nPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1mZWVkYmFjay1tZXNzYWdlXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImh0bWw6IGV4ZWN1dGlvbi5mZWVkYmFjay5tZXNzYWdlXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTtcIj5cbiAgICAgICAgPCEtLSBUaGUgdGhhbmsgeW91IG1lc3NhZ2Ugd2lsbCBhcHBlYXIgYWJvdmUgdGhlIHNwYW4gLS0+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmxvY2tweS1mZWVkYmFjay10aGFuay15b3VcIj5UaGFuayB5b3UhPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxzbWFsbCBjbGFzcz1cImJsb2NrcHktZmVlZGJhY2stcmVzcG9uc2UtZnVsbFwiIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHRcIlxuICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5mZWVkYmFjay5wcm92aWRlUmF0aW5ncygpICYmIGV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbCgpICYmIGRpc3BsYXkuc2hvd1JhdGluZygpXCI+XG4gICAgICAgIDxzcGFuIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiIGNsYXNzPVwiZmFyIGZhLW1pbnVzLXNxdWFyZVwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmVlZGJhY2suZmxpcFJhdGluZ1wiPjwvc3Bhbj5cbiAgICAgICAgUmF0ZSB0aGlzIEZlZWRiYWNrOlxuICAgICAgICA8c3BhbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAyMHB4XCIgY2xhc3M9XCJibG9ja3B5LXJhdGluZyBmYS10aHVtYnMtdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6ICgpPT51aS5mZWVkYmFjay5yYXRlKCd0aHVtYnMtdXAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzczogdWkuZmVlZGJhY2suaGFzUmF0ZWRDbGFzc1wiPjwvc3Bhbj5cbjwhLS0gICAgICAgIDxzcGFuIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDIwcHhcIiBjbGFzcz1cImJsb2NrcHktcmF0aW5nIGZhLW1laFwiLS0+XG48IS0tICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6ICgpPT51aS5mZWVkYmFjay5yYXRlKCdtZWgnKSwtLT5cbjwhLS0gICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHVpLmZlZWRiYWNrLmhhc1JhdGVkQ2xhc3NcIj48L3NwYW4+LS0+XG4gICAgICAgIDxzcGFuIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDIwcHhcIiBjbGFzcz1cImJsb2NrcHktcmF0aW5nIGZhLXRodW1icy1kb3duXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiAoKT0+dWkuZmVlZGJhY2sucmF0ZSgndGh1bWJzLWRvd24nLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzczogdWkuZmVlZGJhY2suaGFzUmF0ZWRDbGFzc1wiPjwvc3Bhbj5cbiAgICA8L3NtYWxsPlxuICAgIDwhLS0gUG9zaXRpdmUgRmVlZGJhY2sgUmVnaW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLXBvc2l0aXZlXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodFwiPlxuICAgIDwvZGl2PlxuICAgIDxzbWFsbCBjbGFzcz1cImJsb2NrcHktZmVlZGJhY2stcmVzcG9uc2UtY29sbGFwc2VkXCIgXG4gICAgICAgIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyByaWdodDogMDsgYm90dG9tOiAwXCJcbiAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKCkgJiYgIWRpc3BsYXkuc2hvd1JhdGluZygpXCI+XG4gICAgICAgIDxzcGFuIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCIgY2xhc3M9XCJmYXIgZmEtcGx1cy1zcXVhcmVcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmZlZWRiYWNrLmZsaXBSYXRpbmdcIj48L3NwYW4+IFJhdGVcbiAgICA8L3NtYWxsPlxuPC9kaXY+ICAgICAgICAgICAgXG5gO1xuXG5cblxuZXhwb3J0IGNvbnN0IHB5X3RpdGxlID0gbmV3IHB5U3RyKFwidGl0bGVcIik7XG5leHBvcnQgY29uc3QgcHlfY2F0ZWdvcnkgPSBuZXcgcHlTdHIoXCJjYXRlZ29yeVwiKTtcbmV4cG9ydCBjb25zdCBweV9raW5kID0gbmV3IHB5U3RyKFwia2luZFwiKTtcbmV4cG9ydCBjb25zdCBweV9tZXNzYWdlID0gbmV3IHB5U3RyKFwibWVzc2FnZVwiKTtcbmV4cG9ydCBjb25zdCBweV91bnVzZWRfbWVzc2FnZSA9IG5ldyBweVN0cihcInVudXNlZF9tZXNzYWdlXCIpO1xuZXhwb3J0IGNvbnN0IHB5X3Jlc29sdmVkX3Njb3JlID0gbmV3IHB5U3RyKFwicmVzb2x2ZWRfc2NvcmVcIik7XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1B5RmVlZGJhY2sge1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHRoYXQgbWFuYWdlcyB0aGUgZmVlZGJhY2sgYXJlYSwgd2hlcmUgdXNlcnMgYXJlIHRvbGQgdGhlIHN0YXRlIG9mIHRoZWlyXG4gICAgICogcHJvZ3JhbSdzIGV4ZWN1dGlvbiBhbmQgZ2l2ZW4gZ3VpZGFuY2UuIEFsc28gbWFuYWdlcyB0aGUgY3JlYXRpb24gb2YgdGhlIFRyYWNlIFRhYmxlLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHRoaXMge0Jsb2NrUHlGZWVkYmFja31cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBUaGUgSFRNTCBvYmplY3QgdGhpcyBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjaztcblxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrLWNhdGVnb3J5XCIpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrSGVhZGVyID0gdGhpcy50YWcuZmluZChcIi5mZWVkYmFjay1oZWFkZXJcIik7XG4gICAgICAgIHRoaXMubGFiZWwgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stbGFiZWxcIik7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFjay1tZXNzYWdlXCIpO1xuICAgICAgICB0aGlzLnBvc2l0aXZlID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrLXBvc2l0aXZlXCIpO1xuXG4gICAgICAgIC8vIFRPRE86IElmIHRoZXkgY2hhbmdlIHRoZSBzdHVkZW50IGV4dHJhIGZpbGVzLCBhbHNvIHVwZGF0ZSB0aGUgZGlydHkgZmxhZ1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlLnN1YnNjcmliZSgoKSA9PiB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24odHJ1ZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgc2NyZWVuICh0YWtlcyAxIHNlY29uZCkgdG8gbWFrZSB0aGUgRmVlZGJhY2sgYXJlYSB2aXNpYmxlLlxuICAgICAqL1xuICAgIHNjcm9sbEludG9WaWV3KCkge1xuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy50YWcub2Zmc2V0KCkudG9wXG4gICAgICAgIH0sIDcwMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGZlZWRiYWNrIGFyZWEgaXMgY3VycmVudGx5IHZpc2libGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0ZlZWRiYWNrVmlzaWJsZSgpIHtcbiAgICAgICAgbGV0IHZpc2liaWxpdHlCdWZmZXIgPSAxMDA7XG4gICAgICAgIGxldCB0b3BPZkVsZW1lbnQgPSB0aGlzLnRhZy5vZmZzZXQoKS50b3A7XG4gICAgICAgIC8vbGV0IGJvdHRvbU9mRWxlbWVudCA9IHRoaXMudGFnLm9mZnNldCgpLnRvcCArIHRoaXMudGFnLm91dGVySGVpZ2h0KCk7XG4gICAgICAgIGxldCBib3R0b21PZkVsZW1lbnQgPSB0b3BPZkVsZW1lbnQgKyB2aXNpYmlsaXR5QnVmZmVyO1xuICAgICAgICBsZXQgYm90dG9tT2ZTY3JlZW4gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICAgIGxldCB0b3BPZlNjcmVlbiA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgLy9ib3R0b21fb2ZfZWxlbWVudCAtPSA0MDsgLy8gVXNlciBmcmllbmRseSBwYWRkaW5nXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodG9wT2ZFbGVtZW50IDwgYm90dG9tT2ZTY3JlZW4pICYmXG4gICAgICAgICAgICAodG9wT2ZTY3JlZW4gPCBib3R0b21PZkVsZW1lbnQpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFueSBvdXRwdXQgY3VycmVudGx5IGluIHRoZSBmZWVkYmFjayBhcmVhLiBBbHNvIHJlc2V0cyB0aGUgcHJpbnRlciBhbmRcbiAgICAgKiBhbnkgaGlnaGxpZ2h0ZWQgbGluZXMgaW4gdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICBjbGVhcihtZXNzYWdlPVwiUmVhZHlcIikge1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmNhdGVnb3J5KG51bGwpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGFiZWwobnVsbCk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5oaWRkZW4oZmFsc2UpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNFcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzVW5jb3ZlcmVkLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLmNsZWFyUG9zaXRpdmVGZWVkYmFjaygpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrSGVhZGVyLm9mZihcImNsaWNrXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oYXNSYXRlZChmYWxzZSk7XG4gICAgfTtcblxuICAgIHN0YXRpYyBmaW5kRmlyc3RFcnJvckxpbmUoZmVlZGJhY2tEYXRhKSB7XG4gICAgICAgIGlmIChmZWVkYmFja0RhdGEucXVpY2skbG9va3VwKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gPSBmZWVkYmFja0RhdGEucXVpY2skbG9va3VwKG5ldyBTay5idWlsdGluLnN0cihcImxvY2F0aW9uXCIpKTtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gbG9jYXRpb24udHAkZ2V0YXR0cihuZXcgU2suYnVpbHRpbi5zdHIoXCJsaW5lXCIpKTtcbiAgICAgICAgICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9KcyhsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8qZm9yIChsZXQgaSA9IGZlZWRiYWNrRGF0YS5sZW5ndGgtMTsgaSA+PSAwOyBpLT0gMSkge1xuICAgICAgICAgICAgaWYgKFwicG9zaXRpb25cIiBpbiBmZWVkYmFja0RhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmVlZGJhY2tEYXRhW2ldLnBvc2l0aW9uLmxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7Ki9cbiAgICB9O1xuXG4gICAgdXBkYXRlUmVndWxhckZlZWRiYWNrKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbW9kZWwgd2l0aCB0aGVzZSBuZXcgZXhlY3V0aW9uIHJlc3VsdHNcbiAgICAgKiBAcGFyYW0gZXhlY3V0aW9uUmVzdWx0c1xuICAgICAqL1xuICAgIHVwZGF0ZUZlZWRiYWNrKGV4ZWN1dGlvblJlc3VsdHMsIGZlZWRiYWNrcykge1xuICAgICAgICAvLyBQYXJzZSBvdXQgZGF0YVxuICAgICAgICBsZXQgbWVzc2FnZSA9IFNrLmZmaS5yZW1hcFRvSnMoZXhlY3V0aW9uUmVzdWx0cy5NRVNTQUdFKTtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkNBVEVHT1JZKTtcbiAgICAgICAgbGV0IGxhYmVsID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkxBQkVMKTtcbiAgICAgICAgbGV0IGhpZGUgPSBTay5mZmkucmVtYXBUb0pzKGV4ZWN1dGlvblJlc3VsdHMuSElERSk7XG4gICAgICAgIGxldCBkYXRhID0gZXhlY3V0aW9uUmVzdWx0cy5EQVRBO1xuICAgICAgICBsZXQgcG9zaXRpdmVzID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLlBPU0lUSVZFKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBiYXNlZCBvbiBhc3NpZ25tZW50cycgc2V0dGluZ3NcbiAgICAgICAgLy8gTk9URTogV2UgdXNlZCB0byBoaWRlIHRoZSBjb21wbGV0aW9uIGlmIHRoZSBhc3NpZ25tZW50IHdhcyBoaWRkZW4sIGJ1dCB0aGlzIGlzIG5vIGxvbmdlciB0aGUgY2FzZS5cbiAgICAgICAgLy8gTm93IHRoZSBoaWRkZW4gc3RhdHVzIGNvbnRyb2xzIHdoZXRoZXIgdGhlIHN0dWRlbnQgY2FuIHNlZSBkZXRhaWxlZCBmZWVkYmFjayBhbmQgc3R1ZmYgd2hlbiB0aGV5IGxvb2sgYXQgaXRcbiAgICAgICAgLy8gaW4gdGhlIGdyYWRlIHZpZXcsIGFuZCB3aGV0aGVyIFRBcyBjYW4gc2VlIHRoZSBzdWJtaXNzaW9uLlxuICAgICAgICAvLyBsZXQgaGlkZVNjb3JlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCk7XG4gICAgICAgIC8vIGlmIChoaWRlU2NvcmUgJiYgY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgIC8vICAgICBjYXRlZ29yeSA9IFwibm8gZXJyb3JzXCI7XG4gICAgICAgIC8vICAgICBsYWJlbCA9IFwiTm8gZXJyb3JzXCI7XG4gICAgICAgIC8vICAgICBtZXNzYWdlID0gXCJObyBlcnJvcnMgcmVwb3J0ZWQuXCI7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBSZW1hcCB0byBleHBlY3RlZCBCbG9ja1B5IGxhYmVsc1xuICAgICAgICBpZiAoY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnN0cnVjdG9yXCIgJiYgbGFiZWwudG9Mb3dlckNhc2UoKSA9PT0gXCJleHBsYWluXCIpIHtcbiAgICAgICAgICAgIGxhYmVsID0gXCJJbnN0cnVjdG9yIEZlZWRiYWNrXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb24ndCBwcmVzZW50IGEgbGFjayBvZiBlcnJvciBhcyBiZWluZyBpbmNvcnJlY3RcbiAgICAgICAgaWYgKGNhdGVnb3J5ID09PSBcIkluc3RydWN0b3JcIiAmJiBsYWJlbCA9PT0gXCJObyBlcnJvcnNcIikge1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBcIm5vIGVycm9yc1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG1vZGVsIGFjY29yZGluZ2x5XG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLm1haW4udXRpbGl0aWVzLm1hcmtkb3duKG1lc3NhZ2UpLnJlcGxhY2UoLzxwcmU+XFxuL2csIFwiPHByZT5cXG5cXG5cIik7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5tZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwuY2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGFiZWwobGFiZWwpO1xuICAgICAgICAvL2xldCBoaWdobGlnaHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubWVzc2FnZS5maW5kKFwicHJlIGNvZGVcIikubWFwKCAoaSwgYmxvY2spID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5obGpzLmhpZ2hsaWdodEJsb2NrKGJsb2NrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vfSwgNDAwKTtcbiAgICAgICAgLy8gVE9ETzogSW5zdGVhZCBvZiB0cmFja2luZyBzdHVkZW50IGZpbGUsIGxldCdzIHRyYWNrIHRoZSBpbnN0cnVjdG9yIGZpbGVcbiAgICAgICAgY29uc3QgZnVsbFBheWxvYWQgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgc3ludGF4RXJyb3I6IGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFwic3ludGF4XCIsXG4gICAgICAgICAgICBydW50aW1lRXJyb3I6IGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFwicnVudGltZVwiLFxuICAgICAgICAgICAgdW5pdFRlc3RzOiB0aGlzLmNvdW50VGVzdENhc2VzKGZlZWRiYWNrcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhmdWxsUGF5bG9hZCk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkludGVydmVudGlvblwiLCBjYXRlZ29yeSwgbGFiZWwsIGZ1bGxQYXlsb2FkLCBcImFuc3dlci5weVwiLCB0cnVlKTtcbiAgICAgICAgLypcbiAgICAgICAgICAgIEV4YW1wbGUgYml0cyBvZiBkYXRhIHdlIHdhbnQgdG8gdHJhY2s6XG4gICAgICAgICAgICAtIE51bWJlciBvZiBsaW5lcyB1bmNvdmVyZWRcbiAgICAgICAgICAgIC0gU3ludGF4RXJyb3JcbiAgICAgICAgICAgIC0gVW5pdCB0ZXN0cyBwYXNzZWQvZmFpbGVkXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIENsZWFyIG91dCBhbnkgcHJldmlvdXNseSBoaWdobGlnaHRlZCBsaW5lc1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uY2xlYXJIaWdobGlnaHRlZExpbmVzKCk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZXJyb3Igb24gYSBsaW5lIGFuZCByZXBvcnQgdGhhdFxuICAgICAgICBsZXQgbGluZSA9IEJsb2NrUHlGZWVkYmFjay5maW5kRmlyc3RFcnJvckxpbmUoZGF0YSk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAobGluZSAhPT0gbnVsbCAmJiBsaW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnB1c2gobGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnZlcnQgdGhlIHNldCBvZiB0cmFjZWQgbGluZXNcbiAgICAgICAgbGV0IHN0dWRlbnRSZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudDtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzVW5jb3ZlcmVkLnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAoc3R1ZGVudFJlcG9ydC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgdW5jb3ZlcmVkTGluZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5wYXJzZXIubGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdHVkZW50UmVwb3J0LmxpbmVzLmluZGV4T2YobGluZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuY292ZXJlZExpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNVbmNvdmVyZWQodW5jb3ZlcmVkTGluZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHBvc2l0aXZlcy5sZW5ndGg7IGkrPTEpIHtcbiAgICAgICAgICAgIGxldCBwb3NpdGl2ZURhdGEgPSBwb3NpdGl2ZXNbaV07XG4gICAgICAgICAgICB0aGlzLmFkZFBvc2l0aXZlRmVlZGJhY2socG9zaXRpdmVEYXRhLm1lc3NhZ2UsIFwic3RhclwiLCBcImdyZWVuXCIsICgpID0+IHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5QT1NJVElWRV9GRUVEQkFDS19GVUxMKHBvc2l0aXZlRGF0YS50aXRsZSwgcG9zaXRpdmVEYXRhLm1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyUG9zaXRpdmVGZWVkYmFjaygpIHtcbiAgICAgICAgdGhpcy5wb3NpdGl2ZS5lbXB0eSgpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuZmluZChcIi5ibG9ja3B5LXN0dWRlbnQtZXJyb3JcIikuaGlkZSgpO1xuICAgIH1cblxuICAgIGFkZFBvc2l0aXZlRmVlZGJhY2sodGV4dCwgaWNvbiwgY29sb3IsIG9uY2xpY2ssIHRvRW5kKSB7XG4gICAgICAgIGxldCBwb3NpdGl2ZSA9ICQoXCI8c3Bhbj48L3NwYW4+XCIpO1xuICAgICAgICBwb3NpdGl2ZS5hZGRDbGFzcyhcImJsb2NrcHktZmVlZGJhY2stcG9zaXRpdmUtaWNvbiBmYXMgZmEtXCIraWNvbik7XG4gICAgICAgIHBvc2l0aXZlLmNzcyhcImNvbG9yXCIsIGNvbG9yKTtcbiAgICAgICAgcG9zaXRpdmUuYXR0cihcInRpdGxlXCIsIHRleHQpO1xuICAgICAgICBpZiAodG9FbmQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUuYXBwZW5kKHBvc2l0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUucHJlcGVuZChwb3NpdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpdmUudG9vbHRpcCh7XCJ0cmlnZ2VyXCI6IFwiaG92ZXJcIiwgXCJjb250YWluZXJcIjogdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYXR0YWNobWVudFBvaW50fSk7XG4gICAgICAgIGlmIChvbmNsaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvc2l0aXZlLmNsaWNrKG9uY2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHBvc2l0aXZlLmhvdmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmVlZGJhY2tcIiwgXCJwb3NpdGl2ZVwiLCBcImhvdmVyXCIsIHRleHQsIFwiXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGFueSBhY2N1bXVsYXRlZCBmZWVkYmFja1xuICAgICAqL1xuICAgIHByZXNlbnRGZWVkYmFjayhleGVjdXRpb25SZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGZlZWRiYWNrcyA9IHRoaXMuZ2V0QWxsRmVlZGJhY2tzKGV4ZWN1dGlvblJlc3VsdHMpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZlZWRiYWNrKGV4ZWN1dGlvblJlc3VsdHMsIGZlZWRiYWNrcyk7XG5cbiAgICAgICAgdGhpcy5mZWVkYmFja0hlYWRlci5vZmYoXCJjbGlja1wiKTtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXhlY3V0aW9uUmVzdWx0cyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bGxGZWVkYmFjayhmZWVkYmFja3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogTG9nZ2luZ1xuICAgICAgICAvL3RoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcImZlZWRiYWNrXCIsIGNhdGVnb3J5K1wifFwiK2xhYmVsLCBtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5vdGlmeUZlZWRiYWNrVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIHByb2Nlc3NTaW5nbGVGZWVkYmFjayhlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZWxlbWVudC50cCRnZXRhdHRyKHB5X3RpdGxlKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGNhcGl0YWxpemUoZWxlbWVudC50cCRnZXRhdHRyKHB5X2NhdGVnb3J5KS50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3Qga2luZCA9IGVsZW1lbnQudHAkZ2V0YXR0cihweV9raW5kKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBTay5taXNjZXZhbC5pc1RydWUoZWxlbWVudCk7XG4gICAgICAgIGxldCBtZXNzYWdlID0gZWxlbWVudC50cCRnZXRhdHRyKHB5X21lc3NhZ2UpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IHVudXNlZF9tZXNzYWdlID0gZWxlbWVudC50cCRnZXRhdHRyKG5ldyBweVN0cihcInVudXNlZF9tZXNzYWdlXCIpKS50b1N0cmluZygpO1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZSA9PT0gXCJOb25lXCIgPyB1bnVzZWRfbWVzc2FnZSA6IG1lc3NhZ2U7XG4gICAgICAgIGNvbnN0IGp1c3RpZmljYXRpb24gPSBlbGVtZW50LnRwJGdldGF0dHIobmV3IHB5U3RyKFwianVzdGlmaWNhdGlvblwiKSkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC50cCRnZXRhdHRyKG5ldyBweVN0cihcInBhcmVudFwiKSk7XG4gICAgICAgIGNvbnN0IGhhc1BhcmVudCA9ICFTay5idWlsdGluLmNoZWNrTm9uZShwYXJlbnQpO1xuICAgICAgICBsZXQgc2NvcmUgPSBlbGVtZW50LnRwJGdldGF0dHIocHlfcmVzb2x2ZWRfc2NvcmUpO1xuICAgICAgICBzY29yZSA9IHNjb3JlID09PSBTay5idWlsdGluLm5vbmUubm9uZSQgPyBcIlwiXG4gICAgICAgICAgICA6IHNjb3JlLnRwJG5hbWUgPT09IFwiZmxvYXRcIlxuICAgICAgICAgICAgICAgID8gXCIrXCIgKyBNYXRoLnJvdW5kKHNjb3JlLnYqMTAwKS50b1N0cmluZygpICsgXCIlXCJcbiAgICAgICAgICAgICAgICA6IHNjb3JlLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBbZWxlbWVudCwgcGFyZW50LCBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtc3RhcnRcIiAke2hhc1BhcmVudCA/IFwic3R5bGU9J21hcmdpbi1sZWZ0OiA1MHB4OydcIiA6IFwiXCJ9PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCB3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj48c3Ryb25nIGNsYXNzPVwibWItMVwiIHN0eWxlPVwiJHthY3RpdmUgPyBcIlwiIDogXCJ0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcIn1cIj4ke3RpdGxlfTwvc3Ryb25nPiAoJHtjYXRlZ29yeX0gLSAke2tpbmR9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWluZm8gYmFkZ2UtcGlsbFwiPiR7c2NvcmV9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAke2FjdGl2ZSA/IFwiXCIgOiBcIjxkaXY+KE11dGVkIC0gTm90IHNob3duIHRvIHN0dWRlbnQpPC9kaXY+XCJ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMSBwLTEgZmVlZGJhY2stZXhwYW5kLW9uLWNsaWNrIGZlZWRiYWNrLXNocnVua1wiPlxuICAgICAgICAgICAgICAgICR7bWVzc2FnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNtYWxsIHN0eWxlPVwid2hpdGUtc3BhY2U6IHByZVwiPiR7anVzdGlmaWNhdGlvbn08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYF07XG4gICAgfVxuXG4gICAgY291bnRUZXN0Q2FzZXMoZmVlZGJhY2tzKSB7XG4gICAgICAgIGxldCB0ZXN0Q2FzZUNvdW50ID0gMDtcbiAgICAgICAgbGV0IGZlZWRiYWNrQ291bnQgPSBmZWVkYmFja3MubGVuZ3RoO1xuICAgICAgICBsZXQgc3VjY2Vzc2VzID0gMDtcbiAgICAgICAgbGV0IGZlZWRiYWNrU3VjY2VzcyA9IDA7XG4gICAgICAgIGZlZWRiYWNrcy5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBlbGVtZW50LnRwJGdldGF0dHIocHlfY2F0ZWdvcnkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnkgPT09IFwic3BlY2lmaWNhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGVzdENhc2VDb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gU2subWlzY2V2YWwuaXNUcnVlKGVsZW1lbnQpO1xuICAgICAgICAgICAgbGV0IHNjb3JlID0gZWxlbWVudC50cCRnZXRhdHRyKHB5X3Jlc29sdmVkX3Njb3JlKTtcbiAgICAgICAgICAgIHNjb3JlID0gc2NvcmUgPT09IFNrLmJ1aWx0aW4ubm9uZS5ub25lJCA/IDBcbiAgICAgICAgICAgICAgICA6IHNjb3JlLnRwJG5hbWUgPT09IFwiZmxvYXRcIlxuICAgICAgICAgICAgICAgICAgICA/IE1hdGgucm91bmQoc2NvcmUudioxMDApLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgOiBzY29yZTtcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gXCJzcGVjaWZpY2F0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzZXMgKz0gIWFjdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZlZWRiYWNrU3VjY2VzcyArPSAhYWN0aXZlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlc3RzOiB0ZXN0Q2FzZUNvdW50LFxuICAgICAgICAgICAgZmVlZGJhY2tzOiBmZWVkYmFja0NvdW50LFxuICAgICAgICAgICAgc3VjY2Vzc2VzLFxuICAgICAgICAgICAgZmVlZGJhY2tTdWNjZXNzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0QWxsRmVlZGJhY2tzKGV4ZWN1dGlvblJlc3VsdHMpIHtcbiAgICAgICAgaWYgKCEoXCJNQUlOX1JFUE9SVFwiIGluIGV4ZWN1dGlvblJlc3VsdHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1haW5SZXBvcnQgPSBleGVjdXRpb25SZXN1bHRzLk1BSU5fUkVQT1JUO1xuICAgICAgICBjb25zdCBmZWVkYmFjayA9IG1haW5SZXBvcnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJmZWVkYmFja1wiKSk7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmVlZGJhY2tzID0gW107XG4gICAgICAgIFNrLm1pc2NldmFsLml0ZXJGb3IoZmVlZGJhY2sudHAkaXRlcigpLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgZmVlZGJhY2tzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBTay5taXNjZXZhbC5pdGVyRm9yKG1haW5SZXBvcnQudHAkZ2V0YXR0cihuZXcgcHlTdHIoXCJpZ25vcmVkX2ZlZWRiYWNrXCIpKS50cCRpdGVyKCksIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBmZWVkYmFja3MucHVzaChlbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmZWVkYmFja3M7XG4gICAgfVxuXG4gICAgdXBkYXRlRnVsbEZlZWRiYWNrKGZlZWRiYWNrcykge1xuICAgICAgICBmZWVkYmFja3MgPSBmZWVkYmFja3MubWFwKCAoZWxlbWVudCkgPT4gdGhpcy5wcm9jZXNzU2luZ2xlRmVlZGJhY2soZWxlbWVudCkgKTtcbiAgICAgICAgY29uc3QgcGFyZW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWVkYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IFtlbGVtZW50LCBwYXJlbnQsIHRleHRdID0gZmVlZGJhY2tzW2ldO1xuICAgICAgICAgICAgY29uc3QgaGFzUGFyZW50ID0gIVNrLmJ1aWx0aW4uY2hlY2tOb25lKHBhcmVudCk7XG4gICAgICAgICAgICBpZiAoaGFzUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRzLmhhcyhwYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudHMuc2V0KHBhcmVudCwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnRzLmdldChwYXJlbnQpLnB1c2godGV4dCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghcGFyZW50cy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5zZXQoZWxlbWVudCwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnRzLmdldChlbGVtZW50KS51bnNoaWZ0KHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZlZWRiYWNrcyA9IFsuLi5wYXJlbnRzLnZhbHVlcygpXS5mbGF0KCk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tIZWFkZXIub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuc2hvdyhcIkZ1bGwgRmVlZGJhY2sgSW5mb3JtYXRpb25cIiwgJzxkaXYgY2xhc3M9XCJsaXN0LWdyb3VwXCI+JytcbiAgICAgICAgICAgICAgICBmZWVkYmFja3Muam9pbihcIlxcblwiKSArIFwiPC9kaXY+XCIpO1xuICAgICAgICAgICAgJChcIi5mZWVkYmFjay1leHBhbmQtb24tY2xpY2tcIikub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkudG9nZ2xlQ2xhc3MoXCJmZWVkYmFjay1zaHJ1bmtcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbm90aWZ5RmVlZGJhY2tVcGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0ZlZWRiYWNrVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmxvYXRpbmctZmVlZGJhY2tcIikuc2hvdygpLmZhZGVPdXQoNzAwMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRTY3JvbGxJbnRvVmlldygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNob3VsZFNjcm9sbEludG9WaWV3KCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubWFpbi5tb2RlbC51aS5zbWFsbExheW91dCgpO1xuICAgIH1cblxuICAgIHByZXNlbnRSdW5FcnJvcihlcnJvciwganVzdF9yZXR1cm4pIHtcbiAgICAgICAgaWYgKGp1c3RfcmV0dXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGp1c3RfcmV0dXJuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1lc3NhZ2UsIGxhYmVsLCBjYXRlZ29yeSwgbGluZW5vO1xuICAgICAgICBsYWJlbCA9IGVycm9yLnRwJG5hbWU7XG4gICAgICAgIGNhdGVnb3J5ID0gXCJydW50aW1lXCI7XG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmNvbnZlcnRTa3VscHRFcnJvcihlcnJvcik7XG5cbiAgICAgICAgaWYgKGp1c3RfcmV0dXJuKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKGxhYmVsKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIGlmIChsaW5lbm8gIT09IHVuZGVmaW5lZCAmJiBsaW5lbm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnB1c2gobGluZW5vKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJ1aWxkVHJhY2ViYWNrKGVycm9yLCBmaWxlbmFtZUV4ZWN1dGVkKSB7XG4gICAgICAgIHJldHVybiBlcnJvci50cmFjZWJhY2subWFwKGZyYW1lID0+IHtcbiAgICAgICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI/P1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxpbmVubyA9IGZyYW1lLmxpbmVubztcbiAgICAgICAgICAgIGlmIChmcmFtZS5maWxlbmFtZS5zbGljZSgwLCAtMykgPT09IGZpbGVuYW1lRXhlY3V0ZWQpIHtcbiAgICAgICAgICAgICAgICBsaW5lbm8gLT0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzLmluc3RydWN0b3IubGluZU9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmaWxlID0gYEZpbGUgPGNvZGUgY2xhc3M9XCJmaWxlbmFtZVwiPlwiJHtmcmFtZS5maWxlbmFtZX1cIjwvY29kZT4sIGA7XG4gICAgICAgICAgICBsZXQgbGluZSA9IGBvbiBsaW5lIDxjb2RlIGNsYXNzPVwibGluZW5vXCI+JHtsaW5lbm99PC9jb2RlPiwgYDtcbiAgICAgICAgICAgIGxldCBzY29wZSA9IChmcmFtZS5zY29wZSAhPT0gXCI8bW9kdWxlPlwiICYmXG4gICAgICAgICAgICBmcmFtZS5zY29wZSAhPT0gdW5kZWZpbmVkKSA/IGBpbiBzY29wZSAke2ZyYW1lLnNjb3BlfWAgOiBcIlwiO1xuICAgICAgICAgICAgbGV0IHNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmcmFtZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGZyYW1lLnNvdXJjZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJhbWUuZmlsZW5hbWUgJiYgZnJhbWUubGluZW5vKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gU2suZ2V0U291cmNlTGluZShmcmFtZS5maWxlbmFtZSwgZnJhbWUubGluZW5vKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZSA/IGBcXG48cHJlPjxjb2RlPiR7c291cmNlfTwvY29kZT48L3ByZT5gIDogXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBmaWxlICsgbGluZSArIHNjb3BlICsgc291cmNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb252ZXJ0U2t1bHB0RXJyb3IoZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQsIGlzSW5zdHJ1Y3Rvcikge1xuICAgICAgICBsZXQgbmFtZSA9IGVycm9yLnRwJG5hbWU7XG4gICAgICAgIGxldCBhcmdzID0gU2suZmZpLnJlbWFwVG9KcyhlcnJvci5hcmdzKTtcbiAgICAgICAgbGV0IHRvcCA9IGAke25hbWV9OiAke2FyZ3NbMF19XFxuPGJyPlxcbjxicj5gO1xuICAgICAgICBsZXQgdHJhY2ViYWNrID0gXCJcIjtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwiVGltZW91dEVycm9yXCIpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnIgJiYgZXJyb3IuZXJyLnRyYWNlYmFjayAmJiBlcnJvci5lcnIudHJhY2ViYWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEZyYW1lcyA9IHRoaXMuYnVpbGRUcmFjZWJhY2soZXJyb3IuZXJyLCBmaWxlbmFtZUV4ZWN1dGVkKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXCJUcmFjZWJhY2s6XCJdO1xuICAgICAgICAgICAgICAgIGlmIChhbGxGcmFtZXMubGVuZ3RoID4gNSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCguLi5hbGxGcmFtZXMuc2xpY2UoMCwgMyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAuLi4gSGlkaW5nICR7YWxsRnJhbWVzLmxlbmd0aCAtIDN9IG90aGVyIHN0YWNrIGZyYW1lcyAuLi4sYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWxsRnJhbWVzLnNsaWNlKC0zLCAtMikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLmFsbEZyYW1lcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNlYmFjayA9IHJlc3VsdC5qb2luKFwiXFxuPGJyPlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc0luc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0b3AgPSBcIkVycm9yIGluIGluc3RydWN0b3IgZmVlZGJhY2suIFBsZWFzZSBzaG93IHRoZSBmb2xsb3dpbmcgdG8gYW4gaW5zdHJ1Y3Rvcjo8YnI+XFxuXCIrdG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yLnRyYWNlYmFjayAmJiBlcnJvci50cmFjZWJhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdHJhY2ViYWNrID0gXCJUcmFjZWJhY2s6PGJyPlxcblwiICsgdGhpcy5idWlsZFRyYWNlYmFjayhlcnJvciwgZmlsZW5hbWVFeGVjdXRlZCkuam9pbihcIlxcbjxicj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvcCtcIlxcblwiK3RyYWNlYmFjaztcbiAgICB9XG5cbiAgICBwcmVzZW50SW50ZXJuYWxFcnJvcihlcnJvciwgZmlsZW5hbWVFeGVjdXRlZCkge1xuICAgICAgICBpZiAoZXJyb3IudHAkbmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIikge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeShcInJ1bnRpbWVcIik7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKFwiVGltZW91dCBFcnJvclwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoXCJpbnRlcm5hbFwiKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uZmVlZGJhY2subGFiZWwoXCJJbnRlcm5hbCBFcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWVzc2FnZSA9IHRoaXMuY29udmVydFNrdWxwdEVycm9yKGVycm9yLCBmaWxlbmFtZUV4ZWN1dGVkLCB0cnVlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5tZXNzYWdlKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubm90aWZ5RmVlZGJhY2tVcGRhdGUoKTtcblxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLVN5c3RlbS5FcnJvclwiLCBcImludGVybmFsXCIsIFwiSW50ZXJuYWwgRXJyb3JcIiwgbWVzc2FnZSwgZmlsZW5hbWVFeGVjdXRlZCk7XG4gICAgfVxuXG5cblxufSIsImltcG9ydCB7Zmlyc3REZWZpbmVkVmFsdWV9IGZyb20gXCJ1dGlsaXRpZXMuanNcIjtcblxuLy8gJHttYWtlVGFiKFwiP21vY2tfdXJscy5ibG9ja3B5XCIsIFwiVVJMIERhdGFcIiwgdHJ1ZSl9XG5cbmNvbnN0IG1ha2VUYWIgPSBmdW5jdGlvbihmaWxlbmFtZSwgZnJpZW5kbHlOYW1lLCBoaWRlSWZFbXB0eSwgbm90SW5zdHJ1Y3Rvcikge1xuICAgIGlmIChmcmllbmRseU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmcmllbmRseU5hbWUgPSBmaWxlbmFtZTtcbiAgICB9XG4gICAgbGV0IGluc3RydWN0b3JGaWxlQ2xhc3MgPSBcIlwiO1xuICAgIGxldCBoaWRlSWZOb3RJbnN0cnVjdG9yID0gXCJ0cnVlXCI7XG4gICAgaWYgKCFub3RJbnN0cnVjdG9yKSB7XG4gICAgICAgIGluc3RydWN0b3JGaWxlQ2xhc3MgPSBcImJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCI7XG4gICAgICAgIGhpZGVJZk5vdEluc3RydWN0b3IgPSBcImRpc3BsYXkuaW5zdHJ1Y3RvcigpXCI7XG4gICAgfVxuICAgIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gJHtpbnN0cnVjdG9yRmlsZUNsYXNzfVwiPlxuICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJ0YWJcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiBkaXNwbGF5LmZpbGVuYW1lKCkgPT09ICcke2ZpbGVuYW1lfSd9LFxuICAgICAgICAgICAgICAgIGNsaWNrOiBkaXNwbGF5LmZpbGVuYW1lLmJpbmQoJGRhdGEsICcke2ZpbGVuYW1lfScpLFxuICAgICAgICAgICAgICAgIHZpc2libGU6ICghJHtoaWRlSWZFbXB0eX0gfHwgdWkuZmlsZXMuaGFzQ29udGVudHMoJyR7ZmlsZW5hbWV9JykpICYmICR7aGlkZUlmTm90SW5zdHJ1Y3Rvcn1cIj5cbiAgICAgICAgICAgICR7ZnJpZW5kbHlOYW1lfTwvYT5cbiAgICA8L2xpPmA7XG59O1xuXG5leHBvcnQgbGV0IEZJTEVTX0hUTUwgPSBgXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1wYW5lbCBibG9ja3B5LWZpbGVzXCJcbiAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5maWxlcy52aXNpYmxlLCBjbGFzczogdWkuZmlsZXMud2lkdGhcIj5cbjx1bCBjbGFzcz1cIm5hdiBuYXYtdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+XG5cbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxuICAgICAgICA8c3Ryb25nPlZpZXc6IDwvc3Ryb25nPlxuICAgIDwvbGk+XG5cbiAgICAke21ha2VUYWIoXCJhbnN3ZXIucHlcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiFpbnN0cnVjdGlvbnMubWRcIiwgXCJJbnN0cnVjdGlvbnNcIil9XG4gICAgJHttYWtlVGFiKFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiLCBcIlNldHRpbmdzXCIpfVxuICAgICR7bWFrZVRhYihcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiU3RhcnRpbmcgQ29kZVwiKX1cbiAgICAke21ha2VUYWIoXCIhb25fcnVuLnB5XCIsIFwiT24gUnVuXCIpfVxuICAgICR7bWFrZVRhYihcIiFvbl9jaGFuZ2UucHlcIiwgXCJPbiBDaGFuZ2VcIiwgdHJ1ZSl9XG4gICAgJHttYWtlVGFiKFwiIW9uX2V2YWwucHlcIiwgXCJPbiBFdmFsXCIsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiLCBcIlNhbXBsZSBTdWJtaXNzaW9uc1wiLCB0cnVlKX1cbiAgICAke21ha2VUYWIoXCIhdGFncy5ibG9ja3B5XCIsIFwiVGFnc1wiLCB0cnVlKX1cbiAgICBcbiAgICA8IS0tIGtvIGZvcmVhY2g6IGFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMgLS0+XG4gICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczogeydibG9ja3B5LWZpbGUtaW5zdHJ1Y3Rvcic6ICFmaWxlbmFtZSgpLnN0YXJ0c1dpdGgoJyYnKX0sXG4gICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZpbGVuYW1lKCkuc3RhcnRzV2l0aCgnJicpIHx8ICRyb290LmRpc3BsYXkuaW5zdHJ1Y3RvcigpIFwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmVkaXRhYmxlOiBmaWxlbmFtZSgpLnN0YXJ0c1dpdGgoJyYnKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICRyb290LmRpc3BsYXkuZmlsZW5hbWUuYmluZCgkZGF0YSwgZmlsZW5hbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJHJvb3QudWkuZmlsZXMuZGlzcGxheUZpbGVuYW1lKGZpbGVuYW1lKCkpXCI+XG4gICAgICAgICAgICA8L2E+ICAgICAgICBcbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICA8IS0tIGtvIGZvcmVhY2g6IGFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzIC0tPlxuICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiAkcm9vdC5kaXNwbGF5Lmluc3RydWN0b3IoKVwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lLmJpbmQoJGRhdGEsIGZpbGVuYW1lKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGZpbGVuYW1lXCI+XG4gICAgICAgICAgICA8L2E+ICAgICAgICBcbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbiAgICA8IS0tIGtvIGZvcmVhY2g6IHN1Ym1pc3Npb24uZXh0cmFGaWxlcyAtLT5cbiAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJ0YWJcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogJHJvb3QuZGlzcGxheS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSgpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogJHJvb3QuZGlzcGxheS5maWxlbmFtZS5iaW5kKCRkYXRhLCBmaWxlbmFtZSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkcm9vdC51aS5maWxlcy5kaXNwbGF5RmlsZW5hbWUoZmlsZW5hbWUoKSlcIj5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgXG4gICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gZHJvcGRvd25cIiBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5maWxlcy5hZGRJc1Zpc2libGVcIj5cbiAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGluayBkcm9wZG93bi10b2dnbGVcIiBocmVmPVwiI1wiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgcm9sZT1cImJ1dHRvblwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+QWRkIE5ldzwvYT5cbiAgICAgICAgPCEtLSBrbyBpZjogJHJvb3QuZGlzcGxheS5pbnN0cnVjdG9yKCkgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCc/bW9ja191cmxzLmJsb2NrcHknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJz9tb2NrX3VybHMuYmxvY2tweScpXCI+VVJMIERhdGE8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnaW1hZ2VzLmJsb2NrcHknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ2ltYWdlcy5ibG9ja3B5JylcIj5JbWFnZXM8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnP3Rvb2xib3guYmxvY2tweScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnP3Rvb2xib3guYmxvY2tweScpXCI+VG9vbGJveDwvYT5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkuZmlsZXMuaGFzQ29udGVudHMoJyF0YWdzLmJsb2NrcHknKVwiPlRhZ3M8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnIXNhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICchc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHknKVwiPlNhbXBsZSBTdWJtaXNzaW9uczwvYT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+PC9kaXY+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiBhc3NpZ25tZW50Lm9uQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnIW9uX2NoYW5nZS5weScpXCI+T24gQ2hhbmdlPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogYXNzaWdubWVudC5vbkV2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICchb25fZXZhbC5weScpXCI+T24gRXZhbDwvYT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+PC9kaXY+XG4gICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCchYW5zd2VyX3ByZWZpeC5weScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnIWFuc3dlcl9wcmVmaXgucHknKVwiPkFuc3dlciBQcmVmaXg8L2E+XG4gICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCchYW5zd2VyX3N1ZmZpeC5weScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnIWFuc3dlcl9zdWZmaXgucHknKVwiPkFuc3dlciBTdWZmaXg8L2E+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ3N0YXJ0aW5nJylcIj5TdGFydGluZyBGaWxlPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ2luc3RydWN0b3InKVwiPkluc3RydWN0b3IgRmlsZTwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICdzdHVkZW50JylcIj5TdHVkZW50IEZpbGU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICAgICAgPCEtLSBrbyBpZm5vdDogJHJvb3QuZGlzcGxheS5pbnN0cnVjdG9yKCkgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ3N0dWRlbnQnKVwiPlN0dWRlbnQgRmlsZTwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDwhLS0gL2tvIC0tPlxuICAgIDwvbGk+XG4gIFxuPC91bD5cbjwvZGl2PlxuYDtcblxuY29uc3QgTkVXX0lOU1RSVUNUT1JfRklMRV9ESUFMT0dfSFRNTCA9IGBcbjxmb3JtPlxuPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgPGRpdj5cbiAgICAgICAgPHA+VGhpcyBkaWFsb2cgYm94IGlzIGZvciBjcmVhdGluZyB0ZXh0IGZpbGVzIChlLmcuLCBQeXRob24gY29kZSwgTWFya2Rvd24sIGV0Yy4pIHRoYXQgd2lsbCBiZVxuICAgICAgICBhY2Nlc3NpYmxlIGZyb20gUHl0aG9uLiBJZiB5b3Ugd2FudCB0byB1cGxvYWQgYSBiaW5hcnkgZmlsZSAoZS5nLiwgYW4gaW1hZ2UsIGEgc3FsaXRlIGRhdGFiYXNlKSxcbiAgICAgICAgdGhlbiB5b3Ugc2hvdWxkIHVzZSB0aGUgXCJJbWFnZXNcIiBvciBcIlVSTCBEYXRhXCIgb3B0aW9ucy48L3A+XG4gICAgICAgIFxuICAgICAgICA8cD5TdHVkZW50cyB3aWxsIG5vdCBiZSBhYmxlIHRvIHNlZSBmaWxlIHRhYnMgdW5sZXNzIHlvdSBjaGFuZ2UgdGhlIFwiSGlkZSBGaWxlc1wiIHNldHRpbmcgdG8gYmUgdW5jaGVja2VkLjwvcD5cbiAgICA8L2Rpdj5cbiAgICA8IS0tIEZpbGVuYW1lIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZW5hbWVcIj5GaWxlbmFtZTo8L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCJcbiAgICAgICAgICAgIGlkPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCI+ICAgIFxuICAgIDwvZGl2PlxuICAgIDwhLS0gRmlsZXR5cGUgLS0+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHQgbXQtMlwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGV0eXBlXCI+RmlsZXR5cGU6IDwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxldHlwZVwiXG4gICAgICAgICAgICBpZD1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxldHlwZVwiPjwvc3Bhbj4gICAgXG4gICAgPC9kaXY+XG4gICAgPCEtLSBJbmFjY2Vzc2libGUgdG8gc3R1ZGVudD8gLS0+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHQgbXQtMlwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLW5hbWVzcGFjZVwiPk5hbWVzcGFjZTogPC9sYWJlbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5cbiAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbCBibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctbmFtZXNwYWNlXCJcbiAgICAgICAgICAgIGlkPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLW5hbWVzcGFjZVwiPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiFcIj5Db21wbGV0ZWx5IGluYWNjZXNzaWJsZTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIj9cIj5IaWRkZW4gZnJvbSBzdHVkZW50LCBhY2Nlc3NpYmxlIHByb2dyYW1hdGljYWxseTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiZcIj5WaXNpYmxlIHRvIHN0dWRlbnQsIGJ1dCBub3QgZWRpdGFibGU8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgPC9kaXY+XG48L2Rpdj5cbjwvZm9ybT5cbmA7XG5cbi8qKlxuICogRmlsZW5hbWVzIGxpdmUgaW4gb25lIG9mIGZpdmUgcG9zc2libGUgbmFtZXNwYWNlczpcbiAqICBJbnN0cnVjdG9yICghKTogSW52aXNpYmxlIHRvIHRoZSBzdHVkZW50IHVuZGVyIGFsbCBjaXJjdW1zdGFuY2VzXG4gKiAgU3RhcnQgU3BhY2UgKF4pOiBVc2VkIHRvIHJlc2V0IHRoZSBzdHVkZW50IG5hbWVzcGFjZVxuICogIFN0dWRlbnQgU3BhY2UgKCk6IFZpc2libGUgdG8gdGhlIHN0dWRlbnQgd2hlbiBkaXNwbGF5LmhpZGVGaWxlcyBpcyBub3QgdHJ1ZSwgYWJsZSB0byBiZSBlZGl0ZWRcbiAqICBIaWRkZW4gU3BhY2UgKD8pOiBOb3QgZGlyZWN0bHkgdmlzaWJsZSB0byB0aGUgc3R1ZGVudCwgYnV0IGFjY2Vzc2libGUgcHJvZ3JhbW1hdGljYWxseVxuICogIFJlYWQtb25seSBTcGFjZSAoJik6IEFuIGluc3RydWN0b3IgZmlsZSB0eXBlIHZpc2libGUgdG8gdGhlIHN0dWRlbnQsIGJ1dCBpcyB1bmVkaXRhYmxlIGJ5IHRoZW1cbiAqICBTZWNyZXQgU3BhY2UgKCQpOiBOb3QgdmlzaWJsZSBmcm9tIHRoZSBtZW51IGF0IGFsbCwgc29tZSBvdGhlciBtZWNoYW5pc20gY29udHJvbHMgaXRcbiAqICBHZW5lcmF0ZWQgU3BhY2UgKCopOiBWaXNpYmxlIHRvIHRoZSBzdHVkZW50LCBidXQgZGVzdHJveWVkIGFmdGVyIEVuZ2luZS5DbGVhci4gQ2FuIHNoYWRvdyBhbiBhY3R1YWwgZmlsZS5cbiAqICBDb25jYXRlbmF0ZWQgU3BhY2UgKCMpOiBVc2VkIHdoZW4gYnVuZGxpbmcgYSBzcGFjZSBmb3IgdGhlIHNlcnZlci5cbiAqL1xuXG5leHBvcnQgbGV0IFNUQVJUSU5HX0ZJTEVTID0gW1xuICAgIC8vIFN1Ym1pc3Npb25cbiAgICBcImFuc3dlci5weVwiLFxuICAgIC8vIEluc3RydWN0b3IgZmlsZXNcbiAgICBcIiFpbnN0cnVjdGlvbnMubWRcIixcbiAgICBcIiFhc3NpZ25tZW50X3NldHRpbmdzLmJsb2NrcHlcIixcbiAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsXG4gICAgXCIhb25fcnVuLnB5XCIsXG4gICAgXCIkc2V0dGluZ3MuYmxvY2tweVwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IEJBU0lDX05FV19GSUxFUyA9IFtcbiAgICBcIiFvbl9jaGFuZ2UucHlcIixcbiAgICBcIiFvbl9ldmFsLnB5XCIsXG4gICAgXCI/bW9ja191cmxzLmJsb2NrcHlcIixcbiAgICBcIj90b29sYm94LmJsb2NrcHlcIixcbiAgICBcIiF0YWdzLmJsb2NrcHlcIixcbiAgICBcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiLFxuICAgIFwiIWFuc3dlcl9wcmVmaXgucHlcIixcbiAgICBcIiFhbnN3ZXJfc3VmZml4LnB5XCJcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBjaG9tcFNwZWNpYWxGaWxlKGZpbGVuYW1lKSB7XG4gICAgaWYgKFwiIV4/JiQqI1wiLmluY2x1ZGVzKGZpbGVuYW1lWzBdKSkge1xuICAgICAgICByZXR1cm4gZmlsZW5hbWUuc2xpY2UoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbGVuYW1lO1xuICAgIH1cbn1cblxuY29uc3QgSU5TVFJVQ1RPUl9ESVJFQ1RPUlkgPSBcIl9pbnN0cnVjdG9yL1wiO1xuY29uc3QgU1RVREVOVF9ESVJFQ1RPUlkgPSBcIl9zdHVkZW50L1wiO1xuXG5jb25zdCBTZWFyY2hNb2RlcyA9IHtcbiAgICBFVkVSWVdIRVJFOiBcIkVWRVJZV0hFUkVcIixcbiAgICBTVEFSVF9XSVRIX0lOU1RSVUNUT1I6IFwiU1RBUlRfV0lUSF9JTlNUUlVDVE9SXCIsXG4gICAgT05MWV9TVFVERU5UX0ZJTEVTOiBcIk9OTFlfU1RVREVOVF9GSUxFU1wiXG59O1xuXG5jb25zdCBERUxFVEFCTEVfU0lNUExFX0ZJTEVTID0gW1wiIW9uX2NoYW5nZS5weVwiLCBcIiFvbl9ldmFsLnB5XCJdO1xuXG5leHBvcnQgY29uc3QgVU5ERUxFVEFCTEVfRklMRVMgPSBbXCJhbnN3ZXIucHlcIiwgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiIW9uX3J1bi5weVwiLCBcIiRzZXR0aW5ncy5ibG9ja3B5XCJdO1xuXG5leHBvcnQgY29uc3QgVU5SRU5BTUFCTEVfRklMRVMgPSBbXCJhbnN3ZXIucHlcIiwgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiIW9uX3J1bi5weVwiLCBcIiRzZXR0aW5ncy5ibG9ja3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIhb25fY2hhbmdlLnB5XCIsIFwiIW9uX2V2YWwucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj9tb2NrX3VybHMuYmxvY2tweVwiLCBcIj90b29sYm94LmJsb2NrcHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiF0YWdzLmJsb2NrcHlcIiwgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiFhbnN3ZXJfcHJlZml4LnB5XCIsIFwiIWFuc3dlcl9zdWZmaXgucHlcIl07XG5cbmNsYXNzIEJsb2NrUHlGaWxlIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICB0aGlzLmNvbnRlbnRzID0gY29udGVudHMgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5vd25lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTW9kZWxGaWxlKGZpbGVuYW1lLCBjb250ZW50cykge1xuICAgIHJldHVybiB7XCJmaWxlbmFtZVwiOiBrby5vYnNlcnZhYmxlKGZpbGVuYW1lKSwgY29udGVudHM6IGtvLm9ic2VydmFibGUoY29udGVudHMgfHwgXCJcIil9O1xufVxuXG5mdW5jdGlvbiBtYWtlTW9ja01vZGVsRmlsZShmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICByZXR1cm4geyBmaWxlbmFtZTogKCkgPT4gZmlsZW5hbWUsIGNvbnRlbnRzOiAoKSA9PiBjb250ZW50cyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENvbmNhdGVuYXRlZEZpbGUoY29uY2F0ZW5hdGVkRmlsZSwgbW9kZWxGaWxlTGlzdCkge1xuICAgIGlmIChjb25jYXRlbmF0ZWRGaWxlKSB7XG4gICAgICAgIGxldCBmaWxlcyA9IEpTT04ucGFyc2UoY29uY2F0ZW5hdGVkRmlsZSk7XG4gICAgICAgIGxldCBtb2RlbEZpbGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpbGVuYW1lIGluIGZpbGVzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZXMuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxGaWxlcy5wdXNoKG1ha2VNb2RlbEZpbGUoZmlsZW5hbWUsIGZpbGVzW2ZpbGVuYW1lXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vZmlsZXMgPSBmaWxlcy5tYXAoZmlsZSA9PiBtYWtlTW9kZWxGaWxlKGZpbGUuZmlsZW5hbWUsIGZpbGUuY29udGVudHMpKTtcbiAgICAgICAgaWYgKG1vZGVsRmlsZUxpc3QpIHtcbiAgICAgICAgICAgIG1vZGVsRmlsZUxpc3QobW9kZWxGaWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWxGaWxlcztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtb2RlbEZpbGVMaXN0KSB7XG4gICAgICAgICAgICBtb2RlbEZpbGVMaXN0KFtdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWxGaWxlTGlzdCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShtb2RlbEZpbGVMaXN0KCkubWFwKGZpbGUgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGUuZmlsZW5hbWUoKSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiBmaWxlLmNvbnRlbnRzKClcbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZShtb2RlbEZpbGVMaXN0KSB7XG4gICAgcmV0dXJuIGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICAgICAgbW9kZWxGaWxlTGlzdCgpLmZvckVhY2goZmlsZSA9PlxuICAgICAgICAgICAgcmVzdWx0W2ZpbGUuZmlsZW5hbWUoKV0gPSBmaWxlLmNvbnRlbnRzKCkpO1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBYnN0cmFjdHMgYXdheSBkYXRhYmFzZSBsb2dpY1xuICovXG5leHBvcnQgY2xhc3MgQmxvY2tQeUZpbGVTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKG1haW4pIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy5maWxlc18gPSB7fTtcbiAgICAgICAgdGhpcy5tb3VudEZpbGVzKCk7XG5cbiAgICAgICAgdGhpcy53YXRjaE1vZGVsKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlc18gPSB7fTtcblxuICAgICAgICB0aGlzLnJlbW90ZUZpbGVzXyA9IHt9O1xuICAgICAgICB0aGlzLmZpbGVzVG9VcmxzID0ge307XG5cbiAgICAgICAgLyptYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1maWxlLWluc3RydWN0b3JcIikudG9nZ2xlKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3Iuc3Vic2NyaWJlKCh2aXNpYmxpdHkpPT4ge1xuICAgICAgICAgICAgbWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIpLnRvZ2dsZSh2aXNpYmxpdHkpO1xuICAgICAgICB9KTsqL1xuICAgIH1cblxuICAgIHdhdGNoRmlsZShmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCEoZmlsZW5hbWUgaW4gdGhpcy53YXRjaGVzXykpIHtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hlc19bZmlsZW5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YXRjaGVzX1tmaWxlbmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgc3RvcFdhdGNoaW5nRmlsZShmaWxlbmFtZSkge1xuICAgICAgICBkZWxldGUgdGhpcy53YXRjaGVzX1tmaWxlbmFtZV07XG4gICAgfVxuXG4gICAgd2F0Y2hNb2RlbCgpIHtcbiAgICAgICAgbGV0IGZpbGVzeXN0ZW0gPSB0aGlzO1xuICAgICAgICBbdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcyxcbiAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyxcbiAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzXS5mb3JFYWNoKGZpbGVBcnJheSA9PlxuICAgICAgICAgICAgZmlsZUFycmF5LnN1YnNjcmliZShmdW5jdGlvbihjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5zb3J0KChmaXJzdCwgc2Vjb25kKSA9PiBzZWNvbmQuc3RhdHVzLmxvY2FsZUNvbXBhcmUoZmlyc3Quc3RhdHVzKSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVsRmlsZSA9IGNoYW5nZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2Uuc3RhdHVzID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFjayBuZXcgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlID0gZmlsZXN5c3RlbS5uZXdGaWxlKG1vZGVsRmlsZS5maWxlbmFtZSgpLCBtb2RlbEZpbGUuY29udGVudHMoKSwgbW9kZWxGaWxlLmNvbnRlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc3lzdGVtLm5vdGlmeVdhdGNoZXMoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5nZS5zdGF0dXMgPT09IFwiZGVsZXRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGZpbGVzeXN0ZW0uZGVsZXRlRmlsZUxvY2FsbHlfKG1vZGVsRmlsZS5maWxlbmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZXN5c3RlbS5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gbW9kZWxGaWxlLmZpbGVuYW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXN5c3RlbS5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoXCJhbnN3ZXIucHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIHRoaXMsIFwiYXJyYXlDaGFuZ2VcIilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBhbnN3ZXIucHlcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byBmaXJzdCBlbGVtZW50IG9mIHN1Ym1pc3Npb24uY29kZSlcbiAgICAvLyAhb25fcnVuLnB5LCAhb25fY2hhbmdlLnB5LCAhb25fZXZhbC5weVxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIHJlbGV2YW50IGFzc2lnbm1lbnQuPHdoYXRldmVyPlxuICAgIC8vIF5zdGFydGluZ19jb2RlLnB5XG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gZmlyc3QgZWxlbWVudCBvZiBhc3NpZ25tZW50LnN0YXJ0aW5nQ29kZVxuICAgIC8vIF53aGF0ZXZlclxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIHJlc3Qgb2YgdGhlIGVsZW1lbnRzIG9mIGFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlXG4gICAgLy8gIXdoYXRldmVyIG9yID93aGF0ZXZlclxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIGVsZW1lbnRzIG9mIGFzc2lnbm1lbnQuZXh0cmFGaWxlc1xuICAgIC8vIE90aGVyd2lzZTpcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byByZXN0IG9mIHRoZSBlbGVtZW50cyBvZiBzdWJtaXNzaW9uLmNvZGVcbiAgICAvKipcbiAgICAgKiBOZXcgc3BlY2lhbCBmaWxlcyBuZWVkIHRvIGJlIHJlZ2lzdGVyZWQgaGVyZVxuICAgICAqIEBwYXJhbSBmaWxlIHtCbG9ja1B5RmlsZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ic2VydmVGaWxlXyhmaWxlKSB7XG4gICAgICAgIGlmIChmaWxlLmZpbGVuYW1lID09PSBcImFuc3dlci5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhb25fcnVuLnB5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25SdW47XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhb25fY2hhbmdlLnB5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhb25fZXZhbC5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uRXZhbDtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiFpbnN0cnVjdGlvbnMubWRcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnM7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCJec3RhcnRpbmdfY29kZS5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnN0YXJ0aW5nQ29kZTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIj9tb2NrX3VybHMuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCI/dG9vbGJveC5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiFhbnN3ZXJfcHJlZml4LnB5XCIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiFhbnN3ZXJfc3VmZml4LnB5XCIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlLmZpbGVuYW1lID09PSBcIiF0YWdzLmJsb2NrcHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC50YWdzO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIXNhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2FtcGxlU3VibWlzc2lvbnM7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIkc2V0dGluZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5O1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIl5cIikpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZS5zdGFydHNXaXRoKFwiIVwiKSB8fFxuICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIj9cIikgfHxcbiAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9ic2VydmVJbkFycmF5XyhmaWxlLCBhcnJheSkge1xuICAgICAgICBmaWxlLm93bmVyID0gYXJyYXk7XG4gICAgICAgIGxldCBjb2RlQnVuZGxlID0gZmlsZS5vd25lcigpO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBjb2RlQnVuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY29kZUJ1bmRsZVtpXS5maWxlbmFtZSgpID09PSBmaWxlLmZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSBjb2RlQnVuZGxlW2ldLmNvbnRlbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlLmhhbmRsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG5ld0ZpbGUgPSBtYWtlTW9kZWxGaWxlKGZpbGUuZmlsZW5hbWUpO1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSBuZXdGaWxlLmNvbnRlbnRzO1xuICAgICAgICAgICAgYXJyYXkucHVzaChuZXdGaWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdW50RmlsZXMoKSB7XG4gICAgICAgIHRoaXMubmV3RmlsZShcImFuc3dlci5weVwiKTtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiXnN0YXJ0aW5nX2NvZGUucHlcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFvbl9ydW4ucHlcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFpbnN0cnVjdGlvbnMubWRcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFhc3NpZ25tZW50X3NldHRpbmdzLmJsb2NrcHlcIik7XG4gICAgfVxuXG4gICAgZGlzbW91bnRFeHRyYUZpbGVzKCkge1xuICAgICAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMuZmlsZXNfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc18uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoVU5ERUxFVEFCTEVfRklMRVMuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZmlsZXNfW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy53YXRjaGVzX1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3VibWlzc2lvbi5jb2RlVE9ETzogU2hvdWxkbid0IHdlIG5vdGlmeSB0aGUgVUkgdGhhdCB0aGUgZmlsZSB3YXMgZGVsZXRlZD9cbiAgICB9XG5cbiAgICBuZXdGaWxlKGZpbGVuYW1lLCBjb250ZW50cywgbW9kZWxGaWxlKSB7XG4gICAgICAgIGlmIChmaWxlbmFtZSBpbiB0aGlzLmZpbGVzXykge1xuICAgICAgICAgICAgLy8gRmlsZSBhbHJlYWR5IGV4aXN0cyEgSnVzdCB1cGRhdGUgaXRzIGhhbmRsZVxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nRmlsZSA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIGlmIChtb2RlbEZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUZpbGVfKGV4aXN0aW5nRmlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nRmlsZS5oYW5kbGUgPSBtb2RlbEZpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleGlzdGluZ0ZpbGUuaGFuZGxlKGNvbnRlbnRzIHx8IFwiXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nRmlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZpbGUgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgICAgIGxldCBuZXdGaWxlID0gbmV3IEJsb2NrUHlGaWxlKHRoaXMubWFpbiwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgdGhpcy5maWxlc19bZmlsZW5hbWVdID0gbmV3RmlsZTtcbiAgICAgICAgICAgIGlmIChtb2RlbEZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUZpbGVfKG5ld0ZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdGaWxlLmhhbmRsZSA9IG1vZGVsRmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5oYW5kbGUoY29udGVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld0ZpbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3cml0ZUZpbGUoZmlsZW5hbWUsIGNvbnRlbnRzKSB7XG4gICAgICAgIGNvbnRlbnRzID0gY29udGVudHMgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5maWxlc19bZmlsZW5hbWVdLmhhbmRsZShjb250ZW50cyk7XG4gICAgfVxuXG4gICAgcmVhZEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5oYW5kbGUoKTtcbiAgICB9XG5cbiAgICBnZXRGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVzX1tmaWxlbmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxvYmplY3R9IFRoZSBpbmZvIGFib3V0IHRoZSBmaWxlLCBvciBmYWxzZSBpZiBpdCBjb3VsZCBub3QgYmUgZGVsZXRlZFxuICAgICAqL1xuICAgIGRlbGV0ZUZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKERFTEVUQUJMRV9TSU1QTEVfRklMRVMuaW5kZXhPZihmaWxlbmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuZGVsZXRlRmlsZUxvY2FsbHlfKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlc19bZmlsZW5hbWVdLm93bmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmlnZ2VycyBhIGNhbGxiYWNrIHRvIGV2ZW50dWFsbHkgY2FsbCBkZWxldGVGaWxlTG9jYWxseV9cbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5vd25lci5yZW1vdmUobW9kZWxGaWxlID0+IG1vZGVsRmlsZS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZm91bmQgfHwgZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWxldGVGaWxlTG9jYWxseV8oZmlsZW5hbWUpIHtcbiAgICAgICAgbGV0IGZpbGUgPSB0aGlzLmZpbGVzX1tmaWxlbmFtZV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZpbGVzX1tmaWxlbmFtZV07XG4gICAgICAgIGlmIChmaWxlbmFtZSBpbiB0aGlzLndhdGNoZXNfKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGVuYW1lXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrLmRlbGV0ZWQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfVxuXG4gICAgcmVuYW1lRmlsZShzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIGlmIChVTlJFTkFNQUJMRV9GSUxFUy5pbmRleE9mKHNvdXJjZSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlc19bZmlsZW5hbWVdLm93bmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmlnZ2VycyBhIGNhbGxiYWNrIHRvIGV2ZW50dWFsbHkgY2FsbCBkZWxldGVGaWxlTG9jYWxseV9cbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5vd25lci5yZW1vdmUobW9kZWxGaWxlID0+IG1vZGVsRmlsZS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZm91bmQgfHwgZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBub3RpZnlXYXRjaGVzKGZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGUuZmlsZW5hbWUgaW4gdGhpcy53YXRjaGVzXykge1xuICAgICAgICAgICAgdGhpcy53YXRjaGVzX1tmaWxlLmZpbGVuYW1lXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrLnVwZGF0ZWQoZmlsZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VhcmNoRm9yRmlsZShuYW1lLCBzdHVkZW50U2VhcmNoKSB7XG4gICAgICAgIC8qXG4gICAgICAgIFRPRE86IFRoaXMgaXMgY2FsbGVkIHF1aXRlIGEgYml0IGJ5IHRoZSBJbXBvcnQgbWVjaGFuaXNtLCBtaWdodCBuZWVkXG4gICAgICAgICAgICAgIHRvIG9wdGltaXplIGl0IHNvbWUgbW9yZS4gRG8gdGltaW5nIHRlc3RzLlxuXG4gICAgICAgIGZpbGVzLipcbiAgICAgICAgX2luc3RydWN0b3IvZmlsZXMuKlxuICAgICAgICBfc3R1ZGVudC9maWxlcy4qXG5cbiAgICAgICAgSWYgYSBzdHVkZW50IHNlYXJjaGVzIGZvciBhIGZpbGUsIGl0IGNoZWNrcyB0aGUgXCI/XCIsIFwiJlwiLCBcIipcIiwgXCJcIiBuYW1lc3BhY2VzXG4gICAgICAgICAgICBpbXBvcnQgaGVscGVyID0+IFwiLi9oZWxwZXIucHlcIlxuICAgICAgICAgICAgb3BlbihcImV4dGVybmFsLmpzb25cIikgPT4gXCJleHRlcm5hbC5qc29uXCJcbiAgICAgICAgSWYgYW4gaW5zdHJ1Y3RvciBzZWFyY2hlcyBmb3IgYSBmaWxlLCBpdCBjaGVja3MgXCIhXCIsIFwiXlwiLCBcIj9cIiwgXCImXCIsIFwiKlwiLCBcIlwiIG5hbWVzcGFjZXNcbiAgICAgICAgICAgIFRvIGV4cGxpY2l0bHkgc2VhcmNoIGluc3RydWN0b3IgbmFtZXNwYWNlcyBmaXJzdFxuICAgICAgICAgICAgICAgIGltcG9ydCBfaW5zdHJ1Y3Rvci5oZWxwZXIgPT4gXCIuL2luc3RydWN0b3IvaGVscGVyLnB5XCJcbiAgICAgICAgICAgICAgICBvcGVuKFwiX2luc3RydWN0b3IvZXh0ZXJuYWwuanNvblwiKSA9PiBcIl9pbnN0cnVjdG9yL2V4dGVybmFsLmpzb25cIlxuICAgICAgICAgICAgdG8gYWxsb3cgc3R1ZGVudCBmaWxlcyB0byBvdmVycmlkZTpcbiAgICAgICAgICAgICAgICBpbXBvcnQgaGVscGVyID0+IFwiLi9oZWxwZXIucHlcIlxuICAgICAgICAgICAgICAgIG9wZW4oXCJleHRlcm5hbC5qc29uXCIpID0+IFwiZXh0ZXJuYWwuanNvblwiXG4gICAgICAgICAgICB0byBvbmx5IGNoZWNrIHN0dWRlbnQgZmlsZXMsIHByZXBlbmQgd2l0aCBfc3R1ZGVudFxuICAgICAgICAgKi9cbiAgICAgICAgLy8gQ2hvcCBvZmYgc3RhcnRpbmcgXCIuL1wiXG4gICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoXCIuL1wiKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5FVkVSWVdIRVJFO1xuICAgICAgICAvLyBTaG91bGQgdGhlIHNlYXJjaCBiZSBzdGFydCB3aXRoIGluc3RydWN0b3Igc2lkZT9cbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aChJTlNUUlVDVE9SX0RJUkVDVE9SWSkpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKElOU1RSVUNUT1JfRElSRUNUT1JZLmxlbmd0aCk7XG4gICAgICAgICAgICBzZWFyY2hNb2RlID0gU2VhcmNoTW9kZXMuU1RBUlRfV0lUSF9JTlNUUlVDVE9SO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3VsZCB0aGUgc2VhcmNoIGJlIGxpbWl0ZWQgdG8gdGhlIHN0dWRlbnQgbW9kZT9cbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aChTVFVERU5UX0RJUkVDVE9SWSkpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKFNUVURFTlRfRElSRUNUT1JZLmxlbmd0aCk7XG4gICAgICAgICAgICBzZWFyY2hNb2RlID0gU2VhcmNoTW9kZXMuT05MWV9TVFVERU5UX0ZJTEVTO1xuICAgICAgICB9IGVsc2UgaWYgKHN0dWRlbnRTZWFyY2gpIHtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIGluc3RydWN0b3IgdmVyc2lvbnNcbiAgICAgICAgbGV0IGV4dHJhU3R1ZGVudEZpbGVzID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcygpO1xuICAgICAgICBsZXQgZXh0cmFJbnN0cnVjdG9yRmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpO1xuICAgICAgICBsZXQgZXh0cmFTdGFydGluZ0ZpbGVzID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzKCk7XG4gICAgICAgIC8vIENoZWNrIHNwZWNpYWwgZmlsZXMgKFRPRE86IGhvdyB3b3VsZCBhbiBpbnN0cnVjdG9yIGFjY2VzcyBcIi4vX2luc3RydWN0b3IvYW5zd2VyLnB5XCI/XG4gICAgICAgIGxldCBzcGVjaWFsRmlsZSA9IHRoaXMuc2VhcmNoRm9yU3BlY2lhbEZpbGVzXyhuYW1lLCBzZWFyY2hNb2RlKTtcbiAgICAgICAgaWYgKHNwZWNpYWxGaWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzcGVjaWFsRmlsZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydCBsb29raW5nIHRocm91Z2ggcG9zc2libGUgZmlsZXNcbiAgICAgICAgbGV0IHN0dWRlbnRWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYVN0dWRlbnRGaWxlcywgbmFtZSk7XG4gICAgICAgIGxldCBnZW5lcmF0ZWRWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYVN0dWRlbnRGaWxlcywgXCIqXCIrbmFtZSk7XG4gICAgICAgIGxldCBkZWZhdWx0VmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiJlwiK25hbWUpO1xuICAgICAgICBsZXQgaGlkZGVuVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiP1wiK25hbWUpO1xuICAgICAgICBsZXQgcmVtb3RlVmVyc2lvbiA9IHRoaXMucmVtb3RlRmlsZXNfW25hbWVdO1xuICAgICAgICBpZiAoc2VhcmNoTW9kZSA9PT0gU2VhcmNoTW9kZXMuT05MWV9TVFVERU5UX0ZJTEVTKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3REZWZpbmVkVmFsdWUoaGlkZGVuVmVyc2lvbiwgZGVmYXVsdFZlcnNpb24sIHN0dWRlbnRWZXJzaW9uLCBnZW5lcmF0ZWRWZXJzaW9uLCByZW1vdGVWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5zdHJ1Y3RvclZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhSW5zdHJ1Y3RvckZpbGVzLCBcIiFcIituYW1lKTtcbiAgICAgICAgbGV0IHN0YXJ0aW5nVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFTdGFydGluZ0ZpbGVzLCBcIl5cIituYW1lKTtcbiAgICAgICAgaWYgKHNlYXJjaE1vZGUgPT09IFNlYXJjaE1vZGVzLlNUQVJUX1dJVEhfSU5TVFJVQ1RPUikge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0RGVmaW5lZFZhbHVlKGluc3RydWN0b3JWZXJzaW9uLCBoaWRkZW5WZXJzaW9uLCBzdGFydGluZ1ZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZlcnNpb24sIHN0dWRlbnRWZXJzaW9uLCBnZW5lcmF0ZWRWZXJzaW9uLCByZW1vdGVWZXJzaW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5FVkVSWVdIRVJFKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3REZWZpbmVkVmFsdWUoZGVmYXVsdFZlcnNpb24sIHN0dWRlbnRWZXJzaW9uLCBnZW5lcmF0ZWRWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0b3JWZXJzaW9uLCBoaWRkZW5WZXJzaW9uLCBzdGFydGluZ1ZlcnNpb24sIHJlbW90ZVZlcnNpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VhcmNoRm9yRmlsZUluTGlzdF8obW9kZWxMaXN0LCBmaWxlbmFtZSkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBtb2RlbExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtb2RlbExpc3RbaV0uZmlsZW5hbWUoKSA9PT0gZmlsZW5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxMaXN0W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc2VhcmNoRm9yU3BlY2lhbEZpbGVzXyhmaWxlbmFtZSwgc2VhcmNoTW9kZSkge1xuICAgICAgICBpZiAoc2VhcmNoTW9kZSA9PT0gU2VhcmNoTW9kZXMuT05MWV9TVFVERU5UX0ZJTEVTKSB7XG4gICAgICAgICAgICBpZiAoZmlsZW5hbWUgPT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZU1vY2tNb2RlbEZpbGUoXCJfaW5zdHJ1Y3Rvci9hbnN3ZXIucHlcIiwgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29kZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChmaWxlbmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImFuc3dlci5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL2Fuc3dlci5weVwiLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCkpO1xuICAgICAgICAgICAgY2FzZSBcIm9uX3J1bi5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL29uX3J1bi5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpKTtcbiAgICAgICAgICAgIGNhc2UgXCJvbl9jaGFuZ2UucHlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZU1vY2tNb2RlbEZpbGUoXCJfaW5zdHJ1Y3Rvci9vbl9jaGFuZ2UucHlcIiwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UoKSk7XG4gICAgICAgICAgICBjYXNlIFwib25fZXZhbC5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL29uX2V2YWwubWRcIiwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkpO1xuICAgICAgICAgICAgY2FzZSBcImluc3RydWN0aW9ucy5tZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL2luc3RydWN0aW9ucy5tZFwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMoKSk7XG4gICAgICAgICAgICBjYXNlIFwic3RhcnRpbmdfY29kZS5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL3N0YXJ0aW5nX2NvZGUucHlcIiwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbmV3RmlsZURpYWxvZyhraW5kKSB7XG4gICAgICAgIGxldCBib2R5ID0gJChORVdfSU5TVFJVQ1RPUl9GSUxFX0RJQUxPR19IVE1MKTtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gYm9keS5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxlbmFtZVwiKTtcbiAgICAgICAgbGV0IGZpbGV0eXBlID0gYm9keS5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxldHlwZVwiKTtcbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IGJvZHkuZmluZChcIi5ibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctbmFtZXNwYWNlXCIpO1xuICAgICAgICBsZXQgZXh0ZW5zaW9uUmVnZXggPSAvKD86XFwuKFteLl0rKSk/JC87XG4gICAgICAgIGZpbGVuYW1lLm9uKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGV4dGVuc2lvbiA9IGV4dGVuc2lvblJlZ2V4LmV4ZWMoZmlsZW5hbWUudmFsKCkpWzFdO1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uID09PSB1bmRlZmluZWQgPyBcIk5vIGV4dGVuc2lvblwiIDogZXh0ZW5zaW9uO1xuICAgICAgICAgICAgLy9UT0RPOiB0aGlzLm1haW4uY29tcG9uZW50cy5lZGl0b3JzLmdldEVkaXRvckZyb21FeHRlbnNpb24oZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgIGZpbGV0eXBlLnRleHQoZXh0ZW5zaW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB5ZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcHJlZml4ID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChraW5kID09PSBcImluc3RydWN0b3JcIikge1xuICAgICAgICAgICAgICAgIHByZWZpeCA9IG5hbWVzcGFjZS52YWwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gXCJzdGFydGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gXCJeXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWxlbmFtZS52YWwoKSkge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gcHJlZml4K2ZpbGVuYW1lLnZhbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3RmlsZShmaWxlbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGJvZHkuc3VibWl0KChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB5ZXMoKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLmNvbmZpcm0oXCJNYWtlIE5ldyBGaWxlXCIsIGJvZHksIHllcywgKCk9Pnt9LCBcIkFkZFwiKTtcbiAgICB9XG5cbiAgICBsb2FkUmVtb3RlRmlsZXMoZmlsZXM9bnVsbCkge1xuICAgICAgICAvLyBDbGVhciBleGlzdGluZyByZW1vdGUgZmlsZXMgKD8pXG4gICAgICAgIC8qXG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMucmVtb3RlRmlsZXNfKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5yZW1vdGVGaWxlc19bcHJvcF07XG4gICAgICAgIH0pOyovXG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcblxuICAgICAgICBjb25zdCBwcmVsb2FkRmlsZXMgPSBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnByZWxvYWRGaWxlcygpIHx8IG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MucHJlbG9hZEFsbEZpbGVzKCk7XG4gICAgICAgIGlmICghcHJlbG9hZEZpbGVzICYmICFmaWxlcykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MucHJlbG9hZEZpbGVzKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZmlsZXMgPSBKU09OLnBhcnNlKHByZWxvYWRGaWxlcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwcmVsb2FkIGZpbGVzLCBpbnZhbGlkIHN0cnVjdHVyZTogXCIsIGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kb3dubG9hZFJlbW90ZUZpbGVzKGZpbGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlcykge1xuICAgICAgICAgICAgdGhpcy5kb3dubG9hZFJlbW90ZUZpbGVzKHRoaXMucmVvcmdhbml6ZUZpbGVzKGZpbGVzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubGlzdFVwbG9hZGVkRmlsZXMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkUmVtb3RlRmlsZXModGhpcy5yZW9yZ2FuaXplRmlsZXMoZGF0YS5maWxlcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW9yZ2FuaXplRmlsZXMoZmlsZXMpIHtcbiAgICAgICAgY29uc3Qgb3JnYW5pemVkID0ge307XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGZpbGVzKS5mb3JFYWNoKChbcGxhY2VtZW50LCBwbGFjZWRGaWxlc10pID0+IHtcbiAgICAgICAgICAgIHBsYWNlZEZpbGVzLmZvckVhY2goKFtmaWxlbmFtZSwgdXJsXSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5zZWFyY2hQYXJhbXM7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0b3J5ID0gc2VhcmNoUGFyYW1zLmdldChcImRpcmVjdG9yeVwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSBzZWFyY2hQYXJhbXMuZ2V0KFwicGxhY2VtZW50XCIpO1xuICAgICAgICAgICAgICAgIGlmICghKHBsYWNlbWVudCBpbiBvcmdhbml6ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXplZFtwbGFjZW1lbnRdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKGRpcmVjdG9yeSBpbiBvcmdhbml6ZWRbcGxhY2VtZW50XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemVkW3BsYWNlbWVudF1bZGlyZWN0b3J5XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcmdhbml6ZWRbcGxhY2VtZW50XVtkaXJlY3RvcnldW2ZpbGVuYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxlc1RvVXJsc1tmaWxlbmFtZV0gPSB1cmw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvcmdhbml6ZWQ7XG4gICAgfVxuXG4gICAgZG93bmxvYWRSZW1vdGVGaWxlcyhmaWxlcykge1xuICAgICAgICBjb25zdCBvbGRSZW1haW5pbmdGaWxlcyA9IE9iamVjdC5rZXlzKHRoaXMucmVtb3RlRmlsZXNfKTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZmlsZXMpLmZvckVhY2goKFtwbGFjZW1lbnQsIHBsYWNlbWVudERhdGFdKSA9PiB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhwbGFjZW1lbnREYXRhKS5mb3JFYWNoKChbZGlyZWN0b3J5LCBkaXJlY3RvcnlEYXRhXSkgPT4ge1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGRpcmVjdG9yeURhdGEpLmZvckVhY2goKFtmaWxlbmFtZSwgcmVuYW1lZEZpbGVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW5hbWVkRmlsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVuYW1lZEZpbGUgPSBmaWxlbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZW5hbWVkRmlsZSBpbiB0aGlzLnJlbW90ZUZpbGVzXykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5kb3dubG9hZEZpbGUocGxhY2VtZW50LCBkaXJlY3RvcnksIGZpbGVuYW1lLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3RmlsZShcImltYWdlcy5ibG9ja3B5XCIsIFwie31cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVGaWxlc19bcmVuYW1lZEZpbGVdID0gbWFrZU1vY2tNb2RlbEZpbGUocmVuYW1lZEZpbGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbGRSZW1haW5pbmdGaWxlc1tyZW5hbWVkRmlsZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBDbGVhbiB1cCB0aGUgb2xkIGZpbGVzIGFmdGVyIGFsbCB0aGUgbmV3IG9uZXMgYXJlIGxvYWRlZFxuICAgIH1cbn0iLCIvL1RPRE86IE1vdmUgZ2V0IGxpbmsgZG93biB0byBmb290ZXIsIHJlbW92ZSB2ZXJ0aWNhbCBiYXIgZnJvbSBxdWljay1tZW51XG5leHBvcnQgbGV0IEZPT1RFUl9IVE1MID0gYFxuPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBibG9ja3B5LXBhbmVsIGJsb2NrcHktc3RhdHVzXCI+XG4gICAgPGRpdj5cbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnbG9hZEFzc2lnbm1lbnQnKVwiPkxvYWQgQXNzaWdubWVudFxuICAgICAgICAgICAgPCEtLSBrbyBpZjogZGlzcGxheS5pbnN0cnVjdG9yIC0tPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmxvY2tweS1mb3JjZS1sb2FkLWFzc2lnbm1lbnQtZmlsZSBibG9ja3B5LWhpZGRlbi1maWxlXCJcbiAgICAgICAgICAgIGFjY2VwdD1cImFwcGxpY2F0aW9uL0pTT05cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiZXZlbnQ6IHtjaGFuZ2U6IHVpLnNlcnZlci5mb3JjZS5sb2FkQXNzaWdubWVudH1cIj5cbiAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICA8L2xhYmVsPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnc2F2ZUFzc2lnbm1lbnQnKVwiPlNhdmUgQXNzaWdubWVudDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ2xvYWRGaWxlJylcIj5Mb2FkIEZpbGU8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdzYXZlRmlsZScpXCI+U2F2ZSBGaWxlPC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnbG9hZERhdGFzZXQnKVwiPkxvYWQgRGF0YXNldDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ2xvZ0V2ZW50JylcIj5Mb2cgRXZlbnQ8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCd1cGRhdGVTdWJtaXNzaW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLnNlcnZlci5mb3JjZS51cGRhdGVTdWJtaXNzaW9uXCI+VXBkYXRlIFN1Ym1pc3Npb248L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdvbkV4ZWN1dGlvbicpXCI+RXhlY3V0aW9uPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdWkuc2VydmVyLm1lc3NhZ2VzXCI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxzcGFuPlVzZXI6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuaWRcIj48L3NwYW4+ICg8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1c2VyLm5hbWVcIj48L3NwYW4+LCA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1c2VyLnJvbGVcIj48L3NwYW4+KTwvc3Bhbj4sIFxuICAgICAgICA8c3Bhbj5Db3Vyc2U6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuY291cnNlSWRcIj48L3NwYW4+PC9zcGFuPixcbiAgICAgICAgPHNwYW4+R3JvdXA6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuZ3JvdXBJZFwiPjwvc3Bhbj48L3NwYW4+LFxuICAgICAgICA8c3Bhbj5Bc3NpZ25tZW50OiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBhc3NpZ25tZW50LmlkXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPkFzc2lnbm1lbnQgVmVyc2lvbjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogYXNzaWdubWVudC52ZXJzaW9uXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPlN1Ym1pc3Npb246IFxuICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3VibWlzc2lvbi5pZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD1cImlmOiBzdWJtaXNzaW9uLm93bmVySWQoKSAhPSB1c2VyLmlkKClcIj5cbiAgICAgICAgICAgICAgICAoT3duZXIgSUQ6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHN1Ym1pc3Npb24ub3duZXJJZCgpXCI+PC9zcGFuPilcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPiwgXG4gICAgICAgIDxzcGFuPlN1Ym1pc3Npb24gVmVyc2lvbjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3VibWlzc2lvbi52ZXJzaW9uXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPkVkaXRvciBWZXJzaW9uOiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBkaXNwbGF5LmVkaXRvclZlcnNpb25cIj48L3NwYW4+PC9zcGFuPlxuICAgIDwvZGl2PlxuPC9kaXY+XG5gOyIsIi8vIFRPRE86IFNob3VsZCBkaXNhYmxlIGJ1dHRvbnMgaWYgd2UgY2FuJ3QgYWN0aXZhdGUgdGhlbS5cblxuZXhwb3J0IGNvbnN0IEhJU1RPUllfVE9PTEJBUl9IVE1MID0gYFxuPGRpdiBjbGFzcz1cImJsb2NrcHktaGlzdG9yeS10b29sYmFyIGNvbC1tZC0xMlwiIGRhdGEtYmluZD1cInZpc2libGU6IGRpc3BsYXkuaGlzdG9yeU1vZGVcIj5cblxuICAgIDxmb3JtIGNsYXNzPVwiZm9ybS1pbmxpbmVcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJsb2NrcHktaGlzdG9yeS1zdGFydCBidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IG1yLTJcIiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5oaXN0b3J5LnN0YXJ0XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLXN0ZXAtYmFja3dhcmQnPjwvc3Bhbj4gU3RhcnRcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IG1yLTJcIiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5oaXN0b3J5LnByZXZpb3VzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWJhY2t3YXJkJz48L3NwYW4+IFByZXZpb3VzXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8c2VsZWN0IGNsYXNzPVwiYmxvY2tweS1oaXN0b3J5LXNlbGVjdG9yIGZvcm0tY29udHJvbCBjdXN0b20tc2VsZWN0IG1yLTJcIiBhcmlhLXRpdGxlPVwiSGlzdG9yeSBTZWxlY3RvclwiPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXItMlwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3RvcnkudXNlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWZpbGUtaW1wb3J0Jz48L3NwYW4+IFVzZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXItMlwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3RvcnkubmV4dFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1mb3J3YXJkJz48L3NwYW4+IE5leHRcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS5tb3N0UmVjZW50XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLXN0ZXAtZm9yd2FyZCc+PC9zcGFuPiBNb3N0IFJlY2VudFxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Zvcm0+XG48L2Rpdj5cbmA7XG5cbi8qKlxuICogQW4gb2JqZWN0IGZvciBkaXNwbGF5aW5nIHRoZSB1c2VyJ3MgY29kaW5nIGxvZ3MgKHRoZWlyIGhpc3RvcnkpLlxuICogQSBsaWdodHdlaWdodCBjb21wb25lbnQsIGl0cyBvbmx5IGpvYiBpcyB0byBvcGVuIGEgZGlhbG9nLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlIaXN0b3J5fVxuICogQHBhcmFtIHtPYmplY3R9IG1haW4gLSBUaGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBCbG9ja1B5SGlzdG9yeSB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICB0aGlzLmN1cnJlbnRJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xuICAgICAgICB0aGlzLmVkaXRFdmVudHMgPSBbXTtcbiAgICB9XG5cbiAgICBsb2FkKGhpc3RvcnkpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gaGlzdG9yeTtcbiAgICAgICAgdGhpcy5lZGl0RXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSAkKFwiLmJsb2NrcHktaGlzdG9yeS1zZWxlY3RvclwiKS5lbXB0eSgpO1xuICAgICAgICBsZXQgZWRpdElkID0gMDtcbiAgICAgICAgaGlzdG9yeVxuICAgICAgICAgICAgLmZpbHRlcigoZW50cnkpID0+IChcbiAgICAgICAgICAgICAgICAhZW50cnkuZmlsZV9wYXRoLnN0YXJ0c1dpdGgoXCJfaW5zdHJ1Y3Rvci5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuZXZlbnRfdHlwZSAhPT0gXCJDb21waWxlXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuZXZlbnRfdHlwZSAhPT0gXCJJbnRlcnZlbnRpb25cIiAmJlxuICAgICAgICAgICAgICAgICAgICAoIXRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpIHx8IGVudHJ5LmV2ZW50X3R5cGUgIT09IFwiWC1TdWJtaXNzaW9uLkxNU1wiKVxuICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRfdHlwZSA9IFJFTUFQX0VWRU5UX1RZUEVTW2VudHJ5LmV2ZW50X3R5cGVdIHx8IGVudHJ5LmV2ZW50X3R5cGU7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3BsYXllZCA9IHByZXR0eVByaW50RGF0ZVRpbWUoZW50cnkuY2xpZW50X3RpbWVzdGFtcCkgK1wiIC0gXCIrZXZlbnRfdHlwZTtcbiAgICAgICAgICAgICAgICBsZXQgZGlzYWJsZSA9IChlbnRyeS5ldmVudF90eXBlICE9PSBcIkZpbGUuRWRpdFwiKTtcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gJChcIjxvcHRpb24+PC9vcHRpb24+XCIsIHt0ZXh0OiBkaXNwbGF5ZWQsIGRpc2FibGVkOiBkaXNhYmxlfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0RXZlbnQoZW50cnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5hdHRyKFwidmFsdWVcIiwgZWRpdElkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0RXZlbnRzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0SWQgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5hcHBlbmQob3B0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbChNYXRoLm1heCgwLCBlZGl0SWQtMSkpO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLmNoYW5nZSgoZXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtb3ZlVG9TdGFydCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci52YWwoMCk7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgbW92ZVByZXZpb3VzKCkge1xuICAgICAgICBsZXQgY3VycmVudElkID0gcGFyc2VJbnQodGhpcy5zZWxlY3Rvci52YWwoKSwgMTApO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbChNYXRoLm1heCgwLCBjdXJyZW50SWQtMSkpO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcigpO1xuICAgIH1cblxuICAgIG1vdmVOZXh0KCkge1xuICAgICAgICBsZXQgY3VycmVudElkID0gcGFyc2VJbnQodGhpcy5zZWxlY3Rvci52YWwoKSwgMTApO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbChNYXRoLm1pbih0aGlzLmVkaXRFdmVudHMubGVuZ3RoLTEsIGN1cnJlbnRJZCsxKSk7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgbW92ZVRvTW9zdFJlY2VudCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci52YWwodGhpcy5lZGl0RXZlbnRzLmxlbmd0aC0xKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFZGl0b3IoKSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRFdmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudElkID0gcGFyc2VJbnQodGhpcy5zZWxlY3Rvci52YWwoKSwgMTApO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLnNldENvZGUodGhpcy5lZGl0RXZlbnRzW2N1cnJlbnRJZF0ubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRFdmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudElkID0gcGFyc2VJbnQodGhpcy5zZWxlY3Rvci52YWwoKSwgMTApO1xuICAgICAgICAgICAgbGV0IGNvZGUgPSB0aGlzLmVkaXRFdmVudHNbY3VycmVudElkXS5tZXNzYWdlO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLmVkaXRvcnMucHl0aG9uLnR1cm5PZmZIaXN0b3J5TW9kZSgpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmZpbGUuaGFuZGxlKGNvZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNFZGl0RXZlbnQoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuICgoZW50cnkuZXZlbnRfdHlwZSA9PT0gXCJGaWxlLkVkaXRcIiB8fFxuICAgICAgICAgICAgICAgICBlbnRyeS5ldmVudF90eXBlID09PSBcIkZpbGUuQ3JlYXRlXCIpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSA9PT0gZW50cnkuZmlsZV9wYXRoKTtcbiAgICB9XG5cbn1cblxuY29uc3QgUkVNQVBfRVZFTlRfVFlQRVMgPSB7XG4gICAgXCJTZXNzaW9uLlN0YXJ0XCI6IFwiQmVnYW4gc2Vzc2lvblwiLFxuICAgIFwiWC1JUC5DaGFuZ2VcIjogXCJDaGFuZ2VkIElQIGFkZHJlc3NcIixcbiAgICBcIkZpbGUuRWRpdFwiOiBcIkVkaXRlZCBjb2RlXCIsXG4gICAgXCJGaWxlLkNyZWF0ZVwiOiBcIlN0YXJ0ZWQgYXNzaWdubWVudFwiLFxuICAgIFwiUnVuLlByb2dyYW1cIjogXCJSYW4gcHJvZ3JhbVwiLFxuICAgIFwiQ29tcGlsZS5FcnJvclwiOiBcIlN5bnRheCBlcnJvclwiLFxuICAgIFwiWC1TdWJtaXNzaW9uLkxNU1wiOiBcIlVwZGF0ZWQgZ3JhZGVcIlxufTtcblxuY29uc3QgbW9udGhOYW1lcyA9IFtcbiAgICBcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLFxuICAgIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIixcbiAgICBcIkF1Z1wiLCBcIlNlcHRcIiwgXCJPY3RcIixcbiAgICBcIk5vdlwiLCBcIkRlY1wiXG5dO1xuY29uc3Qgd2Vla0RheXMgPSBbXG4gICAgXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIixcbiAgICBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLFxuICAgIFwiU2F0XCJcbl07XG5cbmZ1bmN0aW9uIGlzU2FtZURheShmaXJzdCwgc2Vjb25kKSB7XG4gICAgcmV0dXJuIGZpcnN0LmdldERhdGUoKSA9PT0gc2Vjb25kLmdldERhdGUoKSAmJlxuICAgICAgICBmaXJzdC5nZXRNb250aCgpID09PSBzZWNvbmQuZ2V0TW9udGgoKSAmJlxuICAgICAgICBmaXJzdC5nZXRGdWxsWWVhcigpID09PSBzZWNvbmQuZ2V0RnVsbFllYXIoKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgYSBkYXRlL3RpbWUgc3RyaW5nIGFuZCByZXdyaXRlIGl0IGFzIHNvbWV0aGluZ1xuICogbW9yZSBodW1hbiByZWFkYWJsZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSB0aW1lU3RyaW5nIC0gdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aW1lIChcIllZWVlNTUREIEhITU1TU1wiKVxuICogQHJldHVybnMge1N0cmluZ30gLSBBIGh1bWFuLXJlYWRhYmxlIHRpbWUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBwcmV0dHlQcmludERhdGVUaW1lKHRpbWVTdHJpbmcpIHtcbiAgICAvKmxldCB5ZWFyID0gdGltZVN0cmluZy5zbGljZSgwLCA0KSxcbiAgICAgICAgbW9udGggPSBwYXJzZUludCh0aW1lU3RyaW5nLnNsaWNlKDQsIDYpLCAxMCktMSxcbiAgICAgICAgZGF5ID0gdGltZVN0cmluZy5zbGljZSg2LCA4KSxcbiAgICAgICAgaG91ciA9IHRpbWVTdHJpbmcuc2xpY2UoOSwgMTEpLFxuICAgICAgICBtaW51dGVzID0gdGltZVN0cmluZy5zbGljZSgxMSwgMTMpLFxuICAgICAgICBzZWNvbmRzID0gdGltZVN0cmluZy5zbGljZSgxMywgMTUpOyovXG4gICAgLy8gVE9ETzogSGFuZGxlIHRpbWV6b25lcyBjb3JyZWN0bHlcbiAgICBpZiAodGltZVN0cmluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBcIlVuZGVmaW5lZCBUaW1lXCI7XG4gICAgfVxuICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBwYXN0ID0gbmV3IERhdGUocGFyc2VJbnQodGltZVN0cmluZywgMTApKTtcbiAgICBpZiAoaXNTYW1lRGF5KG5vdywgcGFzdCkpIHtcbiAgICAgICAgcmV0dXJuIFwiVG9kYXkgYXQgXCIrcGFzdC50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGF5U3RyID0gd2Vla0RheXNbcGFzdC5nZXREYXkoKV07XG4gICAgICAgIGxldCBtb250aFN0ciA9IG1vbnRoTmFtZXNbcGFzdC5nZXRNb250aCgpXTtcbiAgICAgICAgbGV0IGRhdGUgPSBkYXlTdHIgKyBcIiwgXCIgKyBtb250aFN0ciArIFwiIFwiICsgcGFzdC5nZXREYXRlKCk7XG4gICAgICAgIGlmIChub3cuZ2V0RnVsbFllYXIoKSA9PT0gcGFzdC5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZSArIFwiIGF0IFwiK3Bhc3QudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZSArIFwiLCBcIitwYXN0LmdldEZ1bGxZZWFyKCkgKyBcIiBhdCBcIitwYXN0LnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKlxuICogT3BlbnMgdGhlIGhpc3RvcnkgZGlhbG9nIGJveC4gVGhpcyByZXF1aXJlcyBhIHRyaXAgdG8gdGhlIHNlcnZlciBhbmRcbiAqIG9jY3VycyBhc3luY2hyb25vdXNseS4gVGhlIHVzZXJzJyBjb2RlIGlzIHNob3duIGluIHByZWZvcm1hdHRlZCB0ZXh0XG4gKiB0YWdzIChubyBjb2RlIGhpZ2hsaWdodGluZyBjdXJyZW50bHkpIGFsb25nIHdpdGggdGhlIHRpbWVzdGFtcC5cbiAqL1xuQmxvY2tQeUhpc3RvcnkucHJvdG90eXBlLm9wZW5EaWFsb2cgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlhbG9nID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nO1xuICAgIHZhciBib2R5ID0gXCI8cHJlPmEgPSAwPC9wcmU+XCI7XG4gICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmdldEhpc3RvcnkoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgYm9keSA9IGRhdGEucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoY29tcGxldGUsIGVsZW0pIHsgXG4gICAgICAgICAgICB2YXIgY29tcGxldGVfc3RyID0gcHJldHR5UHJpbnREYXRlVGltZShlbGVtLnRpbWUpO1xuICAgICAgICAgICAgdmFyIG5ld19saW5lID0gXCI8Yj5cIitjb21wbGV0ZV9zdHIrXCI8L2I+PGJyPjxwcmU+XCIrZWxlbS5jb2RlK1wiPC9wcmU+XCI7XG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGUrXCJcXG5cIituZXdfbGluZTtcbiAgICAgICAgfSwgXCJcIik7XG4gICAgICAgIGRpYWxvZy5zaG93KFwiV29yayBIaXN0b3J5XCIsIGJvZHksIGZ1bmN0aW9uKCkge30pO1xuICAgIH0pO1xufTsiLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29udGFpbnMgbWFpbiBIVE1MIG9mIEJsb2NrUHkgaW50ZXJmYWNlLCBhbmQgaGVscGVyIGZ1bmN0aW9ucy5cbiAqIENvbWJpbmVzIGEgbG90IG9mIEhUTUwgZnJvbSBjb21wb25lbnRzLlxuICpcbiAqIEhlcmUncyB0aGUgbGF5b3V0OlxuICogIFJvdyAxOiBIZWFkZXIgYW5kIFF1aWNrIE1lbnVcbiAqICBSb3cgMjogQ29uc29sZSBhbmQgRmVlZGJhY2tcbiAqICBSb3cgMzogRmlsZSBOYXZpZ2F0aW9uXG4gKiAgUm93IDQ6IFZpZXcgUm93XG4gKiAgUm93IDU6IEZvb3RlciBSb3dcbiAqL1xuXG5pbXBvcnQge1RSQUNFX0hUTUx9IGZyb20gXCJ0cmFjZS5qc1wiO1xuaW1wb3J0IHtESUFMT0dfSFRNTH0gZnJvbSBcImRpYWxvZy5qc1wiO1xuaW1wb3J0IHtGRUVEQkFDS19IVE1MfSBmcm9tIFwiZmVlZGJhY2suanNcIjtcbmltcG9ydCB7RklMRVNfSFRNTH0gZnJvbSBcImZpbGVzLmpzXCI7XG5pbXBvcnQge0ZPT1RFUl9IVE1MfSBmcm9tIFwiZm9vdGVyLmpzXCI7XG5pbXBvcnQge0VESVRPUlNfSFRNTH0gZnJvbSBcImVkaXRvcnMuanNcIjtcbmltcG9ydCB7Q09OU09MRV9IVE1MfSBmcm9tIFwiY29uc29sZS5qc1wiO1xuXG4vKipcbiAqIFRoZSBkaWZmZXJlbnQgbGF5b3V0IG9wdGlvbnMgb2YgdGhlIHBhbmVzIGluIHRoZSBzZWNvbmQgcm93IG9mIHRoZSBsYXlvdXQuXG4gKiBAZW51bSB7U3RyaW5nfVxuICovXG5leHBvcnQgbGV0IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucyA9IHtcbiAgICBGRUVEQkFDSzogXCJmZWVkYmFja1wiLFxuICAgIFRSQUNFOiBcInRyYWNlXCIsXG4gICAgTk9ORTogXCJub25lXCJcbn07XG5cbi8qKlxuICogU2V0dXAgYW55IGFkZGl0aW9uYWwgS25vY2tvdXQgc3Vic2NyaXB0aW9ucyB0byBmaXJlIG9uIGludGVyZmFjZSBjaGFuZ2VzLlxuICogQHBhcmFtIHNlbGZcbiAqIEBwYXJhbSBtb2RlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUV4dHJhSW50ZXJmYWNlU3Vic2NyaXB0aW9ucyhzZWxmLCBtb2RlbCkge1xuICAgIC8vIEhpZ2hsaWdodCBNYXJrZG93biB3aGVuIGluc3RydWN0aW9ucyB1cGRhdGVcbiAgICBsZXQgaGlnaGxpZ2h0VGltZW91dCA9IG51bGw7XG4gICAgbW9kZWwudWkuaW5zdHJ1Y3Rpb25zLmN1cnJlbnQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgaWYgKGhpZ2hsaWdodFRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChoaWdobGlnaHRUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBoaWdobGlnaHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rpb25zIHByZSBjb2RlXCIpLm1hcCggKGksIGJsb2NrKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93LmhsanMuaGlnaGxpZ2h0QmxvY2soYmxvY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDQwMCk7XG4gICAgfSk7XG4gICAgLy8gUHJvdmlkZSBGdWxsc2NyZWVuIHN1cHBvcnRcbiAgICBtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4uc3Vic2NyaWJlKChpc0Z1bGxzY3JlZW4pID0+IHtcbiAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRGlzcGxheS5GdWxsc2NyZWVuLlJlcXVlc3RcIiwgXCJcIiwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bGxzY3JlZW4udG9TdHJpbmcoKSwgXCJcIik7XG4gICAgICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IG5hdmlnYXRpb25VSSBjb3VsZCBhbGxvdyB1cyB0byBmb3JjZSBjb250cm9scyB0byBzaG93XG4gICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5wYXJlbnQoKVswXS5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBgRXJyb3IgYXR0ZW1wdGluZyB0byBlbmFibGUgZnVsbC1zY3JlZW4gbW9kZTogJHtlcnIubWVzc2FnZX0gKCR7ZXJyLm5hbWV9KWA7XG4gICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRGlzcGxheS5GdWxsc2NyZWVuLkVycm9yXCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLCAgXCJcIik7XG4gICAgICAgICAgICAgICAgYWxlcnQobWVzc2FnZSk7XG4gICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1EaXNwbGF5LkZ1bGxzY3JlZW4uU3VjY2Vzc1wiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJhdXRvXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLURpc3BsYXkuRnVsbHNjcmVlbi5FeGl0XCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bGxzY3JlZW4udG9TdHJpbmcoKSwgXCJcIik7XG4gICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIFRPRE86IEdldCBzaGFyZWFibGUgbGluayBidXR0b25cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbnRlcmZhY2UobWFpbikge1xuICAgIHJldHVybiBgXG48ZGl2IGNsYXNzPSdibG9ja3B5LWNvbnRlbnQgY29udGFpbmVyLWZsdWlkJz5cblxuICAgIDwhLS0gRGlhbG9nIC0tPlxuICAgICR7RElBTE9HX0hUTUx9XG4gICAgXG4gICAgPCEtLSBIaWRkZW4gQ2FwdHVyZSBDYW52YXMgLS0+XG4gICAgPGNhbnZhcyBpZD0nY2FwdHVyZS1jYW52YXMnIGNsYXNzPSdkLW5vbmUnIHJvbGU9XCJwcmVzZW50YXRpb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2NhbnZhcz5cbiAgICBcbiAgICA8IS0tIFJvdyAxOiBIZWFkZXIgYW5kIFF1aWNrIE1lbnUgLS0+XG4gICAgPGRpdiBjbGFzcz0ncm93JyBkYXRhLWJpbmQ9XCJoaWRkZW46IHVpLnNtYWxsTGF5b3V0KClcIj5cbiAgICAgICAgIFxuICAgICAgICAgPCEtLSBEZXNjcmlwdGlvbiAtLT5cbiAgICAgICAgIDxkaXYgY2xhc3M9J2NvbC1tZC05IGJsb2NrcHktcGFuZWwgYmxvY2tweS1oZWFkZXInXG4gICAgICAgICAgICAgICByb2xlPSdoZWFkaW5nJyBhcmlhLWxhYmVsPSdBc3NpZ25tZW50IERlc2NyaXB0aW9uJz5cbiAgICAgICAgIFxuICAgICAgICAgICAgPCEtLSBBc3NpZ25tZW50IE5hbWUgLS0+XG4gICAgICAgICAgICA8c3BhbiByb2xlPSdoZWFkaW5nJyBhcmlhLWxldmVsPScxJ1xuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJibG9ja3B5LW5hbWVcIj5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPkJsb2NrUHk6IDwvc3Ryb25nPiBcbiAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9J3RleHQ6IGFzc2lnbm1lbnQubmFtZSc+PC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8IS0tIFJlc2V0IEluc3RydWN0aW9ucyBCdXR0b24gLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1pbnN0cnVjdGlvbnMtcmVzZXRcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmluc3RydWN0aW9ucy5pc0NoYW5nZWRcIj5cbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImZsb2F0LXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmluc3RydWN0aW9ucy5yZXNldFwiXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAgUmVzZXQgaW5zdHJ1Y3Rpb25zPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwhLS0gSW5zdHJ1Y3Rpb25zIC0tPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nYmxvY2tweS1pbnN0cnVjdGlvbnMnXG4gICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImh0bWw6IHVpLmluc3RydWN0aW9ucy5jdXJyZW50XCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPSdjb2wtbWQtMyBibG9ja3B5LXBhbmVsIGJsb2NrcHktcXVpY2stbWVudSdcbiAgICAgICAgICAgICByb2xlPSdtZW51YmFyJyBhcmlhLWxhYmVsPSdRdWljayBNZW51JyB0aXRsZT1cIlF1aWNrIE1lbnVcIj5cbiAgICAgICAgICAgIDwhLS0gR2V0IFNoYXJlYWJsZSBMaW5rIC0tPlxuICAgICAgICAgICAgPCEtLTxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiPlxuICAgICAgICAgICAgICAgIEdldCBzaGFyZWFibGUgbGluazwvYnV0dG9uPi0tPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidmlzaWJsZTogdWkubWVudS5pc1N1Ym1pdHRlZFwiPlxuICAgICAgICAgICAgICAgIFlvdXIgc3VibWlzc2lvbiBpcyByZWFkeSB0byBiZSByZXZpZXdlZCE8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLm1lbnUuY2FuTWFya1N1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHVpLm1lbnUudGV4dE1hcmtTdWJtaXR0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkubWVudS5jbGlja01hcmtTdWJtaXR0ZWRcIj48L2J1dHRvbj5cbiAgICAgICAgICAgIDwhLS0gVmlldyBhcyBpbnN0cnVjdG9yIC0tPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIlxuICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5yb2xlLmlzR3JhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiXCIgaWQ9XCJibG9ja3B5LWFzLWluc3RydWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBkaXNwbGF5Lmluc3RydWN0b3JcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1hcy1pbnN0cnVjdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgIFZpZXcgYXMgaW5zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwhLS0gUmVhZG9ubHkgbW9kZSBmb3Igc3B5aW5nIC0tPlxuICAgICAgICAgICAgPGRpdiBkYXRhLWJpbmQ9XCJpZjogc3VibWlzc2lvbi5vd25lcklkKCkgIT0gdXNlci5pZCgpXCI+XG4gICAgICAgICAgICAgICAgT3duZXI6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHN1Ym1pc3Npb24ub3duZXJJZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJibG9ja3B5LXJlYWQtb25seVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBkaXNwbGF5LnJlYWRPbmx5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXJlYWQtb25seVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhZG9ubHk/XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8IS0tIEZ1bGxzY3JlZW4gYnV0dG9uIC0tPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkubWVudS5jbGlja0Z1bGxzY3JlZW5cIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiRnVsbCBTY3JlZW5cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzJyBkYXRhLWJpbmQ9XCJjbGFzczogdWkubWVudS50ZXh0RnVsbHNjcmVlblwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBFZGl0IFF1ZXVlZCBJbnB1dHMgLS0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5tZW51LmVkaXRJbnB1dHMsIHZpc2libGU6IHVpLm1lbnUuc2hvd1F1ZXVlZElucHV0c1wiIHRpdGxlPVwiRWRpdCBJbnB1dHNcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWxpc3QtYWx0Jz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwhLS0gVG9nZ2xlIEltYWdlIFJlbmRlcmluZyAtLT5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5tZW51LnRvZ2dsZUltYWdlc1wiIHRpdGxlPVwiVG9nZ2xlIEltYWdlc1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWltYWdlc1wiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBHZXQgU2hhcmVhYmxlIExpbmsgRGlhbG9nIC0tPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogKCk9PnVpLm1lbnUuc3RhcnRTaGFyZShmYWxzZSksIHZpc2libGU6IHVpLm1lbnUuY2FuU2hhcmVcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiR2V0IFNoYXJlYWJsZSBMaW5rIGZvciBJbnN0cnVjdG9ycyBvciBUQXNcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1saW5rXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDsgY3Vyc29yOiBwb2ludGVyXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5mZWVkYmFjay5zaG93SW5zdHJ1Y3RvclN0ZG91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZGlzcGxheS5pbnN0cnVjdG9yKClcIlxuICAgICAgICAgICAgdGl0bGU9XCJTaG93IGluc3RydWN0b3Igc3Rkb3V0IGluIGEgZGlhbG9nIGJveC5cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtdGVybWluYWxcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwhLS0gUGluayBCdWcgZm9yIGFjdHVhbCBlcnJvcnMgLS0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrcHktc3R1ZGVudC1lcnJvciBmYXMgZmEtYnVnXCI+PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5tZW51LnNob3dDbG9ja1wiIGNsYXNzPVwiYmxvY2tweS1tZW51LWNsb2NrXCI+PC9zcGFuPlxuICAgICAgICAgICAgPCEtLSBrbyBpZjogYXNzaWdubWVudC5zZXR0aW5ncy5pbnN0cnVjdGlvbnNQb29sIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldC1zZWVkXCIgY2xhc3M9XCJteS0xIG1yLTJcIj5TZWVkPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBtYi0yIG1yLXNtLTJcIiBpZD1cImJsb2NrcHktc2V0LXNlZWRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJcbiAgICAgICAgICAgICAgICAgICAgdGV4dElucHV0OiBkaXNwbGF5LnBvb2xTZWVkLFxuICAgICAgICAgICAgICAgICAgICBhdHRyOiB7cGxhY2Vob2xkZXI6IHN1Ym1pc3Npb24uaWR9XG4gICAgICAgICAgICAgICAgXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8IS0tIGtvIGlmOiB1aS5zbWFsbExheW91dCgpIC0tPlxuICAgIDwhLS0gU21hbGwgbGF5b3V0IFZpZXcgYXMgaW5zdHJ1Y3RvciAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiXG4gICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5yb2xlLmlzR3JhZGVyXCI+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIlwiIGlkPVwiYmxvY2tweS1hcy1pbnN0cnVjdG9yXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNoZWNrZWQ6IGRpc3BsYXkuaW5zdHJ1Y3RvclwiPlxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1hcy1pbnN0cnVjdG9yXCI+XG4gICAgICAgICAgICBWaWV3IGFzIGluc3RydWN0b3JcbiAgICAgICAgPC9sYWJlbD5cbiAgICA8L2Rpdj5cbiAgICA8IS0tIGtvIGlmOiB1aS5maWxlcy52aXNpYmxlKCkgLS0+XG4gICAgJHtGSUxFU19IVE1MfVxuICAgIDwhLS0gL2tvIC0tPlxuICAgIDwhLS0gL2tvIC0tPlxuICAgIFxuICAgIDxkaXYgY2xhc3M9J3Jvdyc+XG4gICAgPCEtLSBSb3cgMjogQ29uc29sZSBhbmQgRmVlZGJhY2sgLS0+XG4gICAgPCEtLSBrbyBpZjogdWkuc2Vjb25kUm93LmlzQWxsVmlzaWJsZSAtLT5cbiAgICA8ZGl2IGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZWNvbmRSb3cud2lkdGhcIj5cbiAgICA8ZGl2IGNsYXNzPSdyb3cnPlxuICAgICAgICA8IS0tIENvbnNvbGUgLS0+XG4gICAgICAgICR7Q09OU09MRV9IVE1MfVxuICAgICAgICA8IS0tIEZlZWRiYWNrIC0tPlxuICAgICAgICA8IS0tIGtvIGlmOiB1aS5zZWNvbmRSb3cuaXNGZWVkYmFja1Zpc2libGUgLS0+XG4gICAgICAgICR7RkVFREJBQ0tfSFRNTH1cbiAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgIDwhLS0gVHJhY2UgLS0+XG4gICAgICAgIDwhLS0ga28gaWY6IHVpLnNlY29uZFJvdy5pc1RyYWNlVmlzaWJsZSAtLT5cbiAgICAgICAgJHtUUkFDRV9IVE1MfVxuICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbiAgICA8IS0tIFJvdyAzOiBGaWxlIE5hdmlnYXRpb24gLS0+XG4gICAgPCEtLSBrbyBpZjogdWkuZmlsZXMudmlzaWJsZSgpICYmICF1aS5zbWFsbExheW91dCgpIC0tPlxuICAgICR7RklMRVNfSFRNTH1cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbiAgICA8IS0tIFJvdyA0OiBWaWV3IFJvdyAtLT5cbiAgICAke0VESVRPUlNfSFRNTH1cbiAgICBcbiAgICA8L2Rpdj5cbiAgICBcbiAgICBcbiAgICA8IS0tIFJvdyA1OiBGb290ZXIgUm93IC0tPiAgICBcbiAgICA8IS0tIGtvIGlmOiB1aS5mb290ZXIudmlzaWJsZSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICR7Rk9PVEVSX0hUTUx9XG4gICAgPC9kaXY+XG4gICAgPCEtLSAva28gLS0+XG4gICAgXG48L2Rpdj5cbiAgICBgO1xufSIsIlxyXG5cclxuZXhwb3J0IGNvbnN0IFBPT0xfU0VQQVJBVE9SUyA9IHtcclxuICAgIFRFU1RTOiAvI3s0LH0gLisgI3s0LH0vLFxyXG4gICAgSU5TVFJVQ1RJT05TOiAvPCEtezQsfSMgLisgIy17NCx9Pi9cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQb29sSW5kZXgocG9vbHMsIHNlZWQpIHtcclxuICAgIHJldHVybiAxICsgKHNlZWQgJSAocG9vbHMubGVuZ3RoLTIpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RGcm9tUG9vbChwb29sLCBzcGxpdHRlciwgc2VlZCkge1xyXG4gICAgY29uc3QgcG9vbHMgPSBwb29sLnNwbGl0KHNwbGl0dGVyKTtcclxuICAgIGlmIChwb29scy5sZW5ndGggPD0gMikge1xyXG4gICAgICAgIHJldHVybiBcIiM+Pj4gSW52YWxpZCBQb29sOiBOb3QgRW5vdWdoIFBhcnRzIVxcbiMgUmVtZW1iZXIgdG8gaW5jbHVkZSBoZWFkZXIgYW5kIGZvb3RlciFcXG4jIE9yaWdpbmFsIGRhdGEgaXMgYmVsb3dcXG5cIiArIHBvb2w7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaG9zZW5Qb29sID0gcG9vbHNbY2FsY3VsYXRlUG9vbEluZGV4KHBvb2xzLCBzZWVkKV07XHJcbiAgICBjb25zdCBwb29sUGFydHMgPSBbcG9vbHNbMF0sIGNob3NlblBvb2wsIHBvb2xzW3Bvb2xzLmxlbmd0aC0xXV07XHJcbiAgICByZXR1cm4gcG9vbFBhcnRzLmpvaW4oXCJcXG5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3VudFBvb2xzKHBvb2wsIHNwbGl0dGVyKSB7XHJcbiAgICByZXR1cm4gcG9vbC5zcGxpdChzcGxpdHRlcikubGVuZ3RoLTI7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UG9vbEluc3RydWN0aW9ucyh0ZXh0LCBtb2RlbCkge1xyXG4gICAgY29uc3QgaXNJbnN0cnVjdG9yID0gbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCk7XHJcbiAgICBjb25zdCBzZWVkID0gbW9kZWwudWkubWVudS5jdXJyZW50U2VlZCgpO1xyXG4gICAgbGV0IGNvbnRlbnQ7XHJcbiAgICAvLyBpZiAoaXNJbnN0cnVjdG9yKSB7XHJcbiAgICAvLyAgICAgY29udGVudCA9IG1hcmtQb29scyh0ZXh0LCBQT09MX1NFUEFSQVRPUlMuSU5TVFJVQ1RJT05TLCBzZWVkKTtcclxuICAgIC8vIH1cclxuICAgIGNvbnRlbnQgPSBleHRyYWN0RnJvbVBvb2wodGV4dCwgUE9PTF9TRVBBUkFUT1JTLklOU1RSVUNUSU9OUywgc2VlZCk7XHJcbiAgICBpZiAoaXNJbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgY29udGVudCArPSBcIlxcblxcbl9UaGlzIHF1ZXN0aW9uIHdhcyBkcmF3biBmcm9tIGEgcmFuZG9taXplZCBxdWVzdGlvbiBwb29sLiBBZGp1c3QgdGhlIHNlZWQgdG8gdmlldyBhIGRpZmZlcmVudCBxdWVzdGlvbi4gVW5jaGVjayBcXFwiVmlldyBhcyBJbnN0cnVjdG9yXFxcIiB0byBoaWRlIHRoaXMgbWVzc2FnZTsgc3R1ZGVudHMgd2lsbCBub3Qgc2VlIGl0IGVpdGhlciB3YXkuX1xcblwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hcmtQb29scyhwb29sLCBzcGxpdHRlciwgc2VlZCkge1xyXG4vLyAgICAgY29uc3QgcG9vbHMgPSBwb29sLnNwbGl0KFBPT0xfU0VQQVJBVE9SUy5JTlNUUlVDVElPTlMpO1xyXG4vLyAgICAgY29uc3QgY2hvc2VuUG9vbEluZGV4ID0gY2FsY3VsYXRlUG9vbEluZGV4KHBvb2xzLCBzZWVkKTtcclxuLy8gICAgIGNvbnN0IGNvbnRlbnQgPSBwb29scy5tYXAoXHJcbi8vICAgICAgICAgKHBhcnQsIGluZGV4KSA9PiB7XHJcbi8vICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgaWYgKGluZGV4ID09PSBjaG9zZW5Qb29sSW5kZXgpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICk7XHJcbi8vICAgICByZXR1cm4gY29udGVudC5qb2luKFwiXFxuLS0tXFxuXCIpO1xyXG4vLyB9IiwiaW1wb3J0IHtMb2NhbFN0b3JhZ2VXcmFwcGVyfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQge2xvYWRBc3NpZ25tZW50U2V0dGluZ3MsIHNhdmVBc3NpZ25tZW50U2V0dGluZ3N9IGZyb20gXCIuL2VkaXRvci9hc3NpZ25tZW50X3NldHRpbmdzXCI7XG5cbi8qKlxuICpcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBsZXQgU3RhdHVzU3RhdGUgPSB7XG4gICAgUkVBRFk6IFwicmVhZHlcIixcbiAgICBBQ1RJVkU6IFwiYWN0aXZlXCIsXG4gICAgUkVUUllJTkc6IFwicmV0cnlpbmdcIixcbiAgICBGQUlMRUQ6IFwiZmFpbGVkXCIsXG4gICAgT0ZGTElORTogXCJvZmZsaW5lXCJcbn07XG5cbi8qKlxuICogT2JqZWN0IGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIGV4dGVybmFsIHNlcnZlcnMuIFRoaXMgaW5jbHVkZXMgZnVuY3Rpb25hbGl0eSBmb3JcbiAqIHNhdmluZyBhbmQgbG9hZGluZyBmaWxlcywgbG9nZ2luZyBldmVudHMsIHNhdmluZyBjb21wbGV0aW9ucywgYW5kIHJldHJpZXZpbmcgaGlzdG9yeS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtCbG9ja1B5U2VydmVyfVxuICogQHBhcmFtIHtPYmplY3R9IG1haW4gLSBUaGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCbG9ja1B5U2VydmVyKG1haW4pIHtcbiAgICB0aGlzLm1haW4gPSBtYWluO1xuXG4gICAgLy8gU2F2ZSBVUkxzIGxvY2FsbHkgZm9yIHF1aWNrZXIgYWNjZXNzXG4gICAgdGhpcy51cmxzID0gbWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHM7XG5cbiAgICAvLyBBZGQgdGhlIExvY2FsU3RvcmFnZSBjb25uZWN0aW9uXG4gICAgdGhpcy5zdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZVdyYXBwZXIoXCJCTE9DS1BZXCIpO1xuXG4gICAgLy8gRmF1bHRSZXNpc3RhbnRDYWNoZVxuICAgIHRoaXMucXVldWUgPSB7XG4gICAgICAgIFwibG9nRXZlbnRcIjogSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0RGVmYXVsdChcImxvZ0V2ZW50XCIsIFwiW11cIikpLFxuICAgICAgICBcInVwZGF0ZVN1Ym1pc3Npb25cIjogSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0RGVmYXVsdChcInVwZGF0ZVN1Ym1pc3Npb25cIiwgXCJbXVwiKSlcbiAgICB9O1xuICAgIHRoaXMuTUFYX1FVRVVFX1NJWkUgPSB7XG4gICAgICAgIFwibG9nRXZlbnRcIjogMjAwLFxuICAgICAgICBcInVwZGF0ZVN1Ym1pc3Npb25cIjogNTBcbiAgICB9O1xuXG4gICAgdGhpcy5USU1FUl9ERUxBWSA9IDEwMDA7XG4gICAgdGhpcy5GQUlMX0RFTEFZID0gMjAwMDtcblxuICAgIHRoaXMudGltZXJzID0ge307XG5cbiAgICB0aGlzLm92ZXJsYXkgPSBudWxsO1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyA9IDA7XG5cbiAgICB0aGlzLmNhY2hlZEZpbGVuYW1lcyA9IFtdO1xuICAgIHRoaXMuY3JlYXRlU3Vic2NyaXB0aW9ucygpO1xuICAgIHRoaXMuY2hlY2tDYWNoZXMoKTtcblxuICAgIHRoaXMuYWx0TG9nRW50cnkgPSBudWxsO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBJUCBhZGRyZXNzIGhhcyBjaGFuZ2VkLCBsb2dnaW5nIGFuIGV2ZW50IGlmIHRoYXQgb2NjdXJzLlxuICogQHBhcmFtIHJlc3BvbnNlXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNoZWNrSVAgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmhhcyhcIklQXCIpKSB7XG4gICAgICAgICAgICBsZXQgb2xkSVAgPSB0aGlzLnN0b3JhZ2UuZ2V0KFwiSVBcIik7XG4gICAgICAgICAgICBpZiAob2xkSVAgIT09IHJlc3BvbnNlLmlwKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIFwib2xkXCI6IG9sZElQLFxuICAgICAgICAgICAgICAgICAgICBcIm5ld1wiOiByZXNwb25zZS5pcFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFsdExvZ0VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWx0TG9nRW50cnkoXCJYLUlQLkNoYW5nZVwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dFdmVudChcIlgtSVAuQ2hhbmdlXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldChcIklQXCIsIHJlc3BvbnNlLmlwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXQoXCJJUFwiLCByZXNwb25zZS5pcCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlcmUgaGF2ZSBiZWVuIHByZXZpb3VzIGZhaWx1cmVzIGNhY2hlZCwgYW5kIGlmIHNvIHJldHJpZXMgdGhlbS5cbiAqIFRPRE86IHVwZGF0ZVxuICovXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5jaGVja0NhY2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zdG9yYWdlLmhhcyhcInNhdmVBc3NpZ25tZW50XCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0KFwic2F2ZUFzc2lnbm1lbnRcIikpO1xuICAgICAgICB0aGlzLl9wb3N0TGF0ZXN0UmV0cnkoZGF0YSwgXCJhc3NpZ25tZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNhdmVBc3NpZ25tZW50XCIsIHRoaXMuVElNRVJfREVMQVkpO1xuICAgIH1cbiAgICB0aGlzLmNhY2hlZEZpbGVuYW1lcy5mb3JFYWNoKChmaWxlbmFtZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmhhcyhcInNhdmVGaWxlXCIgKyBmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0KFwic2F2ZUZpbGVcIiArIGZpbGVuYW1lKSk7XG4gICAgICAgICAgICB0aGlzLl9wb3N0TGF0ZXN0UmV0cnkoZGF0YSwgZmlsZW5hbWUsIFwic2F2ZUZpbGVcIiwgdGhpcy5USU1FUl9ERUxBWSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgc2VydmVyID0gdGhpcztcbiAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXVlKS5mb3JFYWNoKGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgICAgICAoZnVuY3Rpb24gcHVzaEFueVF1ZXVlZChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmVyLnF1ZXVlW2VuZHBvaW50XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHNlcnZlci5xdWV1ZVtlbmRwb2ludF0ucG9wKCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gc2VydmVyLnVybHNbZW5kcG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuX3Bvc3RSZXRyeShkYXRhLCBlbmRwb2ludCwgMTAwMCwgcHVzaEFueVF1ZXVlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSh7XCJzdWNjZXNzXCI6IHRydWV9KTtcbiAgICB9KTtcbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobW9kZWwsIGZpbGVuYW1lKSB7XG4gICAgbW9kZWwuc3Vic2NyaWJlKChjb250ZW50cykgPT5cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuYXV0b1NhdmUoKSA/IHRoaXMuc2F2ZUZpbGUoZmlsZW5hbWUsIGNvbnRlbnRzKSA6IGZhbHNlLCB0aGlzKTtcbiAgICB0aGlzLmNhY2hlZEZpbGVuYW1lcy5wdXNoKGZpbGVuYW1lKTtcbn07XG5cbi8qKlxuICogVE9ETzogZml4XG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNyZWF0ZVN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgIHRoaXMuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbihtb2RlbC5zdWJtaXNzaW9uLmNvZGUsIFwiYW5zd2VyLnB5XCIpO1xuICAgIHRoaXMuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbihtb2RlbC5hc3NpZ25tZW50Lm9uUnVuLCBcIiFvbl9ydW4ucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25FdmFsLCBcIiFvbl9ldmFsLnB5XCIpO1xuICAgIHRoaXMuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbihtb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlLCBcIiFvbl9jaGFuZ2UucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zLCBcIiFpbnN0cnVjdGlvbnMubWRcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQuc3RhcnRpbmdDb2RlLCBcIl5zdGFydGluZ19jb2RlLnB5XCIpO1xuICAgIHRoaXMuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbihtb2RlbC51aS5maWxlcy5leHRyYVN0dWRlbnRGaWxlcywgXCIjZXh0cmFfc3R1ZGVudF9maWxlcy5ibG9ja3B5XCIpO1xuICAgIHRoaXMuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbihtb2RlbC51aS5maWxlcy5leHRyYVN0YXJ0aW5nRmlsZXMsIFwiI2V4dHJhX3N0YXJ0aW5nX2ZpbGVzLmJsb2NrcHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhSW5zdHJ1Y3RvckZpbGVzLCBcIiNleHRyYV9pbnN0cnVjdG9yX2ZpbGVzLmJsb2NrcHlcIik7XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5jcmVhdGVFdmVudExvZ3MgPSBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cub25ibHVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiU2Vzc2lvbi5FbmRcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICB3aW5kb3cub25mb2N1cyA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5sb2dFdmVudChcIlNlc3Npb24uU3RhcnRcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfTtcblxuICAgIC8vIFRPRE86IEFkZCBpbiBiZWFjb24/XG59O1xuXG4vKipcbiAqXG4gKiBTb21lIHN1YnNjcmlwdGlvbnMgaGF2ZSB0byBoYXBwZW4gYWZ0ZXIgb3RoZXIgdGhpbmdzIGhhdmUgYmVlbiBsb2FkZWQuXG4gKiBSaWdodCBub3cgdGhpcyBpcyBqdXN0IGFmdGVyIENPUkdJUyBsaWJyYXJpZXMgaGF2ZSBiZWVuIGxvYWRlZCwgYnV0IG1heWJlXG4gKiB3ZSdsbCBhZGQgbW9yZSBsYXRlciBhbmQgdGhpcyB3aWxsIG5lZWQgdG8gYmUgcmVmYWN0b3JlZC5cbiAqXG4gKiBUT0RPOiBmaXhcbiAqXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmZpbmFsaXplU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL3RoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRhdGFzZXRzLnN1YnNjcmliZSh0aGlzLnNhdmVBc3NpZ25tZW50LmJpbmQodGhpcykpO1xufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuYXV0aG9yaXplSGVhZGVyID0gZnVuY3Rpb24oY3VycmVudFNldHRpbmdzKSB7XG4gICAgaWYgKCFjdXJyZW50U2V0dGluZ3MpIHtcbiAgICAgICAgY3VycmVudFNldHRpbmdzID0ge307XG4gICAgfVxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW4oKTtcbiAgICBpZiAoYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgaWYgKCFjdXJyZW50U2V0dGluZ3MuaGVhZGVycykge1xuICAgICAgICAgICAgY3VycmVudFNldHRpbmdzLmhlYWRlcnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2V0dGluZ3MuaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBcIkJlYXJlciBcIiArIGFjY2Vzc1Rva2VuO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFNldHRpbmdzO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBkZWZhdWx0IHBheWxvYWQgZm9yIGFueSBjb21tdW5pY2F0aW9uIHdpdGggdGhlIHNlcnZlciBBUElcbiAqIEByZXR1cm5zIHt7YXNzaWdubWVudF9pZDogKiwgY291cnNlX2lkOiAqLCBncm91cF9pZDogKiwgdXNlcl9pZDogKiwgdGltZXpvbmU6ICosIHZlcnNpb246ICosIHRpbWVzdGFtcDogKn19XG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNyZWF0ZVNlcnZlckRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGFzc2lnbm1lbnQgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudDtcbiAgICBsZXQgdXNlciA9IHRoaXMubWFpbi5tb2RlbC51c2VyO1xuICAgIGxldCBzdWJtaXNzaW9uID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb247XG4gICAgbGV0IGRpc3BsYXkgPSB0aGlzLm1haW4ubW9kZWwuZGlzcGxheTtcbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb247XG4gICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IG1pY3Jvc2Vjb25kcyA9IG5vdy5nZXRUaW1lKCk7XG4gICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgXCJhc3NpZ25tZW50X2lkXCI6IGFzc2lnbm1lbnQuaWQoKSxcbiAgICAgICAgXCJhc3NpZ25tZW50X2dyb3VwX2lkXCI6IHVzZXIuZ3JvdXBJZCgpLFxuICAgICAgICBcImNvdXJzZV9pZFwiOiB1c2VyLmNvdXJzZUlkKCksXG4gICAgICAgIFwic3VibWlzc2lvbl9pZFwiOiBzdWJtaXNzaW9uLmlkKCksXG4gICAgICAgIFwidXNlcl9pZFwiOiB1c2VyLmlkKCksXG4gICAgICAgIFwidmVyc2lvblwiOiBzdWJtaXNzaW9uLnZlcnNpb24oKSxcbiAgICAgICAgXCJhc3NpZ25tZW50X3ZlcnNpb25cIjogYXNzaWdubWVudC52ZXJzaW9uKCksXG4gICAgICAgIFwidGltZXN0YW1wXCI6IG1pY3Jvc2Vjb25kcyxcbiAgICAgICAgXCJ0aW1lem9uZVwiOiBub3cuZ2V0VGltZXpvbmVPZmZzZXQoKSxcbiAgICAgICAgXCJwYXNzY29kZVwiOiBkaXNwbGF5LnBhc3Njb2RlKCksXG4gICAgICAgIFwicGFydF9pZFwiOiBjb25maWd1cmF0aW9uLnBhcnRJZCgpXG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzdGF0dXMgYW5kIG1lc3NhZ2UgZm9yIHRoZSByZWxldmFudCBlbmRwb2ludC5cbiAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfSBvbmUgb2YgdGhlIFVSTCBlbmRwb2ludHNcbiAqIEBwYXJhbSBzdGF0dXMge1N0YXR1c1N0YXRlfVxuICogQHBhcmFtIG1lc3NhZ2Uge3N0cmluZz99XG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNldFN0YXR1cyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgc3RhdHVzLCBtZXNzYWdlKSB7XG4gICAgaWYgKGVuZHBvaW50IGluIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1c1tlbmRwb2ludF0oc3RhdHVzKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1c1tlbmRwb2ludCArIFwiTWVzc2FnZVwiXShtZXNzYWdlIHx8IFwiXCIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVuZGVycyBhbiBvdmVybGF5IG9uIHRoZSBzY3JlZW4gdGhhdCBibG9ja3Mgb3BlcmF0aW9uIHVudGlsIHRoZSBzeXN0ZW0gaXMgcmVhZHkuXG4gKiBUaGUgb3ZlcmxheSBnZXRzIHByb2dyZXNzaXZlbHkgZGFya2VyIHRvIGluZGljYXRlIHJlcGVhdGVkIGZhaWx1cmVzLlxuICovXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5zaG93T3ZlcmxheSA9IGZ1bmN0aW9uIChhdHRlbXB0KSB7XG4gICAgdGhpcy5ibG9ja2luZ0F0dGVtcHRzICs9IDE7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmxvY2tweS1vdmVybGF5XCIpLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSAkKCc8ZGl2IGNsYXNzPVwiYmxvY2tweS1vdmVybGF5XCI+IDwvZGl2PicpO1xuICAgICAgICB0aGlzLm92ZXJsYXkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXR0ZW1wdCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiM5ODhcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCIjNjU1XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiIzMzM1wiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCJibGFja1wiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVW5kbyBhIGxldmVsIG9mIG92ZXJsYXk7IGlmIHRoaXMgd2FzIHRoZSBsYXN0IGxldmVsLCByZW1vdmVzIGl0IGZyb20gdGhlIHNjcmVlbi5cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuaGlkZU92ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5ibG9ja2luZ0F0dGVtcHRzIC09IDE7XG4gICAgaWYgKHRoaXMuYmxvY2tpbmdBdHRlbXB0cyA8PSAwKSB7XG4gICAgICAgIHRoaXMub3ZlcmxheS5yZW1vdmUoKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5fZW5xdWV1ZURhdGEgPSBmdW5jdGlvbiAoY2FjaGUsIGRhdGEpIHtcbiAgICAvLyBFbnN1cmUgd2UgaGF2ZSBub3Qgb3ZlcmZpbGxlZCB0aGUgcXVldWVcbiAgICBsZXQgbGVuZ3RoID0gdGhpcy5xdWV1ZVtjYWNoZV0ubGVuZ3RoO1xuICAgIGxldCBtYXggPSB0aGlzLk1BWF9RVUVVRV9TSVpFW2NhY2hlXTtcbiAgICBpZiAobGVuZ3RoID4gbWF4KSB7XG4gICAgICAgIHRoaXMucXVldWVbY2FjaGVdID0gdGhpcy5xdWV1ZVtjYWNoZV0uc2xpY2UobGVuZ3RoIC0gbWF4LCBtYXgpO1xuICAgIH1cbiAgICAvLyBPbmx5IGFkZCB0aGUgZWxlbWVudCBpZiBpdCdzIG5ld1xuICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICBsZXQgaW5kZXggPSB0aGlzLnF1ZXVlW2NhY2hlXS5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLnF1ZXVlW2NhY2hlXS5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXQoY2FjaGUsIEpTT04uc3RyaW5naWZ5KHRoaXMucXVldWVbY2FjaGVdKSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX2RlcXVldWVEYXRhID0gZnVuY3Rpb24gKGNhY2hlLCBkYXRhKSB7XG4gICAgbGV0IGtleSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIGxldCBpbmRleCA9IHRoaXMucXVldWVbY2FjaGVdLmluZGV4T2Yoa2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLnF1ZXVlW2NhY2hlXS5zcGxpY2UoaW5kZXgpO1xuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeSh0aGlzLnF1ZXVlW2NhY2hlXSkpO1xuICAgIH1cbn07XG5cblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX3Bvc3RSZXRyeSA9IGZ1bmN0aW9uIChkYXRhLCBlbmRwb2ludCwgZGVsYXksIGNhbGxiYWNrKSB7XG4gICAgLy8gVHJpZ2dlciByZXF1ZXN0XG4gICAgbGV0IHBvc3RSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICAgICAvLyBNYWtlIGEgYmFja3VwIG9mIHRoZSBjdXJyZW50IHBvc3RcbiAgICAgICAgdGhpcy5fZW5xdWV1ZURhdGEoZW5kcG9pbnQsIGRhdGEpO1xuICAgICAgICAkLmFqYXgoe3VybDogdGhpcy51cmxzW2VuZHBvaW50XSwgdHlwZTogXCJwb3N0XCIsIGRhdGE6IGRhdGEsIC4uLnRoaXMuYXV0aG9yaXplSGVhZGVyKCl9KVxuICAgICAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVxdWV1ZURhdGEoZW5kcG9pbnQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrSVAocmVzcG9uc2UuaXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBJZiBzZXJ2ZXIgcmVxdWVzdCBpcyB0aGUgbGF0ZXN0IG9uZSwgdGhlbiBsZXQncyB0cnkgaXQgYWdhaW4gaW4gYSBiaXRcbiAgICAgICAgICAgIC5mYWlsKChlcnJvciwgdGV4dFN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5SRVRSWUlORywgdGV4dFN0YXR1cy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3N0UmV0cnkoZGF0YSwgZW5kcG9pbnQsIGRlbGF5ICsgdGhpcy5GQUlMX0RFTEFZLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIGlmIChkZWxheSA9PT0gbnVsbCkge1xuICAgICAgICBwb3N0UmVxdWVzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQocG9zdFJlcXVlc3QsIGRlbGF5KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIE1ha2UgYSBBSkFYIHJlcXVlc3QgdGhhdCwgdXBvbiBmYWlsdXJlLCB3aWxsIGNoZWNrIHRvIHNlZSBpZiB0aGlzIHdhcyB0aGVcbiAqIGxhdGVzdCBhdHRlbXB0IGZvciB0aGlzIGBjYWNoZWAgbWFya2VyLiBJZiBzbywgaXQgd2lsbCBhdHRlbXB0IGFnYWluIHVudGlsXG4gKiBzdWNjZXNzZnVsOyBvdGhlcndpc2UsIGl0IGdpdmVzIHVwIHRoZSByZXF1ZXN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gVGhlIEFKQVgtcmVhZHkgZGF0YSB0byBiZSBwb3N0ZWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZSAtIFRoZSB1bmlxdWUgbmFtZSBnaXZlbiB0byB0aGUgcmVsZXZhbnQgdGltZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbmRwb2ludCAtIFRoZSB1bmlxdWUgbmFtZSBnaXZlbiB0byB0aGUgcmVsZXZhbnQgY2FjaGUgZW50cnlcbiAqIEBwYXJhbSB7SW50ZWdlcn0gZGVsYXkgLSBUaGUgY3VycmVudCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlXG4gdHJ5aW5nIHRoZSByZXF1ZXN0IGFnYWluLlxuICovXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5fcG9zdExhdGVzdFJldHJ5ID0gZnVuY3Rpb24gKGRhdGEsIGZpbGVuYW1lLCBlbmRwb2ludCwgZGVsYXksIGZhaWx1cmVGdW5jdGlvbiwgZG9uZUZ1bmN0aW9uKSB7XG4gICAgbGV0IGNhY2hlID0gZW5kcG9pbnQgKyBmaWxlbmFtZTtcbiAgICBsZXQgcmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgLy8gTWFrZSBhIGJhY2t1cCBvZiB0aGUgY3VycmVudCBwb3N0XG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXQoY2FjaGUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgbGV0IHRpbWUgPSB0aGlzLnN0b3JhZ2UuZ2V0VGltZShjYWNoZSk7XG4gICAgICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICAgICAgJC5hamF4KHt1cmw6IHRoaXMudXJsc1tlbmRwb2ludF0sIGRhdGE6IGRhdGEsIHR5cGU6IFwicG9zdFwiLCAuLi50aGlzLmF1dGhvcml6ZUhlYWRlcigpfSlcbiAgICAgICAgICAgIC5kb25lKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tJUChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNlcnZlciByZXF1ZXN0IGlzIHRoZSBsYXRlc3Qgb25lLCBjbGVhciBpdCBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGVkVGltZSA9IHRoaXMuc3RvcmFnZS5nZXRUaW1lKGNhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPj0gY2FjaGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZShjYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbm5lY3RlZCBidXQgZmFpbGVkLCBkb24ndCB0cnkgYWdhaW4gYnV0IGxldCB0aGUgdXNlciBrbm93IHdoeS5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLkZBSUxFRCwgcmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgdGhlIGxhdGVzdCBvbmUsIGNsZWFyIGl0IGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGVkVGltZSA9IHRoaXMuc3RvcmFnZS5nZXRUaW1lKGNhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID49IGNhY2hlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlKGNhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWlsdXJlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlRnVuY3Rpb24ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mYWlsKChlcnJvciwgdGV4dFN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5SRVRSWUlORywgdGV4dFN0YXR1cy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBzZXJ2ZXIgcmVxdWVzdCBpcyB0aGUgbGF0ZXN0IG9uZSwgdGhlbiBsZXQncyB0cnkgaXQgYWdhaW4gaW4gYSBiaXRcbiAgICAgICAgICAgICAgICBsZXQgY2FjaGVkVGltZSA9IHRoaXMuc3RvcmFnZS5nZXRUaW1lKGNhY2hlKTtcbiAgICAgICAgICAgICAgICBpZiAodGltZSA+PSBjYWNoZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBmaWxlbmFtZSwgZW5kcG9pbnQsIGRlbGF5ICsgdGhpcy5GQUlMX0RFTEFZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmRvbmUoZG9uZUZ1bmN0aW9uKTtcbiAgICB9O1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyc1tjYWNoZV0pO1xuICAgIGlmIChkZWxheSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVxdWVzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGltZXJzW2NhY2hlXSA9IHNldFRpbWVvdXQocmVxdWVzdCwgZGVsYXkpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9wb3N0QmxvY2tpbmcgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIGRhdGEsIGF0dGVtcHRzLCBzdWNjZXNzLCBmYWlsdXJlLCBleHRyYVNldHRpbmdzPXt9KSB7XG4gICAgdGhpcy5zaG93T3ZlcmxheShhdHRlbXB0cyk7XG4gICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICB1cmw6IHRoaXMudXJsc1tlbmRwb2ludF0sXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIC4uLnRoaXMuYXV0aG9yaXplSGVhZGVyKGV4dHJhU2V0dGluZ3MpXG4gICAgfSlcbiAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGVPdmVybGF5KCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrSVAocmVzcG9uc2UpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbCgoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZShlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVUUllJTkcsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhlbmRwb2ludCwgZGF0YSwgYXR0ZW1wdHMgLSAxLCBzdWNjZXNzLCBmYWlsdXJlLCBleHRyYVNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLkZBSUxfREVMQVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn07XG5cblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUubG9hZEFzc2lnbm1lbnQgPSBmdW5jdGlvbiAoYXNzaWdubWVudF9pZCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkQXNzaWdubWVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiYXNzaWdubWVudF9pZFwiXSA9IGFzc2lnbm1lbnRfaWQ7XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcImxvYWRBc3NpZ25tZW50XCIsIGRhdGEsIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4ubG9hZEFzc2lnbm1lbnREYXRhXyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2FkQXNzaWdubWVudFwiLCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19BU1NJR05NTkVOVChyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQoZS5yZXNwb25zZUpTT04ubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQodGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9hZEFzc2lnbm1lbnRcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2F2ZUFzc2lnbm1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgIGlmIChtb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInNhdmVBc3NpZ25tZW50XCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJoaWRkZW5cIl0gPSBtb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpO1xuICAgICAgICBkYXRhW1wicmV2aWV3ZWRcIl0gPSBtb2RlbC5hc3NpZ25tZW50LnJldmlld2VkKCk7XG4gICAgICAgIGRhdGFbXCJwdWJsaWNcIl0gPSBtb2RlbC5hc3NpZ25tZW50LnB1YmxpYygpO1xuICAgICAgICBkYXRhW1widXJsXCJdID0gbW9kZWwuYXNzaWdubWVudC51cmwoKTtcbiAgICAgICAgZGF0YVtcInBvaW50c1wiXSA9IG1vZGVsLmFzc2lnbm1lbnQucG9pbnRzKCk7XG4gICAgICAgIGRhdGFbXCJpcF9yYW5nZXNcIl0gPSBtb2RlbC5hc3NpZ25tZW50LmlwUmFuZ2VzKCk7XG4gICAgICAgIGRhdGFbXCJuYW1lXCJdID0gbW9kZWwuYXNzaWdubWVudC5uYW1lKCk7XG4gICAgICAgIGRhdGFbXCJzZXR0aW5nc1wiXSA9IHNhdmVBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwpO1xuXG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcInNhdmVBc3NpZ25tZW50XCIsIGRhdGEsIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UG9zc2libGVGb3JrLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfU0FWSU5HX0FTU0lHTk1ORU5UKHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlQXNzaWdubWVudFwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FLCBcIlNlcnZlciBpcyBub3QgY29ubmVjdGVkISAoU2F2ZSBBc3NpZ25tZW50KVwiKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5sb2FkSGlzdG9yeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkSGlzdG9yeVwiKSkge1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcImxvYWRIaXN0b3J5XCIsIGRhdGEsIDIsIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfSElTVE9SWSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUubGlzdFVwbG9hZGVkRmlsZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwibGlzdFVwbG9hZGVkRmlsZXNcIikpIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICB0aGlzLl9wb3N0QmxvY2tpbmcoXCJsaXN0VXBsb2FkZWRGaWxlc1wiLCBkYXRhLCAyLCBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9MSVNUSU5HX1VQTE9BREVEX0ZJTEVTKHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUudXBsb2FkRmlsZSA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIGRpcmVjdG9yeSwgZmlsZW5hbWUsIGNvbnRlbnRzLCBjYWxsYmFjaywgZGVsZXRlSW5zdGVhZD1mYWxzZSkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJ1cGxvYWRGaWxlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJwbGFjZW1lbnRcIl0gPSBwbGFjZW1lbnQ7XG4gICAgICAgIGRhdGFbXCJkaXJlY3RvcnlcIl0gPSBkaXJlY3Rvcnk7XG4gICAgICAgIGRhdGFbXCJmaWxlbmFtZVwiXSA9IGZpbGVuYW1lO1xuICAgICAgICBkYXRhW1wiY29udGVudHNcIl0gPSBjb250ZW50cztcbiAgICAgICAgaWYgKGRlbGV0ZUluc3RlYWQpIHtcbiAgICAgICAgICAgIGRhdGFbXCJkZWxldGVcIl0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmZCA9IE9iamVjdC5lbnRyaWVzKGRhdGEpLnJlZHVjZSgoZCxlKSA9PiAoZC5hcHBlbmQoLi4uZSksIGQpLCBuZXcgRm9ybURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3N0QmxvY2tpbmcoXCJ1cGxvYWRGaWxlXCIsIGZkLCAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlSW5zdGVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0RFTEVUSU5HX0ZJTEUodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfVVBMT0FESU5HX0ZJTEUodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge3Byb2Nlc3NEYXRhOiBmYWxzZSwgY29udGVudFR5cGU6IGZhbHNlfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJ1cGxvYWRGaWxlXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUsIFwiU2VydmVyIGlzIG5vdCBjb25uZWN0ZWQhIChVcGxvYWQgRmlsZSlcIik7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuZG93bmxvYWRGaWxlID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgZGlyZWN0b3J5LCBmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgaWYgKG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwiZG93bmxvYWRGaWxlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJwbGFjZW1lbnRcIl0gPSBwbGFjZW1lbnQ7XG4gICAgICAgIGRhdGFbXCJkaXJlY3RvcnlcIl0gPSBkaXJlY3Rvcnk7XG4gICAgICAgIGRhdGFbXCJmaWxlbmFtZVwiXSA9IGZpbGVuYW1lO1xuICAgICAgICBsZXQgZmQgPSBPYmplY3QuZW50cmllcyhkYXRhKS5yZWR1Y2UoKGQsZSkgPT4gKGQuYXBwZW5kKC4uLmUpLCBkKSwgbmV3IEZvcm1EYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zdEJsb2NraW5nKFwiZG93bmxvYWRGaWxlXCIsIGZkLCAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfRE9XTkxPQURJTkdfRklMRSh0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge3Byb2Nlc3NEYXRhOiBmYWxzZSwgY29udGVudFR5cGU6IGZhbHNlLCBkYXRhVHlwZTogXCJ0ZXh0XCJ9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwbG9hZEZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSwgXCJTZXJ2ZXIgaXMgbm90IGNvbm5lY3RlZCEgKFVwbG9hZCBGaWxlKVwiKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5yZW5hbWVGaWxlID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgZGlyZWN0b3J5LCBvbGRfZmlsZW5hbWUsIG5ld19maWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgaWYgKG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwicmVuYW1lRmlsZVwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wicGxhY2VtZW50XCJdID0gcGxhY2VtZW50O1xuICAgICAgICBkYXRhW1wiZGlyZWN0b3J5XCJdID0gZGlyZWN0b3J5O1xuICAgICAgICBkYXRhW1wib2xkX2ZpbGVuYW1lXCJdID0gb2xkX2ZpbGVuYW1lO1xuICAgICAgICBkYXRhW1wibmV3X2ZpbGVuYW1lXCJdID0gbmV3X2ZpbGVuYW1lO1xuICAgICAgICBsZXQgZmQgPSBPYmplY3QuZW50cmllcyhkYXRhKS5yZWR1Y2UoKGQsZSkgPT4gKGQuYXBwZW5kKC4uLmUpLCBkKSwgbmV3IEZvcm1EYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zdEJsb2NraW5nKFwicmVuYW1lRmlsZVwiLCBmZCwgMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX1VQTE9BRElOR19GSUxFKHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7cHJvY2Vzc0RhdGE6IGZhbHNlLCBjb250ZW50VHlwZTogZmFsc2V9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInJlbmFtZUZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSwgXCJTZXJ2ZXIgaXMgbm90IGNvbm5lY3RlZCEgKFJlbmFtZSBGaWxlKVwiKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5sb2dFdmVudCA9IGZ1bmN0aW9uIChldmVudF90eXBlLCBjYXRlZ29yeSwgbGFiZWwsIG1lc3NhZ2UsIGZpbGVfcGF0aCwgZXh0ZW5kZWQgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5yZWFkT25seSgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9nRXZlbnRcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImxvZ0V2ZW50XCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJldmVudF90eXBlXCJdID0gZXZlbnRfdHlwZTtcbiAgICAgICAgZGF0YVtcImNhdGVnb3J5XCJdID0gY2F0ZWdvcnk7XG4gICAgICAgIGRhdGFbXCJsYWJlbFwiXSA9IGxhYmVsO1xuICAgICAgICBkYXRhW1wibWVzc2FnZVwiXSA9IG1lc3NhZ2U7XG4gICAgICAgIGRhdGFbXCJmaWxlX3BhdGhcIl0gPSBmaWxlX3BhdGg7XG4gICAgICAgIGRhdGFbXCJleHRlbmRlZFwiXSA9IGV4dGVuZGVkO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvZ0V2ZW50XCIsIFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIC8vIFRyaWdnZXIgcmVxdWVzdFxuICAgICAgICB0aGlzLl9wb3N0UmV0cnkoZGF0YSwgXCJsb2dFdmVudFwiLCAwLCAoKSA9PiB7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9nRXZlbnRcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2F2ZUltYWdlID0gZnVuY3Rpb24gKGRpcmVjdG9yeSwgaW1hZ2UpIHtcbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucmVhZE9ubHkoKSkge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwic2F2ZUltYWdlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJkaXJlY3RvcnlcIl0gPSBkaXJlY3Rvcnk7XG4gICAgICAgIGRhdGFbXCJpbWFnZVwiXSA9IGltYWdlO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICAvLyBUcmlnZ2VyIHJlcXVlc3RcbiAgICAgICAgdGhpcy5fcG9zdExhdGVzdFJldHJ5KGRhdGEsIFwidHVydGxlX291dHB1dFwiLCBcInNhdmVJbWFnZVwiLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS51cGRhdGVTdWJtaXNzaW9uU3RhdHVzID0gZnVuY3Rpb24obmV3U3RhdHVzKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnJlYWRPbmx5KCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJzdGF0dXNcIl0gPSBuZXdTdGF0dXM7XG4gICAgICAgIGxldCBwb3N0U3RhdHVzQ2hhbmdlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5zdWJtaXNzaW9uU3RhdHVzKG5ld1N0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcInVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNcIiwgZGF0YSwgMiwgcG9zdFN0YXR1c0NoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5FUlJPUl9VUERBVElOR19TVUJNSVNTSU9OX1NUQVRVUygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGxvYWQgZmlsZXMgYW5kIHdlYiByZXNvdXJjZXMuXG4gKlxuICogREVQUkVDQVRFRFxuICovXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5sb2FkRmlsZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgdHlwZSwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICB2YXIgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgdmFyIHNlcnZlciA9IHRoaXM7XG4gICAgaWYgKG1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwibG9hZF9maWxlXCIpKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJmaWxlbmFtZVwiXSA9IGZpbGVuYW1lO1xuICAgICAgICBkYXRhW1widHlwZVwiXSA9IHR5cGU7XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyh0aGlzLnVybHMubG9hZF9maWxlLCBkYXRhLCA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldFN0YXR1cyhcImxvYWRGaWxlXCIsIFN0YXR1c1N0YXRlLkZBSUxFRCwgcmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJTZXJ2ZXIgZmFpbHVyZSEgUmVwb3J0IHRvIGluc3RydWN0b3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvckNhbGxiYWNrKFwiTm8gZmlsZSBzZXJ2ZXIgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2FkRmlsZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FLCBcIlNlcnZlciBpcyBub3QgY29ubmVjdGVkISAoTG9hZCBGaWxlKVwiKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5zYXZlRmlsZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY29udGVudHMsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsYXkgPSB0aGlzLlRJTUVSX0RFTEFZO1xuICAgIH1cbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgaWYgKG1vZGVsLmRpc3BsYXkucmVhZE9ubHkoKSkge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVGaWxlXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInNhdmVGaWxlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJmaWxlbmFtZVwiXSA9IGZpbGVuYW1lO1xuICAgICAgICBkYXRhW1wiY29kZVwiXSA9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVGaWxlXCIsIFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3N0TGF0ZXN0UmV0cnkoZGF0YSwgZmlsZW5hbWUsIFwic2F2ZUZpbGVcIiwgZGVsYXksIHRoaXMuc3RhcnRQb3NzaWJsZUZvcmsuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhdHVzKFwic2F2ZUZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc3RhcnRQb3NzaWJsZUZvcmsgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZm9ya2FibGUpIHtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLk9GRkVSX0ZPUksoKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS51cGRhdGVTdWJtaXNzaW9uID0gZnVuY3Rpb24gKHNjb3JlLCBjb3JyZWN0LCBoaWRkZW5PdmVycmlkZSwgZm9yY2VVcGRhdGUpIHtcbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucmVhZE9ubHkoKSkge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwZGF0ZVN1Ym1pc3Npb25cIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGNhbGxiYWNrID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3M7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInVwZGF0ZVN1Ym1pc3Npb25cIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInNjb3JlXCJdID0gc2NvcmU7XG4gICAgICAgIGRhdGFbXCJjb3JyZWN0XCJdID0gY29ycmVjdDtcbiAgICAgICAgZGF0YVtcImhpZGRlbl9vdmVycmlkZVwiXSA9IGhpZGRlbk92ZXJyaWRlO1xuICAgICAgICBkYXRhW1wiZm9yY2VfdXBkYXRlXCJdID0gZm9yY2VVcGRhdGU7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5ibG9ja0VkaXRvci5nZXRQbmdGcm9tQmxvY2tzKChwbmdEYXRhLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGRhdGFbXCJpbWFnZVwiXSA9IHBuZ0RhdGE7XG4gICAgICAgICAgICBpZiAoaW1nLnJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGltZy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Bvc3RSZXRyeShkYXRhLCBcInVwZGF0ZVN1Ym1pc3Npb25cIiwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFwidXBkYXRlU3VibWlzc2lvblwiLCBTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwZGF0ZVN1Ym1pc3Npb25cIiwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbk92ZXJyaWRlICYmIGNvcnJlY3QgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFbXCJhc3NpZ25tZW50X2lkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5vcGVuYWlQcm94eSA9IGZ1bmN0aW9uIChvcGVuYWlfZGF0YSwgdGltZW91dCkge1xuICAgIHZhciBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICB2YXIgc2VydmVyID0gdGhpcztcbiAgICB2YXIgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgIGRhdGFbXCJvcGVuYWlfZGF0YVwiXSA9IG9wZW5haV9kYXRhO1xuICAgIHJldHVybiB0aGlzLl9wb3N0QmxvY2tpbmcodGhpcy51cmxzLm9wZW5haV9wcm94eSwgZGF0YSk7XG59OyIsImV4cG9ydCBjb25zdCAkc2tfbW9kX2NvdmVyYWdlID0gYFxuXCJcIlwiXG5IaWRlb3VzIGZpbGwtaW4gcmVwbGFjZW1lbnQgZm9yIENvdmVyYWdlLCBsZXZlcmFnaW5nIHNvbWUgbWFnaWMgZnJvbSB0aGVcblV0aWxpdHkgZnVuY3Rpb24uIFRoZSBkYXRhIHRoaXMgcmV0dXJucyBpcyBmYWxzZSAtIGl0IGRvZXNuJ3QgYWN0dWFsbHlcbmRlc2NyaWJlIHRoZSBtaXNzaW5nIGxpbmVzIGFuZCBhbGwgbGluZXM7IGl0IGp1c3QgZGVzY3JpYmVzIHRoZSB0cmFjZWQgbGluZXMuXG5CdXQgc2luY2UgUGVkYWwgZG9lc24ndCBuZWVkIHRoZSBvdGhlciB0d28sIGl0IHdvcmtzIG91dCBmaW5lIHdoZW4geW91IGRvOlxuXG5zdGF0ZW1lbnRzIC0gbWlzc2luZ1xuXCJcIlwiXG5cbmltcG9ydCB1dGlsaXR5XG5cbmNsYXNzIENvdmVyYWdlOlxuICAgIGRlZiBzdGFydChzZWxmKTpcbiAgICAgICAgcGFzc1xuXG4gICAgZGVmIHN0b3Aoc2VsZik6XG4gICAgICAgIHBhc3NcblxuICAgIGRlZiBzYXZlKHNlbGYpOlxuICAgICAgICBwYXNzXG5cbiAgICBkZWYgX2FuYWx5emUoc2VsZiwgZmlsZW5hbWU6IHN0cik6XG4gICAgICAgIGxpbmVzID0gc2V0KHV0aWxpdHkudHJhY2VfbGluZXMoKSlcbiAgICAgICAgIyBsaW5lcyB3aWxsIGJlIHRoZSBsaW5lcyB0aGF0IHdlcmUgYWN0dWFsbHkgZXhlY3V0ZWRcbiAgICAgICAgcmV0dXJuIEFuYWx5c2lzKE5vbmUsIGxlbihsaW5lcyksIE5vbmUsIHNldCgpLCBsaW5lcylcblxuXG5jbGFzcyBOdW1iZXJzOlxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuX21pc3NpbmcsIG5fc3RhdGVtZW50cywgcGNfY292ZXJlZCk6XG4gICAgICAgIHNlbGYubl9taXNzaW5nID0gbl9taXNzaW5nXG4gICAgICAgIHNlbGYubl9zdGF0ZW1lbnRzID0gbl9zdGF0ZW1lbnRzXG4gICAgICAgIHNlbGYucGNfY292ZXJlZCA9IHBjX2NvdmVyZWRcblxuXG5jbGFzcyBBbmFseXNpczpcbiAgICBkZWYgX19pbml0X18oc2VsZiwgbl9taXNzaW5nLCBuX3N0YXRlbWVudHMsIHBjX2NvdmVyZWQsIG1pc3NpbmcsIHN0YXRlbWVudHMpOlxuICAgICAgICBzZWxmLm1pc3NpbmcgPSBtaXNzaW5nXG4gICAgICAgIHNlbGYuc3RhdGVtZW50cyA9IHN0YXRlbWVudHNcbiAgICAgICAgc2VsZi5udW1iZXJzID0gTnVtYmVycyhuX21pc3NpbmcsIG5fc3RhdGVtZW50cywgcGNfY292ZXJlZClcblxuXG5jbGFzcyBweXRob246XG4gICAgZGVmIGdldF9weXRob25fc291cmNlKHNlbGYpOlxuICAgICAgICByZXR1cm4gTm9uZVxuYDsiLCJleHBvcnQgdmFyICRidWlsdGlubW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtb2QsIHNhbXBsZVdyYXBwZXI7XG4gICAgbW9kID0ge19fbmFtZV9fOiBcImltYWdlXCJ9O1xuXG4gICAgaWYgKCFTay5QSUwpIHtcbiAgICAgICAgU2suUElMID0ge2Fzc2V0czoge319O1xuICAgIH1cblxuICAgIC8vIEluc3RhbnRQcm9taXNlIGlzIGEgd29ya2Fyb3VuZCB0byBhbGxvdyB1c2FnZSBvZiB0aGUgY2xlYW4gcHJvbWlzZS1zdHlsZVxuICAgIC8vIHRoZW4vY2F0Y2ggc3ludGF4IGJ1dCB0byBpbnN0YW50bHkgY2FsbCByZXNvbHZlIHRoZSB0aGVuL2NhdGNoIGNoYWluIHNvIHdlXG4gICAgLy8gY2FuIGF2b2lkIGNyZWF0aW5nIFN1c3BlbnNpb25zIGluIHVubmVjZXNzYXJ5IGNhc2VzLiAgVGhpcyBpcyBkZXNpcmFibGVcbiAgICAvLyBiZWNhdXNlIFN1c3BlbnNpb25zIGhhdmUgYSBmYWlybHkgbGFyZ2UgbmVnYXRpdmUgaW1wYWN0IG9uIG92ZXJhbGxcbiAgICAvLyBwZXJmb3JtYW5jZS4gIFRoZXNlICdpbnN0YW50IHByb21pc2VzJyBjb21lIGludG8gcGxheSB3aGVuIGEgdHJhY2VyKClcbiAgICAvLyBjYWxsIGlzIG1hZGUgd2l0aCBhIHZhbHVlIG90aGVyIHRoYW4gMS4gIFdoZW4gdHJhY2VyIGlzIDAgb3IgZ3JlYXRlciB0aGFuIDFcbiAgICAvLyAsIHdlIGNhbiBieXBhc3MgdGhlIGNyZWF0aW9uIG9mIGEgU3VzcGVuc2lvbiBhbmQgcHJvY2VlZCB0byB0aGUgbmV4dCBsaW5lIG9mXG4gICAgLy8gY29kZSBpbW1lZGlhdGVseSBpZiB0aGUgY3VycmVudCBsaW5lIGlzIG5vdCBnb2luZyB0byBpbnZvbHZlIGEgc2NyZWVuXG4gICAgLy8gdXBkYXRlLiBXZSBkZXRlcm1pbmUgaWYgYSByZWFsIHByb21pc2Ugb3IgSW5zdGFudFByb21pc2UgaXMgbmVjZXNzYXJ5IGJ5XG4gICAgLy8gY2hlY2tpbmcgRnJhbWVNYW5hZ2VyLndpbGxSZW5kZXJOZXh0KClcbiAgICBmdW5jdGlvbiBJbnN0YW50UHJvbWlzZShlcnIsIHJlc3VsdCkge1xuICAgICAgICB0aGlzLmxhc3RSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMubGFzdEVycm9yICA9IGVycjtcbiAgICB9XG5cbiAgICBJbnN0YW50UHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gY2IodGhpcy5sYXN0UmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RFcnJvciAgPSBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdFJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgPyB0aGlzLmxhc3RSZXN1bHQgOiB0aGlzO1xuICAgIH07XG5cbiAgICBJbnN0YW50UHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihjYikge1xuICAgICAgICBpZiAodGhpcy5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gY2IodGhpcy5sYXN0RXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEVycm9yICA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RFcnJvciA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHRoaXMubGFzdFJlc3VsdCA6IHRoaXM7XG4gICAgfTtcblxuICAgIHZhciBidWlsZEltYWdlID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0QXNzZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAoU2suUElMLmFzc2V0c1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gU2suUElMLmFzc2V0c1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKFNrLlBJTC5hc3NldHNbbmFtZV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBTay5QSUwuYXNzZXRzW25hbWVdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBhc3NldDogXCIgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5hbWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBpbWFnZSA9IGZ1bmN0aW9uKCRnYmwsICRsb2MpIHtcbiAgICAgICAgLy8gb3BlbihmaWxlbmFtZSkgb3Igb3Blbih1cmwpXG4gICAgICAgIC8vIHNob3coKVxuXG4gICAgICAgICRsb2MuX19pbml0X18gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uIChzZWxmLCBmaWxlX29yX3VybCkge1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcIl9faW5pdF9fXCIsIGFyZ3VtZW50cywgMiwgMik7XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiZmlsZV9vcl91cmxcIiwgXCJzdHJpbmdcIiwgU2suYnVpbHRpbi5jaGVja1N0cmluZyhmaWxlX29yX3VybCkpO1xuICAgICAgICAgICAgc2VsZi5maWxlX29yX3VybCA9IGZpbGVfb3JfdXJsO1xuICAgICAgICAgICAgLy8gVE9ETzogQ2hhbmdlIHRvIHN1c3BlbnNpb25cbiAgICAgICAgICAgIHZhciBpbWFnZVByb21pc2UgPSBnZXRBc3NldChTay5mZmkucmVtYXBUb0pzKGZpbGVfb3JfdXJsKSk7XG4gICAgICAgICAgICB2YXIgc3VzcCA9IG5ldyBTay5taXNjZXZhbC5TdXNwZW5zaW9uKCk7XG4gICAgICAgICAgICBzZWxmLmltYWdlID0gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgICAgICAgICAgc3VzcC5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VzcC5kYXRhW1wiZXJyb3JcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aHJvdyBuZXcgU2suYnVpbHRpbi5JT0Vycm9yKHN1c3AuZGF0YVtcImVycm9yXCJdLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzdXNwLmRhdGFbXCJlcnJvclwiXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBzZWxmLmltYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdXNwLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJTay5wcm9taXNlXCIsXG4gICAgICAgICAgICAgICAgcHJvbWlzZTogaW1hZ2VQcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbWFnZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLndpZHRoID0gc2VsZi5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYW52YXMuaGVpZ2h0ID0gc2VsZi5pbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2Uoc2VsZi5pbWFnZSwgMCwgMCwgc2VsZi5pbWFnZS53aWR0aCwgc2VsZi5pbWFnZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBpeGVscyA9IHNlbGYuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwgMCwgc2VsZi5pbWFnZS53aWR0aCwgc2VsZi5pbWFnZS5oZWlnaHQpLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmltYWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBlcnI7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBzdXNwO1xuICAgICAgICB9KTtcblxuICAgICAgICAkbG9jLnNob3cgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYpIHtcbiAgICAgICAgICAgIGlmIChTay5jb25zb2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5OYW1lRXJyb3IoXCJDYW4gbm90IHJlc29sdmUgZHJhd2luZyBhcmVhLiBTay5jb25zb2xlIGlzIHVuZGVmaW5lZCFcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb25zb2xlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpbWFnZTogc2VsZi5pbWFnZSxcbiAgICAgICAgICAgICAgICBmaWxlX29yX3VybDogc2VsZi5maWxlX29yX3VybFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgU2suY29uc29sZS5wcmludFBJTEltYWdlKGNvbnNvbGVEYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvYy5mbGlwID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICBzZWxmLmltYWdlLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKVwiO1xuICAgICAgICAgICAgaWYgKFNrLmNvbnNvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk5hbWVFcnJvcihcIkNhbiBub3QgcmVzb2x2ZSBkcmF3aW5nIGFyZWEuIFNrLmNvbnNvbGUgaXMgdW5kZWZpbmVkIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIG1vZC5JbWFnZSA9IFNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MobW9kLCBpbWFnZSwgXCJJbWFnZVwiLCBbXSk7XG5cbiAgICByZXR1cm4gbW9kO1xufTsiLCJleHBvcnQgY29uc3QgJHBlZGFsX3RyYWNlciA9IGBcclxuXHJcblwiXCJcIlxyXG5XcmFwcyB0aGUgdHJhY2VyIG1vZHVsZSBpbiBQZWRhbFxyXG5cIlwiXCJcclxuXHJcbmltcG9ydCBvc1xyXG5pbXBvcnQgdXRpbGl0eVxyXG4gICAgICAgIFxyXG5jbGFzcyBTYW5kYm94QmFzaWNUcmFjZXI6XHJcbiAgICBcIlwiXCJcclxuXHJcbiAgICBcIlwiXCJcclxuICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcclxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcclxuICAgICAgICBzZWxmLmZpbGVuYW1lID0gXCJzdHVkZW50LnB5XCJcclxuICAgICAgICBzZWxmLmNvZGUgPSBOb25lXHJcblxyXG4gICAgZGVmIGFzX2ZpbGVuYW1lKHNlbGYsIGZpbGVuYW1lLCBjb2RlKTpcclxuICAgICAgICBpZiBvcy5wYXRoLmlzYWJzKGZpbGVuYW1lKTpcclxuICAgICAgICAgICAgc2VsZi5maWxlbmFtZSA9IGZpbGVuYW1lXHJcbiAgICAgICAgZWxzZTpcclxuICAgICAgICAgICAgc2VsZi5maWxlbmFtZSA9IG9zLnBhdGguYWJzcGF0aChmaWxlbmFtZSlcclxuICAgICAgICBzZWxmLmNvZGUgPSBjb2RlXHJcbiAgICAgICAgcmV0dXJuIHNlbGZcclxuXHJcbiAgICBkZWYgX19lbnRlcl9fKHNlbGYpOlxyXG4gICAgICAgIHBhc3NcclxuXHJcbiAgICBkZWYgX19leGl0X18oc2VsZiwgZXhjX3R5cGUsIGV4Y192YWwsIHRyYWNlYmFjayk6XHJcbiAgICAgICAgcGFzc1xyXG5cclxuY2xhc3MgU2FuZGJveE5hdGl2ZVRyYWNlcihTYW5kYm94QmFzaWNUcmFjZXIpOlxyXG4gICAgXCJcIlwiXHJcbiAgICBUcmFja3MgbGluZXMgY292ZXJlZCBhbmQgZnVuY3Rpb24gY2FsbHMuIFBvc3NpYmx5IG90aGVyIHRoaW5ncz8gV2UgY291bGQgdHJhY2sgdmFyaWFibGVzLCBpZiB0aGF0XHJcbiAgICB3YXMgc29tZXRoaW5nIHBlb3BsZSB3YW50ZWQuXHJcblxyXG4gICAgVE9ETzogSGFuZGxlIG11bHRpcGxlIHN1Ym1pc3Npb24gZmlsZXM/XHJcbiAgICBcIlwiXCJcclxuICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcclxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcclxuICAgICAgICAjc2VsZi5jYWxscyA9IHV0aWxpdHkudHJhY2VfY2FsbHMoKVxyXG4gICAgICAgIHNlbGYubGluZXMgPSB1dGlsaXR5LnRyYWNlX2xpbmVzKClcclxuICAgICAgICBzZWxmLnN0ZXBfaW5kZXggPSBsZW4odXRpbGl0eS50cmFjZV9saW5lcygpKVxyXG4gICAgXHJcbiAgICBkZWYgZ2V0X2NhbGxzKHNlbGYpOlxyXG4gICAgICAgIHJldHVybiB1dGlsaXR5LnRyYWNlX2NhbGxzKClcclxuICAgIFxyXG4gICAgY2FsbHMgPSBwcm9wZXJ0eShnZXRfY2FsbHMpXHJcbiAgICBcclxuICAgIGRlZiBfX2VudGVyX18oc2VsZik6XHJcbiAgICAgICAgdXRpbGl0eS5zdGFydF90cmFjZShzZWxmKVxyXG5cclxuICAgIGRlZiBfX2V4aXRfXyhzZWxmLCBleGNfdHlwZSwgZXhjX3ZhbCwgdHJhY2ViYWNrKTpcclxuICAgICAgICB1dGlsaXR5LnN0b3BfdHJhY2Uoc2VsZilcclxuXHJcblRSQUNFUl9TVFlMRVMgPSB7XHJcbiAgICAnbm9uZSc6IFNhbmRib3hCYXNpY1RyYWNlcixcclxuICAgICduYXRpdmUnOiBTYW5kYm94TmF0aXZlVHJhY2VyXHJcbn1cclxuXHJcbmA7IiwiLyoqXG4gKiBTa3VscHQgTW9kdWxlIGZvciBob2xkaW5nIHRoZSBJbnN0cnVjdG9yIEFQSS5cbiAqXG4gKiBUaGlzIG1vZHVsZSBpcyBsb2FkZWQgaW4gYnkgZ2V0dGluZyB0aGUgZnVuY3Rpb25zJyBzb3VyY2UgY29kZSBmcm9tIHRvU3RyaW5nLlxuICogSXNuJ3QgdGhhdCBjcmF6eT9cbiAqXG4gKlxuICovXG5leHBvcnQgbGV0ICRza19tb2RfaW5zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIE1haW4gbW9kdWxlIG9iamVjdCB0aGF0IGdldHMgcmV0dXJuZWQgYXQgdGhlIGVuZC5cbiAgICBsZXQgbW9kID0ge307XG4gICAgbGV0IG5vbmUgPSBTay5idWlsdGluLm5vbmUubm9uZSQ7XG4gICAgXG4gICAgbGV0IHByaW9yID0gbnVsbDtcbiAgICBtb2QudGltZWl0ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJ0aW1laXRcIiwgYXJndW1lbnRzLCAxLCAxKTtcbiAgICAgICAgbGV0IGRpZmZlcmVuY2U7XG4gICAgICAgIGlmIChwcmlvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gRGF0ZS5ub3coKSAtIHByaW9yO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFNrLmZmaS5yZW1hcFRvSnMobmFtZSksIGRpZmZlcmVuY2UvMTAwMCk7XG4gICAgICAgIHByaW9yID0gRGF0ZS5ub3coKTtcbiAgICB9KTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBMb2dzIGZlZWRiYWNrIHRvIGphdmFzY3JpcHQgY29uc29sZVxuICAgICAqL1xuICAgIG1vZC5jb25zb2xlX2xvZyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHN0ckFyZ3MgPSAoWy4uLmFyZ3VtZW50c10pLm1hcChTay5mZmkucmVtYXBUb0pzKTtcbiAgICAgICAgc3RyQXJncy5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcIm1vZGVsXCJdLnVpLmZlZWRiYWNrLmFkZFBvc2l0aXZlRmVlZGJhY2soXG4gICAgICAgICAgICAgICAgYXJnLCBcImNvbW1lbnRcIiwgXCJyZ2IoMTI4LCAxMjgsIDEyOClcIiwgdW5kZWZpbmVkLCB0cnVlLCB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBMb2dzIGRlYnVnIHRvIGphdmFzY3JpcHQgY29uc29sZVxuICAgICAqL1xuICAgIG1vZC5jb25zb2xlX2RlYnVnID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJkZWJ1Z1wiLCBhcmd1bWVudHMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyQXJncyA9IChbLi4uYXJndW1lbnRzXSkubWFwKEpTT04uc3RyaW5naWZ5KTtcbiAgICAgICAgICAgIHN0ckFyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wibW9kZWxcIl0udWkuZmVlZGJhY2suYWRkUG9zaXRpdmVGZWVkYmFjayhcbiAgICAgICAgICAgICAgICAgICAgYXJnLCBcImluZm8tY2lyY2xlXCIsIFwicmdiKDEyOCwgMTI4LCAxMjgpXCIsIHVuZGVmaW5lZCwgdHJ1ZSwgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcIm1vZGVsXCJdLnVpLmZlZWRiYWNrLmFkZFBvc2l0aXZlRmVlZGJhY2soXG4gICAgICAgICAgICAgICAgYEZhaWxlZCB0byByZW5kZXIgZGVidWcgbWVzc2FnZTogJHtlfWAsIFwiZXhjbGFtYXRpb24tdHJpYW5nbGVcIiwgXCJyZ2IoMTI4LCAxMjgsIDEyOClcIiwgdW5kZWZpbmVkLCB0cnVlLCB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNvdmVydHMgdGhlIG91dHB1dCBpbiB0aGUgc3R1ZGVudCByZXBvcnQgdG8gYSBweXRob24gXG4gICAgICogbGlzdCBhbmQgcmV0dXJucyBpdC5cbiAgICAqKi9cbiAgICBtb2QuZ2V0X291dHB1dCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfb3V0cHV0XCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgb3V0cHV0ID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl1bXCJvdXRwdXRcIl0oKTtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5tYXAoZnVuY3Rpb24oaXRlbSkgeyByZXR1cm4gaXRlbS50b1NrdWxwdCgpOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KG91dHB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChbXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlc2V0cyB0aGUgb3V0cHV0LCBwYXJ0aWN1bGFybHkgdXNlZnVsIGlmIHRoZSBzdHVkZW50XG4gICAgICogY29kZSBpcyBnb2luZyB0byBiZSByZXJ1bi5cbiAgICAgKi9cbiAgICBtb2QucmVzZXRfb3V0cHV0ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInJlc2V0X291dHB1dFwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0ub3V0cHV0LnJlbW92ZUFsbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTay5idWlsdGluLm5vbmUubm9uZSQ7XG4gICAgfSk7XG4gICAgXG4gICAgLyptb2QucXVldWVfaW5wdXQgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwicXVldWVfaW5wdXRcIiwgYXJndW1lbnRzLCAxLCBJbmZpbml0eSk7XG4gICAgICAgIGxldCBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGFyZ3NbaV07XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiaW5wdXRcIiwgXCJzdHJpbmdcIiwgU2suYnVpbHRpbi5jaGVja1N0cmluZyhpbnB1dCkpO1xuICAgICAgICAgICAgU2sucXVldWVkSW5wdXQucHVzaChTay5mZmkucmVtYXBUb0pzKGlucHV0KSk7XG4gICAgICAgIH1cbiAgICB9KTsqL1xuICAgIFxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGluc3RydWN0b3JzIHRvIGdldCB0aGUgc3R1ZGVudHMnIGNvZGUgYXMgYSBzdHJpbmcuXG4gICAgKiovXG4gICAgbW9kLmdldF9wcm9ncmFtID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9wcm9ncmFtXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJ2ZXJpZmllclwiXS5jb2RlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGluc3RydWN0b3JzIHRvIGdldCB0aGUgc3R1ZGVudHMnIGNvZGUgYXMgYSBzdHJpbmcuXG4gICAgKiovXG4gICAgbW9kLmdldF9ldmFsdWF0aW9uID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9ldmFsdWF0aW9uXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLmV2YWx1YXRpb24gfHwgXCJcIik7XG4gICAgfSk7XG4gICAgXG4gICAgbW9kLnRyYWNlX2xpbmVzID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBsaW5lcyA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnJlYWxMaW5lcztcbiAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KGxpbmVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KFtdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9kLnRyYWNlX2NhbGxzID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIi0tXCIsIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNIRUNLSU5HIENBTExTXCIsIFNrLmV4ZWN1dGlvblJlcG9ydHNbJ3N0dWRlbnQnXS5zdWNjZXNzKTtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBjYWxscyA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLmNhbGxzO1xuICAgICAgICAgICAgcmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkoY2FsbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5kaWN0KFtdKTtcbiAgICB9KTtcblxuICAgIG1vZC5zdGFydF90cmFjZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTVEFSVC9CRUdJTlwiLCBTay5iZWZvcmVDYWxsLCBTay5leGVjdXRpb25SZXBvcnRzLnN0dWRlbnQudHJhY2luZyk7XG4gICAgICAgIGlmIChTay5iZWZvcmVDYWxsID09PSBudWxsKSB7XG4gICAgICAgICAgICBTay5iZWZvcmVDYWxsID0gU2suYmVmb3JlQ2FsbEJhY2t1cDtcbiAgICAgICAgfVxuICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS50cmFjaW5nLnB1c2godHJ1ZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTVEFSVC9FTkRcIiwgU2suYmVmb3JlQ2FsbCwgU2suZXhlY3V0aW9uUmVwb3J0cy5zdHVkZW50LnRyYWNpbmcpO1xuICAgIH0pO1xuXG4gICAgbW9kLnN0b3BfdHJhY2UgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU1RPUC9CRUdJTlwiLCBTay5iZWZvcmVDYWxsLCBTay5leGVjdXRpb25SZXBvcnRzLnN0dWRlbnQudHJhY2luZyk7XG4gICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnRyYWNpbmcucG9wKCk7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS50cmFjaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgU2suYmVmb3JlQ2FsbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlNUT1AvRU5EXCIsIFNrLmJlZm9yZUNhbGwsIFNrLmV4ZWN1dGlvblJlcG9ydHMuc3R1ZGVudC50cmFjaW5nKTtcbiAgICB9KTtcbiAgICBcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIG1vZC5nZXRfc3R1ZGVudF9lcnJvciA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfc3R1ZGVudF9lcnJvclwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLnR1cGxlKFtub25lLCBub25lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5lcnJvcixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHt9O1xuICAgICAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnRyYWNlYmFjayAmJiBlcnJvci50cmFjZWJhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uW1wibGluZVwiXSA9IGVycm9yLnRyYWNlYmFja1swXS5saW5lbm87XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVycm9yID0gbm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc2l0aW9uID0gU2suZmZpLnJlbWFwVG9QeShwb3NpdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4udHVwbGUoW2Vycm9yLCBwb3NpdGlvbl0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBcbiAgICBtb2QuaGFkX2V4ZWN1dGlvbl90aW1lX2Vycm9yID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImhhZF9leGVjdXRpb25fdGltZV9lcnJvclwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICByZXR1cm4gIVNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MgJiYgXG4gICAgICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uZXJyb3IgJiZcbiAgICAgICAgICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5lcnJvci50cCRuYW1lID09PSBcIlRpbWVMaW1pdEVycm9yXCI7XG4gICAgfSk7XG4gICAgXG4gICAgbGV0IGJhY2t1cFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgbW9kLmxpbWl0X2V4ZWN1dGlvbl90aW1lID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImxpbWl0X2V4ZWN1dGlvbl90aW1lXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIGJhY2t1cFRpbWUgPSBTay5leGVjTGltaXQ7XG4gICAgICAgIGlmIChTay5leGVjTGltaXRGdW5jdGlvbikge1xuICAgICAgICAgICAgU2suZXhlY0xpbWl0ID0gU2suZXhlY0xpbWl0RnVuY3Rpb24oKTtcbiAgICAgICAgICAgIFNrLmV4ZWNTdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtb2QudW5saW1pdF9leGVjdXRpb25fdGltZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJ1bmxpbWl0X2V4ZWN1dGlvbl90aW1lXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IGJhY2t1cFRpbWU7XG4gICAgICAgIFNrLmV4ZWNTdGFydCA9IERhdGUubm93KCk7XG4gICAgfSk7XG4gICAgXG4gICAgbW9kLnN1cHByZXNzX3Njcm9sbGluZyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJzdXBwcmVzc19zY3JvbGxpbmdcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0cy5pbnN0cnVjdG9yLnNjcm9sbGluZyA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBcbiAgICAvKlxuICAgIGRlZiBoaXN0KHNlbGYsIGRhdGEsICoqa3dhcmdzKTpcbiAgICAgICAgbGFiZWwgPSBrd2FyZ3MuZ2V0KCdsYWJlbCcsIE5vbmUpXG4gICAgICAgIHNlbGYuYWN0aXZlX3Bsb3RbJ2RhdGEnXS5hcHBlbmQoeyd0eXBlJzogJ0hpc3RvZ3JhbScsICd2YWx1ZXMnOiBkYXRhLCAnbGFiZWwnOiBsYWJlbH0pXG4gICAgZGVmIHBsb3Qoc2VsZiwgeHMsIHlzPU5vbmUsICoqa3dhcmdzKTpcbiAgICAgICAgbGFiZWwgPSBrd2FyZ3MuZ2V0KCdsYWJlbCcsIE5vbmUpXG4gICAgICAgIGlmIHlzID09IE5vbmU6XG4gICAgICAgICAgICBzZWxmLmFjdGl2ZV9wbG90WydkYXRhJ10uYXBwZW5kKHsndHlwZSc6ICdMaW5lJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogcmFuZ2UobGVuKHhzKSksICd5JzogeHMsICdsYWJlbCc6IGxhYmVsfSlcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHNlbGYuYWN0aXZlX3Bsb3RbJ2RhdGEnXS5hcHBlbmQoeyd0eXBlJzogJ0xpbmUnLCAneCc6IHhzLCAneSc6IHlzLCAnbGFiZWwnOiBsYWJlbH0pXG4gICAgZGVmIHNjYXR0ZXIoc2VsZiwgeHMsIHlzLCAqKmt3YXJncyk6XG4gICAgICAgIGxhYmVsID0ga3dhcmdzLmdldCgnbGFiZWwnLCBOb25lKVxuICAgICAgICBzZWxmLmFjdGl2ZV9wbG90WydkYXRhJ10uYXBwZW5kKHsndHlwZSc6ICdTY2F0dGVyJywgJ3gnOiB4cywgJ3knOiB5cywgJ2xhYmVsJzogbGFiZWx9KVxuICAgICovXG4gICAgbW9kLmdldF9wbG90cyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfcGxvdHNcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBvdXRwdXRzID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl1bXCJvdXRwdXRcIl0oKTtcbiAgICAgICAgICAgIG91dHB1dHMgPSBvdXRwdXRzLmZpbHRlcihmdW5jdGlvbihvdXRwdXQpIHsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50eXBlID09PSBcInBsb3RcIjtcbiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihncmFwaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XCJkYXRhXCI6IGdyYXBoLmNvbnRlbnQubWFwKGZ1bmN0aW9uKHBsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Bsb3QgPSB7IFwidHlwZVwiOiBwbG90LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxhYmVsXCI6IFwiXCIgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsb3QudHlwZSA9PT0gXCJsaW5lXCIgfHwgcGxvdC50eXBlID09PSBcInNjYXR0ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGxvdFtcInhcIl0gPSBwbG90LmRhdGEubWFwKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYueDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQbG90W1wieVwiXSA9IHBsb3QuZGF0YS5tYXAoZnVuY3Rpb24odikgeyByZXR1cm4gdi55OyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbG90LnR5cGUgPT09IFwiaGlzdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQbG90W1widmFsdWVzXCJdID0gcGxvdC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdQbG90O1xuICAgICAgICAgICAgICAgIH0pLCBcbiAgICAgICAgICAgICAgICBcInhsYWJlbFwiOiBcIlwiLCBcInlsYWJlbFwiOiBcIlwiLCBcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiXCIsIFwibGVnZW5kXCI6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkob3V0cHV0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShbXSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFxuICAgIC8vIFByb3ZpZGVzIGBzdHVkZW50YCBhcyBhbiBvYmplY3Qgd2l0aCBhbGwgdGhlIGRhdGEgdGhhdCB0aGUgc3R1ZGVudCBkZWNsYXJlZC5cbiAgICBtb2QuU3R1ZGVudERhdGEgPSBTay5taXNjZXZhbC5idWlsZENsYXNzKG1vZCwgZnVuY3Rpb24oJGdibCwgJGxvYykge1xuICAgICAgICAkbG9jLl9faW5pdF9fID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICAvL3NlbGYuZGF0YSA9IFNrLmJ1aWx0aW4uZGljdCgpO1xuICAgICAgICAgICAgbGV0IG5ld0RpY3QgPSBuZXcgU2suYnVpbHRpbi5kaWN0KCk7XG4gICAgICAgICAgICBTay5hYnN0ci5zYXR0cihzZWxmLCBuZXcgU2suYnVpbHRpbi5zdHIoXCJkYXRhXCIpLCBuZXdEaWN0LCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYubW9kdWxlID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0ucmVzdWx0cztcbiAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBzZWxmLm1vZHVsZS4kZDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc2VsZi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNrLmFic3RyLm9iamVjdFNldEl0ZW0obmV3RGljdCwgU2suZmZpLnJlbWFwVG9QeShTay51bmZpeFJlc2VydmVkKGtleSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluLm5vbmUubm9uZSQ7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2FsbF9mID0gZnVuY3Rpb24oa3dhKSB7XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKFwiY2FsbFwiLCBhcmd1bWVudHMubGVuZ3RoLCAxLCBJbmZpbml0eSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICB2YXIga3dhcmdzID0gbmV3IFNrLmJ1aWx0aW5zLmRpY3Qoa3dhKTtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSBhcmdzWzBdO1xuICAgICAgICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IGFyZ3NbMV07XG4gICAgICAgICAgICBhcmdzID0gYXJncy5zbGljZSgyKTtcblxuICAgICAgICAgICAgdmFyIGlucHV0cyA9IGt3YXJncy5tcCRsb29rdXAobmV3IFNrLmJ1aWx0aW4uc3RyKFwiaW5wdXRzXCIpKTtcbiAgICAgICAgICAgIGlmIChpbnB1dHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlucHV0cyA9IFNrLmZmaS5yZW1hcFRvSnMoaW5wdXRzKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTay5xdWV1ZWRJbnB1dC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBTay5xdWV1ZWRJbnB1dC5wdXNoKGlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0gc2VsZi50cCRnZXRhdHRyKG5ldyBTay5idWlsdGluLnN0cihcImRhdGFcIikpO1xuICAgICAgICAgICAgdmFyIGZ1bmN0aW9uT2JqZWN0ID0gZGF0YS5tcCRsb29rdXAoZnVuY3Rpb25OYW1lKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jdGlvbk9iamVjdC50cCRjYWxsKGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgY2FsbF9mLmNvX2t3YXJncyA9IHRydWU7XG4gICAgICAgIC8vY2FsbF9mLmNvX3Zhcm5hbWVzID0gW1wic2VsZlwiLCBcImZ1bmN0aW9uXCJdO1xuICAgICAgICBjYWxsX2YuY29fbmFtZT0gbmV3IFNrLmJ1aWx0aW4uc3RyKFwiY2FsbFwiKTtcbiAgICAgICAgJGxvY1tcImNhbGxfJHJuJFwiXSA9IG5ldyBTay5idWlsdGluLmZ1bmMoY2FsbF9mKTtcblxuICAgICAgICAkbG9jW1wiX19yZXByX19cIl0gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoXCJcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRsb2MuZ2V0X25hbWVzX2J5X3R5cGUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYsIHR5cGUsIGV4Y2x1ZGVfYnVpbHRpbnMpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfbmFtZXNfYnlfdHlwZVwiLCBhcmd1bWVudHMsIDIsIDMpO1xuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVfYnVpbHRpbnMgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiZXhjbHVkZV9idWlsdGluc1wiLCBcImJvb2xlYW5cIiwgU2suYnVpbHRpbi5jaGVja0Jvb2woZXhjbHVkZV9idWlsdGlucykpO1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVfYnVpbHRpbnMgPSBTay5mZmkucmVtYXBUb0pzKGV4Y2x1ZGVfYnVpbHRpbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc2VsZi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZVtwcm9wZXJ0eV0udHAkbmFtZSA9PT0gdHlwZS50cCRuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGV4Y2x1ZGVfYnVpbHRpbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgJiYgcHJvcGVydHkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTay5mZmkucmVtYXBUb1B5KFNrLnVuZml4UmVzZXJ2ZWQocHJvcGVydHkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgJGxvYy5nZXRfdmFsdWVzX2J5X3R5cGUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYsIHR5cGUsIGV4Y2x1ZGVfYnVpbHRpbnMpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfdmFsdWVzX2J5X3R5cGVcIiwgYXJndW1lbnRzLCAyLCAzKTtcbiAgICAgICAgICAgIGlmIChleGNsdWRlX2J1aWx0aW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBleGNsdWRlX2J1aWx0aW5zID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImV4Y2x1ZGVfYnVpbHRpbnNcIiwgXCJib29sZWFuXCIsIFNrLmJ1aWx0aW4uY2hlY2tCb29sKGV4Y2x1ZGVfYnVpbHRpbnMpKTtcbiAgICAgICAgICAgICAgICBleGNsdWRlX2J1aWx0aW5zID0gU2suZmZpLnJlbWFwVG9KcyhleGNsdWRlX2J1aWx0aW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHNlbGYubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGVbcHJvcGVydHldLnRwJG5hbWUgPT09IHR5cGUudHAkbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgJiYgcHJvcGVydHkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzZWxmLm1vZHVsZVtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfSwgXCJTdHVkZW50RGF0YVwiKTtcbiAgICBtb2Quc3R1ZGVudCA9IFNrLm1pc2NldmFsLmNhbGxzaW1PclN1c3BlbmQobW9kLlN0dWRlbnREYXRhKTtcbiAgICBcbiAgICBtb2QuZ2V0X3N0dWRlbnRfZGF0YSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfc3R1ZGVudF9kYXRhXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiBtb2Quc3R1ZGVudDtcbiAgICB9KTtcblxuICAgIG1vZC5zZXRfaW5zdHJ1Y3Rpb25zID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihuZXdJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInNldF9pbnN0cnVjdGlvbnNcIiwgYXJndW1lbnRzLCAxLCAyKTtcbiAgICAgICAgbmV3SW5zdHJ1Y3Rpb25zID0gU2suZmZpLnJlbWFwVG9KcyhuZXdJbnN0cnVjdGlvbnMpO1xuICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wibW9kZWxcIl0uZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKG5ld0luc3RydWN0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBtb2QuZ2V0X21vZGVsX2luZm8gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGtleXMpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9tb2RlbF9pbmZvXCIsIGFyZ3VtZW50cywgMSwgMSk7XG4gICAgICAgIGxldCBtb2RlbCA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJtb2RlbFwiXTtcbiAgICAgICAga2V5cyA9IFNrLmZmaS5yZW1hcFRvSnMoa2V5cykuc3BsaXQoXCIuXCIpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBtb2RlbCA9IG1vZGVsW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KG1vZGVsKCkpO1xuICAgIH0pO1xuXG4gICAgbW9kLmNsZWFyX2V4aXN0aW5nX3N0dWRlbnRfaW1wb3J0cyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJjbGVhcl9leGlzdGluZ19zdHVkZW50X2ltcG9ydHNcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgU2suY2xlYXJFeGlzdGluZ1N0dWRlbnRJbXBvcnRzKCk7XG4gICAgfSk7XG5cbiAgICBtb2QuZG93bmxvYWRfZmlsZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24ocGxhY2VtZW50LCBkaXJlY3RvcnksIGZpbGVuYW1lKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJkb3dubG9hZF9maWxlXCIsIGFyZ3VtZW50cywgMywgMyk7XG4gICAgICAgIGNvbnN0IGRvd25sb2FkRmlsZVVybCA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJtb2RlbFwiXS5jb25maWd1cmF0aW9uLnVybHNbXCJkb3dubG9hZEZpbGVcIl07XG4gICAgICAgIGNvbnN0IGNvbWJpbmVyID0gZG93bmxvYWRGaWxlVXJsLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCI7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke2Rvd25sb2FkRmlsZVVybH0ke2NvbWJpbmVyfXBsYWNlbWVudD0ke3BsYWNlbWVudH0mZGlyZWN0b3J5PSR7ZGlyZWN0b3J5fSZmaWxlbmFtZT0ke2ZpbGVuYW1lfWA7XG4gICAgICAgIGNvbnN0IHByb20gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IGlmIHRoaXMgbmVlZHMgaGVhZGVyc1xuXG4gICAgICAgICAgICB4bWxodHRwLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShTay5mZmkucmVtYXBUb1B5KHhtbGh0dHAucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgeG1saHR0cC5vcGVuKFwiR0VUXCIsIHVybCk7XG4gICAgICAgICAgICB4bWxodHRwLnNlbmQobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdXNwID0gbmV3IFNrLm1pc2NldmFsLlN1c3BlbnNpb24oKTtcbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSBudWxsO1xuICAgICAgICBzdXNwLnJlc3VtZSA9ICgpPT5yZXNvbHV0aW9uO1xuICAgICAgICBzdXNwLmRhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIlNrLnByb21pc2VcIixcbiAgICAgICAgICAgIHByb21pc2U6IHByb20udGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdXRpb24gPVwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzdXNwO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBtb2Q7XG59O1xuIiwiZXhwb3J0IHZhciAkYnVpbHRpbm1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgIHZhciBtb2QsIHNhbXBsZVdyYXBwZXI7XHJcbiAgICBtb2QgPSB7X19uYW1lX186IFwid2Vha3JlZlwifTtcclxuXHJcbiAgICAvKm1vZC5XZWFrU2V0ID0gU2suYWJzdHIuYnVpbGROYXRpdmVDbGFzcyhcIndlYWtyZWYuV2Vha1NldFwiLCB7XHJcbiAgICAgICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFdlYWtTZXQoKVxyXG4gICAgfSk7Ki9cclxuXHJcbiAgICB2YXIgV2Vha1NldCA9IGZ1bmN0aW9uKCRnYmwsICRsb2MpIHtcclxuICAgICAgICAkbG9jLl9faW5pdF9fID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbiAoc2VsZiwgZGF0YSkge1xyXG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiX19pbml0X19cIiwgYXJndW1lbnRzLCAyLCAyKTtcclxuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImRhdGFcIiwgXCJpdGVyYWJsZVwiLCBTay5idWlsdGluLmNoZWNrSXRlcmFibGUoZGF0YSkpO1xyXG4gICAgICAgICAgICBzZWxmLmRhdGEgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGl0ZXIgPSBTay5hYnN0ci5pdGVyKGRhdGEpO1xyXG4gICAgICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9IFNrLmFic3RyLml0ZXJuZXh0KGl0ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGF0YS5wdXNoKG5ldyBXZWFrUmVmKG5leHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSB3aGlsZSAobmV4dCAhPT0gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJGxvYy5fX2l0ZXJfXyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZikge1xyXG4gICAgICAgICAgICBjb25zdCB2aWV3T2ZEYXRhID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHNlbGYuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHNlbGYuZGF0YVtpXS5kZXJlZigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdPZkRhdGEucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLmRhdGEgPSB2aWV3T2ZEYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gU2suYWJzdHIuaXRlcihuZXcgU2suYnVpbHRpbi5saXN0KHZpZXdPZkRhdGEpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyokbG9jLm5leHQkID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbiAoc2VsZikge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi50cCRpdGVyKCk7XHJcbiAgICAgICAgfSk7Ki9cclxuXHJcbiAgICAgICAgJGxvYy5hZGQgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYsIGl0ZW0pIHtcclxuICAgICAgICAgICAgc2VsZi5kYXRhLnB1c2gobmV3IFdlYWtSZWYoaXRlbSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIG1vZC5XZWFrU2V0ID0gU2subWlzY2V2YWwuYnVpbGRDbGFzcyhtb2QsIFdlYWtTZXQsIFwiV2Vha1NldFwiLCBbXSk7XHJcblxyXG4gICAgcmV0dXJuIG1vZDtcclxufTsiLCJsZXQgTE9DQUxfU1RPUkFHRV9SRUY7XG50cnkge1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGID0gbG9jYWxTdG9yYWdlO1xuICAgIGxldCBtb2QgPSBcIkJMT0NLUFlfTE9DQUxTVE9SQUdFX1RFU1RcIjtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRi5zZXRJdGVtKG1vZCwgbW9kKTtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRi5yZW1vdmVJdGVtKG1vZCk7XG59IGNhdGNoKGUpIHtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRiA9IHtcbiAgICAgICAgX2RhdGEgICAgICAgOiB7fSxcbiAgICAgICAgc2V0SXRlbSAgICAgOiBmdW5jdGlvbihpZCwgdmFsKSB7IHJldHVybiB0aGlzLl9kYXRhW2lkXSA9IFN0cmluZyh2YWwpOyB9LFxuICAgICAgICBnZXRJdGVtICAgICA6IGZ1bmN0aW9uKGlkKSB7IHJldHVybiB0aGlzLl9kYXRhLmhhc093blByb3BlcnR5KGlkKSA/IHRoaXMuX2RhdGFbaWRdIDogbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlSXRlbSAgOiBmdW5jdGlvbihpZCkgeyByZXR1cm4gZGVsZXRlIHRoaXMuX2RhdGFbaWRdOyB9LFxuICAgICAgICBjbGVhciAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fZGF0YSA9IHt9OyB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgb2JqZWN0IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBMb2NhbFN0b3JhZ2UuIFRoZSBMb2NhbFN0b3JhZ2VcbiAqIGJyb3dzZXIgQVBJIGFsbG93cyBmb3Igb2ZmbGluZSBzdG9yYWdlLiBUaGF0IEFQSSBpcyB2ZXJ5IHVuc29waGlzdGljYXRlZCxcbiAqIGFuZCBpcyBlc3NlbnRpYWxseSBhIGxhbWUga2V5LXZhbHVlIHN0b3JlLiBUaGlzIG9iamVjdCBzaXRzIG9uIHRvcFxuICogYW5kIHByb3ZpZGVzIGEgbnVtYmVyIG9mIHVzZWZ1bCB1dGlsaXRpZXMsIGluY2x1ZGluZyBydWRpbWVudGFyeWNhY2hlXG4gKiBjYWNoZSBleHBpcmF0aW9uLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0xvY2FsU3RvcmFnZVdyYXBwZXJ9XG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIC0gQSBuYW1lc3BhY2UgdG8gdXNlIGluIGdyb3VwaW5nIGFjY2VzcyB0byBsb2NhbHN0b3JhZ2UuIFRoaXMga2VlcHMgYWNjZXNzIGNsZWFuIGFuZCBvcmdhbml6ZWQsIHdoaWxlIGFsc28gbWFraW5nIGl0IHBvc3NpYmxlIHRvIGhhdmUgbXVsdGlwbGUgTG9jYWxTdG9yYWdlIGNvbm5lY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gTG9jYWxTdG9yYWdlV3JhcHBlcihuYW1lc3BhY2UpIHtcbiAgICB0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbn1cbi8qKlxuICogQSBtZXRob2QgZm9yIGFkZGluZyBhIGtleS92YWx1ZSBwYWlyIHRvIExvY2FsU3RvcmFnZS5cbiAqIE5vdGUgdGhhdCBib3RoIHBhcmFtZXRlcnMgbXVzdCBiZSBzdHJpbmdzIChKU09OLnN0cmluZ2lmeSBpcyB5b3VyIGZyaWVuZCkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkuXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgLSBUaGUgdmFsdWUuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLnNldCA9ICBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYuc2V0SXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdmFsdWVcIiwgdmFsdWUpO1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnNldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3RpbWVzdGFtcFwiLCAkLm5vdygpKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJlbW92aW5nIGEga2V5IGZyb20gTG9jYWxTdG9yYWdlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5IHRvIHJlbW92ZS5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYucmVtb3ZlSXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdmFsdWVcIik7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYucmVtb3ZlSXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdGltZXN0YW1wXCIpO1xufTtcblxuLyoqXG4gKiBBIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmUgdGhlIHZhbHVlIGZvci5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIExPQ0FMX1NUT1JBR0VfUkVGLmdldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIpO1xufTtcblxuLyoqXG4gKiBBIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgdGltZSBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIGtleSB0byByZXRyaWV2ZSB0aGUgdGltZSBmb3IuXG4gKiBAcmV0dXJucyB7SW50ZWdlcn0gLSBUaGUgdGltZXN0YW1wIChsb2NhbCBlcG9jaCkgd2hlbiB0aGUga2V5IHdhcyBsYXN0IHNldC5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBwYXJzZUludChMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl90aW1lc3RhbXBcIikpO1xufTtcblxuLyoqXG4gKiBBIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKiBJZiB0aGUga2V5IGRvZXMgbm90IGV4aXN0LCB0aGVuIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHVzZWQgaW5zdGVhZC5cbiAqIFRoaXMgZGVmYXVsdCB3aWxsIGJlIHNldC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIGtleSB0byByZXRyaWV2ZSB0aGUgdmFsdWUgZm9yLlxuICogQHBhcmFtIHtTdHJpbmd9IGRlZmF1bHRWYWx1ZSAtIFRoZSBkZWZhdWx0IHZhbHVlIHRvIHVzZS4gTXVzdCBiZSBhIHN0cmluZy5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuZ2V0RGVmYXVsdCA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXQoa2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSB0ZXN0IGZvciB3aGV0aGVyIHRoZSBnaXZlbiBrZXkgaXMgaW4gTG9jYWxTdG9yYWdlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUga2V5IHRvIHRlc3QgZXhpc3RlbmNlIGZvci5cbiAqL1xuTG9jYWxTdG9yYWdlV3JhcHBlci5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIExPQ0FMX1NUT1JBR0VfUkVGLmdldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIpICE9PSBudWxsO1xufTtcblxuLyoqXG4gKiBBIHRlc3QgZm9yIHdoZXRoZXIgdGhlIHNlcnZlciBoYXMgdGhlIG5ld2VyIHZlcnNpb24uIFRoaXMgZnVuY3Rpb25cbiAqIGFzc3VtZXMgdGhhdCB0aGUgc2VydmVyIHRyaXAgdGFrZXMgYWJvdXQgNSBzZWNvbmRzLiBUaGlzIG1ldGhvZFxuICogaXMgbGFyZ2VseSBkZXByZWNhdGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHBhcmFtIHtJbnRlZ2VyfSBzZXJ2ZXJfdGltZSAtIFRoZSBzZXJ2ZXIncyB0aW1lIGFzIGFuIGVwb2NoIChpbiBtaWxsaXNlY29uZHMpXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmlzX25ldyA9IGZ1bmN0aW9uKGtleSwgc2VydmVyX3RpbWUpIHtcbiAgICB2YXIgc3RvcmVkX3RpbWUgPSBMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl90aW1lc3RhbXBcIik7XG4gICAgcmV0dXJuIChzZXJ2ZXJfdGltZSA+PSBzdG9yZWRfdGltZSs1MDAwKTtcbn07XG4iLCJleHBvcnQgY29uc3QgVFJBQ0VfSFRNTCA9IGBcblxuPGRpdiBjbGFzcz1cImJsb2NrcHktdHJhY2UgY29sLW1kLTYgYmxvY2tweS1wYW5lbFwiXG4gICAgICAgICAgICByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIlRyYWNlXCI+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+XG4gICAgICAgIDxzdHJvbmc+VHJhY2U6IDwvc3Ryb25nPlxuICAgICAgICBcbiAgICAgICAgPCEtLSBGZWVkYmFjay9UcmFjZSBWaXNpYmlsaXR5IENvbnRyb2wgLS0+XG4gICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgIGNsYXNzPSdidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBmbG9hdC1yaWdodCBibG9ja3B5LWhpZGUtdHJhY2UnXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZXllJz48L3NwYW4+IEhpZGUgVHJhY2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgbWItMyBibG9ja3B5LXRyYWNlLWNvbnRyb2xzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmZpcnN0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWJhY2t3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSdcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkudHJhY2UuYmFja3dhcmRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWJhY2t3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPlN0ZXA6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwJz48L3NwYW4+XG4gICAgICAgICAgICAgICAgLyA8c3BhbiBkYXRhLWJpbmQ9J3RleHQ6IGV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmZvcndhcmRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWZvcndhcmQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS50cmFjZS5sYXN0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWZvcndhcmQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiB1aS50cmFjZS5saW5lJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxwIGRhdGEtYmluZD1cInRleHQ6IHVpLnRyYWNlLmFzdFwiPjwvcD5cbiAgICA8cD5WYXJpYWJsZXMgYWZ0ZXIgdGhpcyBzdGVwOjwvcD5cbiAgICA8dGFibGUgY2xhc3M9J3RhYmxlIHRhYmxlLXNtIHRhYmxlLXN0cmlwZWQgdGFibGUtYm9yZGVyZWQgdGFibGUtaG92ZXInPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5UeXBlPC90aD48dGg+VmFsdWU8L3RoPjwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keSBkYXRhLWJpbmQ9XCJmb3JlYWNoOiB1aS50cmFjZS5kYXRhKCkucHJvcGVydGllc1wiPlxuICAgICAgICAgICAgPHRyIGRhdGEtYmluZD1cInZpc2libGU6IG5hbWUgIT0gJ19fZmlsZV9fJyAmJiBuYW1lICE9ICdfX3BhdGhfXydcIj5cbiAgICAgICAgICAgICAgICA8dGQgZGF0YS1iaW5kPVwidGV4dDogbmFtZVwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtYmluZD1cInRleHQ6IHR5cGVcIj48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgPGNvZGUgZGF0YS1iaW5kPVwidGV4dDogdmFsdWVcIj48L2NvZGU+XG4gICAgICAgICAgICAgICAgICAgIDwhLS0ga28gaWY6IHR5cGUgPT0gXCJMaXN0XCIgLS0+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiXCIgZGF0YS1iaW5kPVwiY2xpY2s6IC8vJHJvb3Qudmlld0V4YWN0VmFsdWUodHlwZSwgZXhhY3RfdmFsdWUpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdnbHlwaGljb24gZ2x5cGhpY29uLW5ldy13aW5kb3cnPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8IS0tIC9rbyAtLT5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuICAgIFxuPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgQVNUX0RFU0NSSVBUSU9OUyA9IHtcbiAgICBcIkFkZFwiOiBcIkFuIGFkZGl0aW9uIG9wZXJhdG9yXCIsXG4gICAgXCJBbmRcIjogXCJBIGJvb2xlYW4gQU5EIG9wZXJhdG9yXCIsXG4gICAgXCJBbm5Bc3NpZ25cIjogXCJBbiBhbm5vdGF0ZWQgYXNzaWdubWVudFwiLFxuICAgIFwiQXNzZXJ0XCI6IFwiQW4gYXNzZXJ0IHN0YXRlbWVudFwiLFxuICAgIFwiQXNzaWduXCI6IFwiQW4gYXNzaWdubWVudCBzdGF0ZW1lbnRcIixcbiAgICBcIkFzeW5jRm9yXCI6IFwiQW4gYXN5Y2hyb25vdXMgZm9yIGxvb3BcIixcbiAgICBcIkFzeW5jRnVuY3Rpb25EZWZcIjogXCJBbiBhc3ljaHJvbm91cyBmdW5jdGlvbiBkZWZpbml0aW9uXCIsXG4gICAgXCJBc3luY1dpdGhcIjogXCJBbiBhc3ljaHJvbm91cyB3aXRoIHN0YXRlbWVudFwiLFxuICAgIFwiQXR0cmlidXRlXCI6IFwiQW4gYXR0cmlidXRlIGxvb2t1cCAoYWNjZXNzIGEgZmllbGQpXCIsXG4gICAgXCJBdWdBc3NpZ25cIjogXCJBbiBhdWdtZW50ZWQgYXNzaWdubWVudFwiLFxuICAgIFwiQXVnTG9hZFwiOiBcIkFuIGF1Z21lbnRlZCBsb2FkXCIsXG4gICAgXCJBdWdTdG9yZVwiOiBcIkFuIGF1Z21lbnRlZCBzdG9yZVwiLFxuICAgIFwiQXdhaXRcIjogXCJBbiBhd2FpdCBzdGF0ZW1lbnRcIixcbiAgICBcIkJpbk9wXCI6IFwiQSBiaW5hcnkgb3BlcmF0b3JcIixcbiAgICBcIkJpdEFuZFwiOiBcIkEgYml0d2lzZSBBTkQgb3BlcmF0b3JcIixcbiAgICBcIkJpdE9yXCI6IFwiQSBiaXR3aXNlIE9SIG9wZXJhdG9yXCIsXG4gICAgXCJCaXRYb3JcIjogXCJBIGJpdHdpc2UgWE9SIG9wZXJhdG9yXCIsXG4gICAgXCJCb29sT3BcIjogXCJBIGJvb2xlYW4gb3BlcmF0b3JcIixcbiAgICBcIkJyZWFrXCI6IFwiQSBicmVhayBzdGF0ZW1lbnRcIixcbiAgICBcIkJ5dGVzXCI6IFwiQSBsaXRlcmFsIGJ5dGVzIHN0cmluZ1wiLFxuICAgIFwiQ2FsbFwiOiBcIkEgZnVuY3Rpb24gY2FsbFwiLFxuICAgIFwiQ2xhc3NEZWZcIjogXCJBIGNsYXNzIGRlZmluaXRpb25cIixcbiAgICBcIkNvbXBhcmVcIjogXCJBIGJvb2xlYW4gY29tcGFyaXNvblwiLFxuICAgIFwiQ29uc3RhbnRcIjogXCJBIGxpdGVyYWwgdmFsdWVcIixcbiAgICBcIkNvbnRpbnVlXCI6IFwiQSBjb250aW51ZSBzdGF0ZW1lbnRcIixcbiAgICBcIkRlbFwiOiBcIkEgZGVsZXRlIHN0YXRlbWVudFwiLFxuICAgIFwiRGVsZXRlXCI6IFwiQSBkZWxldGlvblwiLFxuICAgIFwiRGljdFwiOiBcIkEgZGljdGlvbmFyeSBsaXRlcmFsXCIsXG4gICAgXCJEaWN0Q29tcFwiOiBcIkEgZGljdGlvbmFyeSBjb21wcmVoZW5zaW9uXCIsXG4gICAgXCJEaXZcIjogXCJBIGRpdmlzaW9uIG9wZXJhdG9yXCIsXG4gICAgXCJFbGxpcHNpc1wiOiBcIkFuIGVsbGlwc2lzXCIsXG4gICAgXCJFcVwiOiBcIkFuIGVxdWFsaXR5IGNvbXBhcmlzb24gb3BlcmF0b3JcIixcbiAgICBcIkV4Y2VwdEhhbmRsZXJcIjogXCJBbiBleGNlcHQgaGFuZGxlclwiLFxuICAgIFwiRXhwclwiOiBcIkFuIGV4cHJlc3Npb24gdXNlZCBhcyBhIHN0YXRlbWVudFwiLFxuICAgIFwiRXhwcmVzc2lvblwiOiBcIkFuIGV2YWx1YXRlZCBleHByZXNzaW9uXCIsXG4gICAgXCJFeHRTbGljZVwiOiBcIkEgbXVsdGktZGltZW5zaW9uYWwgc2xpY2VcIixcbiAgICBcIkZsb29yRGl2XCI6IFwiQW4gaW50ZWdlciBkaXZpc2lvbiBvcGVyYXRvclwiLFxuICAgIFwiRm9yXCI6IFwiQSBGT1IgbG9vcFwiLFxuICAgIFwiRm9ybWF0dGVkVmFsdWVcIjogXCJBIGZvcm1hdHRlZCB2YWx1ZSBpbiBhbiBmLXN0cmluZ1wiLFxuICAgIFwiRnVuY3Rpb25EZWZcIjogXCJBIGZ1bmN0aW9uIGRlZmluaXRpb25cIixcbiAgICBcIkdlbmVyYXRvckV4cFwiOiBcIkEgZ2VuZXJhdG9yIGV4cHJlc3Npb25cIixcbiAgICBcIkdsb2JhbFwiOiBcIkEgZ2xvYmFsIHN0YXRlbWVudFwiLFxuICAgIFwiR3RcIjogXCJBIGdyZWF0ZXIgdGhhbiBjb21wYXJpc29uIG9wZXJhdG9yXCIsXG4gICAgXCJHdEVcIjogXCJBIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBjb21wYXJpc29uIG9wZXJhdG9yXCIsXG4gICAgXCJJZlwiOiBcIkFuIElGIHN0YXRlbWVudFwiLFxuICAgIFwiSWZFeHBcIjogXCJBbiBJRiBleHByZXNzaW9uXCIsXG4gICAgXCJJbXBvcnRcIjogXCJBbiBpbXBvcnQgc3RhdGVtZW50XCIsXG4gICAgXCJJbXBvcnRGcm9tXCI6IFwiQW4gaW1wb3J0L2Zyb20gc3RhdGVtZW50XCIsXG4gICAgXCJJblwiOiBcIkFuIElOIG9wZXJhdG9yXCIsXG4gICAgXCJJbmRleFwiOiBcIkFuIGluZGV4XCIsXG4gICAgXCJJbnRlcmFjdGl2ZVwiOiBcIkFuIGludGVyYWN0aXZlIGV4cHJlc3Npb25cIixcbiAgICBcIkludmVydFwiOiBcIkFuIGludmVydCBvcGVyYXRvclwiLFxuICAgIFwiSXNcIjogXCJBbiBJUyBvcGVyYXRvclwiLFxuICAgIFwiSXNOb3RcIjogXCJBbiBJUyBOT1Qgb3BlcmF0b3JcIixcbiAgICBcIkpvaW5lZFN0clwiOiBcIkFuIGYtc3RyaW5nXCIsXG4gICAgXCJMU2hpZnRcIjogXCJBIGxlZnQgc2hpZnQgb3BlcmF0b3JcIixcbiAgICBcIkxhbWJkYVwiOiBcIkEgbGFtYmRhIGV4cHJlc3Npb25cIixcbiAgICBcIkxpc3RcIjogXCJBIGxpc3QgbGl0ZXJhbFwiLFxuICAgIFwiTGlzdENvbXBcIjogXCJBIGxpc3QgY29tcHJlaGVuc2lvblwiLFxuICAgIFwiTG9hZFwiOiBcIkEgbG9hZFwiLFxuICAgIFwiTHRcIjogXCJBIGxlc3MgdGhhbiBjb21wYXJpc29uIG9wZXJhdG9yXCIsXG4gICAgXCJMdEVcIjogXCJBIGxlc3MgdGhhbiBvciBlcXVhbCB0byBjb21wYXJpc29uIG9wZXJhdG9yXCIsXG4gICAgXCJNYXRNdWx0XCI6IFwiQSBtYXRyaXggbXVsdGlwbGljYXRpb24gb3BlcmF0b3JcIixcbiAgICBcIk1vZFwiOiBcIkEgbW9kdWxvIG9wZXJhdG9yXCIsXG4gICAgXCJNb2R1bGVcIjogXCJBIG1vZHVsZVwiLFxuICAgIFwiTXVsdFwiOiBcIkEgbXVsdGlwbGljYXRpb24gb3BlcmF0b3JcIixcbiAgICBcIk5hbWVcIjogXCJBIG5hbWVcIixcbiAgICBcIk5hbWVDb25zdGFudFwiOiBcIkEgbmFtZSBjb25zdGFudFwiLFxuICAgIFwiTm9ubG9jYWxcIjogXCJBIG5vbmxvY2FsIHN0YXRlbWVudFwiLFxuICAgIFwiTm90XCI6IFwiQSBub3Qgb3BlcmF0b3JcIixcbiAgICBcIk5vdEVxXCI6IFwiQSBub3QgZXF1YWwgdG8gY29tcGFyaXNvbiBvcGVyYXRvclwiLFxuICAgIFwiTm90SW5cIjogXCJBIE5PVCBJTiBvcGVyYXRvclwiLFxuICAgIFwiTnVtXCI6IFwiQSBudW1lcmljIGxpdGVyYWxcIixcbiAgICBcIk9yXCI6IFwiQSBib29sZWFuIE9SIG9wZXJhdG9yXCIsXG4gICAgXCJQYXJhbVwiOiBcIkEgcGFyYW1ldGVyXCIsXG4gICAgXCJQYXNzXCI6IFwiQSBwYXNzIHN0YXRlbWVudFwiLFxuICAgIFwiUG93XCI6IFwiQSBwb3dlciBvcGVyYXRvclwiLFxuICAgIFwiUlNoaWZ0XCI6IFwiQSByaWdodCBzaGlmdCBvcGVyYXRvclwiLFxuICAgIFwiUmFpc2VcIjogXCJBIHJhaXNlIHN0YXRlbWVudFwiLFxuICAgIFwiUmV0dXJuXCI6IFwiQSByZXR1cm4gc3RhdGVtZW50XCIsXG4gICAgXCJTZXRcIjogXCJBIHNldCBsaXRlcmFsXCIsXG4gICAgXCJTZXRDb21wXCI6IFwiQSBzZXQgY29tcHJlaGVuc2lvblwiLFxuICAgIFwiU2xpY2VcIjogXCJBIHNsaWNlXCIsXG4gICAgXCJTdGFycmVkXCI6IFwiQSBzdGFycmVkIGFyZ3VtZW50XCIsXG4gICAgXCJTdG9yZVwiOiBcIkEgc3RvcmVcIixcbiAgICBcIlN0clwiOiBcIkEgc3RyaW5nIGxpdGVyYWxcIixcbiAgICBcIlN1YlwiOiBcIkEgc3VidHJhY3Rpb24gb3BlcmF0b3JcIixcbiAgICBcIlN1YnNjcmlwdFwiOiBcIkEgc3Vic2NyaXB0XCIsXG4gICAgXCJTdWl0ZVwiOiBcIkEgc3VpdGVcIixcbiAgICBcIlRyeVwiOiBcIkEgdHJ5IHN0YXRlbWVudFwiLFxuICAgIFwiVHVwbGVcIjogXCJBIHR1cGxlIGxpdGVyYWxcIixcbiAgICBcIlR5cGVJZ25vcmVcIjogXCIgYSB0eXBlIGlnbm9yZVwiLFxuICAgIFwiVUFkZFwiOiBcIkEgdW5hcnkgYWRkaXRpb24gb3BlcmF0b3JcIixcbiAgICBcIlVTdWJcIjogXCJBIHVuYXJ5IHN1YnRyYWN0aW9uIG9wZXJhdG9yXCIsXG4gICAgXCJVbmFyeU9wXCI6IFwiQSB1bmFyeSBvcGVyYXRvclwiLFxuICAgIFwiV2hpbGVcIjogXCJBIHdoaWxlIGxvb3BcIixcbiAgICBcIldpdGhcIjogXCJBIHdpdGggc3RhdGVtZW50XCIsXG4gICAgXCJZaWVsZFwiOiBcIkEgeWllbGQgc3RhdGVtZW50XCIsXG4gICAgXCJZaWVsZEZyb21cIjogXCJBIHlpZWxkL2Zyb20gc3RhdGVtZW50XCJcbn07XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1B5VHJhY2Uge1xuXG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuXG4gICAgICAgIHRoaXMuSUdOT1JFRF9HTE9CQUxTID0gW1wiX19uYW1lX19cIiwgXCJfX2RvY19fXCIsIFwiX19wYWNrYWdlX19cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc21ldGhvZFwiLCBcInByb3BlcnR5XCIsIFwic3RhdGljbWV0aG9kXCIsIFwiJGZyZWVcIiwgXCIkY2VsbFwiXTtcblxuICAgICAgICAvLyB0aGlzLnRyYWNlLmNsaWNrKHRoaXMuYnVpbGRUcmFjZVRhYmxlLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnN1bWUgYSBzZXQgb2YgdmFyaWFibGVzIHRyYWNlZCBmcm9tIHRoZSBleGVjdXRpb24gYW5kIHBhcnNlIG91dCBhbnlcbiAgICAgKiBnbG9iYWwgdmFyaWFibGVzIGFuZCBtb2R1bGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhcmlhYmxlcyAtIGEgbWFwcGluZyBvZiB2YXJpYWJsZSBuYW1lcyB0byB0aGVpciBTa3VwdCB2YWx1ZS5cbiAgICAgKi9cbiAgICBwYXJzZUdsb2JhbHModmFyaWFibGVzKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IG1vZHVsZXMgPSBbXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh2YXJpYWJsZXMpO1xuICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnRyYWNlRXhlY3V0aW9uKCkpIHtcbiAgICAgICAgICAgIC8qaWYgKFwiJGNlbGxcIiBpbiB2YXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXMgPSB7Li4udmFyaWFibGVzLCAuLi52YXJpYWJsZXMuJGNlbGx9O1xuICAgICAgICAgICAgfSovXG4gICAgICAgICAgICAvKmlmIChcIiRmcmVlXCIgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzID0gey4uLnZhcmlhYmxlcywgLi4udmFyaWFibGVzLiRmcmVlfTtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFyaWFibGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5JR05PUkVEX0dMT0JBTFMuaW5kZXhPZihwcm9wZXJ0eSkgPT09IC0xICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0eS5yZXBsYWNlKFwiXyRydyRcIiwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiXyRybiRcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBCbG9ja1B5VHJhY2UucGFyc2VWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IHtcIm5hbWVcIjogcHJvcGVydHksIFwidHlwZVwiOiBcIlVua25vd25cIiwgXCJ2YWx1ZVwiOiB2YWx1ZS50b1N0cmluZygpfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBTay5idWlsdGluLm1vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlcy5wdXNoKHZhbHVlLiRkLl9fbmFtZV9fLnYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XCJwcm9wZXJ0aWVzXCI6IHJlc3VsdCwgXCJtb2R1bGVzXCI6IG1vZHVsZXN9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgU2t1bHB0IHZhbHVlIGludG8gYSBtb3JlIGVhc2lseSBwcmludGFibGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIC0gdGhlIHNrdWxwdCB2YWx1ZVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSwgZnVsbExlbmd0aCkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVW5rbm93blwiLFxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJVbmRlZmluZWRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlIFwiZGF0YWNsYXNzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiRGVjb3JhdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIjxkYXRhY2xhc3MgZGVjb3JhdG9yPlwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHZhbHVlLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uZnVuYzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlLmZ1bmNfY29kZS5jb192YXJuYW1lcyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBQYXJhbWV0ZXJzOiBcIit2YWx1ZS5mdW5jX2NvZGUuY29fdmFybmFtZXMuam9pbihcIiwgXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBObyBwYXJhbWV0ZXJzXCIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5tb2R1bGU6IHJldHVybiBudWxsO1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLnN0cjpcbiAgICAgICAgICAgICAgICBpZiAoZnVsbExlbmd0aCB8fCB2YWx1ZS52Lmxlbmd0aCA8PSAzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIltcIit2YWx1ZS5zcSRsZW5ndGgoKStcIiBjaGFyYWN0ZXJzIG5vdCBzaG93bl1cIlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5ub25lOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJOb25lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJOb25lXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmJvb2w6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkJvb2xlYW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLm5tYmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbnRcIiA9PT0gdmFsdWUuc2tUeXBlID8gXCJJbnRlZ2VyXCI6IFwiRmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmludF86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmZsb2F0XzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZS4kcigpLnZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLnR1cGxlOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJUdXBsZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4ubGlzdDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudi5sZW5ndGggPD0gMjApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJMaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhhY3RfdmFsdWVcIjogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJbLi4uIFwiK3ZhbHVlLnYubGVuZ3RoK1wiIGVsZW1lbnRzIC4uLl1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhhY3RfdmFsdWVcIjogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uZGljdDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRGljdGlvbmFyeVwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IHZhbHVlICUgMSA9PT0gMCA/IFwiSW50ZWdlclwiIDogXCJGbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJTdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkJvb2xlYW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiAodmFsdWUgPyBcIlRydWVcIjogXCJGYWxzZVwiKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogdmFsdWUudHAkbmFtZSA9PT0gdW5kZWZpbmVkID8gdmFsdWUgOiB2YWx1ZS50cCRuYW1lLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyID09PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbn1cblxuLy8gVE9ETzogdmlld0V4YWN0VmFsdWUiLCIvKipcbiAqIE1vdmUgYW4gZWxlbWVudCBmcm9tIGluZGV4IGluIGFuIGFycmF5IHRvIGEgbmV3IGluZGV4LlxuICogTyhuKVxuICogQ291cnRlc3k6XG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNzM4Nzc2ODAvMTcxODE1NVxuICogQHBhcmFtIGFyclxuICogQHBhcmFtIG9sZEluZGV4XG4gKiBAcGFyYW0gbmV3SW5kZXhcbiAqIEByZXR1cm5zIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlNb3ZlKGFyciwgb2xkSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICBjb25zdCBpdGVtVG9Nb3ZlID0gYXJyW29sZEluZGV4XTtcblxuICAgIGlmIChvbGRJbmRleCA9PT0gbmV3SW5kZXggfHwgb2xkSW5kZXggPiBsZW5ndGggfHwgbmV3SW5kZXggPiBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoYWNjLCBpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IG9sZEluZGV4KSB7cmV0dXJuIGFjYzt9XG4gICAgICAgIGlmIChpbmRleCA9PT0gbmV3SW5kZXgpIHtyZXR1cm4gb2xkSW5kZXggPCBuZXdJbmRleCA/IFsuLi5hY2MsIGl0ZW0sIGl0ZW1Ub01vdmVdIDogWy4uLmFjYywgaXRlbVRvTW92ZSwgaXRlbV07fVxuICAgICAgICByZXR1cm4gWy4uLmFjYywgaXRlbV07XG4gICAgfSwgW10pO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIGxpc3QuXG4gKiBAcGFyYW0ge2FueXRoaW5nfSBuZWVkbGUgLSBUaGUgZWxlbWVudCB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7QXJyYXl9IGhheXN0YWNrIC0gVGhlIGxpc3QgdG8gc2VhcmNoLlxuICogQHJldHVybiB7Qm9vbGVhbn0gV2hldGhlciB0aGUgZWxlbWVudCBleGlzdHNcbiAqL1xuZnVuY3Rpb24gYXJyYXlDb250YWlucyhuZWVkbGUsIGhheXN0YWNrKSB7XG4gICAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+IC0xO1xufVxuXG4vKipcbiAqIFJlbW92ZSBkdXBsaWNhdGUgdmFsdWVzIGZyb20gYW4gYXJyYXksIHByZXNlcnZpbmcgb3JkZXIuXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5LCBzbyBpcyBub24tZGVzdHJ1Y3RpdmUuXG4gKiBDb3VydGVzeTpcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1ODQzNzAvaG93LXRvLW1lcmdlLXR3by1hcnJheXMtaW4tamF2YXNjcmlwdC1hbmQtZGUtZHVwbGljYXRlLWl0ZW1zXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgLSBUaGUgYXJyYXkgdG8gdW5pcXVpZnkuIEVsZW1lbnRzIGNvbXBhcmVkIHdpdGggPT09LlxuICovXG5mdW5jdGlvbiBhcnJheVVuaXF1ZShhcnJheSkge1xuICAgIHZhciBhID0gYXJyYXkuY29uY2F0KCk7XG4gICAgZm9yKHZhciBpPTA7IGk8YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBmb3IodmFyIGo9aSsxOyBqPGEubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGlmKGFbaV0gPT09IGFbal0pIHthLnNwbGljZShqLS0sIDEpO31cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciBleHRlbmRpbmcgYW4gYXJyYXkgYmFzZWRcbiAqIG9uIGFuIFwiYWRkQXJyYXlcIiBhbmQgXCJyZW1vdmVBcnJheVwiLiBBbnkgZWxlbWVudFxuICogZm91bmQgaW4gcmVtb3ZlQXJyYXkgaXMgcmVtb3ZlZCBmcm9tIHRoZSBmaXJzdCBhcnJheVxuICogYW5kIGFsbCB0aGUgZWxlbWVudHMgb2YgYWRkQXJyYXkgYXJlIGFkZGVkLlxuICogQW55IGR1cGxpY2F0ZSBpdGVtcyBhcmUgcmVtb3ZlZC5cbiAqIENyZWF0ZXMgYSBuZXcgYXJyYXksIHNvIGlzIG5vbi1kZXN0cnVjdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAtIHRoZSBhcnJheSB0byBtYW5pcHVsYXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhZGRBcnJheSAtIHRoZSBlbGVtZW50cyB0byBhZGQgdG8gdGhlIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSByZW1vdmVBcnJheSAtIHRoZSBlbGVtZW50cyB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBUaGUgbW9kaWZpZWQgYXJyYXlcbiAqL1xuZnVuY3Rpb24gZXhwYW5kQXJyYXkoYXJyYXksIGFkZEFycmF5LCByZW1vdmVBcnJheSkge1xuICAgIHZhciBjb3B5QXJyYXkgPSBhcnJheS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlQXJyYXkuaW5kZXhPZihpdGVtKSA9PT0gLTE7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5VW5pcXVlKGNvcHlBcnJheS5jb25jYXQoYWRkQXJyYXkpKTtcbn1cblxuLyoqXG4gKiBEZWVwbHkgY2xvbmVzIGEgbm9kZVxuICogQHBhcmFtIHtOb2RlfSBub2RlIEEgbm9kZSB0byBjbG9uZVxuICogQHJldHVybiB7Tm9kZX0gQSBjbG9uZSBvZiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWxsIGl0cyBjaGlsZHJlblxuICovXG5mdW5jdGlvbiBjbG9uZU5vZGUobm9kZSkge1xuICAgIC8vIElmIHRoZSBub2RlIGlzIGEgdGV4dCBub2RlLCB0aGVuIHJlLWNyZWF0ZSBpdCByYXRoZXIgdGhhbiBjbG9uZSBpdFxuICAgIHZhciBjbG9uZSA9IG5vZGUubm9kZVR5cGUgPT0gMyA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUubm9kZVZhbHVlKSA6IG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcbiBcbiAgICAvLyBSZWN1cnNlICAgICBcbiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUoY2hpbGQpIHtcbiAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKGNoaWxkKSk7XG4gICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgICBcbiAgICByZXR1cm4gY2xvbmU7XG59XG5cbi8qKlxuICogSW5kZW50cyB0aGUgZ2l2ZW4gc3RyaW5nIGJ5IDQgc3BhY2VzLiBUaGlzIGNvcnJlY3RseSBoYW5kbGVzIG11bHRpLWxpbmUgc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBiZSBtYW5pcHVsYXRlZC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgd2l0aCBmb3VyIHNwYWNlcyBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgZXZlcnkgbmV3IGxpbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRlbnQoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eKD89LikvZ20sIFwiICAgIFwiKTtcbn1cblxuLyoqXG4gKiBUdXJucyBzcGFjZXMgaW50byB1bmRlcnNjb3JlcyBpbiB0aGUgc3RyaW5nLCBtYWtlcyBpdCBsb3dlcmNhc2UuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIC0gdGhlIHN0cmluZyB0byBiZSBtYW5pcHVsYXRlZFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsdWcoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHMvZywgXCJfXCIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbi8qKlxuICogQ2FwaXRhbGl6ZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGEgc3RyaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IHMgLSBUaGUgc3RyaW5nIHRvIGJlIGNhcGl0YWxpemVkLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUocykge1xuICAgIGlmICh0eXBlb2YgcyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xufVxuXG4vKipcbiAqIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gW2BtaW5gLCBgbWF4YF0uXG4gKiBcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gLSBUaGUgbG93ZXN0IHBvc3NpYmxlIGludGVnZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IC0gVGhlIGhpZ2hlc3QgcG9zc2libGUgaW50ZWdlciAoaW5jbHVzaXZlKS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgcmFuZG9tIGludGVnZXIuXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUludGVnZXIobWluLG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG1heC1taW4rMSkrbWluKTtcbn1cblxuLyoqXG4gKiBFbmNvZGVzIHNvbWUgdGV4dCBzbyB0aGF0IGl0IGNhbiBiZSBzYWZlbHkgd3JpdHRlbiBpbnRvIGFuIEhUTUwgYm94LlxuICogVGhpcyBpbmNsdWRlcyByZXBsYWNpbmcgc3BlY2lhbCBIVE1MIGNoYXJhY3RlcnMgKCYsIDwsID4sIGV0Yy4pLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgdGV4dCB0byBiZSBjb252ZXJ0ZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBIVE1MLXNhZmUgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUhUTUwoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIilcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIilcbiAgICAgICAgLnJlcGxhY2UoLycvZywgXCImYXBvcztcIik7XG59XG5cbi8qKlxuICogU2h1ZmZsZSB0aGUgYmxvY2tzIGluIHRoZSB3b3Jrc3BhY2VcbiAqL1xuaWYgKHR5cGVvZiBCbG9ja2x5ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnNodWZmbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1ldHJpY3MgPSB0aGlzLmdldE1ldHJpY3MoKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWV0cmljcy52aWV3V2lkdGggLyAyLFxuICAgICAgICAgICAgaGVpZ2h0ID0gbWV0cmljcy52aWV3SGVpZ2h0O1xuICAgICAgICB2YXIgYmxvY2tzID0gdGhpcy5nZXRUb3BCbG9ja3MoZmFsc2UpO1xuICAgICAgICB2YXIgeSA9IDUsIHggPSAwLFxuICAgICAgICAgICAgbWF4aW1hbF9pbmNyZWFzZSA9IGhlaWdodC9ibG9ja3MubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAvLyBHZXQgYSBibG9ja1xuICAgICAgICAgICAgdmFyIGJsb2NrID0gYmxvY2tzW2ldO1xuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBibG9jay5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgeCA9IDU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSAtcHJvcGVydGllcy54K3JhbmRvbUludGVnZXIoMTAsIHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsb2NrLm1vdmVCeSh4LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAtcHJvcGVydGllcy55K3kpO1xuICAgICAgICAgICAgeSA9IHkgKyByYW5kb21JbnRlZ2VyKDUsIG1heGltYWxfaW5jcmVhc2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiBNb3ZlIGVsZW1lbnRzIGZyb20gb25lIGFycmF5IHRvIGFub3RoZXIgYmFzZWQgb24gYSBjb25kaXRpb25hbCBjaGVjay5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMxODg3OTY3L2phdmFzY3JpcHQtbW92ZS1vYmplY3RzLWZyb20tb25lLWFycmF5LXRvLWFub3RoZXItYmVzdC1hcHByb2FjaFxuICovXG5mdW5jdGlvbiBtb3ZlRWxlbWVudHMoc291cmNlLCB0YXJnZXQsIG1vdmVDaGVjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gc291cmNlW2ldO1xuICAgICAgICBpZiAobW92ZUNoZWNrKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBzb3VyY2Uuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICB9IFxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdERlZmluZWRWYWx1ZSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJndW1lbnRzW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIG9uZSBvZiB0aGUgU2suYnVpbHRpbiBvYmplY3RzXG4gKiBUT0RPOiBtYWtlIHRoaXMgc28gd2UgZG9uJ3QgaGF2ZSB0byBleHBsaWNpdGx5IHB1dCBvdXQgZXZlcnkgb3B0aW9uXG4gKiAgICAgICAgICBvbmUgcG9zc2libGUgdGhpbmcgd2UgY291bGQgZG8gaXMgZ2V0IGEgc3RyaW5nIHZlcnNpb24gb2YgdGhlIFxuICogICAgICAgICAgb2YgdGhlIGNvbnN0cnVjdG9yIGFuZCBsb29rIGZvciB0aGUgc3Vic3RyaW5nIFwicmV0dXJuIG5ldyBTay5idWlsdGluXCJcbiAqICAgICAgICAgIEJ1dCBJIGRvbid0IGtub3cgaG93IHJlbGlhYmxlIHRoYXQgaXMuICBSYXRoZXIsIGl0J3Mga2luZCBvZiBoYWNraXNoLlxuICogICAgICAgICAgU2hvdWxkIHRlaG9yZXRpY2FsbHkgYmVsb25nIGluIFNrLmZmaVxuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIHRoZSBvYmplY3QgdG8gYmUgZXhhbWluZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBpcyBvbmUgb2YgdGhlIFNrLmJ1aWx0aW4gdHlwZXNcbioqL1xuZnVuY3Rpb24gaXNTa0J1aWx0aW4ob2JqKXtcbiAgICByZXR1cm4gKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZGljdCkgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4ubGlzdCkgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4udHVwbGUpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmJvb2wpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmludF8pIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmZsb2F0XykgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uc3RyKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5sbmcpO1xuICAgIC8vdmFyIGNvbnNfc3RyID0gb2JqLmNvbnN0cnVjdG9yICsgXCJcIjtcbiAgICAvL3JldHVybiBjb25zX3N0ci5pbmRleE9mKFwicmV0dXJuIG5ldyBTay5idWlsdGluXCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gaXNBc3ROb2RlKG9iail7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE9iamVjdCAmJiBcIl9hc3RuYW1lXCIgaW4gb2JqO1xufVxuXG5jb25zdCBERUZBVUxUX1NFQ1RJT05fUEFUVEVSTiA9IC9eKCMjIyMjIFBhcnQgKC4rKSkkL2dtO1xuXG4vKipcbiAqIEZpbmRzIHRoZSBnaXZlbiBQYXJ0IElEIHVzaW5nIHRoZSBwYXR0ZXJuIGAjIyMjIFBhcnQgd2hhdGV2ZXJgIChvbiBpdHMgb3duIHNlcGFyYXRlIGxpbmUpLiBJZiB0aGUgcGF0dGVyblxuICogaXMgbm90IGZvdW5kLCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuIElmIG5vIHBhdHRlcm4gaXMgZ2l2ZW4gKGVtcHR5IHN0cmluZyBvciBudWxsKSwgdGhlbiB0aGUgb3JpZ2luYWwgdGV4dFxuICogaXMgcmV0dXJuZWQgd2l0aG91dCBtb2RpZmljYXRpb25zLlxuICogQHBhcmFtIHRleHRcbiAqIEBwYXJhbSBwYXJ0SWRcbiAqIEByZXR1cm5zIHtudWxsfCp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UGFydCh0ZXh0LCBwYXJ0SWQpIHtcbiAgICBpZiAocGFydElkID09PSBcIlwiIHx8IHBhcnRJZCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBjb25zdCBwYXJ0cyA9IHRleHQuc3BsaXQoREVGQVVMVF9TRUNUSU9OX1BBVFRFUk4pO1xuICAgIGZvciAobGV0IGk9MjsgaSA8IHBhcnRzLmxlbmd0aDsgaSs9Mykge1xuICAgICAgICAvKiAvLyBVbm5lY2Vzc2FyeSBhc3NlcnRpb24sIGJ1dCBub3QgYmFkIHRvIHRoaW5rIGFib3V0XG4gICAgICAgIGlmICghcGFydHNbaS0xXS5zdGFydHNXaXRoKFwiIyMjIyBQYXJ0IFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgXCJFcnJvcjogcGFydCBmb3JtYXQgaXMgYnJva2VuIVwiO1xuICAgICAgICB9Ki9cbiAgICAgICAgaWYgKHBhcnRzW2ldID09PSBwYXJ0SWQpIHtcbiAgICAgICAgICAgIGxldCBib2R5ID0gcGFydHNbaSsxXTtcbiAgICAgICAgICAgIGlmIChib2R5ICYmIGJvZHlbMF0gPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICBib2R5ID0gYm9keS5zbGljZSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpICE9PSBwYXJ0cy5sZW5ndGggLSAzICYmIGJvZHkgJiYgYm9keS5zbGljZSgtMSkgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICBib2R5ID0gYm9keS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTaG91bGQgdGhlb3JldGljYWxseSBiZWxvbmcgaW4gU2suZmZpLCBidXQgSSBwdXQgaXQgaGVyZSBpbnN0ZWFkIHRvIG5vdCBtZXNzIHVwIHRoZSBza3VscHQgZmlsZXNcbiAqIGxpa2UgdGhlIG5vcm1hbCBTay5mZmkucmVtYXBUb1B5LCBpdCBkb2Vzbid0IHdvcmsgZm9yIGZ1bmN0aW9ucyBvciBtb3JlIGNvbXBsZXggb2JqZWN0cywgYnV0IGl0IGhhbmRsZXNcbiAqIGNhc2VzIHdoZXJlIHRoZSB0eXBlcyBpbiBvYmogYXJlIGEgbWl4IG9mIHB5dGhvbiBTSU1QTEUgb2JqZWN0cyBhbmQgU0lNUExFIG5vcm1hbCBqYXZhc2NyaXB0IG9iamVjdHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSB0aGUgb2JqZWN0IHRvIGJlIGNvbnZlcnRlZFxuICogQHJldHVybiB7U2suYnVpbHRpbi4/Pz99IC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBweXRob24gb2JqZWN0LCBkcm9wcGluZyBhbGwgZnVuY3Rpb25zIGFuZCB0aGluZ3MgaXQgY2FuJ3QgY29udmVydFxuKiovXG5mdW5jdGlvbiBtaXhlZFJlbWFwVG9QeShvYmope1xuICAgIHZhciBrO1xuICAgIHZhciBrdnM7XG4gICAgdmFyIGk7XG4gICAgdmFyIGFycjtcbiAgICAvL0BUT0RPOiBzaG91bGQgdGhlb3JldGljYWxseSBjaGVjayBpZiB0aGUgb2JqZWN0IGlzIGEgcHlob24gZGljdCBvciBhcnJheSB3aXRoIGpzIG9iamVjdHNcbiAgICBpZiAoaXNTa0J1aWx0aW4ob2JqKSl7XG4gICAgICAgIC8vb2JqZWN0IGlzIGFscmVhZHkgcHl0aG9uIHJlYWR5XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICAgIC8vb2JqZWN0IGlzIGFjdHVhbGx5IGEgamF2YXNjcmlwdCBhcnJheVxuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgLy9mb3IgZWFjaCBvYmplY3QsIGNvbnZlcnQgaXQgdG8gYSBweXRob24gb2JqZWN0IGlmIGl0IGlzbid0IG9uZSBhbHJlYWR5XG4gICAgICAgICAgICB2YXIgc3VidmFsID0gb2JqW2ldO1xuICAgICAgICAgICAgaWYoIWlzU2tCdWlsdGluKHN1YnZhbCkpe1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKG1peGVkUmVtYXBUb1B5KHN1YnZhbCkpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goc3VidmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChhcnIpO1xuICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7Ly9udWxsIG9iamVjdFxuICAgICAgICByZXR1cm4gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZighaXNTa0J1aWx0aW4ob2JqKSl7XG4gICAgICAgICAgICAvL2Fzc3VtaW5nIGl0J3MgYSBzdGFuZGFyZCBkaWN0aW9uYXJ5XG4gICAgICAgICAgICBrdnMgPSBbXTsvL1NrLmJ1aWx0aW4uZGljdCB1c2VzIGFuIGFycmF5IG9mIGtleS12YWx1ZSxrZXktdmFsdWUuLi5cbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgdGhlIGtleSBpZiBpdCBuZWVkcyB0byBiZSBjb252ZXJ0ZWRcbiAgICAgICAgICAgICAgICBrdnMucHVzaChtaXhlZFJlbWFwVG9QeShrKSk7XG4gICAgICAgICAgICAgICAgLy9jb3ZlcnQgY29ycmVzcG9uZGluZyB2YWx1ZSBpZiBpdCBuZWVkcyB0byBiZSBjb252ZXJ0ZWRcbiAgICAgICAgICAgICAgICBrdnMucHVzaChtaXhlZFJlbWFwVG9QeShvYmpba10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY3JlYXRlIHRoZSBuZXcgZGljdGlvbmFyeVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmRpY3Qoa3ZzKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5zdHIob2JqKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW4uYXNzayQob2JqKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5ib29sKG9iaik7XG4gICAgfSBlbHNlIGlmKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKG9iai5uYW1lKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lKCkge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBsZXQgaCA9IE1hdGguZmxvb3IodG9kYXkuZ2V0SG91cnMoKSUxMik7XG4gICAgbGV0IG0gPSB0b2RheS5nZXRNaW51dGVzKCk7XG4gICAgLy9sZXQgcyA9IHRvZGF5LmdldFNlY29uZHMoKTtcbiAgICBpZiAobSA8IDEwKSB7bSA9IFwiMFwiICsgbTt9XG4gICAgLy9pZiAocyA8IDEwKSB7cyA9IFwiMFwiICsgczt9XG4gICAgbGV0IHAgPSBcImFtXCI7XG4gICAgaWYgKHRvZGF5LmdldEhvdXJzKCk+PTEyKSB7XG4gICAgICAgIHAgPSBcInBtXCI7XG4gICAgfVxuICAgIHJldHVybiBgJHtofToke219JHtwfWA7XG59XG5cbmV4cG9ydCBjb25zdCBweUludCA9IFNrLmJ1aWx0aW4uaW50XztcbmV4cG9ydCBjb25zdCBweU5vbmUgPSBTay5idWlsdGluLm5vbmUubm9uZSQ7XG5leHBvcnQgY29uc3QgcHlTdHIgPSBTay5idWlsdGluLnN0cjtcbmV4cG9ydCBjb25zdCBweVR1cGxlID0gU2suYnVpbHRpbi50dXBsZTtcbmV4cG9ydCBjb25zdCBweUNhbGxPclN1c3BlbmQgPSBTay5taXNjZXZhbC5jYWxsc2ltT3JTdXNwZW5kQXJyYXk7XG5cbmV4cG9ydCBjb25zdCB7IGlzVHJ1ZSwgcmljaENvbXBhcmVCb29sLCBjaGFpbiB9ID0gU2subWlzY2V2YWw7XG5leHBvcnQgY29uc3QgeyB0eXBlTmFtZSwgc2V0VXBNb2R1bGVNZXRob2RzLCBidWlsZE5hdGl2ZUNsYXNzIH0gPSBTay5hYnN0cjtcbmV4cG9ydCBjb25zdCB7IFR5cGVFcnJvciwgVmFsdWVFcnJvciwgS2V5RXJyb3IsIEluZGV4RXJyb3IsIGNoZWNrU3RyaW5nLCBhc251bSQgfSA9IFNrLmJ1aWx0aW47XG5leHBvcnQgY29uc3QgeyByZW1hcFRvUHksIHJlbWFwVG9KcyB9ID0gU2suZmZpO1xuZXhwb3J0IGNvbnN0IHsgZ2V0QXR0ciwgc2V0QXR0ciB9ID0gU2suZ2VuZXJpYztcbmV4cG9ydCBjb25zdCBjaGFpbk9yU3VzcGVuZCA9IGNoYWluOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9maWxlcG9uZF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qcXVlcnlfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfa25vY2tvdXRfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFN0YXJ0aW5nIHBvaW50IG9mIHRoZSBCbG9ja1B5IGFwcGxpY2F0aW9uLCBjb250YWluaW5nIHRoZSBtYWluXG4gKiBCbG9ja1B5IGNsYXNzLlxuICovXG5pbXBvcnQgXCIuL2Nzcy9ibG9ja3B5LmNzc1wiO1xuaW1wb3J0IFwiLi9jc3MvYm9vdHN0cmFwX3JldGhlbWUuY3NzXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgeyRidWlsdGlubW9kdWxlIGFzIGltYWdlTW9kdWxlfSBmcm9tIFwic2t1bHB0X21vZHVsZXMvaW1hZ2VcIjtcbmltcG9ydCB7JGJ1aWx0aW5tb2R1bGUgYXMgd2Vha3JlZk1vZHVsZX0gZnJvbSBcInNrdWxwdF9tb2R1bGVzL3dlYWtyZWZcIjtcbi8vaW1wb3J0IHskYnVpbHRpbm1vZHVsZSBhcyBtYXRwbG90bGliTW9kdWxlfSBmcm9tIFwic2t1bHB0X21vZHVsZXMvbWF0cGxvdGxpYjJcIjtcbmltcG9ydCB7TG9jYWxTdG9yYWdlV3JhcHBlcn0gZnJvbSBcInN0b3JhZ2UuanNcIjtcbmltcG9ydCB7RWRpdG9yc0VudW19IGZyb20gXCJlZGl0b3JzLmpzXCI7XG5pbXBvcnQge0Rpc3BsYXlNb2Rlc30gZnJvbSBcImVkaXRvci9weXRob24uanNcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCJzZXJ2ZXIuanNcIjtcbmltcG9ydCB7bWFrZUludGVyZmFjZSwgbWFrZUV4dHJhSW50ZXJmYWNlU3Vic2NyaXB0aW9ucywgU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zfSBmcm9tIFwiaW50ZXJmYWNlLmpzXCI7XG5pbXBvcnQge0VkaXRvcnN9IGZyb20gXCJlZGl0b3JzLmpzXCI7XG5pbXBvcnQge1xuICAgIEJsb2NrUHlGaWxlU3lzdGVtLFxuICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlLFxuICAgIG1ha2VNb2RlbEZpbGUsXG4gICAgb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUsXG4gICAgVU5ERUxFVEFCTEVfRklMRVMsXG4gICAgVU5SRU5BTUFCTEVfRklMRVNcbn0gZnJvbSBcIi4vZmlsZXNcIjtcbmltcG9ydCB7dXBsb2FkRmlsZSwgZG93bmxvYWRGaWxlfSBmcm9tIFwiLi9lZGl0b3IvYWJzdHJhY3RfZWRpdG9yXCI7XG5pbXBvcnQge0Jsb2NrUHlFbmdpbmV9IGZyb20gXCJlbmdpbmUuanNcIjtcbmltcG9ydCB7QVNUX0RFU0NSSVBUSU9OUywgQmxvY2tQeVRyYWNlfSBmcm9tIFwiLi90cmFjZVwiO1xuaW1wb3J0IHtCbG9ja1B5Q29uc29sZX0gZnJvbSBcIi4vY29uc29sZVwiO1xuaW1wb3J0IHtCbG9ja1B5RmVlZGJhY2t9IGZyb20gXCJmZWVkYmFjay5qc1wiO1xuaW1wb3J0IHtCbG9ja1B5U2VydmVyfSBmcm9tIFwiLi9zZXJ2ZXJcIjtcbmltcG9ydCB7QmxvY2tQeURpYWxvZ30gZnJvbSBcIi4vZGlhbG9nXCI7XG5pbXBvcnQge1xuICAgIEFzc2lnbWVudFR5cGUsXG4gICAgbG9hZEFzc2lnbm1lbnRTZXR0aW5ncyxcbiAgICBtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwsXG4gICAgc2F2ZUFzc2lnbm1lbnRTZXR0aW5nc1xufSBmcm9tIFwiLi9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5nc1wiO1xuaW1wb3J0IHtCbG9ja1B5Q29yZ2lzLCBfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMsIF9JTVBPUlRFRF9EQVRBU0VUU30gZnJvbSBcIi4vY29yZ2lzXCI7XG5pbXBvcnQge0Jsb2NrUHlIaXN0b3J5fSBmcm9tIFwiLi9oaXN0b3J5XCI7XG5pbXBvcnQge2NhcGl0YWxpemUsIGV4dHJhY3RQYXJ0LCBnZXRDdXJyZW50VGltZX0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5pbXBvcnQge1NhbXBsZVN1Ym1pc3Npb24sIFN1Ym1pc3Npb25TdGF0dXNlc30gZnJvbSBcIi4vZWRpdG9yL3NhbXBsZV9zdWJtaXNzaW9uc1wiO1xuaW1wb3J0IHtmb3JtYXRQb29sSW5zdHJ1Y3Rpb25zfSBmcm9tIFwiLi9wb29sc1wiO1xuXG5leHBvcnQge19JTVBPUlRFRF9DT01QTEVURV9EQVRBU0VUUywgX0lNUE9SVEVEX0RBVEFTRVRTfTtcblxuY29uc3QgRURJVE9SX1ZFUlNJT04gPSBcIjUuMS4yXCI7XG5cbi8qKlxuICogTWFqb3IgZW50cnkgcG9pbnQgZm9yIGNyZWF0aW5nIGEgQmxvY2tQeSBpbnN0YW5jZS5cbiAqIFR3byBtb3N0IGltcG9ydGFudCBmaWVsZHMgYXJlIGBtb2RlbGAgYW5kIGBjb21wb25lbnRzYC5cbiAqIFRoZSBgbW9kZWxgIGhvbGRzIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgaW50ZXJmYWNlLlxuICogVGhlIGBjb21wb25lbnRzYCBhcmUgcmVmZXJlbmNlcyB0byB0aGUgZGlzcGFyYXRlIHBhcnRzIG9mIEJsb2NrUHkuXG4gKlxuICogTW9zdCBvZiB0aGlzIGNsYXNzZXMgZGVmaW5pdGlvbiBpcyBqdXN0IGluaXRpYWxpemluZyB0aGUgbW9kZWwgYW5kIHVwZGF0aW5nXG4gKiBpdCBvbiBhbiBhc3NpZ25tZW50IHN3aXRjaC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWd1cmF0aW9uIC0gVXNlciBsZXZlbCBzZXR0aW5ncyAoZS5nLiwgd2hhdCBlZGl0b3IgbW9kZSwgd2hldGhlciB0byBtdXRlIHNlbWFudGljIGVycm9ycywgZXRjLilcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXNzaWdubWVudCAtIEFzc2lnbm1lbnQgbGV2ZWwgc2V0dGluZ3MgKGRhdGEgYWJvdXQgdGhlIGxvYWRlZCBhc3NpZ25tZW50LCB1c2VyLCBzdWJtaXNzaW9uLCBldGMuKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdWJtaXNzaW9uIC0gSW5jbHVkZXMgdGhlIHNvdXJjZSBjb2RlIG9mIGFueSBwcm9ncmFtcyB0byBiZSBsb2FkZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uLCBhc3NpZ25tZW50LCBzdWJtaXNzaW9uKSB7XG4gICAgICAgIHRoaXMuaW5pdE1vZGVsKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBpZiAoYXNzaWdubWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEFzc2lnbm1lbnQoY29uZmlndXJhdGlvbiwgYXNzaWdubWVudCwgc3VibWlzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TWFpbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBCbG9ja1B5IG9iamVjdCBieSBpbml0aWFsaXppbmcgaXRzIGludGVyZmFjZSxcbiAgICAgKiBtb2RlbCwgYW5kIGNvbXBvbmVudHMuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0TWFpbigpIHtcbiAgICAgICAgdGhpcy5pbml0VXRpbGl0aWVzKCk7XG4gICAgICAgIHRoaXMuaW5pdE1vZGVsTWV0aG9kcygpO1xuICAgICAgICB0aGlzLnR1cm5PbkhhY2tzKCk7XG4gICAgICAgIHRoaXMuaW5pdEludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLmFwcGx5TW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50cygpO1xuICAgICAgICB0aGlzLm1ha2VFeHRyYVN1YnNjcmlwdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBkZWZhdWx0IHZhbHVlIG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBrZXkgdG8gbG9vayB1cCBhIHZhbHVlIGZvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0VmFsdWUgLSBpZiB0aGUga2V5IGlzIG5vdCBmb3VuZCBhbnl3aGVyZSwgdXNlIHRoaXMgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRTZXR0aW5nKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1trZXldO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9jYWxTZXR0aW5nc18uaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsU2V0dGluZ3NfLmdldChrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBtb2RlbCB0byBpdHMgZGVmYXVsdHMuXG4gICAgICpcbiAgICAgKiBDYXRlZ29yaWVzOlxuICAgICAqICAgKiB1c2VyOiB2YWx1ZXMgZm9yIHRoZSBjdXJyZW50IHVzZXIgKHN0b3JlZCB0byBzZXJ2ZXIpXG4gICAgICogICAqIGFzc2lnbm1lbnQ6IHZhbHVlcyBmb3IgdGhlIGN1cnJlbnQgYXNzaWdubWVudCAoc3RvcmVkIHRvIHNlcnZlcilcbiAgICAgKiAgICogc3VibWlzc2lvbjogdmFsdWVzIGZvciB0aGUgY3VycmVudCBzdWJtaXNzaW9uIChzdG9yZWQgdG8gc2VydmVyKVxuICAgICAqICAgKiBkaXNwbGF5OiBmbGFncyByZWxhdGVkIHRvIGN1cnJlbnQgdmlzaWJpbGl0eSAoc3RvcmVkIHRvIGxvY2FsU2V0dGluZ3MpXG4gICAgICogICAqIHN0YXR1czogbWVzc2FnZXMgcmVsYXRlZCB0byBjdXJyZW50IHN0YXR1cyAobm90IHN0b3JlZClcbiAgICAgKiAgICogZXhlY3V0aW9uOiB2YWx1ZXMgcmVsYXRlZCB0byBsYXN0IHJ1biAobm90IHN0b3JlZClcbiAgICAgKiAgICogY29uZmlndXJhdGlvbjogY29uc3RhbnQgdmFsdWVzIHJlbGF0ZWQgdG8gc2V0dXAgKG5vdCBzdG9yZWQpXG4gICAgICovXG4gICAgaW5pdE1vZGVsKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBsb2NhbCBzdG9yYWdlXG4gICAgICAgIHRoaXMubG9jYWxTZXR0aW5nc18gPSBuZXcgTG9jYWxTdG9yYWdlV3JhcHBlcihcImxvY2FsU2V0dGluZ3NcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjb25maWd1cmF0aW9uLCBjb25maWd1cmF0aW9uW1wic3VibWlzc2lvbi5jb2RlXCJdLCBjb25maWd1cmF0aW9uW1wicGFydElkXCJdLCBleHRyYWN0UGFydChjb25maWd1cmF0aW9uW1wic3VibWlzc2lvbi5jb2RlXCJdIHx8IFwiXCIsIGNvbmZpZ3VyYXRpb25bXCJwYXJ0SWRcIl0pKTtcblxuICAgICAgICB0aGlzLm1vZGVsID0ge1xuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgIGlkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLmlkXCJdKSxcbiAgICAgICAgICAgICAgICBuYW1lOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLm5hbWVcIl0pLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgeW91IGFyZSBhbiBPd25lciAoY2FuIG1vZGlmeSB0aGUgYXNzaWdubWVudCksIEdyYWRlciAoY2FuIHZpZXdcbiAgICAgICAgICAgICAgICAgKiB0aGUgYXNzaWdubWVudHMnIGluZm9ybWF0aW9uKSBvciBTdHVkZW50IChjYW4gbm90IHNlZSBhbnkgaW5zdHJ1Y3RvciBzdHVmZikuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcm9sZToga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJ1c2VyLnJvbGVcIiwgXCJvd25lclwiKSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3VycmVudCBjb3Vyc2UgZm9yIHRoaXMgdXNlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvdXJzZUlkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLmNvdXJzZV9pZFwiXSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3VycmVudCBhc3NpZ25tZW50IGdyb3VwIHRoYXQgdGhpcyB1c2VyIGlzIGluc2lkZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInVzZXIuZ3JvdXBfaWRcIl0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXNzaWdubWVudDoge1xuICAgICAgICAgICAgICAgIGlkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIG5hbWU6IGtvLm9ic2VydmFibGUoXCJTY3JhdGNoIENhbnZhc1wiKSxcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnM6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zXCJdIHx8XG4gICAgICAgICAgICAgICAgICAgIFwiV2VsY29tZSB0byBCbG9ja1B5LiBUcnkgZWRpdGluZyBhbmQgcnVubmluZyB0aGUgY29kZSBiZWxvdy5cIiksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIGh1bWFuLWZyaWVuZGx5IFVSTCB0byB1c2UgYXMgYSBzaG9ydGN1dCBmb3IgdGhpcyBhc3NpZ25tZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdXJsOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHdhcm5pbmcgbWVzc2FnZSBpZiBtYXplXG4gICAgICAgICAgICAgICAgdHlwZToga28ub2JzZXJ2YWJsZShBc3NpZ21lbnRUeXBlLkJMT0NLUFkpLFxuICAgICAgICAgICAgICAgIHBvaW50czoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBzdGFydGluZ0NvZGU6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuc3RhcnRpbmdfY29kZVwiXSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgICBvblJ1bjoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5vbl9ydW5cIl0gfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQub25fY2hhbmdlXCJdIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIG9uRXZhbDoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5vbl9ldmFsXCJdIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIGV4dHJhSW5zdHJ1Y3RvckZpbGVzOiBrby5vYnNlcnZhYmxlQXJyYXkobG9hZENvbmNhdGVuYXRlZEZpbGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuZXh0cmFfaW5zdHJ1Y3Rvcl9maWxlc1wiXSkgfHwgW10pLFxuICAgICAgICAgICAgICAgIGV4dHJhU3RhcnRpbmdGaWxlczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICBmb3JrZWRJZDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBmb3JrZWRWZXJzaW9uOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIG93bmVySWQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgY291cnNlSWQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgdmVyc2lvbjoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICB0YWdzOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIHNhbXBsZVN1Ym1pc3Npb25zOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIHJldmlld2VkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LnJldmlld2VkXCJdKSxcbiAgICAgICAgICAgICAgICBwdWJsaWM6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQucHVibGljXCJdKSxcbiAgICAgICAgICAgICAgICBoaWRkZW46IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuaGlkZGVuXCJdKSxcbiAgICAgICAgICAgICAgICBpcFJhbmdlczoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5pcF9yYW5nZXNcIl0pLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiBtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwoY29uZmlndXJhdGlvbilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgY29kZToga28ub2JzZXJ2YWJsZShleHRyYWN0UGFydChjb25maWd1cmF0aW9uW1wic3VibWlzc2lvbi5jb2RlXCJdIHx8IFwiXCIsIGNvbmZpZ3VyYXRpb25bXCJwYXJ0SWRcIl0pIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAgIGV4dHJhRmlsZXM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgdXJsOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIGVuZHBvaW50OiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBrby5vYnNlcnZhYmxlKDApLFxuICAgICAgICAgICAgICAgIGNvcnJlY3Q6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8vIGFzc2lnbm1lbnRJZCBpbmZlcnJlZCBmcm9tIGFzc2lnbm1lbnQuaWRcbiAgICAgICAgICAgICAgICAvLyBjb3Vyc2VJZCBpbmZlcnJlZCBmcm9tIHVzZXIuY291cnNlSWRcbiAgICAgICAgICAgICAgICAvLyB1c2VySWQgaW5mZXJyZWQgZnJvbSB1c2VyLmlkXG4gICAgICAgICAgICAgICAgLy8gYXNzaWdubWVudFZlcnNpb24gaW5mZXJyZWQgZnJvbSBhc3NpZ25tZW50LnZlcnNpb25cbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBrby5vYnNlcnZhYmxlKDApLFxuICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25TdGF0dXM6IGtvLm9ic2VydmFibGUoXCJTdGFydGVkXCIpLFxuICAgICAgICAgICAgICAgIGdyYWRpbmdTdGF0dXM6IGtvLm9ic2VydmFibGUoXCJOb3RSZWFkeVwiKSxcbiAgICAgICAgICAgICAgICBvd25lcklkOiBrby5vYnNlcnZhYmxlKG51bGwpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEN1cnJlbnRseSB2aXNpYmxlIEZpbGUsIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGJlIHByZXNlbnRlZCB3aXRoIHRoZSBpbnN0cnVjdG9yIHNldHRpbmdzIGFuZCBmaWxlc1xuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtib29sfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGluc3RydWN0b3I6IGtvLm9ic2VydmFibGUoXCJcIit0aGlzLmdldFNldHRpbmcoXCJkaXNwbGF5Lmluc3RydWN0b3JcIiwgXCJmYWxzZVwiKT09PVwidHJ1ZVwiKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBwcmV2ZW50IHRoZSBwcmludGVyIGZyb20gc2hvd2luZyB0aGluZ3NcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBtdXRlUHJpbnRlcjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogKFB5dGhvbiBWaWV3cykgVGhlIGN1cnJlbnQgZWRpdG9yIG1vZGUuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge0Rpc3BsYXlNb2Rlc31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBweXRob25Nb2RlOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcImRpc3BsYXkucHl0aG9uLm1vZGVcIiwgRGlzcGxheU1vZGVzLlRFWFQpKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBIaXN0b3J5IG1vZGUgaXMgZW5nYWdlZC5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBoaXN0b3J5TW9kZToga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gYmUgYXV0by1zYXZpbmcgY2hhbmdlcyBpbiBQeXRob24gZWRpdG9yXG4gICAgICAgICAgICAgICAgICogSWYgYW4gaW50ZWdlciwgc3BlY2lmaWVzIHRoZSBkZWxheSB0aGF0IHNob3VsZCBiZSB1c2VkIChtaWNyb3NlY29uZHMpLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgbmV2ZXIgb24gaW4gbm9uLVB5dGhvbiBlZGl0b3JzLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtib29sfGludH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhdXRvU2F2ZToga28ub2JzZXJ2YWJsZSh0cnVlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgY29uc29sZSBpcyBmdWxsIHdpZHRoIGFuZCBmZWVkYmFjayBpcyBoaWRkZW5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBiaWdDb25zb2xlOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgaGVpZ2h0IHRvIHVzZSBmb3IgdGhlIGNvbnNvbGUuXG4gICAgICAgICAgICAgICAgICogICAgSWYgbnVsbCwgdGhlbiBsZXQgdGhlIGhlaWdodCByZW1haW4gdW5jaGFuZ2VkXG4gICAgICAgICAgICAgICAgICogICAgSWYgYSBudW1iZXIsIHRoZW4gdGhlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJldmlvdXNDb25zb2xlSGVpZ2h0OiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb25zb2xlSGVpZ2h0OiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoaWNoIHBhbmVsIHRvIHNob3cgaW4gdGhlIHNlY29uZCByb3cncyBzZWNvbmQgY29sdW1uXG4gICAgICAgICAgICAgICAgICogQHR5cGUge1NlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzZWNvbmRSb3dTZWNvbmRQYW5lbDoga28ub2JzZXJ2YWJsZShTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuRkVFREJBQ0spLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzU2Vjb25kUm93U2Vjb25kUGFuZWw6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gYmUgdHJhY2luZyB0aGUgY29kZSByaWdodCBub3dcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0cmFjZUV4ZWN1dGlvbjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIGxpc3Qgb2YgcHJvbWlzZXMgdG8gc3RpbGwgcmVzb2x2ZSB3aGlsZSBsb2FkaW5nIGRhdGFzZXRzXG4gICAgICAgICAgICAgICAgICogQHR5cGUge0FycmF5PFByb21pc2U+fVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGxvYWRpbmdEYXRhc2V0czoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgdGVtcG9yYXJ5IGNoYW5nZWQgdmFsdWUgb2YgdGhlIGluc3RydWN0aW9ucyBoYXZlIGJlZW4gY2hhbmdlZCBmcm9tIHdoYXQgaXMgaW4gdGhlIGFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjaGFuZ2VkSW5zdHJ1Y3Rpb25zOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEEgaG9sZGVyIGZvciB0aGUgdGltZXIgdG8gdHJpZ2dlciBvbi1jaGFuZ2VzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdHJpZ2dlck9uQ2hhbmdlOiBudWxsLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgZmVlZGJhY2sgYW5kIG91dHB1dCBjb3JyZXNwb25kcyB0byB0aGUgY3VycmVudCBzdWJtaXNzaW9uLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgd291bGQgYmUgZmFsc2UgaWYgdGhlcmUgaXMgbm8gZmVlZGJhY2svb3V0cHV0IChpLmUuLCBjb2RlIGhhcyBub3QgYmVlbiBydW4pLFxuICAgICAgICAgICAgICAgICAqIG9yIGlmIHRoZSB1c2VyIGhhcyBtb2RpZmllZCB0aGUgc3VibWlzc2lvbiBhZnRlciB0aGUgbGFzdCBydW4gKGUuZy4sIGJ5IGVkaXRpbmdcbiAgICAgICAgICAgICAgICAgKiB0aGUgdGV4dCkuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZGlydHlTdWJtaXNzaW9uOiBrby5vYnNlcnZhYmxlKHRydWUpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqICBXaGV0aGVyIG9yIG5vdCB0byBtYWtlIHRoZSBCbG9ja1B5IGVsZW1lbnQgaW4gRlVMTCBTQ1JFRU4gbW9kZS4gU2FkbHksIG5vdCBmdWxsc2NyZWVuXG4gICAgICAgICAgICAgICAgICogIHdpdGhpbiB0aGUgd2luZG93LCBidXQgRlVMTCBTQ1JFRU4uIFZlcnkgYWdncmVzc2l2ZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdWxsc2NyZWVuOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBVc2VyLXN1cHBsaWVkIHBhc3Njb2RlIHRvIGNvbXBhcmUgb24gdGhlIHNlcnZlciBhZ2FpbnN0IHRoZSBjdXJyZW50IHBhc3Njb2RlLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHBhc3Njb2RlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGNsZWFyIG91dCBpbnB1dHMgYWZ0ZXIgYSBydW4vb25fcnVuIGN5Y2xlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2xlYXJJbnB1dHM6IGtvLm9ic2VydmFibGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgaW1hZ2VzIHNob3VsZCBiZSByZW5kZXJlZCAodHJ1ZSksIG9yIGp1c3Qgc3RheSBhcyB0ZXh0IGNvZGUgKGZhbHNlKS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZW5kZXJJbWFnZXM6IGtvLm9ic2VydmFibGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgZWRpdG9yVmVyc2lvbjogRURJVE9SX1ZFUlNJT04sXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IGtvLm9ic2VydmFibGUodGhpcy5nZXRTZXR0aW5nKFwiZGlzcGxheS5yZWFkX29ubHlcIiwgXCJmYWxzZVwiKS50b1N0cmluZygpPT09XCJ0cnVlXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFVwbG9hZGVkIGZpbGVzIGFyZSBvbmVzIHRoYXQgaGF2ZSBiZWVuIGxpc3RlZCBieSB0aGUgcmVtb3RlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdXBsb2FkZWRGaWxlczoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBCYWNrdXAgY29weSBvZiB0aGUgbGF0ZXN0IGtub3duIGZ1bGwgY29kZSBmb3IgdGhlIFN1Ym1pc3Npb24uIFRoaXMgaXMgcmVsZXZhbnQgaWYgdGhlcmUgd2FzIGFcbiAgICAgICAgICAgICAgICAgKiBQYXJ0SUQgc3BlY2lmaWVkLCBpbiB3aGljaCBjYXNlIHRoZSBzdWJtaXNzaW9uLmNvZGUgaW4gdGhlIG1vZGVsIGlzIG9ubHkgc2hvd2luZyB3aGF0IHdlIGtub3dcbiAgICAgICAgICAgICAgICAgKiBsb2NhbGx5LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGJhY2t1cFN1Ym1pc3Npb25Db2RlOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJzdWJtaXNzaW9uLmNvZGVcIl0gfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ29udHJvbHMgdGhlIHJhdGluZyBzeXN0ZW1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzaG93UmF0aW5nOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcImRpc3BsYXkuc2hvd1JhdGluZ1wiLCBcInRydWVcIikudG9TdHJpbmcoKT09PVwidHJ1ZVwiKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIHRoZSBzdHVkZW50IGhhcyByYXRlZCB0aGlzIGN1cnJlbnQgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBoYXNSYXRlZDoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIHNlZWQgdGhhdCBzaG91bGQgYmUgdXNlZCBmb3IgdGhlIHBvb2w7IGlmIG51bGwsIHRoZW4gdGhlIHN1Ym1pc3Npb24gaWQgd2lsbCBiZSB1c2VkLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHBvb2xTZWVkOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcImRpc3BsYXkucG9vbFNlZWRcIiwgXCJcIikgfHwgbnVsbCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2FkQXNzaWdubWVudDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9hZEFzc2lnbm1lbnRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbG9hZEhpc3Rvcnk6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxvYWRIaXN0b3J5TWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxvYWRGaWxlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsb2FkRmlsZU1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2FkRGF0YXNldDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9hZERhdGFzZXRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbG9nRXZlbnQ6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxvZ0V2ZW50TWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHNhdmVJbWFnZToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgc2F2ZUltYWdlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHNhdmVGaWxlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBzYXZlRmlsZU1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBzYXZlQXNzaWdubWVudDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgc2F2ZUFzc2lnbm1lbnRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgdXBkYXRlU3VibWlzc2lvbjoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgdXBkYXRlU3VibWlzc2lvbk1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uU3RhdHVzOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uU3RhdHVzTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxpc3RVcGxvYWRlZEZpbGVzOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsaXN0VXBsb2FkZWRGaWxlc01lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBkb3dubG9hZEZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGRvd25sb2FkRmlsZU1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICB1cGxvYWRGaWxlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGaWxlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHJlbmFtZUZpbGU6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIHJlbmFtZUZpbGVNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxBUEk6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGV4dGVybmFsQVBJTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIG9uRXhlY3V0aW9uOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGVjdXRpb246IHtcbiAgICAgICAgICAgICAgICAvLyBJbmZvcm1hdGlvbiBhYm91dCBpbi1wcm9ncmVzcyBleGVjdXRpb25zXG4gICAgICAgICAgICAgICAgcmVwb3J0czoge30sXG4gICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBPdXRwdXQgb2JqZWN0c1xuICAgICAgICAgICAgICAgIG91dHB1dDoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICAvLyBMaXN0IG9mIGlucHV0dGVkIHN0cmluZ3NcbiAgICAgICAgICAgICAgICBpbnB1dDoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICBpbnB1dEluZGV4OiBrby5vYnNlcnZhYmxlKDApLFxuICAgICAgICAgICAgICAgIC8vIEluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYSBzdHVkZW50IHJ1blxuICAgICAgICAgICAgICAgIHN0dWRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyOiB0aGUgZmlsZW5hbWUgdGhhdCB3YXMgbGFzdCBleGVjdXRlZCBhbmQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZXNlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0ZXA6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0ZXA6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmU6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMaW5lOiBrby5vYnNlcnZhYmxlKDApLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcnJheSBvZiBzaW1wbGUgb2JqZWN0c1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJhY2VEYXRhOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlZ2VyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjZVN0ZXA6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjdHVhbCBleGVjdXRpb24gcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxzOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBjYWxsczoge31cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3lzbW9kdWxlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzdGRvdXQ6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBJbmZvcm1hdGlvbiByZWxhdGVkIHRvIGZlZWRiYWNrIGZyb20gdGhlIGluc3RydWN0b3IgcnVuXG4gICAgICAgICAgICAgICAgZmVlZGJhY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyIChtYXJrZG93bilcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlJlYWR5XCIpLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeToga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzRXJyb3I6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzVW5jb3ZlcmVkOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmVzdWx0cyBvZiB0aGUgbGFzdCBleGVjdXRpb25cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBGdW5jdGlvbnMgdG8gZmlyZSB3aGVuIGNlcnRhaW4gZXZlbnRzIG9jY3VyXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBXaGVuIHRoZSBzdHVkZW50IGdldHMgYSBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl9bXCJjYWxsYmFjay5zdWNjZXNzXCJdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHNlcnZlciBpcyBjb25uZWN0ZWQuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2VydmVyQ29ubmVjdGVkOiBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U2V0dGluZyhcInNlcnZlci5jb25uZWN0ZWRcIiwgdHJ1ZSkpLFxuICAgICAgICAgICAgICAgIC8vIHN0cmluZ1xuICAgICAgICAgICAgICAgIGJsb2NrbHlQYXRoOiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1tcImJsb2NrbHkucGF0aFwiXSxcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50UG9pbnQ6IHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW1wiYXR0YWNobWVudC5wb2ludFwiXSxcbiAgICAgICAgICAgICAgICAvLyBKUXVlcnkgb2JqZWN0XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgICAgIC8vIE1hcHMgY29kZXMgKCdsb2dfZXZlbnQnLCAnc2F2ZV9jb2RlJykgdG8gVVJMc1xuICAgICAgICAgICAgICAgIHVybHM6IHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW1widXJsc1wiXSB8fCB7fSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBVbmlxdWUgUGFydCBJRCB0aGF0IGNhbiBkaXN0aW5ndWlzaCB0aGlzIGVkaXRvciBpbnN0YW5jZSdzIHJlZ2lvbiBvZiB0aGUgYXNzaWdubWVudC5cbiAgICAgICAgICAgICAgICAgKiBJdCdzIHBvc3NpYmxlIHRoYXQgb3RoZXIgZWRpdG9ycyBtYXkgYmUgYXR0YWNoZWQgdG8gYSBkaWZmZXJlbnQgUGFydCBvZiB0aGUgc2FtZSBhc3NpZ25tbmV0LCBvbiB0aGVcbiAgICAgICAgICAgICAgICAgKiBzYW1lIHBhZ2UuXG4gICAgICAgICAgICAgICAgICogKiovXG4gICAgICAgICAgICAgICAgcGFydElkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJwYXJ0SWRcIl0gfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFjY2Vzc190b2tlblwiXSB8fCB1bmRlZmluZWQpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBpbnRlcmZhY2VcbiAgICAgKi9cbiAgICBpbml0SW50ZXJmYWNlKCkge1xuICAgICAgICBsZXQgY29uc3RhbnRzID0gdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uO1xuICAgICAgICBsZXQgZ3VpID0gbWFrZUludGVyZmFjZSh0aGlzKTtcbiAgICAgICAgY29uc3RhbnRzLmNvbnRhaW5lciA9ICQoY29uc3RhbnRzLmF0dGFjaG1lbnRQb2ludCkuaHRtbCgkKGd1aSkpO1xuICAgIH07XG5cbiAgICBsb2FkQXNzaWdubWVudChhc3NpZ25tZW50X2lkKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXJ2ZXIubG9hZEFzc2lnbm1lbnQoYXNzaWdubWVudF9pZCk7XG4gICAgfVxuXG4gICAgbG9hZFRhZ3ModGFncykge1xuICAgICAgICAvLyBBbHJlYWR5IGEgSlNPTiBsaXN0IHJlcHJlc2VudGluZyB0YWdzXG4gICAgfVxuXG4gICAgbG9hZFNhbXBsZVN1Ym1pc3Npb25zKHNhbXBsZXMpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBhIEpTT04gbGlzdCByZXByZXNlbnRpbmcgc2FtcGxlc1xuICAgIH1cblxuICAgIGxvYWROb1N1Ym1pc3Npb24oYXNzaWdubWVudCkge1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uY29kZShhc3NpZ25tZW50LnN0YXJ0aW5nX2NvZGUpO1xuICAgICAgICBsb2FkQ29uY2F0ZW5hdGVkRmlsZShhc3NpZ25tZW50LmV4dHJhX3N0YXJ0aW5nX2ZpbGVzLCB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcyk7XG4gICAgfVxuXG4gICAgbG9hZFN1Ym1pc3Npb24oc3VibWlzc2lvbiwgYXNzaWdubWVudCkge1xuICAgICAgICBpZiAoIXN1Ym1pc3Npb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFNjYXJpZXIgXCJZb3UgYXJlIG5vdCBsb2dnZWQgaW4gbWVzc2FnZVwiXG4gICAgICAgICAgICB0aGlzLmxvYWROb1N1Ym1pc3Npb24oYXNzaWdubWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogV2hhdCBpZiBzdWJtaXNzaW9ucycgYXNzaWdubWVudCB2ZXJzaW9uIGFuZCB0aGUgYXNzaWdubWVudHMnIHZlcnNpb24gY29uZmxpY3Q/XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5pZChzdWJtaXNzaW9uLmlkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmJhY2t1cFN1Ym1pc3Npb25Db2RlKHN1Ym1pc3Npb24uY29kZSk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5jb2RlKGV4dHJhY3RQYXJ0KHN1Ym1pc3Npb24uY29kZSwgdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLnBhcnRJZCgpKSB8fCBcIlwiKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3Qoc3VibWlzc2lvbi5jb3JyZWN0KTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKHN1Ym1pc3Npb24uc2NvcmUpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZW5kcG9pbnQoc3VibWlzc2lvbi5lbmRwb2ludCk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi51cmwoc3VibWlzc2lvbi51cmwpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24udmVyc2lvbihzdWJtaXNzaW9uLnZlcnNpb24pO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZ3JhZGluZ1N0YXR1cyhzdWJtaXNzaW9uLmdyYWRpbmdfc3RhdHVzIHx8IFN1Ym1pc3Npb25TdGF0dXNlcy5VTktOT1dOKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMoc3VibWlzc2lvbi5zdWJtaXNzaW9uX3N0YXR1cyB8fCBTdWJtaXNzaW9uU3RhdHVzZXMuVU5LTk9XTik7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5vd25lcklkKHN1Ym1pc3Npb24udXNlcl9pZCk7XG4gICAgICAgIHRoaXMubW9kZWwudXNlci5jb3Vyc2VJZChzdWJtaXNzaW9uLmNvdXJzZV9pZCk7XG4gICAgICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlKHN1Ym1pc3Npb24uZXh0cmFfZmlsZXMsIHRoaXMubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKTtcbiAgICB9XG5cbiAgICBsb2FkQXNzaWdubWVudERhdGFfKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhkYXRhKTtcbiAgICAgICAgdGhpcy5yZXNldEludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5kaXNtb3VudEV4dHJhRmlsZXMoKTtcbiAgICAgICAgbGV0IHdhc1NlcnZlckNvbm5lY3RlZCA9IHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5zZXJ2ZXJDb25uZWN0ZWQoKTtcbiAgICAgICAgdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLnNlcnZlckNvbm5lY3RlZChmYWxzZSk7XG4gICAgICAgIGxldCBhc3NpZ25tZW50ID0gZGF0YS5hc3NpZ25tZW50O1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuaWQoYXNzaWdubWVudC5pZCk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC52ZXJzaW9uKGFzc2lnbm1lbnQudmVyc2lvbik7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5jb3Vyc2VJZChhc3NpZ25tZW50LmNvdXJzZV9pZCk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5mb3JrZWRJZChhc3NpZ25tZW50LmZvcmtlZF9pZCk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5mb3JrZWRWZXJzaW9uKGFzc2lnbm1lbnQuZm9ya2VkX3ZlcnNpb24pO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKGFzc2lnbm1lbnQuaGlkZGVuKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnJldmlld2VkKGFzc2lnbm1lbnQucmV2aWV3ZWQpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQucHVibGljKGFzc2lnbm1lbnQucHVibGljKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnR5cGUoYXNzaWdubWVudC50eXBlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnVybChhc3NpZ25tZW50LnVybCk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5wb2ludHMoYXNzaWdubWVudC5wb2ludHMpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuaXBSYW5nZXMoYXNzaWdubWVudC5pcF9yYW5nZXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKGFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm5hbWUoYXNzaWdubWVudC5uYW1lKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlKGFzc2lnbm1lbnQub25fY2hhbmdlIHx8IG51bGwpO1xuICAgICAgICBpZiAoYXNzaWdubWVudC5vbl9jaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUoXCIhb25fY2hhbmdlLnB5XCIsIGFzc2lnbm1lbnQub25fY2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKGFzc2lnbm1lbnQub25fZXZhbCB8fCBudWxsKTtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnQub25fZXZhbCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShcIiFvbl9ldmFsLnB5XCIsIGFzc2lnbm1lbnQub25fZXZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKGFzc2lnbm1lbnQub25fcnVuKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnN0YXJ0aW5nQ29kZShhc3NpZ25tZW50LnN0YXJ0aW5nX2NvZGUpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQub3duZXJJZChhc3NpZ25tZW50Lm93bmVyX2lkKTtcbiAgICAgICAgdGhpcy5sb2FkVGFncyhhc3NpZ25tZW50LnRhZ3MpO1xuICAgICAgICB0aGlzLmxvYWRTYW1wbGVTdWJtaXNzaW9ucyhhc3NpZ25tZW50LnNhbXBsZV9zdWJtaXNzaW9ucyk7XG4gICAgICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlKGFzc2lnbm1lbnQuZXh0cmFfaW5zdHJ1Y3Rvcl9maWxlcywgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKTtcbiAgICAgICAgbG9hZENvbmNhdGVuYXRlZEZpbGUoYXNzaWdubWVudC5leHRyYV9zdGFydGluZ19maWxlcywgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyk7XG4gICAgICAgIGxvYWRBc3NpZ25tZW50U2V0dGluZ3ModGhpcy5tb2RlbCwgYXNzaWdubWVudC5zZXR0aW5ncyk7XG4gICAgICAgIHRoaXMubG9hZFN1Ym1pc3Npb24oZGF0YS5zdWJtaXNzaW9uLCBhc3NpZ25tZW50KTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LnBvb2xTZWVkKGRhdGFbXCJkaXNwbGF5X3NlZWRcIl0gfHwgbnVsbClcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbih0cnVlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMobnVsbCk7XG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5zZXJ2ZXJDb25uZWN0ZWQod2FzU2VydmVyQ29ubmVjdGVkKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmNvcmdpcy5sb2FkRGF0YXNldHModHJ1ZSk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0ucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5sb2FkUmVtb3RlRmlsZXMoKTtcblxuICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2VydmVyLnNldFN0YXR1cyhcInNhdmVGaWxlXCIsIFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICB9XG5cbiAgICBpbml0TW9kZWxNZXRob2RzKCkge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubW9kZWw7XG4gICAgICAgIG1vZGVsLnVpID0ge1xuICAgICAgICAgICAgc21hbGxMYXlvdXQ6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgIW1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpICYmIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Muc21hbGxMYXlvdXQoKSksXG4gICAgICAgICAgICByb2xlOiB7XG4gICAgICAgICAgICAgICAgaXNHcmFkZXI6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnVzZXIucm9sZSgpID09PSBcIm93bmVyXCIgfHwgbW9kZWwudXNlci5yb2xlKCkgPT09IFwiZ3JhZGVyXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VkOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKCkgIT09IG51bGxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByYXcgPSBtb2RlbC51aS5pbnN0cnVjdGlvbnMuaXNDaGFuZ2VkKCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaW5zdHJ1Y3Rpb25zUG9vbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXcgPSBmb3JtYXRQb29sSW5zdHJ1Y3Rpb25zKHJhdywgbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnV0aWxpdGllcy5tYXJrZG93bihyYXcpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHJlc2V0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMobnVsbClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZW51OiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZToga28ucHVyZUNvbXB1dGVkKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seUludGVyYWN0aXZlKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRleHRGdWxsc2NyZWVuOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKG1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbigpKSA/IFwiZmEtY29tcHJlc3MtYXJyb3dzLWFsdFwiIDogXCJmYS1leHBhbmQtYXJyb3dzLWFsdFwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjbGlja0Z1bGxzY3JlZW46ICgpID0+e1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4oIW1vZGVsLmRpc3BsYXkuZnVsbHNjcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVkaXRJbnB1dHM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRpYWxvZy5FRElUX0lOUFVUUygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9nZ2xlSW1hZ2VzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5kaXNwbGF5LnJlbmRlckltYWdlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLnRleHRFZGl0b3IuZGlzYWJsZUltYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS50ZXh0RWRpdG9yLmVuYWJsZUltYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkucmVuZGVySW1hZ2VzKCFtb2RlbC5kaXNwbGF5LnJlbmRlckltYWdlcygpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbk1hcmtTdWJtaXR0ZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnJldmlld2VkKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5jYW5DbG9zZSgpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0ZXh0TWFya1N1Ym1pdHRlZDoga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLnVpLm1lbnUuaXNDb21wbGV0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsLnVzZXIuZ3JvdXBJZCgpID8gXCJQcm9ibGVtIGNsb3NlZFwiIDogXCJBc3NpZ25tZW50IGNsb3NlZFwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLnVpLm1lbnUuaXNTdWJtaXR0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUmVvcGVuIGZvciBlZGl0aW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUnVuXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCkgJiYgbW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTdWJtaXRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3VibWl0IGVhcmx5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjbGlja01hcmtTdWJtaXR0ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLnVpLm1lbnUuaXNDb21wbGV0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgY2Fubm90IHJlb3BlbiBjbG9zZWQgYXNzaWdubWVudHMuIENvbnRhY3QgYSBncmFkZXIhXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLnVpLm1lbnUuaXNTdWJtaXR0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci51cGRhdGVTdWJtaXNzaW9uU3RhdHVzKFwiaW5Qcm9ncmVzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZW5naW5lLmRlbGF5ZWRSdW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvblN0YXR1cyhcIlN1Ym1pdHRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXNTdWJtaXR0ZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAobW9kZWwuYXNzaWdubWVudC5yZXZpZXdlZCgpIHx8IG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuY2FuQ2xvc2UoKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3VibWlzc2lvbi5zdWJtaXNzaW9uU3RhdHVzKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJzdWJtaXR0ZWRcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQ6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uc3VibWlzc2lvblN0YXR1cygpLnRvTG93ZXJDYXNlKCkgPT09IFwiY29tcGxldGVkXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHNob3dRdWV1ZWRJbnB1dHM6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlUXVldWVkSW5wdXRzKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHNob3dDbG9jazoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhhc0Nsb2NrKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGNhblNoYXJlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi51cmxzW1wic2hhcmVVcmxcIl0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZ2V0U2hhcmVVcmw6ICh3YXNQcm9tcHRlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IFtcImdyb3VwXCIsIG1vZGVsLnVzZXIuY291cnNlSWQoKSwgbW9kZWwudXNlci5ncm91cElkKCksIG1vZGVsLmFzc2lnbm1lbnQuaWQoKSwgbW9kZWwudXNlci5pZCgpXTtcbiAgICAgICAgICAgICAgICAgICAgLypjb25zdCBpbnRlcmVzdGluZ0RldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIndoZW5cIjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJmZWVkYmFja1wiOiBtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKSArIFwifFwiICsgbW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcIndhc1Byb21wdGVkXCI6IHdhc1Byb21wdGVkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goYnRvYShKU09OLnN0cmluZ2lmeShpbnRlcmVzdGluZ0RldGFpbHMpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGludGVyZXN0aW5nRGV0YWlscyk7Ki9cbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJhc2U2NCBlbmNvZGUgdGhlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZWQgPSBidG9hKHBhcnRzLmpvaW4oXCJfXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IHRoZSB0YXJnZXQgVVJMIHVzaW5nIG1vZGVsLmNvbmZpZ3VyYXRpb24udXJsc1tcInNoYXJlVXJsXCJdXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSBtb2RlbC5jb25maWd1cmF0aW9uLnVybHNbXCJzaGFyZVVybFwiXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VVcmwgKyAoYmFzZVVybC5lbmRzV2l0aChcIi9cIikgPyBcIlwiIDogXCIvXCIpICsgZW5jb2RlZDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXJ0U2hhcmU6ICh3YXNQcm9tcHRlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGlhbG9nLlNUQVJUX1NIQVJFKFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkubWVudS5nZXRTaGFyZVVybCh3YXNQcm9tcHRlZCksXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXNQcm9tcHRlZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3VycmVudFNlZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuZGlzcGxheS5wb29sU2VlZCgpICYmIChtb2RlbC5kaXNwbGF5LnBvb2xTZWVkKCkgIT09IDApID8gbW9kZWwuc3VibWlzc2lvbi5pZCgpIDogbW9kZWwuZGlzcGxheS5wb29sU2VlZCgpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWNvbmRSb3c6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Muc21hbGxMYXlvdXQoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbC1tZC0xMlwiIDogXCJjb2wtbWQtNVwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBoaWRlVHJhY2VCdXR0b246IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgICFtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSAmJiBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVUcmFjZUJ1dHRvbigpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBpc0FsbFZpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlTWlkZGxlUGFuZWwoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNGZWVkYmFja1Zpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5GRUVEQkFDS1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNUcmFjZVZpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5UUkFDRVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNDb25zb2xlU2hvd1Zpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5zZWNvbmRSb3cuaXNGZWVkYmFja1Zpc2libGUoKSB8fCBtb2RlbC51aS5zZWNvbmRSb3cuaXNUcmFjZVZpc2libGUoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgc3dpdGNoTGFiZWw6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpICE9PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmlldyBUcmFjZVwiIDogXCJcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWR2YW5jZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UGFuZWwgPSBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZWwoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLkZFRURCQUNLKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFuZWwoKSA9PT0gU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLlRSQUNFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZWwoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLk5PTkUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lbChTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuVFJBQ0UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmVsKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWFrZVdpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmVsID0gbW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbDtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5wcmV2aW91c1NlY29uZFJvd1NlY29uZFBhbmVsKGN1cnJlbnRQYW5lbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmVsKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3RvcmVQYW5lbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFBhbmVsID0gbW9kZWwuZGlzcGxheS5wcmV2aW91c1NlY29uZFJvd1NlY29uZFBhbmVsO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUGFuZWwoKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5zZWNvbmRSb3dTZWNvbmRQYW5lbChvbGRQYW5lbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFBhbmVsKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnNvbGU6IHtcbiAgICAgICAgICAgICAgICBzaXplOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKCFtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSAmJiBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLnNtYWxsTGF5b3V0KCkpIHx8XG4gICAgICAgICAgICAgICAgICAgIChtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbC1tZC0xMlwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sLW1kLTZcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaGlkZUV2YWx1YXRlOiBrby5wdXJlQ29tcHV0ZWQoICgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlRXZhbHVhdGUoKSB8fCAhbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuZ2xvYmFscygpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbigpID09PSBTdGF0dXNTdGF0ZS5BQ1RJVkVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmVlZGJhY2s6IHtcbiAgICAgICAgICAgICAgICBiYWRnZToga28ucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1ub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1ub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicnVudGltZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLXJ1bnRpbWUtZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW50YXhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1zeW50YXgtZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1zeW50YXgtZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlcm5hbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLWludGVybmFsLWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VtYW50aWNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbmFseXplclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLXNlbWFudGljLWVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmVlZGJhY2tcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0cnVjdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtZmVlZGJhY2stZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLXByb2JsZW0tY29tcGxldGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0cnVjdGlvbnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1pbnN0cnVjdGlvbnNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJubyBlcnJvcnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1uby1lcnJvcnNcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBrby5wdXJlQ29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KCkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicnVudGltZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlJ1bnRpbWUgRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW50YXhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTeW50YXggRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFZGl0b3IgRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlcm5hbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkludGVybmFsIEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VtYW50aWNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbmFseXplclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkFsZ29yaXRobSBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZlZWRiYWNrXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3Rpb25zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5zdHJ1Y3Rpb25zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3RvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkluY29ycmVjdCBBbnN3ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkNvbXBsZXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm8gZXJyb3JzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTm8gZXJyb3JzXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICByZXNldFNjb3JlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoMCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvbihtb2RlbC5zdWJtaXNzaW9uLnNjb3JlKCksIG1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb3ZpZGVSYXRpbmdzOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgIW1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZsaXBSYXRpbmc6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSAhbW9kZWwuZGlzcGxheS5zaG93UmF0aW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuc2hvd1JhdGluZyhuZXdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9jYWxTZXR0aW5nc18uc2V0KFwiZGlzcGxheS5zaG93UmF0aW5nXCIsIG5ld1N0YXRlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmF0ZTogKHJhdGluZywgc3VnZ2VzdFNoYXJlPWZhbHNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLVJhdGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZyk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1yYXRpbmdcIikuZmFkZU91dCg1MDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaGFzUmF0ZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGFua1lvdSA9IG1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFjay10aGFuay15b3VcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoYW5rWW91LmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGFua1lvdS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZGlzcGxheS5oYXNSYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkubWVudS5zdGFydFNoYXJlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhc1JhdGVkQ2xhc3M6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmhhc1JhdGVkKCkgPyBcImZhclwiIDogXCJmYXNcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWRkUG9zaXRpdmVGZWVkYmFjazogKHRleHQsIGljb24sIGNvbG9yLCBvbmNsaWNrLCB0b0VuZCwgaW5zdHJ1Y3Rvck9ubHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0cnVjdG9yT25seSB8fCBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZlZWRiYWNrLmFkZFBvc2l0aXZlRmVlZGJhY2sodGV4dCwgaWNvbiwgY29sb3IsIG9uY2xpY2ssIHRvRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hvd0luc3RydWN0b3JTdGRvdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmRpYWxvZy5WSUVXX0lOU1RSVUNUT1JfU1RET1VUKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYWNlOiB7XG4gICAgICAgICAgICAgICAgaGFzOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSgpICE9PSBudWxsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBoaWdobGlnaHRlZExpbmU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgIT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5UUkFDRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhY2VEYXRhID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYWNlRGF0YSB8fCBzdGVwID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RlcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0cmFjZURhdGFbc3RlcC0xXS5saW5lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGxpbmU6IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhY2VEYXRhID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYWNlRGF0YSB8fCBzdGVwID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyB0cmFjZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJCZWZvcmUgcnVuXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RlcCA9PT0gbGFzdFN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkZpbmlzaGVkIHJ1blwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2h5IGFyZSB0aGVzZSBudW1iZXJzIHdvbmt5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTGluZSBcIisodHJhY2VEYXRhW3N0ZXAtMV0ubGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhc3Q6IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhY2VEYXRhID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYWNlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTm90aGluZyB0cmFjZWQuXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3RhcnRpbmcgZXhlY3V0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGxhc3RTdGVwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkV4ZWN1dGlvbiBoYWx0ZWQgKGVycm9yKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaW5pc2hlZCBleGVjdXRpb25cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ3VycmVudCBzdGVwOiBcIiArIEFTVF9ERVNDUklQVElPTlNbdHJhY2VEYXRhW3N0ZXAtMV0uYXN0XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiYWNrd2FyZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXMgPSBNYXRoLm1heCgwLCBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKCkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb3J3YXJkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gTWF0aC5taW4obW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKSwgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAobmV4dCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAobW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhOiBrby5wdXJlQ29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RTdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNlRGF0YSA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGxhc3RTdGVwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFjZURhdGFbc3RlcCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhY2VEYXRhW3N0ZXBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsZXM6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUZpbGVzKCkgfHwgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5wcmVsb2FkQWxsRmlsZXMoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWRkSXNWaXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUZpbGVzKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBrby5wdXJlQ29tcHV0ZWQoKCk9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSB8fCAhbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5zbWFsbExheW91dCgpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sLW1kLTEyXCIgOiBcImNvbC1tZC02XCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGhhc0NvbnRlbnRzOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlci5weVwiOiByZXR1cm4gbW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIWluc3RydWN0aW9ucy5tZFwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhb25fY2hhbmdlLnB5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlKCkgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2V2YWwucHlcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP21vY2tfdXJscy5ibG9ja3B5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCkuc29tZShmaWxlID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5maWxlbmFtZSgpID09PSBcIj9tb2NrX3VybHMuYmxvY2tweVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbWFnZXMuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLnNvbWUoZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUoKSA9PT0gXCJpbWFnZXMuYmxvY2tweVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhYW5zd2VyX3ByZWZpeC5weVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLnNvbWUoZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUoKSA9PT0gXCIhYW5zd2VyX3ByZWZpeC5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhYW5zd2VyX3N1ZmZpeC5weVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLnNvbWUoZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUoKSA9PT0gXCIhYW5zd2VyX3N1ZmZpeC5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI/dG9vbGJveC5ibG9ja3B5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCkuc29tZShmaWxlID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5maWxlbmFtZSgpID09PSBcIj90b29sYm94LmJsb2NrcHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIXRhZ3MuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC50YWdzKCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5zYW1wbGVTdWJtaXNzaW9ucygpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9tb2NrX3VybHMuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFhbnN3ZXJfcHJlZml4LnB5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIWFuc3dlcl9zdWZmaXgucHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI/dGFncy5ibG9ja3B5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiP3NldHRpbmdzLmJsb2NrcHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImltYWdlcy5ibG9ja3B5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoLCBcInt9XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj90b29sYm94LmJsb2NrcHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9ybWFsVG9vbGJveCA9IHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uYmxvY2tFZGl0b3IuVE9PTEJPWEVTW1wibm9ybWFsXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbFRvb2xib3ggPSBKU09OLnN0cmluZ2lmeShub3JtYWxUb29sYm94LCBudWxsLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKHBhdGgsIG5vcm1hbFRvb2xib3gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2FtcGxlU3VibWlzc2lvbnMoW1NhbXBsZVN1Ym1pc3Npb24uQmxhbmsoKV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2NoYW5nZS5weVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGZpeCBleHRyYWZpbGVzIGZvciBpbnN0cnVjdG9yIGFuZCBzdHVkZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2V2YWwucHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50Lm9uRXZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlRGlhbG9nKFwiaW5zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3R1ZGVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGVEaWFsb2coXCJzdHVkZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGVEaWFsb2coXCJzdGFydGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5maWxlbmFtZShwYXRoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5kZWxldGVGaWxlKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW5hbWU6IChuZXdOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5yZW5hbWVGaWxlKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSwgbmV3TmFtZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRTdHVkZW50Q29kZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmVmaXhQeSA9IHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLmdldEZpbGUoXCIhYW5zd2VyX3ByZWZpeC5weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1ZmZpeFB5ID0gc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uZ2V0RmlsZShcIiFhbnN3ZXJfc3VmZml4LnB5XCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHNlbGYubW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVmaXhQeSAmJiBwcmVmaXhQeS5oYW5kbGUgJiYgcHJlZml4UHkuaGFuZGxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBwcmVmaXhQeS5oYW5kbGUoKSArIGNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1ZmZpeFB5ICYmIHN1ZmZpeFB5LmhhbmRsZSAmJiBzdWZmaXhQeS5oYW5kbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgKyBzdWZmaXhQeS5oYW5kbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGV4dHJhU3R1ZGVudEZpbGVzOiBvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZShtb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMpLFxuICAgICAgICAgICAgICAgIGV4dHJhSW5zdHJ1Y3RvckZpbGVzOiBvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZShtb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKSxcbiAgICAgICAgICAgICAgICBleHRyYVN0YXJ0aW5nRmlsZXM6IG9ic2VydmVDb25jYXRlbmF0ZWRGaWxlKG1vZGVsLmFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzKSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5RmlsZW5hbWU6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggPT09IFwiP21vY2tfdXJscy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlVSTCBEYXRhXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggPT09IFwiaW1hZ2VzLmJsb2NrcHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSW1hZ2VzXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggPT09IFwiIWFuc3dlcl9wcmVmaXgucHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQW5zd2VyIFByZWZpeFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoID09PSBcIiFhbnN3ZXJfc3VmZml4LnB5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkFuc3dlciBTdWZmaXhcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCA9PT0gXCI/dG9vbGJveC5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlRvb2xib3hcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKFwiJlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlZGl0b3JzOiB7XG4gICAgICAgICAgICAgICAgY3VycmVudDoga28ucHVyZUNvbXB1dGVkKCAoKT0+XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lZGl0b3JzLmdldEVkaXRvcihtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB3aWR0aDoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkgfHwgIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Muc21hbGxMYXlvdXQoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbC1tZC0xMlwiIDogXCJjb2wtbWQtN1wiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB2aWV3OiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKCFtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVFZGl0b3JzKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seUludGVyYWN0aXZlKCkpKSA/IFwiTm9uZVwiIDpcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5maWxlbmFtZSgpID8gbW9kZWwudWkuZWRpdG9ycy5jdXJyZW50KCkgOiBcIk5vbmVcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1GaWxlLlJlc2V0XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLmNvZGUobW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcyhtb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcygpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZSA9IGZpbGUuZmlsZW5hbWUoKS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2RlbEZpbGUoZmlsZW5hbWUsIGZpbGUuY29udGVudHMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuU2F2ZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICFtb2RlbC5kaXNwbGF5LmF1dG9TYXZlKCkpLFxuICAgICAgICAgICAgICAgIGNhbkRlbGV0ZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICghbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlRmlsZXMoKSB8fCBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgVU5ERUxFVEFCTEVfRklMRVMuaW5kZXhPZihtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpID09PSAtMSksXG4gICAgICAgICAgICAgICAgY2FuUmVuYW1lOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKCFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVGaWxlcygpIHx8IG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKSAmJlxuICAgICAgICAgICAgICAgICAgICBVTlJFTkFNQUJMRV9GSUxFUy5pbmRleE9mKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSkgPT09IC0xKSxcbiAgICAgICAgICAgICAgICB1cGxvYWQ6IHVwbG9hZEZpbGUuYmluZChzZWxmKSxcbiAgICAgICAgICAgICAgICBkb3dubG9hZDogZG93bmxvYWRGaWxlLmJpbmQoc2VsZiksXG4gICAgICAgICAgICAgICAgaW1wb3J0RGF0YXNldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuY29yZ2lzLm9wZW5EaWFsb2coKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHB5dGhvbjoge1xuICAgICAgICAgICAgICAgICAgICBmdWxsc2NyZWVuOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29kZU1pcnJvciA9IHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0udGV4dEVkaXRvci5jb2RlTWlycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCAhY29kZU1pcnJvci5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTW9kZTogKG5ld01vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLVZpZXcuQ2hhbmdlXCIsIFwiXCIsIFwiXCIsIG5ld01vZGUsIG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUobmV3TW9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZGlzcGxheS5maWxlbmFtZSgpID09PSBcImFuc3dlci5weVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5vbGRQeXRob25Nb2RlID0gbmV3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaXNIaXN0b3J5QXZhaWxhYmxlOiBrby5wdXJlQ29tcHV0ZWQoKCk9PlxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkSGlzdG9yeVwiKSksXG4gICAgICAgICAgICAgICAgICAgIHR1cm5PZmZIaXN0b3J5TW9kZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci51cGRhdGVFZGl0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5weXRob25FZGl0b3Iuc2V0UmVhZE9ubHkoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR1cm5Pbkhpc3RvcnlNb2RlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvYWRIaXN0b3J5KChyZXNwb25zZSkgPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubG9hZChyZXNwb25zZS5oaXN0b3J5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5zZXRSZWFkT25seSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfSElTVE9SWSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVIaXN0b3J5TW9kZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmRpc3BsYXkuaGlzdG9yeU1vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLmVkaXRvcnMucHl0aG9uLnR1cm5PZmZIaXN0b3J5TW9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5lZGl0b3JzLnB5dGhvbi50dXJuT25IaXN0b3J5TW9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubW92ZVRvU3RhcnQoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS5tb3ZlUHJldmlvdXMoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6ICgpPT57IHNlbGYuY29tcG9uZW50cy5oaXN0b3J5Lm1vdmVOZXh0KCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3N0UmVjZW50OiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS5tb3ZlVG9Nb3N0UmVjZW50KCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2U6ICgpPT57IHNlbGYuY29tcG9uZW50cy5oaXN0b3J5LnVzZSgpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGltYWdlczoge1xuICAgICAgICAgICAgICAgICAgICB1cGxvYWRGaWxlOiAoKSA9PiBzZWxmLmNvbXBvbmVudHMuZWRpdG9ycy5ieU5hbWUoXCJpbWFnZVwiKS51cGxvYWRGaWxlKCksXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUZpbGU6IChmaWxlSW5mbykgPT4gc2VsZi5jb21wb25lbnRzLmVkaXRvcnMuYnlOYW1lKFwiaW1hZ2VcIikuZGVsZXRlRmlsZShmaWxlSW5mbyksXG4gICAgICAgICAgICAgICAgICAgIHJlbmFtZUZpbGU6IChmaWxlSW5mbykgPT4gc2VsZi5jb21wb25lbnRzLmVkaXRvcnMuYnlOYW1lKFwiaW1hZ2VcIikucmVuYW1lRmlsZShmaWxlSW5mbyksXG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZEltYWdlczogKCkgPT4gc2VsZi5jb21wb25lbnRzLmVkaXRvcnMuYnlOYW1lKFwiaW1hZ2VcIikucmVsb2FkSW1hZ2VzKCksXG4gICAgICAgICAgICAgICAgICAgIGNhbkNob29zZVBsYWNlbWVudDoga28ucHVyZUNvbXB1dGVkKCgpID0+IG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKSxcbiAgICAgICAgICAgICAgICAgICAgY2FuTW9kaWZ5OiAocGxhY2VtZW50KSA9PiBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSB8fCBwbGFjZW1lbnQgPT09IFwic3VibWlzc2lvblwiIHx8IHBsYWNlbWVudCA9PT0gXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICBzYXZlOiAoKSA9PiBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnNhdmVBc3NpZ25tZW50KClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNhbXBsZVN1Ym1pc3Npb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkRWRpdG9yOiAobmV3RE9NLCBpbmRleCwgbmV3RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVkaXRvciA9IHNlbGYuY29tcG9uZW50cy5lZGl0b3JzLmJ5TmFtZShcIlNhbXBsZSBTdWJtaXNzaW9uc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5idWlsZEVkaXRvcihuZXdET00sIGluZGV4LCBuZXdFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhlY3V0ZToge1xuICAgICAgICAgICAgICAgIGlzUnVubmluZzoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbigpID09PSBTdGF0dXNTdGF0ZS5BQ1RJVkVcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJ1bkxhYmVsOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKCkgPT09IFN0YXR1c1N0YXRlLkFDVElWRSA/IFwiU3RvcFwiIDogXCJSdW5cIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcnVuOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oKSA9PT0gU3RhdHVzU3RhdGUuQUNUSVZFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFB5Z2FtZUxpYiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBQeWdhbWVMaWIucnVubmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFB5Z2FtZUxpYi5TdG9wUHlnYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVuZ2luZS5kZWxheWVkUnVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJ1blF1aWV0bHlMYWJlbDoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKCkgPT09IFN0YXR1c1N0YXRlLkFDVElWRSA/IFwiU3RvcFwiIDogXCJSdW4gd2l0aG91dCBmZWVkYmFja1wiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBydW5RdWlldGx5OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oKSA9PT0gU3RhdHVzU3RhdGUuQUNUSVZFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFB5Z2FtZUxpYiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBQeWdhbWVMaWIucnVubmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFB5Z2FtZUxpYi5TdG9wUHlnYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVuZ2luZS5kZWxheWVkUnVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBldmFsdWF0ZTogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmVuZ2luZS5ldmFsdWF0ZSgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VydmVyOiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAoZW5kcG9pbnQgPT5cbiAgICAgICAgICAgICAgICAgICAgXCJzZXJ2ZXItc3RhdHVzLVwiICsgbW9kZWwuc3RhdHVzW2VuZHBvaW50XSgpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBpc0VuZHBvaW50Q29ubmVjdGVkOiAoZW5kcG9pbnQpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24uc2VydmVyQ29ubmVjdGVkKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi51cmxzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi51cmxzW2VuZHBvaW50XSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgY2FwaXRhbGl6ZShtb2RlbC5zdGF0dXMubG9hZEFzc2lnbm1lbnRNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5zYXZlQXNzaWdubWVudE1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLmxvYWRIaXN0b3J5TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMubG9hZEZpbGVNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5zYXZlRmlsZU1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLmxvYWREYXRhc2V0TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMubG9nRXZlbnRNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5zYXZlSW1hZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLnVwZGF0ZVN1Ym1pc3Npb25NZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5leHRlcm5hbEFQSSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMudXBkYXRlU3VibWlzc2lvblN0YXR1c01lc3NhZ2UoKSB8fCBcIlwiKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZm9yY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEFzc2lnbm1lbnQ6IChkYXRhLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9sZXQgZmlsZUhhbmRsZXIgPSAkKFwiLmJsb2NrcHktZm9yY2UtbG9hZC1hc3NpZ25tZW50LWZpbGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXNzaWdubWVudEZvcmNlTG9hZEJ1dHRvbiA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsZUhhbmRsZXIuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5wYXJlbnQoKS5mYWRlT3V0KDEwMCkuZmFkZUluKDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyB1c2VyIHRvIHVwbG9hZCBhIGZpbGUgY29udGFpbmluZyBhbiBhc3NpZ25tZW50IHN1Ym1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZXMgPSBhc3NpZ25tZW50Rm9yY2VMb2FkQnV0dG9uWzBdLmZpbGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnIub25sb2FkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhc3NpZ25tZW50U3VibWlzc2lvbiA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRBc3NpZ25tZW50RGF0YV8oYXNzaWdubWVudFN1Ym1pc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyLmZpbGVOYW1lID0gZmlsZXNbMF0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyLnJlYWRBc1RleHQoZmlsZXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudEZvcmNlTG9hZEJ1dHRvbi52YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN1Ym1pc3Npb246IChkYXRhLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci51cGRhdGVTdWJtaXNzaW9uKHNlbGYubW9kZWwuc3VibWlzc2lvbi5zY29yZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmZhZGVPdXQoMTAwKS5mYWRlSW4oMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBrby5wdXJlQ29tcHV0ZWQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSB8fCAhbW9kZWwudWkuc21hbGxMYXlvdXQoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1ha2VFeHRyYUludGVyZmFjZVN1YnNjcmlwdGlvbnMoc2VsZiwgbW9kZWwpO1xuICAgIH1cblxuICAgIHR1cm5PbkhhY2tzKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiVE9ET1wiKTtcbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi9pbWFnZS5qc1wiXSA9IGltYWdlTW9kdWxlLnRvU3RyaW5nKCk7XG4gICAgICAgIC8vU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi93ZWFrcmVmLmpzXCJdID0gd2Vha3JlZk1vZHVsZS50b1N0cmluZygpO1xuICAgICAgICAvL1NrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvbWF0cGxvdGxpYi9weXBsb3QvX19pbml0X18uanNcIl0gPSBtYXRwbG90bGliTW9kdWxlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHlzIHRoZSBLbm9ja291dEpTIGJpbmRpbmdzIHRvIHRoZSBtb2RlbCwgaW5zdGFudGlhdGluZyB0aGUgdmFsdWVzIGludG8gdGhlXG4gICAgICogSFRNTC5cbiAgICAgKi9cbiAgICBhcHBseU1vZGVsKCkge1xuICAgICAgICBrby5hcHBseUJpbmRpbmdzKHRoaXMubW9kZWwsIHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXJbMF0pO1xuICAgIH1cblxuICAgIGluaXRVdGlsaXRpZXMoKSB7XG4gICAgICAgIGxldCBtYWluID0gdGhpcztcbiAgICAgICAgdGhpcy51dGlsaXRpZXMgPSB7XG4gICAgICAgICAgICBtYXJrZG93bjogKHRleHQpID0+IHRleHQgPyBFYXN5TURFLnByb3RvdHlwZS5tYXJrZG93bih0ZXh0KSA6IFwiPHA+PC9wPlwiXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5pdENvbXBvbmVudHMoKSB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyO1xuICAgICAgICBsZXQgY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cyA9IHt9O1xuICAgICAgICBsZXQgbWFpbiA9IHRoaXM7XG4gICAgICAgIC8vIEVhY2ggb2YgdGhlc2UgY29tcG9uZW50cyB3aWxsIHRha2UgdGhlIEJsb2NrUHkgaW5zdGFuY2UsIGFuZCBwb3NzaWJseSBhXG4gICAgICAgIC8vIHJlZmVyZW5jZSB0byB0aGUgcmVsZXZhbnQgSFRNTCBsb2NhdGlvbiB3aGVyZSBpdCB3aWxsIGJlIGVtYmVkZGVkLlxuICAgICAgICBjb21wb25lbnRzLmRpYWxvZyA9IG5ldyBCbG9ja1B5RGlhbG9nKG1haW4sIGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktZGlhbG9nXCIpKTtcbiAgICAgICAgY29tcG9uZW50cy5mZWVkYmFjayA9IG5ldyBCbG9ja1B5RmVlZGJhY2sobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFja1wiKSk7XG4gICAgICAgIGNvbXBvbmVudHMudHJhY2UgPSBuZXcgQmxvY2tQeVRyYWNlKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmNvbnNvbGUgPSBuZXcgQmxvY2tQeUNvbnNvbGUobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1jb25zb2xlXCIpKTtcbiAgICAgICAgY29tcG9uZW50cy5lbmdpbmUgPSBuZXcgQmxvY2tQeUVuZ2luZShtYWluKTtcbiAgICAgICAgY29tcG9uZW50cy5maWxlU3lzdGVtID0gbmV3IEJsb2NrUHlGaWxlU3lzdGVtKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmVkaXRvcnMgPSBuZXcgRWRpdG9ycyhtYWluLCBjb250YWluZXIuZmluZChcIi5ibG9ja3B5LWVkaXRvclwiKSk7XG4gICAgICAgIC8vIENvbnZlbmllbnQgc2hvcnRjdXQgZGlyZWN0bHkgdG8gUHl0aG9uRWRpdG9yXG4gICAgICAgIGNvbXBvbmVudHMucHl0aG9uRWRpdG9yID0gdGhpcy5jb21wb25lbnRzLmVkaXRvcnMuYnlOYW1lKFwicHl0aG9uXCIpO1xuICAgICAgICBjb21wb25lbnRzLnNlcnZlciA9IG5ldyBCbG9ja1B5U2VydmVyKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmNvcmdpcyA9IG5ldyBCbG9ja1B5Q29yZ2lzKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmhpc3RvcnkgPSBuZXcgQmxvY2tQeUhpc3RvcnkobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1oaXN0b3J5LXRvb2xiYXJcIikpO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuc2hvdygpO1xuICAgICAgICAvL3RoaXMubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuZmluZChcIi5ibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiKS50b2dnbGUodGhpcy5tb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5oaWRlKCk7XG4gICAgfVxuXG4gICAgbWFrZUV4dHJhU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMuc3Vic2NyaWJlKChjaGFuZ2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1JbnN0cnVjdGlvbnMuQ2hhbmdlXCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQsIFwiaW5zdHJ1Y3Rpb25zLm1kXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbG9jayA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUNsb2NrID0gKCkgPT4gY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1tZW51LWNsb2NrXCIpLnRleHQoZ2V0Q3VycmVudFRpbWUoKSk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLnVpLm1lbnUuc2hvd0Nsb2NrKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvY2sgPSBzZXRJbnRlcnZhbCh1cGRhdGVDbG9jaywgMTAwMCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vZGVsLnVpLm1lbnUuc2hvd0Nsb2NrLnN1YnNjcmliZSgoY2hhbmdlZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwudWkubWVudS5zaG93Q2xvY2soKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jbG9jayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvY2sgPSBzZXRJbnRlcnZhbCh1cGRhdGVDbG9jaywgMTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lKFwiYW5zd2VyLnB5XCIpO1xuICAgIH1cblxuICAgIHJlc2V0SW50ZXJmYWNlKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMuZW5naW5lLnJlc2V0KCk7XG4gICAgICAgIC8vIERpc2FibGUgYW55IGFsdGVybmF0aXZlIGxvZ0VudHJ5IGZ1bmN0aW9ucyB3ZSBoYXZlIGJlZW4gZ2l2ZW5cbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnNlcnZlci5hbHRMb2dFbnRyeSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVxdWVzdFBhc3Njb2RlKCkge1xuICAgICAgICBsZXQgdXNlclN1cHBsaWVkUGFzc2NvZGUgPSBwcm9tcHQoXCJQbGVhc2UgZW50ZXIgdGhlIHBhc3Njb2RlLlwiKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kaXNwbGF5LnBhc3Njb2RlKHVzZXJTdXBwbGllZFBhc3Njb2RlKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuXG4gICAgfVxuXG4gICAgc2V0dGluZ3NUb0pzb24oKSB7XG4gICAgICAgIHJldHVybiBzYXZlQXNzaWdubWVudFNldHRpbmdzKHRoaXMubW9kZWwpO1xuICAgIH1cblxufVxuXG4iXSwibmFtZXMiOlsiZW5jb2RlSFRNTCIsIlNUQVJUX0VWQUxfSFRNTCIsIk5FV19DT05TT0xFX0xJTkVfSFRNTCIsIkNPTlNPTEVfSFRNTCIsIkNvbnNvbGVMaW5lVHlwZSIsIlRFWFQiLCJIVE1MIiwiUExPVCIsIklNQUdFIiwiUFlHQU1FIiwiRFJBRlRFUiIsIlRVUlRMRSIsIkVWQUwiLCJTVEFSVF9FVkFMIiwiVkFMVUUiLCJJTlBVVCIsIlRFU1RfQ0FTRSIsIkNvbnNvbGVMaW5lIiwibWFpbiIsInR5cGUiLCJjb250ZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwib3JpZ2luIiwiZmlsZW5hbWUiLCJTayIsImN1cnJGaWxlbmFtZSIsInN0ZXAiLCJjb21wb25lbnRzIiwiZW5naW5lIiwiZXhlY3V0aW9uQnVmZmVyIiwibGluZSIsImh0bWwiLCIkIiwibW9kZWwiLCJjb25maWd1cmF0aW9uIiwiYXR0YWNobWVudFBvaW50IiwidmlzaWJsZSIsImRpc3BsYXkiLCJtdXRlUHJpbnRlciIsImluZGV4IiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJ0b1NrdWxwdCIsImZmaSIsInJlbWFwVG9QeSIsImRlbGV0ZSIsInJlbW92ZSIsIkNvbnNvbGVMaW5lVHVydGxlIiwiX0NvbnNvbGVMaW5lIiwiX3RoaXMiLCJfY2FsbFN1cGVyIiwiYWRkQ2xhc3MiLCJfaW5oZXJpdHMiLCJyZW5kZXIiLCJ3aGVyZSIsInByZXBlbmQiLCJ0b3AiLCJvZmZzZXQiLCJzY3JvbGxUb3AiLCJDb25zb2xlTGluZURyYWZ0ZXIiLCJfQ29uc29sZUxpbmUyIiwic2l6ZSIsImZ1bGxzY3JlZW4iLCJfdGhpczIiLCJjbGVhbnVwIiwic3RvcCIsInVpIiwic2Vjb25kUm93IiwicmVzdG9yZVBhbmVsIiwiQ29uc29sZUxpbmVQeWdhbWUiLCJfQ29uc29sZUxpbmUzIiwicHlnYW1lT2JqIiwiX3RoaXMzIiwiaW5pdGlhbGl6ZWQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJmaW5hbGl6ZSIsImNsZWFudXBGdW5jdGlvbiIsImxpc3RlbmVycyIsIl90aGlzNCIsIkNvbnNvbGVMaW5lSW1hZ2UiLCJfQ29uc29sZUxpbmU0IiwiX3RoaXM1IiwiY29uc29sZSIsImxvZyIsIkNvbnNvbGVMaW5lUGxvdCIsIl9Db25zb2xlTGluZTUiLCJfdGhpczYiLCJDb25zb2xlTGluZVRleHQiLCJfQ29uc29sZUxpbmU2IiwiYXJndW1lbnRzIiwiYWRkQ29udGVudCIsImVuY29kZWRUZXh0IiwidHJpbSIsImxlbmd0aCIsImxpbmVEYXRhIiwidG9vbHRpcCIsIkNvbnNvbGVMaW5lVmFsdWUiLCJfQ29uc29sZUxpbmU3IiwiQ29uc29sZUxpbmVJbnB1dCIsIl9Db25zb2xlTGluZTgiLCJwcm9tcHRNZXNzYWdlIiwiX3RoaXM3IiwiaW5wdXRGb3JtIiwiaW5wdXRCdG4iLCJpbnB1dEdyb3VwIiwiaW5wdXRCb3giLCJpbnB1dE1zZyIsIm1ha2VJbnRlcmFjdGl2ZSIsImlucHV0IiwiYnV0dG9uIiwiX3RoaXM4IiwicmVzb2x2ZU9uQ2xpY2siLCJzdWJtaXR0ZWRQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbnB1dEluZGV4IiwiZXhlY3V0aW9uIiwic3VibWl0Rm9ybSIsInVzZXJJbnB1dHRlZFZhbHVlIiwidmFsIiwicXVldWVkSW5wdXQiLCJwdXNoIiwicHJvcCIsImNsaWNrIiwia2V5dXAiLCJlIiwia2V5Q29kZSIsImZvY3VzIiwiQ29uc29sZUxpbmVFdmFsdWF0ZSIsIl9Db25zb2xlTGluZUlucHV0IiwiQ29uc29sZUxpbmVTdGFydEV2YWx1YXRlIiwiX0NvbnNvbGVMaW5lOSIsIl90aGlzOSIsImV4ZWN1dGUiLCJldmFsdWF0ZSIsIkJsb2NrUHlDb25zb2xlIiwidGFnIiwicHJpbnRlclRhZyIsImZpbmQiLCJNSU5JTVVNX1dJRFRIIiwiTUlOSU1VTV9IRUlHSFQiLCJERUZBVUxUX0hFSUdIVCIsImhlaWdodCIsInByZXZpb3VzQ29uc29sZUhlaWdodCIsIm91dHB1dCIsInNldHRpbmdzIiwiY2xlYXIiLCJyZW1vdmVBbGwiLCJsaW5lQnVmZmVyIiwicGxvdEJ1ZmZlciIsImVtcHR5IiwidHVydGxlTGluZSIsIlR1cnRsZUdyYXBoaWNzIiwidGFyZ2V0IiwiZ2V0VHVydGxlTGluZSIsImJpbmQiLCJ3aWR0aCIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiYXNzZXRzIiwibG9hZEFzc2V0IiwicHlnYW1lTGluZSIsImRyYWZ0ZXJMaW5lIiwibmFtZSIsImN1cnJlbnRQcmludGVyRGltZW5zaW9uIiwiaGFuZGxlUHlnYW1lUmVzaXplIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJtYWtlV2lkZSIsImZpbmlzaFR1cnRsZXMiLCJhc3NpZ25tZW50Iiwic2F2ZVR1cnRsZU91dHB1dCIsImxhc3QiLCJkYXRhVXJsIiwidG9EYXRhVVJMIiwic2VydmVyIiwic2F2ZUltYWdlIiwibmV3VHVydGxlIiwiTWF0aCIsIm1heCIsImlzTXV0ZWQiLCJzdGVwUHJpbnRlciIsInBhZ2UiLCJlYWNoIiwiYXR0ciIsInNob3ciLCJoaWRlIiwicHJpbnQiLCJsaW5lVGV4dCIsImZsdXNoIiwiY2hhckF0Iiwic3BsaXRMaW5lcyIsInNwbGl0IiwiaSIsInBsb3QiLCJwbG90cyIsInB5Z2FtZSIsImRyYWZ0ZXIiLCJwcmludFBJTEltYWdlIiwiaW1hZ2VEYXRhIiwiaW1hZ2UiLCJpbWFnZUJ1ZmZlciIsInByaW50VmFsdWUiLCJwcmludGVkVmFsdWUiLCJpbnB1dEJ1ZmZlciIsImJlZ2luRXZhbCIsInN0YXJ0RXZhbHVhdGlvbiIsInNjcm9sbFRvQm90dG9tIiwiYW5pbWF0ZSIsInNsdWciLCJfSU1QT1JURURfREFUQVNFVFMiLCJfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMiLCJzZXRCdXR0b25Mb2FkZWQiLCJidG4iLCJyZW1vdmVDbGFzcyIsInRleHQiLCJCbG9ja1B5Q29yZ2lzIiwibG9hZGVkRGF0YXNldHMiLCJsb2FkRGF0YXNldHMiLCJwcm90b3R5cGUiLCJzaWxlbnRseSIsImVkaXRvciIsInB5dGhvbkVkaXRvciIsImltcG9ydHMiLCJkYXRhc2V0cyIsImZvckVhY2giLCJCbG9ja01pcnJvckJsb2NrRWRpdG9yIiwiRVhUUkFfVE9PTFMiLCJhcHBseSIsImltcG9ydERhdGFzZXQiLCJ3aGVuIiwiZG9uZSIsImJtIiwiZm9yY2VCbG9ja1JlZnJlc2giLCJibG9ja0VkaXRvciIsInJlbWFrZVRvb2xib3giLCJmYWlsIiwiZXJyb3IiLCJhbHdheXMiLCJmaW5hbGl6ZVN1YnNjcmlwdGlvbnMiLCJ1cmxfcmV0cmlldmFscyIsImlzRW5kcG9pbnRDb25uZWN0ZWQiLCJyb290IiwidXJscyIsImltcG9ydERhdGFzZXRzIiwibG9hZGluZ0RhdGFzZXRzIiwiZ2V0RGF0YXNldCIsImdldFNjcmlwdCIsImdldENvbXBsZXRlIiwiZ2V0U2t1bHB0IiwiZ2V0IiwiZGF0YSIsImJ1aWx0aW5GaWxlcyIsImdldEJsb2NrbHkiLCJ0ZXh0VG9CbG9ja3MiLCJoaWRkZW5JbXBvcnRzIiwib3BlbkRpYWxvZyIsImdldEpTT04iLCJibG9ja3B5IiwiZG9jdW1lbnRhdGlvbiIsInN0YXJ0IiwiY29uY2F0IiwiYm9keSIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwibWFwIiwic2x1Z2dlZE5hbWUiLCJ0aXRsZU5hbWUiLCJpbWdTcmMiLCJpbmRleE9mIiwidGl0bGUiLCJvdmVydmlldyIsImFwcGVuZFRvIiwiZGlhbG9nIiwiRElBTE9HX0hUTUwiLCJCbG9ja1B5RGlhbG9nIiwidGl0bGVUYWciLCJib2R5VGFnIiwiZm9vdGVyVGFnIiwib2theUJ1dHRvbiIsImNsb3NlQnV0dG9uIiwieWVzIiwibm8iLCJtb2RhbCIsImNsb3NlIiwib25jbG9zZSIsImRyYWdnYWJsZSIsIm9uIiwidW5kZWZpbmVkIiwiY29uZmlybSIsInllc1RleHQiLCJBU1NJR05NRU5UX1ZFUlNJT05fQ0hBTkdFRCIsIkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQiLCJyZWFzb24iLCJFUlJPUl9MSVNUSU5HX1VQTE9BREVEX0ZJTEVTIiwiRVJST1JfVVBMT0FESU5HX0ZJTEUiLCJjb250ZXh0IiwiRVJST1JfRE9XTkxPQURJTkdfRklMRSIsIkVSUk9SX1JFTkFNSU5HX0ZJTEUiLCJFUlJPUl9ERUxFVElOR19GSUxFIiwiRVJST1JfU0FWSU5HX0FTU0lHTk1ORU5UIiwiRVJST1JfU0hPV19TVFVERU5UX0VSUk9SIiwiUE9TSVRJVkVfRkVFREJBQ0tfRlVMTCIsIm1lc3NhZ2UiLCJTQ1JFRU5TSE9UX0JMT0NLUyIsIkVSUk9SX1VQREFUSU5HX1NVQk1JU1NJT05fU1RBVFVTIiwiRVJST1JfTE9BRElOR19ISVNUT1JZIiwiT0ZGRVJfRk9SSyIsInNldHVwVXJsIiwiaW5zdHJ1Y3Rpb25zQXNzaWdubWVudFNldHVwIiwidXNlciIsImNvdXJzZUlkIiwiRURJVF9JTlBVVFMiLCJpbnB1dFRleHQiLCJqb2luIiwiY2xlYXJJbnB1dHMiLCJjaGVja2VkIiwiaW5wdXRzIiwiU1RBUlRfU0hBUkUiLCJ1cmwiLCJ3YXNQcm9tcHRlZCIsImluaXRpYWxNZXNzYWdlIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsInFyY29kZSIsIlFSQ29kZSIsImNvbG9yRGFyayIsImNvbG9yTGlnaHQiLCJjb3JyZWN0TGV2ZWwiLCJDb3JyZWN0TGV2ZWwiLCJIIiwid2FybiIsIlZJRVdfSU5TVFJVQ1RPUl9TVERPVVQiLCJzdGRvdXQiLCJpbnN0cnVjdG9yIiwiZm9ybWF0dGVkIiwiRWRpdG9ycyIsInVwbG9hZEZpbGUiLCJldmVudCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwiZmlsZXMiLCJvbmxvYWQiLCJlZGl0b3JzIiwiY3VycmVudCIsImZpbGVOYW1lIiwicmVhZEFzVGV4dCIsInNsdWdnaWZ5IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZG93bmxvYWRGaWxlIiwiX21vZGVsJHVpJGVkaXRvcnMkY3VyIiwiZXh0ZW5zaW9uIiwiY29udGVudHMiLCJtaW1ldHlwZSIsImJsb2IiLCJCbG9iIiwid2luZG93IiwibXNTYXZlT3JPcGVuQmxvYiIsIm1zU2F2ZUJsb2IiLCJ0ZW1wb3JhcnlEb3dubG9hZExpbmsiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwiQWJzdHJhY3RFZGl0b3IiLCJmaWxlU3lzdGVtIiwiZmlsZSIsImRlbGV0ZUZpbGUiLCJjaGFuZ2VFZGl0b3IiLCJvbkZpbGVEZWxldGVkIiwib25GaWxlVXBkYXRlZCIsInRyYWNrQ3VycmVudEZpbGUiLCJ3YXRjaEZpbGUiLCJ1cGRhdGVkIiwiZGVsZXRlZCIsImVudGVyIiwibmV3RmlsZW5hbWUiLCJvbGRFZGl0b3IiLCJnZXRGaWxlIiwiZXhpdCIsIm5ld0VkaXRvciIsInN0b3BXYXRjaGluZ0ZpbGUiLCJyZXN1bHQiLCJoYW5kbGUiLCJwYXJzZUZpbGVuYW1lIiwiRGlzcGxheU1vZGVzIiwiQVNTSUdOTUVOVF9TRVRUSU5HUyIsIkFzc2lnbWVudFR5cGUiLCJCTE9DS1BZIiwiTUFaRSIsIlFVSVoiLCJSRUFESU5HIiwiZ2V0RG9jdW1lbnRhdGlvbiIsIm1ha2VTdGFydFZpZXdUYWIiLCJpY29uIiwibW9kZSIsIkFTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUwiLCJmaWx0ZXIiLCJzZXR0aW5nIiwicHJldHR5TmFtZSIsIndvcmQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiQVNTSUdOTUVOVF9TRVRUSU5HU19FRElUT1JfSFRNTCIsIkJMT0NLIiwiU1BMSVQiLCJzYXZlQXNzaWdubWVudFNldHRpbmdzIiwiY2xpZW50TmFtZSIsInNlcnZlck5hbWUiLCJkZWZhdWx0VmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwibG9hZEFzc2lnbm1lbnRTZXR0aW5ncyIsInBhcnNlIiwic3RhcnRfdmlldyIsInB5dGhvbk1vZGUiLCJtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwiLCJmaWVsZFR5cGUiLCJrbyIsIm9ic2VydmFibGUiLCJjb25maWdWYWx1ZSIsInRvU3RyaW5nIiwiQXNzaWdubWVudFNldHRpbmdzVmlldyIsIl9BYnN0cmFjdEVkaXRvciIsImRpcnR5IiwiX3N1cGVyUHJvcEdldCIsImN1cnJlbnRMaXN0ZW5lciIsInVwZGF0ZUhhbmRsZSIsInVwZGF0ZUVkaXRvciIsIm5ld0NvbnRlbnRzIiwiQXNzaWdubWVudFNldHRpbmdzIiwiZXh0ZW5zaW9ucyIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGUiLCJkZWZhdWx0X2hlYWRlciIsIkZpbGVQb25kIiwiSU1BR0VfRURJVE9SX0hUTUwiLCJJbWFnZUVkaXRvclZpZXciLCJ0YWdVcGxvYWRGaWxlQnV0dG9uIiwidGFnVXBsb2FkRmlsZVBsYWNlbWVudCIsInRhZ1VwbG9hZEZpbGVOYW1lIiwidXBsb2FkZWRGaWxlcyIsInJlbG9hZEltYWdlcyIsImN1cnJlbnRTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJsaXN0VXBsb2FkZWRGaWxlcyIsInJlc3BvbnNlIiwic3VjY2VzcyIsImxvYWRSZW1vdGVGaWxlcyIsImdldFBsYWNlbWVudERpcmVjdG9yeSIsInBsYWNlbWVudCIsInN1Ym1pc3Npb24iLCJpZCIsImNvdXJzZSIsImZpbGVJbmZvIiwiX2ZpbGVJbmZvIiwiX3NsaWNlZFRvQXJyYXkiLCJxdWVyeVBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoUGFyYW1zIiwicmVuYW1lRmlsZSIsIl9maWxlSW5mbzIiLCJwcm9tcHQiLCJkaXNwb3NlIiwiSW1hZ2VFZGl0b3IiLCJKU09OX0VESVRPUl9IVE1MIiwiSnNvbkVkaXRvclZpZXciLCJjb2RlTWlycm9yIiwiQ29kZU1pcnJvciIsImZyb21UZXh0QXJlYSIsInNob3dDdXJzb3JXaGVuU2VsZWN0aW5nIiwibGluZU51bWJlcnMiLCJmaXJzdExpbmVOdW1iZXIiLCJpbmRlbnRVbml0IiwidGFiU2l6ZSIsImluZGVudFdpdGhUYWJzIiwiZXh0cmFLZXlzIiwiRXNjIiwiY20iLCJnZXRPcHRpb24iLCJzZXRPcHRpb24iLCJibHVyIiwiRjExIiwic2V0VGltZW91dCIsInJlZnJlc2giLCJzdGFydHNXaXRoIiwic2V0VmFsdWUiLCJnZXRWYWx1ZSIsIm9mZiIsIkpzb25FZGl0b3IiLCJNQVJLRE9XTl9FRElUT1JfSFRNTCIsIk1hcmtkb3duRWRpdG9yVmlldyIsIm1kZSIsIkVhc3lNREUiLCJlbGVtZW50IiwiYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWUiLCJmb3JjZVN5bmMiLCJtaW5IZWlnaHQiLCJyZW5kZXJpbmdDb25maWciLCJjb2RlU3ludGF4SGlnaGxpZ2h0aW5nIiwiY29kZW1pcnJvciIsIk1hcmtkb3duRWRpdG9yIiwiSElTVE9SWV9UT09MQkFSX0hUTUwiLCJTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMiLCJtYWtlVGFiIiwiUFlUSE9OX0VESVRPUl9IVE1MIiwiY29udmVydElweW5iVG9QeXRob24iLCJjb2RlIiwiaXB5bmIiLCJpc1VzYWJsZSIsImNlbGwiLCJjZWxsX3R5cGUiLCJzb3VyY2UiLCJtYWtlUHl0aG9uIiwiY2VsbHMiLCJQeXRob25FZGl0b3JWaWV3IiwiQmxvY2tseSIsInNldFBhcmVudENvbnRhaW5lciIsImNvbnRhaW5lciIsIkJsb2NrTWlycm9yIiwicnVuIiwiYmxvY2tseVBhdGgiLCJ0b29sYm94IiwiaW1hZ2VEb3dubG9hZEhvb2siLCJvbGRVcmwiLCJpbWFnZVVwbG9hZEhvb2siLCJyZWplY3QiLCJzdWJtaXNzaW9uSWQiLCJlbmRwb2ludCIsImltYWdlTGl0ZXJhbEhvb2siLCJyZWFkT25seSIsIm1ha2VTdWJzY3JpcHRpb25zIiwibGluZUVycm9yU3Vic2NyaXB0aW9uIiwibGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiIsImxpbmVUcmFjZVN1YnNjcmlwdGlvbiIsIm9sZFB5dGhvbk1vZGUiLCJtYWtlUGVyQXNzaWdubWVudFN1YnNjcmlwdGlvbnMiLCJjb25maWd1cmVFeHRyYUJsb2NrbHkiLCJ3b3Jrc3BhY2UiLCJjb25maWd1cmVDb250ZXh0TWVudSIsIm9wdGlvbnMiLCJlbmFibGVkIiwiY2FsbGJhY2siLCJoYW5kbGVQYXN0ZUV2ZW50IiwiY2hhcmFjdGVycyIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwibG9nRXZlbnQiLCJvbGRGaWxlbmFtZSIsImN1cnJlbnRCTUxpc3RlbmVyIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJjdXJyZW50Q01QYXN0ZUxpc3RlbmVyIiwidGV4dEVkaXRvciIsImlzUGFyc29ucyIsImZlZWRiYWNrIiwibGluZXNFcnJvciIsImxpbmVzIiwic2V0SGlnaGxpZ2h0ZWRMaW5lcyIsImxpbmVzVW5jb3ZlcmVkIiwidHJhY2UiLCJoaWdobGlnaHRlZExpbmUiLCJjbGVhckhpZ2hsaWdodGVkTGluZXMiLCJkZWxldGVGaWxlTG9jYWxseV8iLCJzZXRDb2RlIiwiaGlzdG9yeU1vZGUiLCJnZXRDb2RlIiwicmVtb3ZlQ2hhbmdlTGlzdGVuZXIiLCJweXRob24iLCJ0dXJuT2ZmSGlzdG9yeU1vZGUiLCJjbGVhckxpbmVTdWJzY3JpcHRpb25zIiwic2V0TW9kZSIsImVuYWJsZUJsb2NrcyIsInJlbG9hZFRvb2xib3giLCJlbmFibGVJbWFnZXMiLCJpbWFnZU1vZGUiLCJzZXRJbWFnZU1vZGUiLCJvbGRIZWlnaHQiLCJzbWFsbExheW91dCIsInVzZVNtYWxsTGF5b3V0IiwicmVzaXplUmVzcG9uc2l2ZWx5IiwidXBkYXRlR3V0dGVyIiwiaW5kZW50U2lkZWJhciIsImN1c3RvbVRvb2xib3giLCJjaGFuZ2VkIiwic2V0UmVhZE9ubHkiLCJkZWNpZGVJZk5vdEVkaXRhYmxlIiwib25seVVwbG9hZHMiLCJwYXJ0SWQiLCJpc1JlYWRPbmx5IiwiZW5kc1dpdGgiLCJQeXRob25FZGl0b3IiLCJRVUlaX0VESVRPUl9IVE1MIiwiUXVpekVkaXRvclZpZXciLCJRdWl6RWRpdG9yIiwiU3VibWlzc2lvblN0YXR1c2VzIiwiVU5LTk9XTiIsIlBBU1NFRCIsIkZBSUxFRCIsIkVSUk9SIiwiU0tJUFBFRCIsIlNhbXBsZVN1Ym1pc3Npb24iLCJzdGF0dXMiLCJzZXJpYWxpemUiLCJCbGFuayIsImNvdW50IiwiZGVzZXJpYWxpemUiLCJTQU1QTEVfU1VCTUlTU0lPTlNfSFRNTCIsImJpbmRpbmdIYW5kbGVycyIsImNvZGVNaXJyb3JJbnN0YW5jZSIsImluaXQiLCJ2YWx1ZUFjY2Vzc29yIiwiYWxsQmluZGluZ3MiLCJ2aWV3TW9kZWwiLCJiaW5kaW5nQ29udGV4dCIsInNldFNpemUiLCJ1cGRhdGUiLCJTYW1wbGVTdWJtaXNzaW9uc1ZpZXciLCJjb2RlTWlycm9ycyIsImJ1aWxkRWRpdG9yIiwibmV3RE9NIiwibmV3RWxlbWVudCIsInJlYnVpbGRFZGl0b3JzIiwiU2FtcGxlU3VibWlzc2lvbnMiLCJUQUdTX0VESVRPUl9IVE1MIiwiVGFnc0VkaXRvclZpZXciLCJUYWdzRWRpdG9yIiwiVEVYVF9FRElUT1JfSFRNTCIsIlRleHRFZGl0b3JWaWV3IiwiVGV4dEVkaXRvciIsIlRPT0xCT1hfRURJVE9SX0hUTUwiLCJUb29sYm94RWRpdG9yVmlldyIsIlRvb2xib3hFZGl0b3IiLCJBc3NpZ25tZW50VHlwZSIsIkVkaXRvcnNFbnVtIiwiU1VCTUlTU0lPTiIsIkFTU0lHTk1FTlQiLCJJTlNUUlVDVElPTlMiLCJPTl9SVU4iLCJPTl9DSEFOR0UiLCJPTl9FVkFMIiwiU1RBUlRJTkdfQ09ERSIsIlNBTVBMRV9TVUJNSVNTSU9OUyIsIklOU1RSVUNUT1JfRklMRSIsIlNQRUNJQUxfTkFNRVNQQUNFUyIsIkFWQUlMQUJMRV9FRElUT1JTIiwiRURJVE9SU19IVE1MIiwicmVnaXN0ZXJlZF8iLCJleHRlbnNpb25zXyIsImJ5TmFtZV8iLCJyZWdpc3RlckVkaXRvciIsImluc3RhbmNlIiwiYnlOYW1lIiwiZ2V0RWRpdG9yIiwicGF0aCIsIl9FZGl0b3JzJHBhcnNlRmlsZW5hbSIsInNwYWNlIiwiYXNzaWdubWVudFR5cGUiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsIlN0YXR1c1N0YXRlIiwiT25SdW5Db25maWd1cmF0aW9uIiwiUnVuQ29uZmlndXJhdGlvbiIsIkV2YWxDb25maWd1cmF0aW9uIiwiU2FtcGxlQ29uZmlndXJhdGlvbiIsIk9uQ2hhbmdlQ29uZmlndXJhdGlvbiIsIk9uRXZhbENvbmZpZ3VyYXRpb24iLCJPblNhbXBsZUNvbmZpZ3VyYXRpb24iLCJCbG9ja1B5RW5naW5lIiwiZXhlY3V0aW9uTW9kZWwiLCJjb25maWd1cmF0aW9ucyIsImV2YWwiLCJvblJ1biIsIm9uQ2hhbmdlIiwib25FdmFsIiwiY29uZmlndXJlIiwiZ2V0U2t1bHB0T3B0aW9ucyIsIm9uRXhlY3V0aW9uQmVnaW4iLCJvbkV4ZWN1dGlvbkVuZCIsInJlc2V0UmVwb3J0cyIsInJlcG9ydCIsInJlcG9ydHMiLCJyZXNldFN0dWRlbnRNb2RlbCIsInN0dWRlbnQiLCJjYWxscyIsImN1cnJlbnRTdGVwIiwiY3VycmVudFRyYWNlU3RlcCIsImxhc3RTdGVwIiwiY3VycmVudExpbmUiLCJjdXJyZW50VHJhY2VEYXRhIiwicmVzdWx0cyIsInRyYWNpbmciLCJyZXNldEV4ZWN1dGlvbkJ1ZmZlciIsInJlc2V0IiwiZGVsYXllZFJ1biIsImRpc2FibGVGZWVkYmFjayIsInVzZSIsImZhaWx1cmUiLCJwcm92aWRlU2VjcmV0RXJyb3IiLCJzaG93RXJyb3JzIiwiZXhlY3V0aW9uRW5kXyIsIm9uRXhlY3V0aW9uIiwiQUNUSVZFIiwiZXZhbHVhdGlvbklucHV0IiwidXNlcklucHV0IiwibWlzY2V2YWwiLCJhc3luY1RvUHJvbWlzZSIsImltcG9ydE1haW5XaXRoQm9keSIsInN5c21vZHVsZXMiLCJvbl9jaGFuZ2UiLCJGSUxFTkFNRSIsInByb2dyYW1zIiwic2F2ZUNvZGUiLCJ2ZXJpZnlDb2RlIiwidXBkYXRlUGFyc2UiLCJydW5JbnN0cnVjdG9yQ29kZSIsIm1vZHVsZSIsImV4ZWN1dGlvblJlcG9ydHMiLCJjYXRlZ29yeSIsImxhYmVsIiwicHJlc2VudEZlZWRiYWNrIiwiJGQiLCJleGVjdXRpb25CZWdpbl8iLCJFTVBUWV9NT0RVTEUiLCJDb25maWd1cmF0aW9uIiwiaW5Ccm93c2VyIiwib3BlbkZpbGUiLCJmaWxlVG9VUkwiLCJnZXRVcmxGcm9tRmlsZW5hbWUiLCJyZXF1ZXN0c0dldCIsInRpbWVvdXQiLCJvcGVuVVJMIiwidGltZW91dEhhbmRsZXIiLCJ0aW1lUGFzc2VkIiwiZXhlY0xpbWl0IiwicHJldmlvdXNFeGVjTGltaXRDaG9pY2UiLCJkaXNhYmxlVGltZW91dCIsImV4ZWNMaW1pdEJhY2t1cCIsImdldFRpbWVvdXRQcm9tcHQiLCJkZWxheSIsInBhcnNlSW50IiwiZXhlY0xpbWl0RnVuY3Rpb24iLCJJbmZpbml0eSIsImJlZm9yZUNhbGwiLCJsb25nVGltZW91dCIsIl9fZnV0dXJlX18iLCJweXRob24zIiwicmVhZCIsImltcG9ydEZpbGUiLCJmaWxld3JpdGUiLCJ3cml0ZUZpbGUiLCJpbnB1dGZ1biIsImlucHV0ZnVuVGFrZXNQcm9tcHQiLCJpbWFnZVByb3h5IiwiZ2V0SW1hZ2VQcm94eSIsImVtb2ppUHJveHkiLCJwYXJ0IiwicmV0YWluR2xvYmFscyIsImZvdW5kIiwiZmlsZXNUb1VybHMiLCJidWlsdGluIiwiT1NFcnJvciIsIm1vY2tVcmxEYXRhIiwiSU9FcnJvciIsImhhc093blByb3BlcnR5IiwiZmlsZURhdGEiLCJyZWFkRmlsZSIsImNsZWFySW5wdXQiLCJpc0ZvcmJpZGRlbiIsIkVycm9yIiwiZmluYWxseSIsImR1bW15T3V0U2FuZGJveCIsImZ1bmN0aW9uTmFtZSIsInBvc2FyZ3MiLCJrd2FyZ3MiLCJzdHVkZW50TW9kZWwiLCJhcmdzIiwiaW5wdXRNb2NrRnVuY3Rpb24iLCJwb3AiLCJTdHVkZW50Q29uZmlndXJhdGlvbiIsIkJsb2NrUHlUcmFjZSIsIl9TdHVkZW50Q29uZmlndXJhdGlvbiIsImFmdGVyU2luZ2xlRXhlY3V0aW9uIiwiZ2xvYmFscyIsIlJFQURZIiwicmVtYXBUb0pzIiwiXyIsIiRyIiwieCIsImlzRG9jc3RyaW5nIiwiJHNrX21vZF9pbnN0cnVjdG9yIiwiJHNrX21vZF9jb3ZlcmFnZSIsIiRwZWRhbF90cmFjZXIiLCJjaG9tcFNwZWNpYWxGaWxlIiwiVVRJTElUWV9NT0RVTEVfQ09ERSIsIkNPVkVSQUdFX01PRFVMRV9DT0RFIiwiSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24iLCJfQ29uZmlndXJhdGlvbiIsImJlZm9yZUNhbGxCYWNrdXAiLCJjbGVhckV4aXN0aW5nU3R1ZGVudEltcG9ydHMiLCJpbmZvIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJnZXRBbGxGaWxlbmFtZXMiLCJfc3RlcCIsInMiLCJuIiwic2tGaWxlbmFtZSIsInN0ciIsInBvcCRpdGVtIiwiZXJyIiwiZiIsImdldEFsbFN0dWRlbnRGaWxlcyIsImdldFN0dWRlbnRDb2RlIiwiZXh0cmFJbnN0cnVjdG9yRmlsZXMiLCJpbmNsdWRlcyIsImV4dHJhRmlsZXMiLCJjbGVhbiIsIl90b0NvbnN1bWFibGVBcnJheSIsInNlYXJjaEZvckZpbGUiLCJ2Iiwib3BlbmFpUHJveHkiLCJuZXh0SW5wdXQiLCJfSW5zdHJ1Y3RvckNvbmZpZ3VyYXQiLCJjbGVhclRpbWVvdXQiLCJ0cmlnZ2VyT25DaGFuZ2UiLCJmaW5kQWN0dWFsSW5zdHJ1Y3Rvck9mZnNldCIsIklOU1RSVUNUT1JfTUFSS0VSIiwiTkVXX0xJTkVfUkVHRVgiLCJpbmRlbnQiLCJXUkFQX0lOU1RSVUNUT1JfQ09ERSIsInN0dWRlbnRDb2RlIiwiaW5zdHJ1Y3RvckNvZGUiLCJxdWljayIsImlzU2FmZSIsInNhZmVDb2RlIiwiZGlzYWJsZVRpZmEiLCJzdHVkZW50RmlsZXMiLCJldmFsdWF0aW9uIiwibGluZU9mZnNldCIsIm9uX2V2YWwiLCJTVUNDRVNTIiwiY29ycmVjdCIsInNjb3JlIiwiU0NPUkUiLCJtaW4iLCJvbGRTY29yZSIsIkhJREUiLCJ1cGRhdGVTdWJtaXNzaW9uIiwic2Nyb2xsaW5nIiwidHAkbmFtZSIsInByZXNlbnRJbnRlcm5hbEVycm9yIiwiZXh0cmFjdEZyb21Qb29sIiwiUE9PTF9TRVBBUkFUT1JTIiwiYmVmb3JlIiwibWF0Y2giLCJza2lwX3RpZmEiLCJnZXRDdXJyZW50T25SdW4iLCJyYXciLCJpbnN0cnVjdGlvbnNQb29sIiwiVEVTVFMiLCJtZW51IiwiY3VycmVudFNlZWQiLCJvbl9ydW4iLCJfT25SdW5Db25maWd1cmF0aW9uIiwiZGlzYWJsZVN0dWRlbnRSdW4iLCJzYXZlRmlsZSIsIkJvb2xlYW4iLCJlbnZpcm9uIiwiZGljdCIsInNldCRpdGVtIiwiaW50XyIsInJvdW5kIiwiZGlydHlTdWJtaXNzaW9uIiwiaGlkZUV2YWx1YXRlIiwicGFyc2VyIiwidmVyaWZpZXIiLCJsb2NhbHMiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwiYXN0TmFtZSIsInBhcnNlR2xvYmFscyIsIl9vYmplY3RTcHJlYWQiLCJwcm9wZXJ0aWVzIiwibW9kdWxlcyIsImxhc3RMaW5lIiwiZ2V0TGluZXMiLCJhc3QiLCJ2aXNpdGVkTGluZXMiLCJTZXQiLCJ2aXNpdEJvZHkiLCJub2RlIiwibGluZW5vIiwiYWRkIiwic3RhdGVtZW50Iiwib3JlbHNlIiwiZmluYWxib2R5IiwiQXJyYXkiLCJmcm9tIiwiYXN0RnJvbVBhcnNlIiwiY3N0IiwiZmxhZ3MiLCJwcmVzZW50UnVuRXJyb3IiLCJlcnJvckJ1dHRvbiIsImFycmF5TW92ZSIsImNhcGl0YWxpemUiLCJweVN0ciIsIkZFRURCQUNLX0hUTUwiLCJweV90aXRsZSIsInB5X2NhdGVnb3J5IiwicHlfa2luZCIsInB5X21lc3NhZ2UiLCJweV91bnVzZWRfbWVzc2FnZSIsInB5X3Jlc29sdmVkX3Njb3JlIiwiQmxvY2tQeUZlZWRiYWNrIiwiZmVlZGJhY2tNb2RlbCIsImZlZWRiYWNrSGVhZGVyIiwicG9zaXRpdmUiLCJzY3JvbGxJbnRvVmlldyIsImlzRmVlZGJhY2tWaXNpYmxlIiwidmlzaWJpbGl0eUJ1ZmZlciIsInRvcE9mRWxlbWVudCIsImJvdHRvbU9mRWxlbWVudCIsImJvdHRvbU9mU2NyZWVuIiwidG9wT2ZTY3JlZW4iLCJoaWRkZW4iLCJjbGVhclBvc2l0aXZlRmVlZGJhY2siLCJoYXNSYXRlZCIsInVwZGF0ZVJlZ3VsYXJGZWVkYmFjayIsInVwZGF0ZUZlZWRiYWNrIiwiZXhlY3V0aW9uUmVzdWx0cyIsImZlZWRiYWNrcyIsIk1FU1NBR0UiLCJDQVRFR09SWSIsIkxBQkVMIiwiREFUQSIsInBvc2l0aXZlcyIsIlBPU0lUSVZFIiwidXRpbGl0aWVzIiwibWFya2Rvd24iLCJibG9jayIsImhsanMiLCJoaWdobGlnaHRCbG9jayIsImZ1bGxQYXlsb2FkIiwic3ludGF4RXJyb3IiLCJydW50aW1lRXJyb3IiLCJ1bml0VGVzdHMiLCJjb3VudFRlc3RDYXNlcyIsImZpbmRGaXJzdEVycm9yTGluZSIsInN0dWRlbnRSZXBvcnQiLCJ1bmNvdmVyZWRMaW5lcyIsIl9sb29wIiwicG9zaXRpdmVEYXRhIiwiYWRkUG9zaXRpdmVGZWVkYmFjayIsImNvbG9yIiwib25jbGljayIsInRvRW5kIiwiY3NzIiwiaG92ZXIiLCJnZXRBbGxGZWVkYmFja3MiLCJ1cGRhdGVGdWxsRmVlZGJhY2siLCJub3RpZnlGZWVkYmFja1VwZGF0ZSIsInByb2Nlc3NTaW5nbGVGZWVkYmFjayIsInRwJGdldGF0dHIiLCJraW5kIiwiYWN0aXZlIiwiaXNUcnVlIiwidW51c2VkX21lc3NhZ2UiLCJqdXN0aWZpY2F0aW9uIiwicGFyZW50IiwiaGFzUGFyZW50IiwiY2hlY2tOb25lIiwibm9uZSIsIm5vbmUkIiwidGVzdENhc2VDb3VudCIsImZlZWRiYWNrQ291bnQiLCJzdWNjZXNzZXMiLCJmZWVkYmFja1N1Y2Nlc3MiLCJ0ZXN0cyIsIm1haW5SZXBvcnQiLCJNQUlOX1JFUE9SVCIsIml0ZXJGb3IiLCJ0cCRpdGVyIiwicGFyZW50cyIsIk1hcCIsIl9mZWVkYmFja3MkaSIsImhhcyIsInNldCIsInVuc2hpZnQiLCJ2YWx1ZXMiLCJmbGF0IiwidG9nZ2xlQ2xhc3MiLCJmYWRlT3V0Iiwic2hvdWxkU2Nyb2xsSW50b1ZpZXciLCJqdXN0X3JldHVybiIsImNvbnZlcnRTa3VscHRFcnJvciIsImJ1aWxkVHJhY2ViYWNrIiwiZmlsZW5hbWVFeGVjdXRlZCIsInRyYWNlYmFjayIsImZyYW1lIiwic2NvcGUiLCJnZXRTb3VyY2VMaW5lIiwiaXNJbnN0cnVjdG9yIiwiYWxsRnJhbWVzIiwiZmVlZGJhY2tEYXRhIiwicXVpY2skbG9va3VwIiwiZmlyc3REZWZpbmVkVmFsdWUiLCJmcmllbmRseU5hbWUiLCJoaWRlSWZFbXB0eSIsIm5vdEluc3RydWN0b3IiLCJpbnN0cnVjdG9yRmlsZUNsYXNzIiwiaGlkZUlmTm90SW5zdHJ1Y3RvciIsIkZJTEVTX0hUTUwiLCJORVdfSU5TVFJVQ1RPUl9GSUxFX0RJQUxPR19IVE1MIiwiU1RBUlRJTkdfRklMRVMiLCJCQVNJQ19ORVdfRklMRVMiLCJJTlNUUlVDVE9SX0RJUkVDVE9SWSIsIlNUVURFTlRfRElSRUNUT1JZIiwiU2VhcmNoTW9kZXMiLCJFVkVSWVdIRVJFIiwiU1RBUlRfV0lUSF9JTlNUUlVDVE9SIiwiT05MWV9TVFVERU5UX0ZJTEVTIiwiREVMRVRBQkxFX1NJTVBMRV9GSUxFUyIsIlVOREVMRVRBQkxFX0ZJTEVTIiwiVU5SRU5BTUFCTEVfRklMRVMiLCJCbG9ja1B5RmlsZSIsIm93bmVyIiwibWFrZU1vZGVsRmlsZSIsIm1ha2VNb2NrTW9kZWxGaWxlIiwiX2ZpbGVuYW1lIiwibG9hZENvbmNhdGVuYXRlZEZpbGUiLCJjb25jYXRlbmF0ZWRGaWxlIiwibW9kZWxGaWxlTGlzdCIsIm1vZGVsRmlsZXMiLCJjcmVhdGVDb25jYXRlbmF0ZWRGaWxlIiwib2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUiLCJwdXJlQ29tcHV0ZWQiLCJCbG9ja1B5RmlsZVN5c3RlbSIsImZpbGVzXyIsIm1vdW50RmlsZXMiLCJ3YXRjaE1vZGVsIiwid2F0Y2hlc18iLCJyZW1vdGVGaWxlc18iLCJmaWxlc3lzdGVtIiwiZXh0cmFTdGFydGluZ0ZpbGVzIiwiZmlsZUFycmF5IiwiY2hhbmdlcyIsImZpcnN0Iiwic2Vjb25kIiwibG9jYWxlQ29tcGFyZSIsImNoYW5nZSIsIm1vZGVsRmlsZSIsIm5ld0ZpbGUiLCJub3RpZnlXYXRjaGVzIiwib2JzZXJ2ZUZpbGVfIiwiaW5zdHJ1Y3Rpb25zIiwic3RhcnRpbmdDb2RlIiwib2JzZXJ2ZUluQXJyYXlfIiwidGFncyIsInNhbXBsZVN1Ym1pc3Npb25zIiwiYXJyYXkiLCJjb2RlQnVuZGxlIiwiZGlzbW91bnRFeHRyYUZpbGVzIiwiZXhpc3RpbmdGaWxlIiwiZGVzdGluYXRpb24iLCJzdHVkZW50U2VhcmNoIiwic2VhcmNoTW9kZSIsImV4dHJhU3R1ZGVudEZpbGVzIiwic3BlY2lhbEZpbGUiLCJzZWFyY2hGb3JTcGVjaWFsRmlsZXNfIiwic3R1ZGVudFZlcnNpb24iLCJzZWFyY2hGb3JGaWxlSW5MaXN0XyIsImdlbmVyYXRlZFZlcnNpb24iLCJkZWZhdWx0VmVyc2lvbiIsImhpZGRlblZlcnNpb24iLCJyZW1vdGVWZXJzaW9uIiwiaW5zdHJ1Y3RvclZlcnNpb24iLCJzdGFydGluZ1ZlcnNpb24iLCJtb2RlbExpc3QiLCJuZXdGaWxlRGlhbG9nIiwiZmlsZXR5cGUiLCJuYW1lc3BhY2UiLCJleHRlbnNpb25SZWdleCIsImV4ZWMiLCJwcmVmaXgiLCJzdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInByZWxvYWRGaWxlcyIsInByZWxvYWRBbGxGaWxlcyIsImRvd25sb2FkUmVtb3RlRmlsZXMiLCJyZW9yZ2FuaXplRmlsZXMiLCJvcmdhbml6ZWQiLCJlbnRyaWVzIiwiX3JlZiIsIl9yZWYyIiwicGxhY2VkRmlsZXMiLCJfcmVmMyIsIl9yZWY0IiwiZGlyZWN0b3J5Iiwib2xkUmVtYWluaW5nRmlsZXMiLCJfcmVmNSIsIl9yZWY2IiwicGxhY2VtZW50RGF0YSIsIl9yZWY3IiwiX3JlZjgiLCJkaXJlY3RvcnlEYXRhIiwiX3JlZjkiLCJfcmVmMTAiLCJyZW5hbWVkRmlsZSIsIkZPT1RFUl9IVE1MIiwiQmxvY2tQeUhpc3RvcnkiLCJjdXJyZW50SWQiLCJoaXN0b3J5IiwiZWRpdEV2ZW50cyIsImxvYWQiLCJzZWxlY3RvciIsImVkaXRJZCIsImVudHJ5IiwiZmlsZV9wYXRoIiwiZXZlbnRfdHlwZSIsIlJFTUFQX0VWRU5UX1RZUEVTIiwiZGlzcGxheWVkIiwicHJldHR5UHJpbnREYXRlVGltZSIsImNsaWVudF90aW1lc3RhbXAiLCJkaXNhYmxlIiwib3B0aW9uIiwiZGlzYWJsZWQiLCJpc0VkaXRFdmVudCIsImV2dCIsIm1vdmVUb1N0YXJ0IiwibW92ZVByZXZpb3VzIiwibW92ZU5leHQiLCJtb3ZlVG9Nb3N0UmVjZW50IiwibW9udGhOYW1lcyIsIndlZWtEYXlzIiwiaXNTYW1lRGF5IiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJ0aW1lU3RyaW5nIiwibm93IiwiRGF0ZSIsInBhc3QiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJkYXlTdHIiLCJnZXREYXkiLCJtb250aFN0ciIsImRhdGUiLCJnZXRIaXN0b3J5IiwicmV2ZXJzZSIsInJlZHVjZSIsImNvbXBsZXRlIiwiZWxlbSIsImNvbXBsZXRlX3N0ciIsInRpbWUiLCJuZXdfbGluZSIsIlRSQUNFX0hUTUwiLCJGRUVEQkFDSyIsIlRSQUNFIiwiTk9ORSIsIm1ha2VFeHRyYUludGVyZmFjZVN1YnNjcmlwdGlvbnMiLCJzZWxmIiwiaGlnaGxpZ2h0VGltZW91dCIsImlzRnVsbHNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwiYWxlcnQiLCJleGl0RnVsbHNjcmVlbiIsIm1ha2VJbnRlcmZhY2UiLCJjYWxjdWxhdGVQb29sSW5kZXgiLCJwb29scyIsInNlZWQiLCJwb29sIiwic3BsaXR0ZXIiLCJjaG9zZW5Qb29sIiwicG9vbFBhcnRzIiwiY291bnRQb29scyIsImZvcm1hdFBvb2xJbnN0cnVjdGlvbnMiLCJMb2NhbFN0b3JhZ2VXcmFwcGVyIiwiUkVUUllJTkciLCJPRkZMSU5FIiwiQmxvY2tQeVNlcnZlciIsInN0b3JhZ2UiLCJxdWV1ZSIsImdldERlZmF1bHQiLCJNQVhfUVVFVUVfU0laRSIsIlRJTUVSX0RFTEFZIiwiRkFJTF9ERUxBWSIsInRpbWVycyIsIm92ZXJsYXkiLCJibG9ja2luZ0F0dGVtcHRzIiwiY2FjaGVkRmlsZW5hbWVzIiwiY3JlYXRlU3Vic2NyaXB0aW9ucyIsImNoZWNrQ2FjaGVzIiwiYWx0TG9nRW50cnkiLCJjaGVja0lQIiwib2xkSVAiLCJpcCIsIl9wb3N0TGF0ZXN0UmV0cnkiLCJwdXNoQW55UXVldWVkIiwiX3Bvc3RSZXRyeSIsImNyZWF0ZUZpbGVTdWJzY3JpcHRpb24iLCJhdXRvU2F2ZSIsImNyZWF0ZUV2ZW50TG9ncyIsIm9uYmx1ciIsIm9uZm9jdXMiLCJhdXRob3JpemVIZWFkZXIiLCJjdXJyZW50U2V0dGluZ3MiLCJhY2Nlc3NUb2tlbiIsImhlYWRlcnMiLCJjcmVhdGVTZXJ2ZXJEYXRhIiwibWljcm9zZWNvbmRzIiwiZ2V0VGltZSIsImdyb3VwSWQiLCJ2ZXJzaW9uIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJwYXNzY29kZSIsInNldFN0YXR1cyIsInNob3dPdmVybGF5IiwiYXR0ZW1wdCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJoaWRlT3ZlcmxheSIsIl9lbnF1ZXVlRGF0YSIsImNhY2hlIiwiX2RlcXVldWVEYXRhIiwic3BsaWNlIiwicG9zdFJlcXVlc3QiLCJhamF4IiwidGV4dFN0YXR1cyIsImZhaWx1cmVGdW5jdGlvbiIsImRvbmVGdW5jdGlvbiIsInJlcXVlc3QiLCJjYWNoZWRUaW1lIiwiX3Bvc3RCbG9ja2luZyIsImF0dGVtcHRzIiwiZXh0cmFTZXR0aW5ncyIsImVycm9yVGhyb3duIiwibG9hZEFzc2lnbm1lbnQiLCJhc3NpZ25tZW50X2lkIiwibG9hZEFzc2lnbm1lbnREYXRhXyIsInJlc3BvbnNlSlNPTiIsImUyIiwic2F2ZUFzc2lnbm1lbnQiLCJyZXZpZXdlZCIsInBvaW50cyIsImlwUmFuZ2VzIiwic3RhcnRQb3NzaWJsZUZvcmsiLCJsb2FkSGlzdG9yeSIsIl90aGlzMTAiLCJfdGhpczExIiwiZGVsZXRlSW5zdGVhZCIsImZkIiwiZCIsIkZvcm1EYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsIl90aGlzMTIiLCJkYXRhVHlwZSIsIm9sZF9maWxlbmFtZSIsIm5ld19maWxlbmFtZSIsIl90aGlzMTMiLCJleHRlbmRlZCIsInVwZGF0ZVN1Ym1pc3Npb25TdGF0dXMiLCJuZXdTdGF0dXMiLCJfdGhpczE0IiwicG9zdFN0YXR1c0NoYW5nZSIsInN1Ym1pc3Npb25TdGF0dXMiLCJsb2FkRmlsZSIsImVycm9yQ2FsbGJhY2siLCJsb2FkX2ZpbGUiLCJmb3JrYWJsZSIsImhpZGRlbk92ZXJyaWRlIiwiZm9yY2VVcGRhdGUiLCJfdGhpczE1IiwiY2FsbGJhY2tzIiwiZ2V0UG5nRnJvbUJsb2NrcyIsInBuZ0RhdGEiLCJpbWciLCJvcGVuYWlfZGF0YSIsIm9wZW5haV9wcm94eSIsIiRidWlsdGlubW9kdWxlIiwibW9kIiwic2FtcGxlV3JhcHBlciIsIl9fbmFtZV9fIiwiUElMIiwiSW5zdGFudFByb21pc2UiLCJsYXN0UmVzdWx0IiwibGFzdEVycm9yIiwiY2IiLCJidWlsZEltYWdlIiwiZ2V0QXNzZXQiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25lcnJvciIsInNyYyIsIiRnYmwiLCIkbG9jIiwiX19pbml0X18iLCJmdW5jIiwiZmlsZV9vcl91cmwiLCJweUNoZWNrQXJncyIsInB5Q2hlY2tUeXBlIiwiY2hlY2tTdHJpbmciLCJpbWFnZVByb21pc2UiLCJzdXNwIiwiU3VzcGVuc2lvbiIsInJlc3VtZSIsInByb21pc2UiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiTmFtZUVycm9yIiwiY29uc29sZURhdGEiLCJmbGlwIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJidWlsZENsYXNzIiwicHJpb3IiLCJ0aW1laXQiLCJkaWZmZXJlbmNlIiwiY29uc29sZV9sb2ciLCJzdHJBcmdzIiwiY2FsbCIsImFyZyIsImNvbnNvbGVfZGVidWciLCJnZXRfb3V0cHV0IiwiaXRlbSIsImxpc3QiLCJyZXNldF9vdXRwdXQiLCJnZXRfcHJvZ3JhbSIsImdldF9ldmFsdWF0aW9uIiwidHJhY2VfbGluZXMiLCJyZWFsTGluZXMiLCJ0cmFjZV9jYWxscyIsInN0YXJ0X3RyYWNlIiwic3RvcF90cmFjZSIsImdldF9zdHVkZW50X2Vycm9yIiwidHVwbGUiLCJwb3NpdGlvbiIsImhhZF9leGVjdXRpb25fdGltZV9lcnJvciIsImJhY2t1cFRpbWUiLCJsaW1pdF9leGVjdXRpb25fdGltZSIsImV4ZWNTdGFydCIsInVubGltaXRfZXhlY3V0aW9uX3RpbWUiLCJzdXBwcmVzc19zY3JvbGxpbmciLCJnZXRfcGxvdHMiLCJvdXRwdXRzIiwiZ3JhcGgiLCJuZXdQbG90IiwieSIsIlN0dWRlbnREYXRhIiwibmV3RGljdCIsImFic3RyIiwic2F0dHIiLCJvYmplY3RTZXRJdGVtIiwidW5maXhSZXNlcnZlZCIsImNhbGxfZiIsImt3YSIsInB5Q2hlY2tBcmdzTGVuIiwiYnVpbHRpbnMiLCJtcCRsb29rdXAiLCJmdW5jdGlvbk9iamVjdCIsInRwJGNhbGwiLCJjb19rd2FyZ3MiLCJjb19uYW1lIiwiZ2V0X25hbWVzX2J5X3R5cGUiLCJleGNsdWRlX2J1aWx0aW5zIiwiY2hlY2tCb29sIiwicHJvcGVydHkiLCJnZXRfdmFsdWVzX2J5X3R5cGUiLCJjYWxsc2ltT3JTdXNwZW5kIiwiZ2V0X3N0dWRlbnRfZGF0YSIsInNldF9pbnN0cnVjdGlvbnMiLCJuZXdJbnN0cnVjdGlvbnMiLCJjaGFuZ2VkSW5zdHJ1Y3Rpb25zIiwiZ2V0X21vZGVsX2luZm8iLCJjbGVhcl9leGlzdGluZ19zdHVkZW50X2ltcG9ydHMiLCJkb3dubG9hZF9maWxlIiwiZG93bmxvYWRGaWxlVXJsIiwiY29tYmluZXIiLCJwcm9tIiwieG1saHR0cCIsIlhNTEh0dHBSZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZW5kIiwicmVzb2x1dGlvbiIsIldlYWtTZXQiLCJjaGVja0l0ZXJhYmxlIiwiaXRlciIsIm5leHQiLCJpdGVybmV4dCIsIldlYWtSZWYiLCJfX2l0ZXJfXyIsInZpZXdPZkRhdGEiLCJkZXJlZiIsIkxPQ0FMX1NUT1JBR0VfUkVGIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJfZGF0YSIsIlN0cmluZyIsImdldEl0ZW0iLCJpc19uZXciLCJzZXJ2ZXJfdGltZSIsInN0b3JlZF90aW1lIiwiQVNUX0RFU0NSSVBUSU9OUyIsIklHTk9SRURfR0xPQkFMUyIsInZhcmlhYmxlcyIsInRyYWNlRXhlY3V0aW9uIiwicGFyc2VkIiwicGFyc2VWYWx1ZSIsIl91bnVzZWQiLCJmdWxsTGVuZ3RoIiwiZnVuY19jb2RlIiwiY29fdmFybmFtZXMiLCJzcSRsZW5ndGgiLCJib29sIiwibm1iZXIiLCJza1R5cGUiLCJmbG9hdF8iLCJOdW1iZXIiLCJhcnIiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwiaXRlbVRvTW92ZSIsImFjYyIsImFycmF5Q29udGFpbnMiLCJuZWVkbGUiLCJoYXlzdGFjayIsImFycmF5VW5pcXVlIiwiYSIsImoiLCJleHBhbmRBcnJheSIsImFkZEFycmF5IiwicmVtb3ZlQXJyYXkiLCJjb3B5QXJyYXkiLCJjbG9uZU5vZGUiLCJjbG9uZSIsIm5vZGVUeXBlIiwiY3JlYXRlVGV4dE5vZGUiLCJub2RlVmFsdWUiLCJjaGlsZCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsInJhbmRvbUludGVnZXIiLCJmbG9vciIsInJhbmRvbSIsIldvcmtzcGFjZVN2ZyIsInNodWZmbGUiLCJtZXRyaWNzIiwiZ2V0TWV0cmljcyIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJibG9ja3MiLCJnZXRUb3BCbG9ja3MiLCJtYXhpbWFsX2luY3JlYXNlIiwiZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSIsIm1vdmVCeSIsIm1vdmVFbGVtZW50cyIsIm1vdmVDaGVjayIsImlzU2tCdWlsdGluIiwib2JqIiwibG5nIiwiaXNBc3ROb2RlIiwiREVGQVVMVF9TRUNUSU9OX1BBVFRFUk4iLCJleHRyYWN0UGFydCIsInBhcnRzIiwibWl4ZWRSZW1hcFRvUHkiLCJrIiwia3ZzIiwic3VidmFsIiwiX3R5cGVvZiIsImFzc2skIiwiZ2V0Q3VycmVudFRpbWUiLCJ0b2RheSIsImgiLCJnZXRIb3VycyIsIm0iLCJnZXRNaW51dGVzIiwicCIsInB5SW50IiwicHlOb25lIiwicHlUdXBsZSIsInB5Q2FsbE9yU3VzcGVuZCIsImNhbGxzaW1PclN1c3BlbmRBcnJheSIsIl9TayRtaXNjZXZhbCIsInJpY2hDb21wYXJlQm9vbCIsImNoYWluIiwiX1NrJGFic3RyIiwidHlwZU5hbWUiLCJzZXRVcE1vZHVsZU1ldGhvZHMiLCJidWlsZE5hdGl2ZUNsYXNzIiwiX1NrJGJ1aWx0aW4iLCJUeXBlRXJyb3IiLCJWYWx1ZUVycm9yIiwiS2V5RXJyb3IiLCJJbmRleEVycm9yIiwiYXNudW0kIiwiX1R5cGVFcnJvciIsIl9TayRmZmkiLCJfU2skZ2VuZXJpYyIsImdlbmVyaWMiLCJnZXRBdHRyIiwic2V0QXR0ciIsImNoYWluT3JTdXNwZW5kIiwiaW1hZ2VNb2R1bGUiLCJ3ZWFrcmVmTW9kdWxlIiwiRURJVE9SX1ZFUlNJT04iLCJCbG9ja1B5IiwiaW5pdE1vZGVsIiwic2V0QXNzaWdubWVudCIsImluaXRNYWluIiwiaW5pdFV0aWxpdGllcyIsImluaXRNb2RlbE1ldGhvZHMiLCJ0dXJuT25IYWNrcyIsImluaXRJbnRlcmZhY2UiLCJhcHBseU1vZGVsIiwiaW5pdENvbXBvbmVudHMiLCJtYWtlRXh0cmFTdWJzY3JpcHRpb25zIiwiZ2V0U2V0dGluZyIsImluaXRpYWxDb25maWd1cmF0aW9uXyIsImxvY2FsU2V0dGluZ3NfIiwicm9sZSIsIm9ic2VydmFibGVBcnJheSIsImZvcmtlZElkIiwiZm9ya2VkVmVyc2lvbiIsIm93bmVySWQiLCJncmFkaW5nU3RhdHVzIiwiYmlnQ29uc29sZSIsImN1cnJlbnRDb25zb2xlSGVpZ2h0Iiwic2Vjb25kUm93U2Vjb25kUGFuZWwiLCJwcmV2aW91c1NlY29uZFJvd1NlY29uZFBhbmVsIiwicmVuZGVySW1hZ2VzIiwiZWRpdG9yVmVyc2lvbiIsImJhY2t1cFN1Ym1pc3Npb25Db2RlIiwic2hvd1JhdGluZyIsInBvb2xTZWVkIiwibG9hZEFzc2lnbm1lbnRNZXNzYWdlIiwibG9hZEhpc3RvcnlNZXNzYWdlIiwibG9hZEZpbGVNZXNzYWdlIiwibG9hZERhdGFzZXQiLCJsb2FkRGF0YXNldE1lc3NhZ2UiLCJsb2dFdmVudE1lc3NhZ2UiLCJzYXZlSW1hZ2VNZXNzYWdlIiwic2F2ZUZpbGVNZXNzYWdlIiwic2F2ZUFzc2lnbm1lbnRNZXNzYWdlIiwidXBkYXRlU3VibWlzc2lvbk1lc3NhZ2UiLCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzTWVzc2FnZSIsImxpc3RVcGxvYWRlZEZpbGVzTWVzc2FnZSIsImRvd25sb2FkRmlsZU1lc3NhZ2UiLCJ1cGxvYWRGaWxlTWVzc2FnZSIsInJlbmFtZUZpbGVNZXNzYWdlIiwiZXh0ZXJuYWxBUEkiLCJleHRlcm5hbEFQSU1lc3NhZ2UiLCJzZXJ2ZXJDb25uZWN0ZWQiLCJjb25zdGFudHMiLCJndWkiLCJsb2FkVGFncyIsImxvYWRTYW1wbGVTdWJtaXNzaW9ucyIsInNhbXBsZXMiLCJsb2FkTm9TdWJtaXNzaW9uIiwic3RhcnRpbmdfY29kZSIsImV4dHJhX3N0YXJ0aW5nX2ZpbGVzIiwibG9hZFN1Ym1pc3Npb24iLCJncmFkaW5nX3N0YXR1cyIsInN1Ym1pc3Npb25fc3RhdHVzIiwidXNlcl9pZCIsImNvdXJzZV9pZCIsImV4dHJhX2ZpbGVzIiwiZGVidWciLCJyZXNldEludGVyZmFjZSIsIndhc1NlcnZlckNvbm5lY3RlZCIsImZvcmtlZF9pZCIsImZvcmtlZF92ZXJzaW9uIiwiaXBfcmFuZ2VzIiwib3duZXJfaWQiLCJzYW1wbGVfc3VibWlzc2lvbnMiLCJleHRyYV9pbnN0cnVjdG9yX2ZpbGVzIiwiY29yZ2lzIiwiaXNHcmFkZXIiLCJpc0NoYW5nZWQiLCJvbmx5SW50ZXJhY3RpdmUiLCJ0ZXh0RnVsbHNjcmVlbiIsImNsaWNrRnVsbHNjcmVlbiIsImVkaXRJbnB1dHMiLCJ0b2dnbGVJbWFnZXMiLCJkaXNhYmxlSW1hZ2VzIiwiY2FuTWFya1N1Ym1pdHRlZCIsImNhbkNsb3NlIiwidGV4dE1hcmtTdWJtaXR0ZWQiLCJpc0NvbXBsZXRlZCIsImlzU3VibWl0dGVkIiwiY2xpY2tNYXJrU3VibWl0dGVkIiwic2hvd1F1ZXVlZElucHV0cyIsImhpZGVRdWV1ZWRJbnB1dHMiLCJzaG93Q2xvY2siLCJoYXNDbG9jayIsImNhblNoYXJlIiwiZ2V0U2hhcmVVcmwiLCJ0b0lTT1N0cmluZyIsImVuY29kZWQiLCJidG9hIiwiYmFzZVVybCIsInN0YXJ0U2hhcmUiLCJoaWRlVHJhY2VCdXR0b24iLCJpc0FsbFZpc2libGUiLCJoaWRlTWlkZGxlUGFuZWwiLCJpc1RyYWNlVmlzaWJsZSIsImlzQ29uc29sZVNob3dWaXNpYmxlIiwic3dpdGNoTGFiZWwiLCJhZHZhbmNlU3RhdGUiLCJjdXJyZW50UGFuZWwiLCJvbGRQYW5lbCIsImJhZGdlIiwicmVzZXRTY29yZSIsInByb3ZpZGVSYXRpbmdzIiwiZmxpcFJhdGluZyIsIm5ld1N0YXRlIiwicmF0ZSIsInJhdGluZyIsInN1Z2dlc3RTaGFyZSIsImZhZGVJbiIsInRoYW5rWW91IiwiaGFzUmF0ZWRDbGFzcyIsImluc3RydWN0b3JPbmx5Iiwic2hvd0luc3RydWN0b3JTdGRvdXQiLCJ0cmFjZURhdGEiLCJiYWNrd2FyZCIsInByZXZpb3VzIiwiZm9yd2FyZCIsImhpZGVGaWxlcyIsImFkZElzVmlzaWJsZSIsImhhc0NvbnRlbnRzIiwic29tZSIsIm5vcm1hbFRvb2xib3giLCJUT09MQk9YRVMiLCJyZW5hbWUiLCJuZXdOYW1lIiwicHJlZml4UHkiLCJzdWZmaXhQeSIsImRpc3BsYXlGaWxlbmFtZSIsInZpZXciLCJoaWRlRWRpdG9ycyIsImNhblNhdmUiLCJjYW5EZWxldGUiLCJjYW5SZW5hbWUiLCJ1cGxvYWQiLCJ1cGRhdGVNb2RlIiwibmV3TW9kZSIsImlzSGlzdG9yeUF2YWlsYWJsZSIsInR1cm5Pbkhpc3RvcnlNb2RlIiwidG9nZ2xlSGlzdG9yeU1vZGUiLCJtb3N0UmVjZW50IiwiaW1hZ2VzIiwiY2FuQ2hvb3NlUGxhY2VtZW50IiwiY2FuTW9kaWZ5Iiwic2F2ZSIsImlzUnVubmluZyIsInJ1bkxhYmVsIiwiUHlnYW1lTGliIiwicnVubmluZyIsIlN0b3BQeWdhbWUiLCJydW5RdWlldGx5TGFiZWwiLCJydW5RdWlldGx5IiwibWVzc2FnZXMiLCJmb3JjZSIsImFzc2lnbm1lbnRGb3JjZUxvYWRCdXR0b24iLCJmciIsImFzc2lnbm1lbnRTdWJtaXNzaW9uIiwiZm9vdGVyIiwiYXBwbHlCaW5kaW5ncyIsImNsb2NrIiwidXBkYXRlQ2xvY2siLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZXF1ZXN0UGFzc2NvZGUiLCJ1c2VyU3VwcGxpZWRQYXNzY29kZSIsImRlc3Ryb3kiLCJzZXR0aW5nc1RvSnNvbiJdLCJzb3VyY2VSb290IjoiIn0=