<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BlockPy Quiz Demo - SolidJS</title>
  
  <!-- Bootstrap CSS -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
    rel="stylesheet"
  >
  
  <!-- Font Awesome -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  >
</head>
<body>
  <div class="container mt-5">
    <h1>BlockPy Quiz System - SolidJS Prototype</h1>
    <p class="lead">
      Demonstration of the SolidJS quiz system conversion.
    </p>

    <div class="row">
      <div class="col-md-12">
        <div class="alert alert-info">
          <h5>Quiz Features Demonstrated:</h5>
          <ul>
            <li>Multiple question types (Multiple Choice, True/False, Short Answer, Multiple Answers)</li>
            <li>Quiz state management (Ready → Attempting → Completed)</li>
            <li>Attempt limits and tracking</li>
            <li>Immediate feedback display</li>
            <li>Instructor/Student view modes</li>
            <li>Reactive state with SolidJS signals</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-md-6">
        <h3>Simple Multiple Choice Quiz</h3>
        <div id="quiz-1" class="border p-3 rounded"></div>
      </div>

      <div class="col-md-6">
        <h3>Mixed Question Types</h3>
        <div id="quiz-2" class="border p-3 rounded"></div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-md-12">
        <h3>Advanced Question Types</h3>
        <div id="quiz-advanced" class="border p-3 rounded"></div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-md-12">
        <h3>Instructor View</h3>
        <div id="quiz-instructor" class="border p-3 rounded"></div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/app.tsx"></script>
  
  <!-- Example initialization -->
  <script type="module">
    import { initQuizzer, QuizFeedbackType, QuizPoolRandomness } from '/src/app.tsx';
    
    // Quiz 1: Simple Multiple Choice
    const simpleQuiz = {
      assignmentId: 201,
      courseId: 1,
      userId: 1,
      instructions: {
        settings: {
          attemptLimit: 2,
          coolDown: -1,
          feedbackType: QuizFeedbackType.IMMEDIATE,
          questionsPerPage: -1,
          poolRandomness: QuizPoolRandomness.SEED,
          readingId: null
        },
        pools: [],
        questions: {
          'q1': {
            id: 'q1',
            type: 'multiple_choice_question',
            body: '<p>What is 2 + 2?</p>',
            points: 1,
            answers: ['3', '4', '5', '6']
          },
          'q2': {
            id: 'q2',
            type: 'multiple_choice_question',
            body: '<p>Which programming language is this course about?</p>',
            points: 1,
            answers: ['Java', 'Python', 'C++', 'JavaScript']
          }
        }
      },
      submission: {
        studentAnswers: {},
        attempt: {
          attempting: false,
          count: 0,
          mulligans: 0
        },
        feedback: {}
      }
    };

    // Quiz 2: Mixed Types
    const mixedQuiz = {
      assignmentId: 202,
      courseId: 1,
      userId: 2,
      instructions: {
        settings: {
          attemptLimit: 3,
          coolDown: -1,
          feedbackType: QuizFeedbackType.IMMEDIATE,
          questionsPerPage: -1,
          poolRandomness: QuizPoolRandomness.ATTEMPT,
          readingId: null
        },
        pools: [],
        questions: {
          'tf1': {
            id: 'tf1',
            type: 'true_false_question',
            body: '<p>Python is a compiled language.</p>',
            points: 1
          },
          'sa1': {
            id: 'sa1',
            type: 'short_answer_question',
            body: '<p>What keyword is used to define a function in Python?</p>',
            points: 1
          },
          'ma1': {
            id: 'ma1',
            type: 'multiple_answers_question',
            body: '<p>Which of the following are valid Python data types?</p>',
            points: 2,
            answers: ['int', 'str', 'boolean', 'list']
          }
        }
      },
      submission: {
        studentAnswers: {},
        attempt: {
          attempting: false,
          count: 0,
          mulligans: 0
        },
        feedback: {}
      }
    };

    // Quiz 3: Advanced Question Types
    const advancedQuiz = {
      assignmentId: 203,
      courseId: 1,
      userId: 3,
      instructions: {
        settings: {
          attemptLimit: 2,
          coolDown: -1,
          feedbackType: QuizFeedbackType.IMMEDIATE,
          questionsPerPage: -1,
          poolRandomness: QuizPoolRandomness.SEED,
          readingId: null
        },
        pools: [],
        questions: {
          'mdq1': {
            id: 'mdq1',
            type: 'multiple_dropdowns_question',
            body: '<p>A <code>for</code> loop in Python uses the [keyword] keyword to iterate over [structure].</p>',
            points: 2,
            retainOrder: false,
            answers: {
              'keyword': ['for', 'while', 'if', 'def'],
              'structure': ['sequences', 'integers', 'strings', 'functions']
            }
          },
          'fimb1': {
            id: 'fimb1',
            type: 'fill_in_multiple_blanks_question',
            body: '<p>To define a function in Python, use the [keyword1] keyword followed by the function [keyword2] and parentheses.</p>',
            points: 2
          }
        }
      },
      submission: {
        studentAnswers: {},
        attempt: {
          attempting: false,
          count: 0,
          mulligans: 0
        },
        feedback: {}
      }
    };

    // Initialize quizzes
    document.addEventListener('DOMContentLoaded', () => {
      initQuizzer('#quiz-1', simpleQuiz, false);
      initQuizzer('#quiz-2', mixedQuiz, false);
      initQuizzer('#quiz-advanced', advancedQuiz, false);
      initQuizzer('#quiz-instructor', simpleQuiz, true);
    });
  </script>
</body>
</html>
